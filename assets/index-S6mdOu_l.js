var A4=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var pxe=A4((gr,yr)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function HM(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const jt={},pf=[],mo=()=>{},E4=()=>!1,Vy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),VM=t=>t.startsWith("onUpdate:"),Un=Object.assign,GM=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},P4=Object.prototype.hasOwnProperty,Ut=(t,e)=>P4.call(t,e),at=Array.isArray,mf=t=>Gy(t)==="[object Map]",bN=t=>Gy(t)==="[object Set]",dt=t=>typeof t=="function",bn=t=>typeof t=="string",Ka=t=>typeof t=="symbol",nn=t=>t!==null&&typeof t=="object",xN=t=>(nn(t)||dt(t))&&dt(t.then)&&dt(t.catch),SN=Object.prototype.toString,Gy=t=>SN.call(t),I4=t=>Gy(t).slice(8,-1),wN=t=>Gy(t)==="[object Object]",WM=t=>bn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Cd=HM(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wy=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},R4=/-(\w)/g,Jo=Wy(t=>t.replace(R4,(e,n)=>n?n.toUpperCase():"")),D4=/\B([A-Z])/g,Qc=Wy(t=>t.replace(D4,"-$1").toLowerCase()),XM=Wy(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ob=Wy(t=>t?`on${XM(t)}`:""),Ns=(t,e)=>!Object.is(t,e),Lb=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},MN=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},O4=t=>{const e=parseFloat(t);return isNaN(e)?t:e},L4=t=>{const e=bn(t)?Number(t):NaN;return isNaN(e)?t:e};let iE;const Xy=()=>iE||(iE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jy(t){if(at(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=bn(i)?U4(i):jy(i);if(r)for(const o in r)e[o]=r[o]}return e}else if(bn(t)||nn(t))return t}const N4=/;(?![^(]*\))/g,F4=/:([^]+)/,B4=/\/\*[^]*?\*\//g;function U4(t){const e={};return t.replace(B4,"").split(N4).forEach(n=>{if(n){const i=n.split(F4);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Yy(t){let e="";if(bn(t))e=t;else if(at(t))for(let n=0;n<t.length;n++){const i=Yy(t[n]);i&&(e+=i+" ")}else if(nn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function z4(t){if(!t)return null;let{class:e,style:n}=t;return e&&!bn(e)&&(t.class=Yy(e)),n&&(t.style=jy(n)),t}const k4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$4=HM(k4);function TN(t){return!!t||t===""}const CN=t=>!!(t&&t.__v_isRef===!0),qy=t=>bn(t)?t:t==null?"":at(t)||nn(t)&&(t.toString===SN||!dt(t.toString))?CN(t)?qy(t.value):JSON.stringify(t,AN,2):String(t),AN=(t,e)=>CN(e)?AN(t,e.value):mf(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],o)=>(n[Nb(i,o)+" =>"]=r,n),{})}:bN(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Nb(n))}:Ka(e)?Nb(e):nn(e)&&!at(e)&&!wN(e)?String(e):e,Nb=(t,e="")=>{var n;return Ka(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xi;class EN{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xi,!e&&xi&&(this.index=(xi.scopes||(xi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=xi;try{return xi=this,e()}finally{xi=n}}}on(){xi=this}off(){xi=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function PN(t){return new EN(t)}function IN(){return xi}function H4(t,e=!1){xi&&xi.cleanups.push(t)}let Jt;const Fb=new WeakSet;class RN{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xi&&xi.active&&xi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fb.has(this)&&(Fb.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ON(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,rE(this),LN(this);const e=Jt,n=vo;Jt=this,vo=!0;try{return this.fn()}finally{NN(this),Jt=e,vo=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)qM(e);this.deps=this.depsTail=void 0,rE(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fb.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){A1(this)&&this.run()}get dirty(){return A1(this)}}let DN=0,Ad,Ed;function ON(t,e=!1){if(t.flags|=8,e){t.next=Ed,Ed=t;return}t.next=Ad,Ad=t}function jM(){DN++}function YM(){if(--DN>0)return;if(Ed){let e=Ed;for(Ed=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ad;){let e=Ad;for(Ad=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function LN(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function NN(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),qM(i),V4(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function A1(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(FN(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function FN(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ap))return;t.globalVersion=ap;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!A1(t)){t.flags&=-3;return}const n=Jt,i=vo;Jt=t,vo=!0;try{LN(t);const r=t.fn(t._value);(e.version===0||Ns(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Jt=n,vo=i,NN(t),t.flags&=-3}}function qM(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)qM(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function V4(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let vo=!0;const BN=[];function Zs(){BN.push(vo),vo=!1}function Js(){const t=BN.pop();vo=t===void 0?!0:t}function rE(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Jt;Jt=void 0;try{e()}finally{Jt=n}}}let ap=0;class G4{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class KM{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Jt||!vo||Jt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Jt)n=this.activeLink=new G4(Jt,this),Jt.deps?(n.prevDep=Jt.depsTail,Jt.depsTail.nextDep=n,Jt.depsTail=n):Jt.deps=Jt.depsTail=n,UN(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Jt.depsTail,n.nextDep=void 0,Jt.depsTail.nextDep=n,Jt.depsTail=n,Jt.deps===n&&(Jt.deps=i)}return n}trigger(e){this.version++,ap++,this.notify(e)}notify(e){jM();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{YM()}}}function UN(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)UN(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const n0=new WeakMap,yc=Symbol(""),E1=Symbol(""),sp=Symbol("");function fi(t,e,n){if(vo&&Jt){let i=n0.get(t);i||n0.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new KM),r.map=i,r.key=n),r.track()}}function Ia(t,e,n,i,r,o){const a=n0.get(t);if(!a){ap++;return}const s=l=>{l&&l.trigger()};if(jM(),e==="clear")a.forEach(s);else{const l=at(t),c=l&&WM(n);if(l&&n==="length"){const u=Number(i);a.forEach((f,h)=>{(h==="length"||h===sp||!Ka(h)&&h>=u)&&s(f)})}else switch((n!==void 0||a.has(void 0))&&s(a.get(n)),c&&s(a.get(sp)),e){case"add":l?c&&s(a.get("length")):(s(a.get(yc)),mf(t)&&s(a.get(E1)));break;case"delete":l||(s(a.get(yc)),mf(t)&&s(a.get(E1)));break;case"set":mf(t)&&s(a.get(yc));break}}YM()}function W4(t,e){const n=n0.get(t);return n&&n.get(e)}function pu(t){const e=xt(t);return e===t?e:(fi(e,"iterate",sp),go(t)?e:e.map(Mi))}function ZM(t){return fi(t=xt(t),"iterate",sp),t}const X4={__proto__:null,[Symbol.iterator](){return Bb(this,Symbol.iterator,Mi)},concat(...t){return pu(this).concat(...t.map(e=>at(e)?pu(e):e))},entries(){return Bb(this,"entries",t=>(t[1]=Mi(t[1]),t))},every(t,e){return ha(this,"every",t,e,void 0,arguments)},filter(t,e){return ha(this,"filter",t,e,n=>n.map(Mi),arguments)},find(t,e){return ha(this,"find",t,e,Mi,arguments)},findIndex(t,e){return ha(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ha(this,"findLast",t,e,Mi,arguments)},findLastIndex(t,e){return ha(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ha(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ub(this,"includes",t)},indexOf(...t){return Ub(this,"indexOf",t)},join(t){return pu(this).join(t)},lastIndexOf(...t){return Ub(this,"lastIndexOf",t)},map(t,e){return ha(this,"map",t,e,void 0,arguments)},pop(){return Mh(this,"pop")},push(...t){return Mh(this,"push",t)},reduce(t,...e){return oE(this,"reduce",t,e)},reduceRight(t,...e){return oE(this,"reduceRight",t,e)},shift(){return Mh(this,"shift")},some(t,e){return ha(this,"some",t,e,void 0,arguments)},splice(...t){return Mh(this,"splice",t)},toReversed(){return pu(this).toReversed()},toSorted(t){return pu(this).toSorted(t)},toSpliced(...t){return pu(this).toSpliced(...t)},unshift(...t){return Mh(this,"unshift",t)},values(){return Bb(this,"values",Mi)}};function Bb(t,e,n){const i=ZM(t),r=i[e]();return i!==t&&!go(t)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.value&&(o.value=n(o.value)),o}),r}const j4=Array.prototype;function ha(t,e,n,i,r,o){const a=ZM(t),s=a!==t&&!go(t),l=a[e];if(l!==j4[e]){const f=l.apply(t,o);return s?Mi(f):f}let c=n;a!==t&&(s?c=function(f,h){return n.call(this,Mi(f),h,t)}:n.length>2&&(c=function(f,h){return n.call(this,f,h,t)}));const u=l.call(a,c,i);return s&&r?r(u):u}function oE(t,e,n,i){const r=ZM(t);let o=n;return r!==t&&(go(t)?n.length>3&&(o=function(a,s,l){return n.call(this,a,s,l,t)}):o=function(a,s,l){return n.call(this,a,Mi(s),l,t)}),r[e](o,...i)}function Ub(t,e,n){const i=xt(t);fi(i,"iterate",sp);const r=i[e](...n);return(r===-1||r===!1)&&eT(n[0])?(n[0]=xt(n[0]),i[e](...n)):r}function Mh(t,e,n=[]){Zs(),jM();const i=xt(t)[e].apply(t,n);return YM(),Js(),i}const Y4=HM("__proto__,__v_isRef,__isVue"),zN=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ka));function q4(t){Ka(t)||(t=String(t));const e=xt(this);return fi(e,"has",t),e.hasOwnProperty(t)}class kN{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return i===(r?o?oV:GN:o?VN:HN).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=at(e);if(!r){let l;if(a&&(l=X4[n]))return l;if(n==="hasOwnProperty")return q4}const s=Reflect.get(e,n,en(e)?e:i);return(Ka(n)?zN.has(n):Y4(n))||(r||fi(e,"get",n),o)?s:en(s)?a&&WM(n)?s:s.value:nn(s)?r?WN(s):zn(s):s}}class $N extends kN{constructor(e=!1){super(!1,e)}set(e,n,i,r){let o=e[n];if(!this._isShallow){const l=Rc(o);if(!go(i)&&!Rc(i)&&(o=xt(o),i=xt(i)),!at(e)&&en(o)&&!en(i))return l?!1:(o.value=i,!0)}const a=at(e)&&WM(n)?Number(n)<e.length:Ut(e,n),s=Reflect.set(e,n,i,en(e)?e:r);return e===xt(r)&&(a?Ns(i,o)&&Ia(e,"set",n,i):Ia(e,"add",n,i)),s}deleteProperty(e,n){const i=Ut(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&Ia(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!Ka(n)||!zN.has(n))&&fi(e,"has",n),i}ownKeys(e){return fi(e,"iterate",at(e)?"length":yc),Reflect.ownKeys(e)}}class K4 extends kN{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Z4=new $N,J4=new K4,Q4=new $N(!0),P1=t=>t,Pm=t=>Reflect.getPrototypeOf(t);function eV(t,e,n){return function(...i){const r=this.__v_raw,o=xt(r),a=mf(o),s=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=r[t](...i),u=n?P1:e?I1:Mi;return!e&&fi(o,"iterate",l?E1:yc),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:s?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Im(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function tV(t,e){const n={get(r){const o=this.__v_raw,a=xt(o),s=xt(r);t||(Ns(r,s)&&fi(a,"get",r),fi(a,"get",s));const{has:l}=Pm(a),c=e?P1:t?I1:Mi;if(l.call(a,r))return c(o.get(r));if(l.call(a,s))return c(o.get(s));o!==a&&o.get(r)},get size(){const r=this.__v_raw;return!t&&fi(xt(r),"iterate",yc),Reflect.get(r,"size",r)},has(r){const o=this.__v_raw,a=xt(o),s=xt(r);return t||(Ns(r,s)&&fi(a,"has",r),fi(a,"has",s)),r===s?o.has(r):o.has(r)||o.has(s)},forEach(r,o){const a=this,s=a.__v_raw,l=xt(s),c=e?P1:t?I1:Mi;return!t&&fi(l,"iterate",yc),s.forEach((u,f)=>r.call(o,c(u),c(f),a))}};return Un(n,t?{add:Im("add"),set:Im("set"),delete:Im("delete"),clear:Im("clear")}:{add(r){!e&&!go(r)&&!Rc(r)&&(r=xt(r));const o=xt(this);return Pm(o).has.call(o,r)||(o.add(r),Ia(o,"add",r,r)),this},set(r,o){!e&&!go(o)&&!Rc(o)&&(o=xt(o));const a=xt(this),{has:s,get:l}=Pm(a);let c=s.call(a,r);c||(r=xt(r),c=s.call(a,r));const u=l.call(a,r);return a.set(r,o),c?Ns(o,u)&&Ia(a,"set",r,o):Ia(a,"add",r,o),this},delete(r){const o=xt(this),{has:a,get:s}=Pm(o);let l=a.call(o,r);l||(r=xt(r),l=a.call(o,r)),s&&s.call(o,r);const c=o.delete(r);return l&&Ia(o,"delete",r,void 0),c},clear(){const r=xt(this),o=r.size!==0,a=r.clear();return o&&Ia(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=eV(r,t,e)}),n}function JM(t,e){const n=tV(t,e);return(i,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(Ut(n,r)&&r in i?n:i,r,o)}const nV={get:JM(!1,!1)},iV={get:JM(!1,!0)},rV={get:JM(!0,!1)},HN=new WeakMap,VN=new WeakMap,GN=new WeakMap,oV=new WeakMap;function aV(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sV(t){return t.__v_skip||!Object.isExtensible(t)?0:aV(I4(t))}function zn(t){return Rc(t)?t:QM(t,!1,Z4,nV,HN)}function lV(t){return QM(t,!1,Q4,iV,VN)}function WN(t){return QM(t,!0,J4,rV,GN)}function QM(t,e,n,i,r){if(!nn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=r.get(t);if(o)return o;const a=sV(t);if(a===0)return t;const s=new Proxy(t,a===2?i:n);return r.set(t,s),s}function Fs(t){return Rc(t)?Fs(t.__v_raw):!!(t&&t.__v_isReactive)}function Rc(t){return!!(t&&t.__v_isReadonly)}function go(t){return!!(t&&t.__v_isShallow)}function eT(t){return t?!!t.__v_raw:!1}function xt(t){const e=t&&t.__v_raw;return e?xt(e):t}function tT(t){return!Ut(t,"__v_skip")&&Object.isExtensible(t)&&MN(t,"__v_skip",!0),t}const Mi=t=>nn(t)?zn(t):t,I1=t=>nn(t)?WN(t):t;function en(t){return t?t.__v_isRef===!0:!1}function je(t){return XN(t,!1)}function Fe(t){return XN(t,!0)}function XN(t,e){return en(t)?t:new cV(t,e)}class cV{constructor(e,n){this.dep=new KM,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:xt(e),this._value=n?e:Mi(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||go(e)||Rc(e);e=i?e:xt(e),Ns(e,n)&&(this._rawValue=e,this._value=i?e:Mi(e),this.dep.trigger())}}function uV(t){t.dep&&t.dep.trigger()}function Ln(t){return en(t)?t.value:t}const fV={get:(t,e,n)=>e==="__v_raw"?t:Ln(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return en(r)&&!en(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function jN(t){return Fs(t)?t:new Proxy(t,fV)}function nT(t){const e=at(t)?new Array(t.length):{};for(const n in t)e[n]=YN(t,n);return e}class hV{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return W4(xt(this._object),this._key)}}class dV{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ur(t,e,n){return en(t)?t:dt(t)?new dV(t):nn(t)&&arguments.length>1?YN(t,e,n):je(t)}function YN(t,e,n){const i=t[e];return en(i)?i:new hV(t,e,n)}class pV{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new KM(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ap-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Jt!==this)return ON(this,!0),!0}get value(){const e=this.dep.track();return FN(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function mV(t,e,n=!1){let i,r;return dt(t)?i=t:(i=t.get,r=t.set),new pV(i,r,n)}const Rm={},i0=new WeakMap;let Jl;function vV(t,e=!1,n=Jl){if(n){let i=i0.get(n);i||i0.set(n,i=[]),i.push(t)}}function gV(t,e,n=jt){const{immediate:i,deep:r,once:o,scheduler:a,augmentJob:s,call:l}=n,c=b=>r?b:go(b)||r===!1||r===0?Ra(b,1):Ra(b);let u,f,h,d,p=!1,g=!1;if(en(t)?(f=()=>t.value,p=go(t)):Fs(t)?(f=()=>c(t),p=!0):at(t)?(g=!0,p=t.some(b=>Fs(b)||go(b)),f=()=>t.map(b=>{if(en(b))return b.value;if(Fs(b))return c(b);if(dt(b))return l?l(b,2):b()})):dt(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){Zs();try{h()}finally{Js()}}const b=Jl;Jl=u;try{return l?l(t,3,[d]):t(d)}finally{Jl=b}}:f=mo,e&&r){const b=f,T=r===!0?1/0:r;f=()=>Ra(b(),T)}const v=IN(),m=()=>{u.stop(),v&&v.active&&GM(v.effects,u)};if(o&&e){const b=e;e=(...T)=>{b(...T),m()}}let y=g?new Array(t.length).fill(Rm):Rm;const _=b=>{if(!(!(u.flags&1)||!u.dirty&&!b))if(e){const T=u.run();if(r||p||(g?T.some((x,S)=>Ns(x,y[S])):Ns(T,y))){h&&h();const x=Jl;Jl=u;try{const S=[T,y===Rm?void 0:g&&y[0]===Rm?[]:y,d];l?l(e,3,S):e(...S),y=T}finally{Jl=x}}}else u.run()};return s&&s(_),u=new RN(f),u.scheduler=a?()=>a(_,!1):_,d=b=>vV(b,!1,u),h=u.onStop=()=>{const b=i0.get(u);if(b){if(l)l(b,4);else for(const T of b)T();i0.delete(u)}},e?i?_(!0):y=u.run():a?a(_.bind(null,!0),!0):u.run(),m.pause=u.pause.bind(u),m.resume=u.resume.bind(u),m.stop=m,m}function Ra(t,e=1/0,n){if(e<=0||!nn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,en(t))Ra(t.value,e,n);else if(at(t))for(let i=0;i<t.length;i++)Ra(t[i],e,n);else if(bN(t)||mf(t))t.forEach(i=>{Ra(i,e,n)});else if(wN(t)){for(const i in t)Ra(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Ra(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Jp(t,e,n,i){try{return i?t(...i):t()}catch(r){Ky(r,e,n)}}function bo(t,e,n,i){if(dt(t)){const r=Jp(t,e,n,i);return r&&xN(r)&&r.catch(o=>{Ky(o,e,n)}),r}if(at(t)){const r=[];for(let o=0;o<t.length;o++)r.push(bo(t[o],e,n,i));return r}}function Ky(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||jt;if(e){let s=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,l,c)===!1)return}s=s.parent}if(o){Zs(),Jp(o,null,10,[t,l,c]),Js();return}}yV(t,n,r,i,a)}function yV(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}const Ti=[];let Fo=-1;const vf=[];let Ts=null,qu=0;const qN=Promise.resolve();let r0=null;function Di(t){const e=r0||qN;return t?e.then(this?t.bind(this):t):e}function _V(t){let e=Fo+1,n=Ti.length;for(;e<n;){const i=e+n>>>1,r=Ti[i],o=lp(r);o<t||o===t&&r.flags&2?e=i+1:n=i}return e}function iT(t){if(!(t.flags&1)){const e=lp(t),n=Ti[Ti.length-1];!n||!(t.flags&2)&&e>=lp(n)?Ti.push(t):Ti.splice(_V(e),0,t),t.flags|=1,KN()}}function KN(){r0||(r0=qN.then(QN))}function ZN(t){at(t)?vf.push(...t):Ts&&t.id===-1?Ts.splice(qu+1,0,t):t.flags&1||(vf.push(t),t.flags|=1),KN()}function aE(t,e,n=Fo+1){for(;n<Ti.length;n++){const i=Ti[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Ti.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function JN(t){if(vf.length){const e=[...new Set(vf)].sort((n,i)=>lp(n)-lp(i));if(vf.length=0,Ts){Ts.push(...e);return}for(Ts=e,qu=0;qu<Ts.length;qu++){const n=Ts[qu];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ts=null,qu=0}}const lp=t=>t.id==null?t.flags&2?-1:1/0:t.id;function QN(t){try{for(Fo=0;Fo<Ti.length;Fo++){const e=Ti[Fo];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Jp(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Fo<Ti.length;Fo++){const e=Ti[Fo];e&&(e.flags&=-2)}Fo=-1,Ti.length=0,JN(),r0=null,(Ti.length||vf.length)&&QN()}}let Nn=null,e3=null;function o0(t){const e=Nn;return Nn=t,e3=t&&t.type.__scopeId||null,e}function fo(t,e=Nn,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&bE(-1);const o=o0(e);let a;try{a=t(...r)}finally{o0(o),i._d&&bE(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function rT(t,e){if(Nn===null)return t;const n=t_(Nn),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,a,s,l=jt]=e[r];o&&(dt(o)&&(o={mounted:o,updated:o}),o.deep&&Ra(a),i.push({dir:o,instance:n,value:a,oldValue:void 0,arg:s,modifiers:l}))}return t}function ul(t,e,n,i){const r=t.dirs,o=e&&e.dirs;for(let a=0;a<r.length;a++){const s=r[a];o&&(s.oldValue=o[a].value);let l=s.dir[i];l&&(Zs(),bo(l,n,8,[t.el,s,t,e]),Js())}}const t3=Symbol("_vte"),n3=t=>t.__isTeleport,Pd=t=>t&&(t.disabled||t.disabled===""),sE=t=>t&&(t.defer||t.defer===""),lE=t=>typeof SVGElement<"u"&&t instanceof SVGElement,cE=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,R1=(t,e)=>{const n=t&&t.to;return bn(n)?e?e(n):null:n},i3={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,o,a,s,l,c){const{mc:u,pc:f,pbc:h,o:{insert:d,querySelector:p,createText:g,createComment:v}}=c,m=Pd(e.props);let{shapeFlag:y,children:_,dynamicChildren:b}=e;if(t==null){const T=e.el=g(""),x=e.anchor=g("");d(T,n,i),d(x,n,i);const S=(M,w)=>{y&16&&(r&&r.isCE&&(r.ce._teleportTarget=M),u(_,M,w,r,o,a,s,l))},C=()=>{const M=e.target=R1(e.props,p),w=o3(M,e,g,d);M&&(a!=="svg"&&lE(M)?a="svg":a!=="mathml"&&cE(M)&&(a="mathml"),m||(S(M,w),Tg(e,!1)))};m&&(S(n,x),Tg(e,!0)),sE(e.props)?bi(()=>{C(),e.el.__isMounted=!0},o):C()}else{if(sE(e.props)&&!t.el.__isMounted){bi(()=>{i3.process(t,e,n,i,r,o,a,s,l,c),delete t.el.__isMounted},o);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,x=e.target=t.target,S=e.targetAnchor=t.targetAnchor,C=Pd(t.props),M=C?n:x,w=C?T:S;if(a==="svg"||lE(x)?a="svg":(a==="mathml"||cE(x))&&(a="mathml"),b?(h(t.dynamicChildren,b,M,r,o,a,s),lT(t,e,!0)):l||f(t,e,M,w,r,o,a,s,!1),m)C?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Dm(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const A=e.target=R1(e.props,p);A&&Dm(e,A,null,c,0)}else C&&Dm(e,x,S,c,1);Tg(e,m)}},remove(t,e,n,{um:i,o:{remove:r}},o){const{shapeFlag:a,children:s,anchor:l,targetStart:c,targetAnchor:u,target:f,props:h}=t;if(f&&(r(c),r(u)),o&&r(l),a&16){const d=o||!Pd(h);for(let p=0;p<s.length;p++){const g=s[p];i(g,e,n,d,!!g.dynamicChildren)}}},move:Dm,hydrate:bV};function Dm(t,e,n,{o:{insert:i},m:r},o=2){o===0&&i(t.targetAnchor,e,n);const{el:a,anchor:s,shapeFlag:l,children:c,props:u}=t,f=o===2;if(f&&i(a,e,n),(!f||Pd(u))&&l&16)for(let h=0;h<c.length;h++)r(c[h],e,n,2);f&&i(s,e,n)}function bV(t,e,n,i,r,o,{o:{nextSibling:a,parentNode:s,querySelector:l,insert:c,createText:u}},f){const h=e.target=R1(e.props,l);if(h){const d=Pd(e.props),p=h._lpa||h.firstChild;if(e.shapeFlag&16)if(d)e.anchor=f(a(t),e,s(t),n,i,r,o),e.targetStart=p,e.targetAnchor=p&&a(p);else{e.anchor=a(t);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,h._lpa=e.targetAnchor&&a(e.targetAnchor);break}}g=a(g)}e.targetAnchor||o3(h,e,u,c),f(p&&a(p),e,h,n,i,r,o)}Tg(e,d)}return e.anchor&&a(e.anchor)}const r3=i3;function Tg(t,e){const n=t.ctx;if(n&&n.ut){let i,r;for(e?(i=t.el,r=t.anchor):(i=t.targetStart,r=t.targetAnchor);i&&i!==r;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function o3(t,e,n,i){const r=e.targetStart=n(""),o=e.targetAnchor=n("");return r[t3]=o,t&&(i(r,t),i(o,t)),o}const Cs=Symbol("_leaveCb"),Om=Symbol("_enterCb");function a3(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ln(()=>{t.isMounted=!0}),rr(()=>{t.isUnmounting=!0}),t}const Pr=[Function,Array],s3={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pr,onEnter:Pr,onAfterEnter:Pr,onEnterCancelled:Pr,onBeforeLeave:Pr,onLeave:Pr,onAfterLeave:Pr,onLeaveCancelled:Pr,onBeforeAppear:Pr,onAppear:Pr,onAfterAppear:Pr,onAppearCancelled:Pr},l3=t=>{const e=t.subTree;return e.component?l3(e.component):e},xV={name:"BaseTransition",props:s3,setup(t,{slots:e}){const n=el(),i=a3();return()=>{const r=e.default&&oT(e.default(),!0);if(!r||!r.length)return;const o=c3(r),a=xt(t),{mode:s}=a;if(i.isLeaving)return zb(o);const l=uE(o);if(!l)return zb(o);let c=cp(l,a,i,n,f=>c=f);l.type!==hi&&Dc(l,c);let u=n.subTree&&uE(n.subTree);if(u&&u.type!==hi&&!nc(l,u)&&l3(n).type!==hi){let f=cp(u,a,i,n);if(Dc(u,f),s==="out-in"&&l.type!==hi)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},zb(o);s==="in-out"&&l.type!==hi?f.delayLeave=(h,d,p)=>{const g=u3(i,u);g[String(u.key)]=u,h[Cs]=()=>{d(),h[Cs]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function c3(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==hi){e=n;break}}return e}const SV=xV;function u3(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function cp(t,e,n,i,r){const{appear:o,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:v,onAppear:m,onAfterAppear:y,onAppearCancelled:_}=e,b=String(t.key),T=u3(n,t),x=(M,w)=>{M&&bo(M,i,9,w)},S=(M,w)=>{const A=w[1];x(M,w),at(M)?M.every(P=>P.length<=1)&&A():M.length<=1&&A()},C={mode:a,persisted:s,beforeEnter(M){let w=l;if(!n.isMounted)if(o)w=v||l;else return;M[Cs]&&M[Cs](!0);const A=T[b];A&&nc(t,A)&&A.el[Cs]&&A.el[Cs](),x(w,[M])},enter(M){let w=c,A=u,P=f;if(!n.isMounted)if(o)w=m||c,A=y||u,P=_||f;else return;let R=!1;const L=M[Om]=E=>{R||(R=!0,E?x(P,[M]):x(A,[M]),C.delayedLeave&&C.delayedLeave(),M[Om]=void 0)};w?S(w,[M,L]):L()},leave(M,w){const A=String(t.key);if(M[Om]&&M[Om](!0),n.isUnmounting)return w();x(h,[M]);let P=!1;const R=M[Cs]=L=>{P||(P=!0,w(),L?x(g,[M]):x(p,[M]),M[Cs]=void 0,T[A]===t&&delete T[A])};T[A]=t,d?S(d,[M,R]):R()},clone(M){const w=cp(M,e,n,i,r);return r&&r(w),w}};return C}function zb(t){if(Zy(t))return t=Sr(t),t.children=null,t}function uE(t){if(!Zy(t))return n3(t.type)&&t.children?c3(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&dt(n.default))return n.default()}}function Dc(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Dc(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function oT(t,e=!1,n){let i=[],r=0;for(let o=0;o<t.length;o++){let a=t[o];const s=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===Ht?(a.patchFlag&128&&r++,i=i.concat(oT(a.children,e,s))):(e||a.type!==hi)&&i.push(s!=null?Sr(a,{key:s}):a)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Be(t,e){return dt(t)?Un({name:t.name},e,{setup:t}):t}function f3(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function a0(t,e,n,i,r=!1){if(at(t)){t.forEach((p,g)=>a0(p,e&&(at(e)?e[g]:e),n,i,r));return}if(gf(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&a0(t,e,n,i.component.subTree);return}const o=i.shapeFlag&4?t_(i.component):i.el,a=r?null:o,{i:s,r:l}=t,c=e&&e.r,u=s.refs===jt?s.refs={}:s.refs,f=s.setupState,h=xt(f),d=f===jt?()=>!1:p=>Ut(h,p);if(c!=null&&c!==l&&(bn(c)?(u[c]=null,d(c)&&(f[c]=null)):en(c)&&(c.value=null)),dt(l))Jp(l,s,12,[a,u]);else{const p=bn(l),g=en(l);if(p||g){const v=()=>{if(t.f){const m=p?d(l)?f[l]:u[l]:l.value;r?at(m)&&GM(m,o):at(m)?m.includes(o)||m.push(o):p?(u[l]=[o],d(l)&&(f[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else p?(u[l]=a,d(l)&&(f[l]=a)):g&&(l.value=a,t.k&&(u[t.k]=a))};a?(v.id=-1,bi(v,n)):v()}}}Xy().requestIdleCallback;Xy().cancelIdleCallback;const gf=t=>!!t.type.__asyncLoader,Zy=t=>t.type.__isKeepAlive;function wV(t,e){h3(t,"a",e)}function MV(t,e){h3(t,"da",e)}function h3(t,e,n=Gn){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Jy(e,i,n),n){let r=n.parent;for(;r&&r.parent;)Zy(r.parent.vnode)&&TV(i,e,n,r),r=r.parent}}function TV(t,e,n,i){const r=Jy(e,t,i,!0);ra(()=>{GM(i[e],r)},n)}function Jy(t,e,n=Gn,i=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{Zs();const s=Qp(n),l=bo(e,n,t,a);return s(),Js(),l});return i?r.unshift(o):r.push(o),o}}const Za=t=>(e,n=Gn)=>{(!fp||t==="sp")&&Jy(t,(...i)=>e(...i),n)},d3=Za("bm"),ln=Za("m"),aT=Za("bu"),Qs=Za("u"),rr=Za("bum"),ra=Za("um"),CV=Za("sp"),AV=Za("rtg"),EV=Za("rtc");function PV(t,e=Gn){Jy("ec",t,e)}const IV="directives",RV=Symbol.for("v-ndc");function DV(t){return OV(IV,t)}function OV(t,e,n=!0,i=!1){const r=Nn||Gn;if(r){const o=r.type,a=fE(r[t]||o[t],e)||fE(r.appContext[t],e);return!a&&i?o:a}}function fE(t,e){return t&&(t[e]||t[Jo(e)]||t[XM(Jo(e))])}function p3(t,e,n={},i,r){if(Nn.ce||Nn.parent&&gf(Nn.parent)&&Nn.parent.ce)return xo(),Oc(Ht,null,[B("slot",n,i)],64);let o=t[e];o&&o._c&&(o._d=!1),xo();const a=o&&m3(o(n)),s=n.key||a&&a.key,l=Oc(Ht,{key:(s&&!Ka(s)?s:`_${e}`)+""},a||[],a&&t._===1?64:-2);return o&&o._c&&(o._d=!0),l}function m3(t){return t.some(e=>xr(e)?!(e.type===hi||e.type===Ht&&!m3(e.children)):!0)?t:null}const D1=t=>t?N3(t)?t_(t):D1(t.parent):null,Id=Un(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>D1(t.parent),$root:t=>D1(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>g3(t),$forceUpdate:t=>t.f||(t.f=()=>{iT(t.update)}),$nextTick:t=>t.n||(t.n=Di.bind(t.proxy)),$watch:t=>tG.bind(t)}),kb=(t,e)=>t!==jt&&!t.__isScriptSetup&&Ut(t,e),LV={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:o,accessCache:a,type:s,appContext:l}=t;let c;if(e[0]!=="$"){const d=a[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return o[e]}else{if(kb(i,e))return a[e]=1,i[e];if(r!==jt&&Ut(r,e))return a[e]=2,r[e];if((c=t.propsOptions[0])&&Ut(c,e))return a[e]=3,o[e];if(n!==jt&&Ut(n,e))return a[e]=4,n[e];O1&&(a[e]=0)}}const u=Id[e];let f,h;if(u)return e==="$attrs"&&fi(t.attrs,"get",""),u(t);if((f=s.__cssModules)&&(f=f[e]))return f;if(n!==jt&&Ut(n,e))return a[e]=4,n[e];if(h=l.config.globalProperties,Ut(h,e))return h[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:o}=t;return kb(r,e)?(r[e]=n,!0):i!==jt&&Ut(i,e)?(i[e]=n,!0):Ut(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:o}},a){let s;return!!n[a]||t!==jt&&Ut(t,a)||kb(e,a)||(s=o[0])&&Ut(s,a)||Ut(i,a)||Ut(Id,a)||Ut(r.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ut(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function hE(t){return at(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let O1=!0;function NV(t){const e=g3(t),n=t.proxy,i=t.ctx;O1=!1,e.beforeCreate&&dE(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:a,watch:s,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:g,deactivated:v,beforeDestroy:m,beforeUnmount:y,destroyed:_,unmounted:b,render:T,renderTracked:x,renderTriggered:S,errorCaptured:C,serverPrefetch:M,expose:w,inheritAttrs:A,components:P,directives:R,filters:L}=e;if(c&&FV(c,i,null),a)for(const $ in a){const H=a[$];dt(H)&&(i[$]=H.bind(n))}if(r){const $=r.call(n,n);nn($)&&(t.data=zn($))}if(O1=!0,o)for(const $ in o){const H=o[$],V=dt(H)?H.bind(n,n):dt(H.get)?H.get.bind(n,n):mo,Y=!dt(H)&&dt(H.set)?H.set.bind(n):mo,ae=W({get:V,set:Y});Object.defineProperty(i,$,{enumerable:!0,configurable:!0,get:()=>ae.value,set:oe=>ae.value=oe})}if(s)for(const $ in s)v3(s[$],i,n,$);if(l){const $=dt(l)?l.call(n):l;Reflect.ownKeys($).forEach(H=>{kn(H,$[H])})}u&&dE(u,t,"c");function O($,H){at(H)?H.forEach(V=>$(V.bind(n))):H&&$(H.bind(n))}if(O(d3,f),O(ln,h),O(aT,d),O(Qs,p),O(wV,g),O(MV,v),O(PV,C),O(EV,x),O(AV,S),O(rr,y),O(ra,b),O(CV,M),at(w))if(w.length){const $=t.exposed||(t.exposed={});w.forEach(H=>{Object.defineProperty($,H,{get:()=>n[H],set:V=>n[H]=V})})}else t.exposed||(t.exposed={});T&&t.render===mo&&(t.render=T),A!=null&&(t.inheritAttrs=A),P&&(t.components=P),R&&(t.directives=R),M&&f3(t)}function FV(t,e,n=mo){at(t)&&(t=L1(t));for(const i in t){const r=t[i];let o;nn(r)?"default"in r?o=kt(r.from||i,r.default,!0):o=kt(r.from||i):o=kt(r),en(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function dE(t,e,n){bo(at(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function v3(t,e,n,i){let r=i.includes(".")?P3(n,i):()=>n[i];if(bn(t)){const o=e[t];dt(o)&&Ke(r,o)}else if(dt(t))Ke(r,t.bind(n));else if(nn(t))if(at(t))t.forEach(o=>v3(o,e,n,i));else{const o=dt(t.handler)?t.handler.bind(n):e[t.handler];dt(o)&&Ke(r,o,t)}}function g3(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,s=o.get(e);let l;return s?l=s:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>s0(l,c,a,!0)),s0(l,e,a)),nn(e)&&o.set(e,l),l}function s0(t,e,n,i=!1){const{mixins:r,extends:o}=e;o&&s0(t,o,n,!0),r&&r.forEach(a=>s0(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const s=BV[a]||n&&n[a];t[a]=s?s(t[a],e[a]):e[a]}return t}const BV={data:pE,props:mE,emits:mE,methods:ud,computed:ud,beforeCreate:gi,created:gi,beforeMount:gi,mounted:gi,beforeUpdate:gi,updated:gi,beforeDestroy:gi,beforeUnmount:gi,destroyed:gi,unmounted:gi,activated:gi,deactivated:gi,errorCaptured:gi,serverPrefetch:gi,components:ud,directives:ud,watch:zV,provide:pE,inject:UV};function pE(t,e){return e?t?function(){return Un(dt(t)?t.call(this,this):t,dt(e)?e.call(this,this):e)}:e:t}function UV(t,e){return ud(L1(t),L1(e))}function L1(t){if(at(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function gi(t,e){return t?[...new Set([].concat(t,e))]:e}function ud(t,e){return t?Un(Object.create(null),t,e):e}function mE(t,e){return t?at(t)&&at(e)?[...new Set([...t,...e])]:Un(Object.create(null),hE(t),hE(e??{})):e}function zV(t,e){if(!t)return e;if(!e)return t;const n=Un(Object.create(null),t);for(const i in e)n[i]=gi(t[i],e[i]);return n}function y3(){return{app:null,config:{isNativeTag:E4,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kV=0;function $V(t,e){return function(i,r=null){dt(i)||(i=Un({},i)),r!=null&&!nn(r)&&(r=null);const o=y3(),a=new WeakSet,s=[];let l=!1;const c=o.app={_uid:kV++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:bG,get config(){return o.config},set config(u){},use(u,...f){return a.has(u)||(u&&dt(u.install)?(a.add(u),u.install(c,...f)):dt(u)&&(a.add(u),u(c,...f))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,f){return f?(o.components[u]=f,c):o.components[u]},directive(u,f){return f?(o.directives[u]=f,c):o.directives[u]},mount(u,f,h){if(!l){const d=c._ceVNode||B(i,r);return d.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),t(d,u,h),l=!0,c._container=u,u.__vue_app__=c,t_(d.component)}},onUnmount(u){s.push(u)},unmount(){l&&(bo(s,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,f){return o.provides[u]=f,c},runWithContext(u){const f=_c;_c=c;try{return u()}finally{_c=f}}};return c}}let _c=null;function kn(t,e){if(Gn){let n=Gn.provides;const i=Gn.parent&&Gn.parent.provides;i===n&&(n=Gn.provides=Object.create(i)),n[t]=e}}function kt(t,e,n=!1){const i=Gn||Nn;if(i||_c){const r=_c?_c._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&dt(e)?e.call(i&&i.proxy):e}}function HV(){return!!(Gn||Nn||_c)}const _3={},b3=()=>Object.create(_3),x3=t=>Object.getPrototypeOf(t)===_3;function VV(t,e,n,i=!1){const r={},o=b3();t.propsDefaults=Object.create(null),S3(t,e,r,o);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=i?r:lV(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function GV(t,e,n,i){const{props:r,attrs:o,vnode:{patchFlag:a}}=t,s=xt(r),[l]=t.propsOptions;let c=!1;if((i||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Qy(t.emitsOptions,h))continue;const d=e[h];if(l)if(Ut(o,h))d!==o[h]&&(o[h]=d,c=!0);else{const p=Jo(h);r[p]=N1(l,s,p,d,t,!1)}else d!==o[h]&&(o[h]=d,c=!0)}}}else{S3(t,e,r,o)&&(c=!0);let u;for(const f in s)(!e||!Ut(e,f)&&((u=Qc(f))===f||!Ut(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=N1(l,s,f,void 0,t,!0)):delete r[f]);if(o!==s)for(const f in o)(!e||!Ut(e,f))&&(delete o[f],c=!0)}c&&Ia(t.attrs,"set","")}function S3(t,e,n,i){const[r,o]=t.propsOptions;let a=!1,s;if(e)for(let l in e){if(Cd(l))continue;const c=e[l];let u;r&&Ut(r,u=Jo(l))?!o||!o.includes(u)?n[u]=c:(s||(s={}))[u]=c:Qy(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,a=!0)}if(o){const l=xt(n),c=s||jt;for(let u=0;u<o.length;u++){const f=o[u];n[f]=N1(r,l,f,c[f],t,!Ut(c,f))}}return a}function N1(t,e,n,i,r,o){const a=t[n];if(a!=null){const s=Ut(a,"default");if(s&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&dt(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const u=Qp(r);i=c[n]=l.call(null,e),u()}}else i=l;r.ce&&r.ce._setProp(n,i)}a[0]&&(o&&!s?i=!1:a[1]&&(i===""||i===Qc(n))&&(i=!0))}return i}const WV=new WeakMap;function w3(t,e,n=!1){const i=n?WV:e.propsCache,r=i.get(t);if(r)return r;const o=t.props,a={},s=[];let l=!1;if(!dt(t)){const u=f=>{l=!0;const[h,d]=w3(f,e,!0);Un(a,h),d&&s.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return nn(t)&&i.set(t,pf),pf;if(at(o))for(let u=0;u<o.length;u++){const f=Jo(o[u]);vE(f)&&(a[f]=jt)}else if(o)for(const u in o){const f=Jo(u);if(vE(f)){const h=o[u],d=a[f]=at(h)||dt(h)?{type:h}:Un({},h),p=d.type;let g=!1,v=!0;if(at(p))for(let m=0;m<p.length;++m){const y=p[m],_=dt(y)&&y.name;if(_==="Boolean"){g=!0;break}else _==="String"&&(v=!1)}else g=dt(p)&&p.name==="Boolean";d[0]=g,d[1]=v,(g||Ut(d,"default"))&&s.push(f)}}const c=[a,s];return nn(t)&&i.set(t,c),c}function vE(t){return t[0]!=="$"&&!Cd(t)}const M3=t=>t[0]==="_"||t==="$stable",sT=t=>at(t)?t.map(ko):[ko(t)],XV=(t,e,n)=>{if(e._n)return e;const i=fo((...r)=>sT(e(...r)),n);return i._c=!1,i},T3=(t,e,n)=>{const i=t._ctx;for(const r in t){if(M3(r))continue;const o=t[r];if(dt(o))e[r]=XV(r,o,i);else if(o!=null){const a=sT(o);e[r]=()=>a}}},C3=(t,e)=>{const n=sT(e);t.slots.default=()=>n},A3=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},jV=(t,e,n)=>{const i=t.slots=b3();if(t.vnode.shapeFlag&32){const r=e._;r?(A3(i,e,n),n&&MN(i,"_",r,!0)):T3(e,i)}else e&&C3(t,e)},YV=(t,e,n)=>{const{vnode:i,slots:r}=t;let o=!0,a=jt;if(i.shapeFlag&32){const s=e._;s?n&&s===1?o=!1:A3(r,e,n):(o=!e.$stable,T3(e,r)),a=e}else e&&(C3(t,e),a={default:1});if(o)for(const s in r)!M3(s)&&a[s]==null&&delete r[s]},bi=lG;function qV(t){return KV(t)}function KV(t,e){const n=Xy();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:a,createText:s,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=mo,insertStaticContent:p}=t,g=(D,U,I,K=null,X=null,te=null,ee=void 0,fe=null,le=!!U.dynamicChildren)=>{if(D===U)return;D&&!nc(D,U)&&(K=ge(D),oe(D,X,te,!0),D=null),U.patchFlag===-2&&(le=!1,U.dynamicChildren=null);const{type:F,ref:N,shapeFlag:j}=U;switch(F){case nh:v(D,U,I,K);break;case hi:m(D,U,I,K);break;case Cg:D==null&&y(U,I,K,ee);break;case Ht:P(D,U,I,K,X,te,ee,fe,le);break;default:j&1?T(D,U,I,K,X,te,ee,fe,le):j&6?R(D,U,I,K,X,te,ee,fe,le):(j&64||j&128)&&F.process(D,U,I,K,X,te,ee,fe,le,J)}N!=null&&X&&a0(N,D&&D.ref,te,U||D,!U)},v=(D,U,I,K)=>{if(D==null)i(U.el=s(U.children),I,K);else{const X=U.el=D.el;U.children!==D.children&&c(X,U.children)}},m=(D,U,I,K)=>{D==null?i(U.el=l(U.children||""),I,K):U.el=D.el},y=(D,U,I,K)=>{[D.el,D.anchor]=p(D.children,U,I,K,D.el,D.anchor)},_=({el:D,anchor:U},I,K)=>{let X;for(;D&&D!==U;)X=h(D),i(D,I,K),D=X;i(U,I,K)},b=({el:D,anchor:U})=>{let I;for(;D&&D!==U;)I=h(D),r(D),D=I;r(U)},T=(D,U,I,K,X,te,ee,fe,le)=>{U.type==="svg"?ee="svg":U.type==="math"&&(ee="mathml"),D==null?x(U,I,K,X,te,ee,fe,le):M(D,U,X,te,ee,fe,le)},x=(D,U,I,K,X,te,ee,fe)=>{let le,F;const{props:N,shapeFlag:j,transition:re,dirs:he}=D;if(le=D.el=a(D.type,te,N&&N.is,N),j&8?u(le,D.children):j&16&&C(D.children,le,null,K,X,$b(D,te),ee,fe),he&&ul(D,null,K,"created"),S(le,D,D.scopeId,ee,K),N){for(const Ee in N)Ee!=="value"&&!Cd(Ee)&&o(le,Ee,null,N[Ee],te,K);"value"in N&&o(le,"value",null,N.value,te),(F=N.onVnodeBeforeMount)&&Po(F,K,D)}he&&ul(D,null,K,"beforeMount");const ue=ZV(X,re);ue&&re.beforeEnter(le),i(le,U,I),((F=N&&N.onVnodeMounted)||ue||he)&&bi(()=>{F&&Po(F,K,D),ue&&re.enter(le),he&&ul(D,null,K,"mounted")},X)},S=(D,U,I,K,X)=>{if(I&&d(D,I),K)for(let te=0;te<K.length;te++)d(D,K[te]);if(X){let te=X.subTree;if(U===te||R3(te.type)&&(te.ssContent===U||te.ssFallback===U)){const ee=X.vnode;S(D,ee,ee.scopeId,ee.slotScopeIds,X.parent)}}},C=(D,U,I,K,X,te,ee,fe,le=0)=>{for(let F=le;F<D.length;F++){const N=D[F]=fe?As(D[F]):ko(D[F]);g(null,N,U,I,K,X,te,ee,fe)}},M=(D,U,I,K,X,te,ee)=>{const fe=U.el=D.el;let{patchFlag:le,dynamicChildren:F,dirs:N}=U;le|=D.patchFlag&16;const j=D.props||jt,re=U.props||jt;let he;if(I&&fl(I,!1),(he=re.onVnodeBeforeUpdate)&&Po(he,I,U,D),N&&ul(U,D,I,"beforeUpdate"),I&&fl(I,!0),(j.innerHTML&&re.innerHTML==null||j.textContent&&re.textContent==null)&&u(fe,""),F?w(D.dynamicChildren,F,fe,I,K,$b(U,X),te):ee||H(D,U,fe,null,I,K,$b(U,X),te,!1),le>0){if(le&16)A(fe,j,re,I,X);else if(le&2&&j.class!==re.class&&o(fe,"class",null,re.class,X),le&4&&o(fe,"style",j.style,re.style,X),le&8){const ue=U.dynamicProps;for(let Ee=0;Ee<ue.length;Ee++){const Me=ue[Ee],Re=j[Me],Ze=re[Me];(Ze!==Re||Me==="value")&&o(fe,Me,Re,Ze,X,I)}}le&1&&D.children!==U.children&&u(fe,U.children)}else!ee&&F==null&&A(fe,j,re,I,X);((he=re.onVnodeUpdated)||N)&&bi(()=>{he&&Po(he,I,U,D),N&&ul(U,D,I,"updated")},K)},w=(D,U,I,K,X,te,ee)=>{for(let fe=0;fe<U.length;fe++){const le=D[fe],F=U[fe],N=le.el&&(le.type===Ht||!nc(le,F)||le.shapeFlag&70)?f(le.el):I;g(le,F,N,null,K,X,te,ee,!0)}},A=(D,U,I,K,X)=>{if(U!==I){if(U!==jt)for(const te in U)!Cd(te)&&!(te in I)&&o(D,te,U[te],null,X,K);for(const te in I){if(Cd(te))continue;const ee=I[te],fe=U[te];ee!==fe&&te!=="value"&&o(D,te,fe,ee,X,K)}"value"in I&&o(D,"value",U.value,I.value,X)}},P=(D,U,I,K,X,te,ee,fe,le)=>{const F=U.el=D?D.el:s(""),N=U.anchor=D?D.anchor:s("");let{patchFlag:j,dynamicChildren:re,slotScopeIds:he}=U;he&&(fe=fe?fe.concat(he):he),D==null?(i(F,I,K),i(N,I,K),C(U.children||[],I,N,X,te,ee,fe,le)):j>0&&j&64&&re&&D.dynamicChildren?(w(D.dynamicChildren,re,I,X,te,ee,fe),(U.key!=null||X&&U===X.subTree)&&lT(D,U,!0)):H(D,U,I,N,X,te,ee,fe,le)},R=(D,U,I,K,X,te,ee,fe,le)=>{U.slotScopeIds=fe,D==null?U.shapeFlag&512?X.ctx.activate(U,I,K,ee,le):L(U,I,K,X,te,ee,le):E(D,U,le)},L=(D,U,I,K,X,te,ee)=>{const fe=D.component=pG(D,K,X);if(Zy(D)&&(fe.ctx.renderer=J),mG(fe,!1,ee),fe.asyncDep){if(X&&X.registerDep(fe,O,ee),!D.el){const le=fe.subTree=B(hi);m(null,le,U,I)}}else O(fe,D,U,I,X,te,ee)},E=(D,U,I)=>{const K=U.component=D.component;if(aG(D,U,I))if(K.asyncDep&&!K.asyncResolved){$(K,U,I);return}else K.next=U,K.update();else U.el=D.el,K.vnode=U},O=(D,U,I,K,X,te,ee)=>{const fe=()=>{if(D.isMounted){let{next:j,bu:re,u:he,parent:ue,vnode:Ee}=D;{const Le=E3(D);if(Le){j&&(j.el=Ee.el,$(D,j,ee)),Le.asyncDep.then(()=>{D.isUnmounted||fe()});return}}let Me=j,Re;fl(D,!1),j?(j.el=Ee.el,$(D,j,ee)):j=Ee,re&&Lb(re),(Re=j.props&&j.props.onVnodeBeforeUpdate)&&Po(Re,ue,j,Ee),fl(D,!0);const Ze=yE(D),Te=D.subTree;D.subTree=Ze,g(Te,Ze,f(Te.el),ge(Te),D,X,te),j.el=Ze.el,Me===null&&sG(D,Ze.el),he&&bi(he,X),(Re=j.props&&j.props.onVnodeUpdated)&&bi(()=>Po(Re,ue,j,Ee),X)}else{let j;const{el:re,props:he}=U,{bm:ue,m:Ee,parent:Me,root:Re,type:Ze}=D,Te=gf(U);fl(D,!1),ue&&Lb(ue),!Te&&(j=he&&he.onVnodeBeforeMount)&&Po(j,Me,U),fl(D,!0);{Re.ce&&Re.ce._injectChildStyle(Ze);const Le=D.subTree=yE(D);g(null,Le,I,K,D,X,te),U.el=Le.el}if(Ee&&bi(Ee,X),!Te&&(j=he&&he.onVnodeMounted)){const Le=U;bi(()=>Po(j,Me,Le),X)}(U.shapeFlag&256||Me&&gf(Me.vnode)&&Me.vnode.shapeFlag&256)&&D.a&&bi(D.a,X),D.isMounted=!0,U=I=K=null}};D.scope.on();const le=D.effect=new RN(fe);D.scope.off();const F=D.update=le.run.bind(le),N=D.job=le.runIfDirty.bind(le);N.i=D,N.id=D.uid,le.scheduler=()=>iT(N),fl(D,!0),F()},$=(D,U,I)=>{U.component=D;const K=D.vnode.props;D.vnode=U,D.next=null,GV(D,U.props,K,I),YV(D,U.children,I),Zs(),aE(D),Js()},H=(D,U,I,K,X,te,ee,fe,le=!1)=>{const F=D&&D.children,N=D?D.shapeFlag:0,j=U.children,{patchFlag:re,shapeFlag:he}=U;if(re>0){if(re&128){Y(F,j,I,K,X,te,ee,fe,le);return}else if(re&256){V(F,j,I,K,X,te,ee,fe,le);return}}he&8?(N&16&&ye(F,X,te),j!==F&&u(I,j)):N&16?he&16?Y(F,j,I,K,X,te,ee,fe,le):ye(F,X,te,!0):(N&8&&u(I,""),he&16&&C(j,I,K,X,te,ee,fe,le))},V=(D,U,I,K,X,te,ee,fe,le)=>{D=D||pf,U=U||pf;const F=D.length,N=U.length,j=Math.min(F,N);let re;for(re=0;re<j;re++){const he=U[re]=le?As(U[re]):ko(U[re]);g(D[re],he,I,null,X,te,ee,fe,le)}F>N?ye(D,X,te,!0,!1,j):C(U,I,K,X,te,ee,fe,le,j)},Y=(D,U,I,K,X,te,ee,fe,le)=>{let F=0;const N=U.length;let j=D.length-1,re=N-1;for(;F<=j&&F<=re;){const he=D[F],ue=U[F]=le?As(U[F]):ko(U[F]);if(nc(he,ue))g(he,ue,I,null,X,te,ee,fe,le);else break;F++}for(;F<=j&&F<=re;){const he=D[j],ue=U[re]=le?As(U[re]):ko(U[re]);if(nc(he,ue))g(he,ue,I,null,X,te,ee,fe,le);else break;j--,re--}if(F>j){if(F<=re){const he=re+1,ue=he<N?U[he].el:K;for(;F<=re;)g(null,U[F]=le?As(U[F]):ko(U[F]),I,ue,X,te,ee,fe,le),F++}}else if(F>re)for(;F<=j;)oe(D[F],X,te,!0),F++;else{const he=F,ue=F,Ee=new Map;for(F=ue;F<=re;F++){const De=U[F]=le?As(U[F]):ko(U[F]);De.key!=null&&Ee.set(De.key,F)}let Me,Re=0;const Ze=re-ue+1;let Te=!1,Le=0;const Ye=new Array(Ze);for(F=0;F<Ze;F++)Ye[F]=0;for(F=he;F<=j;F++){const De=D[F];if(Re>=Ze){oe(De,X,te,!0);continue}let ot;if(De.key!=null)ot=Ee.get(De.key);else for(Me=ue;Me<=re;Me++)if(Ye[Me-ue]===0&&nc(De,U[Me])){ot=Me;break}ot===void 0?oe(De,X,te,!0):(Ye[ot-ue]=F+1,ot>=Le?Le=ot:Te=!0,g(De,U[ot],I,null,X,te,ee,fe,le),Re++)}const it=Te?JV(Ye):pf;for(Me=it.length-1,F=Ze-1;F>=0;F--){const De=ue+F,ot=U[De],lt=De+1<N?U[De+1].el:K;Ye[F]===0?g(null,ot,I,lt,X,te,ee,fe,le):Te&&(Me<0||F!==it[Me]?ae(ot,I,lt,2):Me--)}}},ae=(D,U,I,K,X=null)=>{const{el:te,type:ee,transition:fe,children:le,shapeFlag:F}=D;if(F&6){ae(D.component.subTree,U,I,K);return}if(F&128){D.suspense.move(U,I,K);return}if(F&64){ee.move(D,U,I,J);return}if(ee===Ht){i(te,U,I);for(let j=0;j<le.length;j++)ae(le[j],U,I,K);i(D.anchor,U,I);return}if(ee===Cg){_(D,U,I);return}if(K!==2&&F&1&&fe)if(K===0)fe.beforeEnter(te),i(te,U,I),bi(()=>fe.enter(te),X);else{const{leave:j,delayLeave:re,afterLeave:he}=fe,ue=()=>i(te,U,I),Ee=()=>{j(te,()=>{ue(),he&&he()})};re?re(te,ue,Ee):Ee()}else i(te,U,I)},oe=(D,U,I,K=!1,X=!1)=>{const{type:te,props:ee,ref:fe,children:le,dynamicChildren:F,shapeFlag:N,patchFlag:j,dirs:re,cacheIndex:he}=D;if(j===-2&&(X=!1),fe!=null&&a0(fe,null,I,D,!0),he!=null&&(U.renderCache[he]=void 0),N&256){U.ctx.deactivate(D);return}const ue=N&1&&re,Ee=!gf(D);let Me;if(Ee&&(Me=ee&&ee.onVnodeBeforeUnmount)&&Po(Me,U,D),N&6)ve(D.component,I,K);else{if(N&128){D.suspense.unmount(I,K);return}ue&&ul(D,null,U,"beforeUnmount"),N&64?D.type.remove(D,U,I,J,K):F&&!F.hasOnce&&(te!==Ht||j>0&&j&64)?ye(F,U,I,!1,!0):(te===Ht&&j&384||!X&&N&16)&&ye(le,U,I),K&&xe(D)}(Ee&&(Me=ee&&ee.onVnodeUnmounted)||ue)&&bi(()=>{Me&&Po(Me,U,D),ue&&ul(D,null,U,"unmounted")},I)},xe=D=>{const{type:U,el:I,anchor:K,transition:X}=D;if(U===Ht){Z(I,K);return}if(U===Cg){b(D);return}const te=()=>{r(I),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(D.shapeFlag&1&&X&&!X.persisted){const{leave:ee,delayLeave:fe}=X,le=()=>ee(I,te);fe?fe(D.el,te,le):le()}else te()},Z=(D,U)=>{let I;for(;D!==U;)I=h(D),r(D),D=I;r(U)},ve=(D,U,I)=>{const{bum:K,scope:X,job:te,subTree:ee,um:fe,m:le,a:F}=D;gE(le),gE(F),K&&Lb(K),X.stop(),te&&(te.flags|=8,oe(ee,D,U,I)),fe&&bi(fe,U),bi(()=>{D.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},ye=(D,U,I,K=!1,X=!1,te=0)=>{for(let ee=te;ee<D.length;ee++)oe(D[ee],U,I,K,X)},ge=D=>{if(D.shapeFlag&6)return ge(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const U=h(D.anchor||D.el),I=U&&U[t3];return I?h(I):U};let Ce=!1;const ce=(D,U,I)=>{D==null?U._vnode&&oe(U._vnode,null,null,!0):g(U._vnode||null,D,U,null,null,null,I),U._vnode=D,Ce||(Ce=!0,aE(),JN(),Ce=!1)},J={p:g,um:oe,m:ae,r:xe,mt:L,mc:C,pc:H,pbc:w,n:ge,o:t};return{render:ce,hydrate:void 0,createApp:$V(ce)}}function $b({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function fl({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ZV(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function lT(t,e,n=!1){const i=t.children,r=e.children;if(at(i)&&at(r))for(let o=0;o<i.length;o++){const a=i[o];let s=r[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=r[o]=As(r[o]),s.el=a.el),!n&&s.patchFlag!==-2&&lT(a,s)),s.type===nh&&(s.el=a.el)}}function JV(t){const e=t.slice(),n=[0];let i,r,o,a,s;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(o=0,a=n.length-1;o<a;)s=o+a>>1,t[n[s]]<c?o=s+1:a=s;c<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}function E3(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:E3(e)}function gE(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const QV=Symbol.for("v-scx"),eG=()=>kt(QV);function ni(t,e){return cT(t,null,e)}function Ke(t,e,n){return cT(t,e,n)}function cT(t,e,n=jt){const{immediate:i,deep:r,flush:o,once:a}=n,s=Un({},n),l=e&&i||!e&&o!=="post";let c;if(fp){if(o==="sync"){const d=eG();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=mo,d.resume=mo,d.pause=mo,d}}const u=Gn;s.call=(d,p,g)=>bo(d,u,p,g);let f=!1;o==="post"?s.scheduler=d=>{bi(d,u&&u.suspense)}:o!=="sync"&&(f=!0,s.scheduler=(d,p)=>{p?d():iT(d)}),s.augmentJob=d=>{e&&(d.flags|=4),f&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const h=gV(t,e,s);return fp&&(c?c.push(h):l&&h()),h}function tG(t,e,n){const i=this.proxy,r=bn(t)?t.includes(".")?P3(i,t):()=>i[t]:t.bind(i,i);let o;dt(e)?o=e:(o=e.handler,n=e);const a=Qp(this),s=cT(r,o.bind(i),n);return a(),s}function P3(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const nG=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Jo(e)}Modifiers`]||t[`${Qc(e)}Modifiers`];function iG(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||jt;let r=n;const o=e.startsWith("update:"),a=o&&nG(i,e.slice(7));a&&(a.trim&&(r=n.map(u=>bn(u)?u.trim():u)),a.number&&(r=n.map(O4)));let s,l=i[s=Ob(e)]||i[s=Ob(Jo(e))];!l&&o&&(l=i[s=Ob(Qc(e))]),l&&bo(l,t,6,r);const c=i[s+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,bo(c,t,6,r)}}function I3(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const o=t.emits;let a={},s=!1;if(!dt(t)){const l=c=>{const u=I3(c,e,!0);u&&(s=!0,Un(a,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!s?(nn(t)&&i.set(t,null),null):(at(o)?o.forEach(l=>a[l]=null):Un(a,o),nn(t)&&i.set(t,a),a)}function Qy(t,e){return!t||!Vy(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ut(t,e[0].toLowerCase()+e.slice(1))||Ut(t,Qc(e))||Ut(t,e))}function yE(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[o],slots:a,attrs:s,emit:l,render:c,renderCache:u,props:f,data:h,setupState:d,ctx:p,inheritAttrs:g}=t,v=o0(t);let m,y;try{if(n.shapeFlag&4){const b=r||i,T=b;m=ko(c.call(T,b,u,f,d,h,p)),y=s}else{const b=e;m=ko(b.length>1?b(f,{attrs:s,slots:a,emit:l}):b(f,null)),y=e.props?s:rG(s)}}catch(b){Rd.length=0,Ky(b,t,1),m=B(hi)}let _=m;if(y&&g!==!1){const b=Object.keys(y),{shapeFlag:T}=_;b.length&&T&7&&(o&&b.some(VM)&&(y=oG(y,o)),_=Sr(_,y,!1,!0))}return n.dirs&&(_=Sr(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&Dc(_,n.transition),m=_,o0(v),m}const rG=t=>{let e;for(const n in t)(n==="class"||n==="style"||Vy(n))&&((e||(e={}))[n]=t[n]);return e},oG=(t,e)=>{const n={};for(const i in t)(!VM(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function aG(t,e,n){const{props:i,children:r,component:o}=t,{props:a,children:s,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?_E(i,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(a[h]!==i[h]&&!Qy(c,h))return!0}}}else return(r||s)&&(!s||!s.$stable)?!0:i===a?!1:i?a?_E(i,a,c):!0:!!a;return!1}function _E(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(e[o]!==t[o]&&!Qy(n,o))return!0}return!1}function sG({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const R3=t=>t.__isSuspense;function lG(t,e){e&&e.pendingBranch?at(t)?e.effects.push(...t):e.effects.push(t):ZN(t)}const Ht=Symbol.for("v-fgt"),nh=Symbol.for("v-txt"),hi=Symbol.for("v-cmt"),Cg=Symbol.for("v-stc"),Rd=[];let pr=null;function xo(t=!1){Rd.push(pr=t?null:[])}function cG(){Rd.pop(),pr=Rd[Rd.length-1]||null}let up=1;function bE(t,e=!1){up+=t,t<0&&pr&&e&&(pr.hasOnce=!0)}function D3(t){return t.dynamicChildren=up>0?pr||pf:null,cG(),up>0&&pr&&pr.push(t),t}function e_(t,e,n,i,r,o){return D3(Yo(t,e,n,i,r,o,!0))}function Oc(t,e,n,i,r){return D3(B(t,e,n,i,r,!0))}function xr(t){return t?t.__v_isVNode===!0:!1}function nc(t,e){return t.type===e.type&&t.key===e.key}const O3=({key:t})=>t??null,Ag=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?bn(t)||en(t)||dt(t)?{i:Nn,r:t,k:e,f:!!n}:t:null);function Yo(t,e=null,n=null,i=0,r=null,o=t===Ht?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&O3(e),ref:e&&Ag(e),scopeId:e3,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Nn};return s?(uT(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=bn(n)?8:16),up>0&&!a&&pr&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&pr.push(l),l}const B=uG;function uG(t,e=null,n=null,i=0,r=null,o=!1){if((!t||t===RV)&&(t=hi),xr(t)){const s=Sr(t,e,!0);return n&&uT(s,n),up>0&&!o&&pr&&(s.shapeFlag&6?pr[pr.indexOf(t)]=s:pr.push(s)),s.patchFlag=-2,s}if(_G(t)&&(t=t.__vccOpts),e){e=L3(e);let{class:s,style:l}=e;s&&!bn(s)&&(e.class=Yy(s)),nn(l)&&(eT(l)&&!at(l)&&(l=Un({},l)),e.style=jy(l))}const a=bn(t)?1:R3(t)?128:n3(t)?64:nn(t)?4:dt(t)?2:0;return Yo(t,e,n,i,r,a,o,!0)}function L3(t){return t?eT(t)||x3(t)?Un({},t):t:null}function Sr(t,e,n=!1,i=!1){const{props:r,ref:o,patchFlag:a,children:s,transition:l}=t,c=e?fG(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&O3(c),ref:e&&e.ref?n&&o?at(o)?o.concat(Ag(e)):[o,Ag(e)]:Ag(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ht?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Sr(t.ssContent),ssFallback:t.ssFallback&&Sr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Dc(u,l.clone(u)),u}function Df(t=" ",e=0){return B(nh,null,t,e)}function xE(t="",e=!1){return e?(xo(),Oc(hi,null,t)):B(hi,null,t)}function ko(t){return t==null||typeof t=="boolean"?B(hi):at(t)?B(Ht,null,t.slice()):xr(t)?As(t):B(nh,null,String(t))}function As(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Sr(t)}function uT(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(at(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),uT(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!x3(e)?e._ctx=Nn:r===3&&Nn&&(Nn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else dt(e)?(e={default:e,_ctx:Nn},n=32):(e=String(e),i&64?(n=16,e=[Df(e)]):n=8);t.children=e,t.shapeFlag|=n}function fG(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Yy([e.class,i.class]));else if(r==="style")e.style=jy([e.style,i.style]);else if(Vy(r)){const o=e[r],a=i[r];a&&o!==a&&!(at(o)&&o.includes(a))&&(e[r]=o?[].concat(o,a):a)}else r!==""&&(e[r]=i[r])}return e}function Po(t,e,n,i=null){bo(t,e,7,[n,i])}const hG=y3();let dG=0;function pG(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||hG,o={uid:dG++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EN(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:w3(i,r),emitsOptions:I3(i,r),emit:null,emitted:null,propsDefaults:jt,inheritAttrs:i.inheritAttrs,ctx:jt,data:jt,props:jt,attrs:jt,slots:jt,refs:jt,setupState:jt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=iG.bind(null,o),t.ce&&t.ce(o),o}let Gn=null;const el=()=>Gn||Nn;let l0,F1;{const t=Xy(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),o=>{r.length>1?r.forEach(a=>a(o)):r[0](o)}};l0=e("__VUE_INSTANCE_SETTERS__",n=>Gn=n),F1=e("__VUE_SSR_SETTERS__",n=>fp=n)}const Qp=t=>{const e=Gn;return l0(t),t.scope.on(),()=>{t.scope.off(),l0(e)}},SE=()=>{Gn&&Gn.scope.off(),l0(null)};function N3(t){return t.vnode.shapeFlag&4}let fp=!1;function mG(t,e=!1,n=!1){e&&F1(e);const{props:i,children:r}=t.vnode,o=N3(t);VV(t,i,o,e),jV(t,r,n);const a=o?vG(t,e):void 0;return e&&F1(!1),a}function vG(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,LV);const{setup:i}=n;if(i){Zs();const r=t.setupContext=i.length>1?yG(t):null,o=Qp(t),a=Jp(i,t,0,[t.props,r]),s=xN(a);if(Js(),o(),(s||t.sp)&&!gf(t)&&f3(t),s){if(a.then(SE,SE),e)return a.then(l=>{wE(t,l)}).catch(l=>{Ky(l,t,0)});t.asyncDep=a}else wE(t,a)}else F3(t)}function wE(t,e,n){dt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:nn(e)&&(t.setupState=jN(e)),F3(t)}function F3(t,e,n){const i=t.type;t.render||(t.render=i.render||mo);{const r=Qp(t);Zs();try{NV(t)}finally{Js(),r()}}}const gG={get(t,e){return fi(t,"get",""),t[e]}};function yG(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,gG),slots:t.slots,emit:t.emit,expose:e}}function t_(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(jN(tT(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Id)return Id[n](t)},has(e,n){return n in e||n in Id}})):t.proxy}function _G(t){return dt(t)&&"__vccOpts"in t}const W=(t,e)=>mV(t,e,fp);function Gs(t,e,n){const i=arguments.length;return i===2?nn(e)&&!at(e)?xr(e)?B(t,null,[e]):B(t,e):B(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&xr(n)&&(n=[n]),B(t,e,n))}const bG="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let B1;const ME=typeof window<"u"&&window.trustedTypes;if(ME)try{B1=ME.createPolicy("vue",{createHTML:t=>t})}catch{}const B3=B1?t=>B1.createHTML(t):t=>t,xG="http://www.w3.org/2000/svg",SG="http://www.w3.org/1998/Math/MathML",Ma=typeof document<"u"?document:null,TE=Ma&&Ma.createElement("template"),wG={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?Ma.createElementNS(xG,t):e==="mathml"?Ma.createElementNS(SG,t):n?Ma.createElement(t,{is:n}):Ma.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Ma.createTextNode(t),createComment:t=>Ma.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ma.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,o){const a=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{TE.innerHTML=B3(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const s=TE.content;if(i==="svg"||i==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},is="transition",Th="animation",Of=Symbol("_vtc"),U3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},z3=Un({},s3,U3),MG=t=>(t.displayName="Transition",t.props=z3,t),n_=MG((t,{slots:e})=>Gs(SV,k3(t),e)),hl=(t,e=[])=>{at(t)?t.forEach(n=>n(...e)):t&&t(...e)},CE=t=>t?at(t)?t.some(e=>e.length>1):t.length>1:!1;function k3(t){const e={};for(const P in t)P in U3||(e[P]=t[P]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=a,appearToClass:u=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=TG(r),g=p&&p[0],v=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:_,onLeave:b,onLeaveCancelled:T,onBeforeAppear:x=m,onAppear:S=y,onAppearCancelled:C=_}=e,M=(P,R,L,E)=>{P._enterCancelled=E,xs(P,R?u:s),xs(P,R?c:a),L&&L()},w=(P,R)=>{P._isLeaving=!1,xs(P,f),xs(P,d),xs(P,h),R&&R()},A=P=>(R,L)=>{const E=P?S:y,O=()=>M(R,P,L);hl(E,[R,O]),AE(()=>{xs(R,P?l:o),Lo(R,P?u:s),CE(E)||EE(R,i,g,O)})};return Un(e,{onBeforeEnter(P){hl(m,[P]),Lo(P,o),Lo(P,a)},onBeforeAppear(P){hl(x,[P]),Lo(P,l),Lo(P,c)},onEnter:A(!1),onAppear:A(!0),onLeave(P,R){P._isLeaving=!0;const L=()=>w(P,R);Lo(P,f),P._enterCancelled?(Lo(P,h),U1()):(U1(),Lo(P,h)),AE(()=>{P._isLeaving&&(xs(P,f),Lo(P,d),CE(b)||EE(P,i,v,L))}),hl(b,[P,L])},onEnterCancelled(P){M(P,!1,void 0,!0),hl(_,[P])},onAppearCancelled(P){M(P,!0,void 0,!0),hl(C,[P])},onLeaveCancelled(P){w(P),hl(T,[P])}})}function TG(t){if(t==null)return null;if(nn(t))return[Hb(t.enter),Hb(t.leave)];{const e=Hb(t);return[e,e]}}function Hb(t){return L4(t)}function Lo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Of]||(t[Of]=new Set)).add(e)}function xs(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Of];n&&(n.delete(e),n.size||(t[Of]=void 0))}function AE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let CG=0;function EE(t,e,n,i){const r=t._endId=++CG,o=()=>{r===t._endId&&i()};if(n!=null)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=$3(t,e);if(!a)return i();const c=a+"end";let u=0;const f=()=>{t.removeEventListener(c,h),o()},h=d=>{d.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},s+1),t.addEventListener(c,h)}function $3(t,e){const n=window.getComputedStyle(t),i=p=>(n[p]||"").split(", "),r=i(`${is}Delay`),o=i(`${is}Duration`),a=PE(r,o),s=i(`${Th}Delay`),l=i(`${Th}Duration`),c=PE(s,l);let u=null,f=0,h=0;e===is?a>0&&(u=is,f=a,h=o.length):e===Th?c>0&&(u=Th,f=c,h=l.length):(f=Math.max(a,c),u=f>0?a>c?is:Th:null,h=u?u===is?o.length:l.length:0);const d=u===is&&/\b(transform|all)(,|$)/.test(i(`${is}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:d}}function PE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>IE(n)+IE(t[i])))}function IE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function U1(){return document.body.offsetHeight}function AG(t,e,n){const i=t[Of];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const c0=Symbol("_vod"),H3=Symbol("_vsh"),V3={beforeMount(t,{value:e},{transition:n}){t[c0]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ch(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Ch(t,!0),i.enter(t)):i.leave(t,()=>{Ch(t,!1)}):Ch(t,e))},beforeUnmount(t,{value:e}){Ch(t,e)}};function Ch(t,e){t.style.display=e?t[c0]:"none",t[H3]=!e}const G3=Symbol("");function EG(t){const e=el();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>u0(o,r))},i=()=>{const r=t(e.proxy);e.ce?u0(e.ce,r):z1(e.subTree,r),n(r)};aT(()=>{ZN(i)}),ln(()=>{Ke(i,mo,{flush:"post"});const r=new MutationObserver(i);r.observe(e.subTree.el.parentNode,{childList:!0}),ra(()=>r.disconnect())})}function z1(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{z1(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)u0(t.el,e);else if(t.type===Ht)t.children.forEach(n=>z1(n,e));else if(t.type===Cg){let{el:n,anchor:i}=t;for(;n&&(u0(n,e),n!==i);)n=n.nextSibling}}function u0(t,e){if(t.nodeType===1){const n=t.style;let i="";for(const r in e)n.setProperty(`--${r}`,e[r]),i+=`--${r}: ${e[r]};`;n[G3]=i}}const PG=/(^|;)\s*display\s*:/;function IG(t,e,n){const i=t.style,r=bn(n);let o=!1;if(n&&!r){if(e)if(bn(e))for(const a of e.split(";")){const s=a.slice(0,a.indexOf(":")).trim();n[s]==null&&Eg(i,s,"")}else for(const a in e)n[a]==null&&Eg(i,a,"");for(const a in n)a==="display"&&(o=!0),Eg(i,a,n[a])}else if(r){if(e!==n){const a=i[G3];a&&(n+=";"+a),i.cssText=n,o=PG.test(n)}}else e&&t.removeAttribute("style");c0 in t&&(t[c0]=o?i.display:"",t[H3]&&(i.display="none"))}const RE=/\s*!important$/;function Eg(t,e,n){if(at(n))n.forEach(i=>Eg(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=RG(t,e);RE.test(n)?t.setProperty(Qc(i),n.replace(RE,""),"important"):t[i]=n}}const DE=["Webkit","Moz","ms"],Vb={};function RG(t,e){const n=Vb[e];if(n)return n;let i=Jo(e);if(i!=="filter"&&i in t)return Vb[e]=i;i=XM(i);for(let r=0;r<DE.length;r++){const o=DE[r]+i;if(o in t)return Vb[e]=o}return e}const OE="http://www.w3.org/1999/xlink";function LE(t,e,n,i,r,o=$4(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(OE,e.slice(6,e.length)):t.setAttributeNS(OE,e,n):n==null||o&&!TN(n)?t.removeAttribute(e):t.setAttribute(e,o?"":Ka(n)?String(n):n)}function NE(t,e,n,i,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?B3(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const s=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const s=typeof t[e];s==="boolean"?n=TN(n):n==null&&s==="string"?(n="",a=!0):s==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(r||e)}function DG(t,e,n,i){t.addEventListener(e,n,i)}function OG(t,e,n,i){t.removeEventListener(e,n,i)}const FE=Symbol("_vei");function LG(t,e,n,i,r=null){const o=t[FE]||(t[FE]={}),a=o[e];if(i&&a)a.value=i;else{const[s,l]=NG(e);if(i){const c=o[e]=UG(i,r);DG(t,s,c,l)}else a&&(OG(t,s,a,l),o[e]=void 0)}}const BE=/(?:Once|Passive|Capture)$/;function NG(t){let e;if(BE.test(t)){e={};let i;for(;i=t.match(BE);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qc(t.slice(2)),e]}let Gb=0;const FG=Promise.resolve(),BG=()=>Gb||(FG.then(()=>Gb=0),Gb=Date.now());function UG(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;bo(zG(i,n.value),e,5,[i])};return n.value=t,n.attached=BG(),n}function zG(t,e){if(at(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const UE=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,kG=(t,e,n,i,r,o)=>{const a=r==="svg";e==="class"?AG(t,i,a):e==="style"?IG(t,n,i):Vy(e)?VM(e)||LG(t,e,n,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$G(t,e,i,a))?(NE(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&LE(t,e,i,a,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!bn(i))?NE(t,Jo(e),i,o,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),LE(t,e,i,a))};function $G(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&UE(e)&&dt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return UE(e)&&bn(n)?!1:e in t}const W3=new WeakMap,X3=new WeakMap,f0=Symbol("_moveCb"),zE=Symbol("_enterCb"),HG=t=>(delete t.props.mode,t),VG=HG({name:"TransitionGroup",props:Un({},z3,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=el(),i=a3();let r,o;return Qs(()=>{if(!r.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!jG(r[0].el,n.vnode.el,a))return;r.forEach(GG),r.forEach(WG);const s=r.filter(XG);U1(),s.forEach(l=>{const c=l.el,u=c.style;Lo(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const f=c[f0]=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",f),c[f0]=null,xs(c,a))};c.addEventListener("transitionend",f)})}),()=>{const a=xt(t),s=k3(a);let l=a.tag||Ht;if(r=[],o)for(let c=0;c<o.length;c++){const u=o[c];u.el&&u.el instanceof Element&&(r.push(u),Dc(u,cp(u,s,i,n)),W3.set(u,u.el.getBoundingClientRect()))}o=e.default?oT(e.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&Dc(u,cp(u,s,i,n))}return B(l,null,o)}}}),j3=VG;function GG(t){const e=t.el;e[f0]&&e[f0](),e[zE]&&e[zE]()}function WG(t){X3.set(t,t.el.getBoundingClientRect())}function XG(t){const e=W3.get(t),n=X3.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${i}px,${r}px)`,o.transitionDuration="0s",t}}function jG(t,e,n){const i=t.cloneNode(),r=t[Of];r&&r.forEach(s=>{s.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(s=>s&&i.classList.add(s)),i.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(i);const{hasTransform:a}=$3(i);return o.removeChild(i),a}const YG=["ctrl","shift","alt","meta"],qG={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>YG.some(n=>t[`${n}Key`]&&!e.includes(n))},k1=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...o)=>{for(let a=0;a<e.length;a++){const s=qG[e[a]];if(s&&s(r,e))return}return t(r,...o)})},KG=Un({patchProp:kG},wG);let kE;function Y3(){return kE||(kE=qV(KG))}const $E=(...t)=>{Y3().render(...t)},ZG=(...t)=>{const e=Y3().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=QG(i);if(!r)return;const o=e._component;!dt(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,JG(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e};function JG(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function QG(t){return bn(t)?document.querySelector(t):t}function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function e6(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(hp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t6(t){var e=e6(t,"string");return hp(e)=="symbol"?e:e+""}function n6(t,e,n){return(e=t6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function we(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(n),!0).forEach(function(i){n6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function z(){return z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},z.apply(null,arguments)}const i6=t=>typeof t=="function",r6=Array.isArray,o6=t=>typeof t=="string",a6=t=>t!==null&&typeof t=="object",s6=/^on[^a-z]/,l6=t=>s6.test(t),q3=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},c6=/-(\w)/g,K3=q3(t=>t.replace(c6,(e,n)=>n?n.toUpperCase():"")),u6=/\B([A-Z])/g,f6=q3(t=>t.replace(u6,"-$1").toLowerCase()),h6=Object.prototype.hasOwnProperty,VE=(t,e)=>h6.call(t,e);function d6(t,e,n,i){const r=t[n];if(r!=null){const o=VE(r,"default");if(o&&i===void 0){const a=r.default;i=r.type!==Function&&i6(a)?a():a}r.type===Boolean&&(!VE(e,n)&&!o?i=!1:i===""&&(i=!0))}return i}function tf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return typeof t=="function"?t(e):t??n}function p6(t){let e;const n=new Promise(r=>{e=t(()=>{r(!0)})}),i=()=>{e==null||e()};return i.then=(r,o)=>n.then(r,o),i.promise=n,i}function qe(){const t=[];for(let e=0;e<arguments.length;e++){const n=e<0||arguments.length<=e?void 0:arguments[e];if(n){if(o6(n))t.push(n);else if(r6(n))for(let i=0;i<n.length;i++){const r=qe(n[i]);r&&t.push(r)}else if(a6(n))for(const i in n)n[i]&&t.push(i)}}return t.join(" ")}var Z3=function(){if(typeof Map<"u")return Map;function t(e,n){var i=-1;return e.some(function(r,o){return r[0]===n?(i=o,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var i=t(this.__entries__,n),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(n,i){var r=t(this.__entries__,n);~r?this.__entries__[r][1]=i:this.__entries__.push([n,i])},e.prototype.delete=function(n){var i=this.__entries__,r=t(i,n);~r&&i.splice(r,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,i){i===void 0&&(i=null);for(var r=0,o=this.__entries__;r<o.length;r++){var a=o[r];n.call(i,a[1],a[0])}},e}()}(),$1=typeof window<"u"&&typeof document<"u"&&window.document===document,h0=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),m6=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(h0):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),v6=2;function g6(t,e){var n=!1,i=!1,r=0;function o(){n&&(n=!1,t()),i&&s()}function a(){m6(o)}function s(){var l=Date.now();if(n){if(l-r<v6)return;i=!0}else n=!0,i=!1,setTimeout(a,e);r=l}return s}var y6=20,_6=["top","right","bottom","left","width","height","size","weight"],b6=typeof MutationObserver<"u",x6=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=g6(this.refresh.bind(this),y6)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,i=n.indexOf(e);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!$1||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),b6?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!$1||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,i=n===void 0?"":n,r=_6.some(function(o){return!!~i.indexOf(o)});r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),J3=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},Lf=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||h0},Q3=i_(0,0,0,0);function d0(t){return parseFloat(t)||0}function GE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(i,r){var o=t["border-"+r+"-width"];return i+d0(o)},0)}function S6(t){for(var e=["top","right","bottom","left"],n={},i=0,r=e;i<r.length;i++){var o=r[i],a=t["padding-"+o];n[o]=d0(a)}return n}function w6(t){var e=t.getBBox();return i_(0,0,e.width,e.height)}function M6(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Q3;var i=Lf(t).getComputedStyle(t),r=S6(i),o=r.left+r.right,a=r.top+r.bottom,s=d0(i.width),l=d0(i.height);if(i.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=GE(i,"left","right")+o),Math.round(l+a)!==n&&(l-=GE(i,"top","bottom")+a)),!C6(t)){var c=Math.round(s+o)-e,u=Math.round(l+a)-n;Math.abs(c)!==1&&(s-=c),Math.abs(u)!==1&&(l-=u)}return i_(r.left,r.top,s,l)}var T6=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Lf(t).SVGGraphicsElement}:function(t){return t instanceof Lf(t).SVGElement&&typeof t.getBBox=="function"}}();function C6(t){return t===Lf(t).document.documentElement}function A6(t){return $1?T6(t)?w6(t):M6(t):Q3}function E6(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return J3(a,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),a}function i_(t,e,n,i){return{x:t,y:e,width:n,height:i}}var P6=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=i_(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=A6(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),I6=function(){function t(e,n){var i=E6(n);J3(this,{target:e,contentRect:i})}return t}(),R6=function(){function t(e,n,i){if(this.activeObservations_=[],this.observations_=new Z3,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=i}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Lf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new P6(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Lf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(i){return new I6(i.target,i.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),eF=typeof WeakMap<"u"?new WeakMap:new Z3,tF=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=x6.getInstance(),i=new R6(e,n,this);eF.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach(function(t){tF.prototype[t]=function(){var e;return(e=eF.get(this))[t].apply(e,arguments)}});var nF=function(){return typeof h0.ResizeObserver<"u"?h0.ResizeObserver:tF}();const D6=t=>t!=null&&t!=="",Ja=(t,e)=>{const n=z({},t);return Object.keys(e).forEach(i=>{const r=n[i];if(r)r.type||r.default?r.default=e[i]:r.def?r.def(e[i]):n[i]={type:r,default:e[i]};else throw new Error(`not have ${i} prop`)}),n},iF=t=>{const e=Object.keys(t),n={},i={},r={};for(let o=0,a=e.length;o<a;o++){const s=e[o];l6(s)?(n[s[2].toLowerCase()+s.slice(3)]=t[s],i[s]=t[s]):r[s]=t[s]}return{onEvents:i,events:n,extraAttrs:r}},O6=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n={},i=/;(?![^(]*\))/g,r=/:(.+)/;return typeof t=="object"?t:(t.split(i).forEach(function(o){if(o){const a=o.split(r);if(a.length>1){const s=e?K3(a[0].trim()):a[0].trim();n[s]=a[1].trim()}}}),n)},Ku=(t,e)=>t[e]!==void 0,L6=Symbol("skipFlatten"),Ki=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=Array.isArray(t)?t:[t],i=[];return n.forEach(r=>{Array.isArray(r)?i.push(...Ki(r,e)):r&&r.type===Ht?r.key===L6?i.push(r):i.push(...Ki(r.children,e)):r&&xr(r)?e&&!fT(r)?i.push(r):e||i.push(r):D6(r)&&i.push(r)}),i},N6=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(xr(t))return t.type===Ht?e==="default"?Ki(t.children):[]:t.children&&t.children[e]?Ki(t.children[e](n)):[];{const i=t.$slots[e]&&t.$slots[e](n);return Ki(i)}},fd=t=>{var e;let n=((e=t==null?void 0:t.vnode)===null||e===void 0?void 0:e.el)||t&&(t.$el||t);for(;n&&!n.tagName;)n=n.nextSibling;return n},F6=t=>{const e={};if(t.$&&t.$.vnode){const n=t.$.vnode.props||{};Object.keys(t.$props).forEach(i=>{const r=t.$props[i],o=f6(i);(r!==void 0||o in n)&&(e[i]=r)})}else if(xr(t)&&typeof t.type=="object"){const n=t.props||{},i={};Object.keys(n).forEach(o=>{i[K3(o)]=n[o]});const r=t.type.props||{};Object.keys(r).forEach(o=>{const a=d6(r,i,o,i[o]);(a!==void 0||o in i)&&(e[o]=a)})}return e},rF=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,r;if(t.$){const o=t[e];if(o!==void 0)return typeof o=="function"&&i?o(n):o;r=t.$slots[e],r=i&&r?r(n):r}else if(xr(t)){const o=t.props&&t.props[e];if(o!==void 0&&t.props!==null)return typeof o=="function"&&i?o(n):o;t.type===Ht?r=t.children:t.children&&t.children[e]&&(r=t.children[e],r=i&&r?r(n):r)}return Array.isArray(r)&&(r=Ki(r),r=r.length===1?r[0]:r,r=r.length===0?void 0:r),r};function WE(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n={};return t.$?n=z(z({},n),t.$attrs):n=z(z({},n),t.props),iF(n)[e?"onEvents":"events"]}function B6(t,e){let i=((xr(t)?t.props:t.$attrs)||{}).style||{};return typeof i=="string"&&(i=O6(i,e)),i}function U6(t){return t.length===1&&t[0].type===Ht}function fT(t){return t&&(t.type===hi||t.type===Ht&&t.children.length===0||t.type===nh&&t.children.trim()==="")}function z6(t){return t&&t.type===nh}function eu(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...n):(n==null?void 0:n.type)===Ht?e.push(...eu(n.children)):e.push(n)}),e.filter(n=>!fT(n))}function Nf(t){return Array.isArray(t)&&t.length===1&&(t=t[0]),t&&t.__v_isVNode&&typeof t.type!="symbol"}function hT(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";var i,r;return(i=e[n])!==null&&i!==void 0?i:(r=t[n])===null||r===void 0?void 0:r.call(t)}const dT=Be({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(t,e){let{slots:n}=e;const i=zn({width:0,height:0,offsetHeight:0,offsetWidth:0});let r=null,o=null;const a=()=>{o&&(o.disconnect(),o=null)},s=u=>{const{onResize:f}=t,h=u[0].target,{width:d,height:p}=h.getBoundingClientRect(),{offsetWidth:g,offsetHeight:v}=h,m=Math.floor(d),y=Math.floor(p);if(i.width!==m||i.height!==y||i.offsetWidth!==g||i.offsetHeight!==v){const _={width:m,height:y,offsetWidth:g,offsetHeight:v};z(i,_),f&&Promise.resolve().then(()=>{f(z(z({},_),{offsetWidth:g,offsetHeight:v}),h)})}},l=el(),c=()=>{const{disabled:u}=t;if(u){a();return}const f=fd(l);f!==r&&(a(),r=f),!o&&f&&(o=new nF(s),o.observe(f))};return ln(()=>{c()}),Qs(()=>{c()}),ra(()=>{a()}),Ke(()=>t.disabled,()=>{c()},{flush:"post"}),()=>{var u;return(u=n.default)===null||u===void 0?void 0:u.call(n)[0]}}});let oF=t=>setTimeout(t,16),aF=t=>clearTimeout(t);typeof window<"u"&&"requestAnimationFrame"in window&&(oF=t=>window.requestAnimationFrame(t),aF=t=>window.cancelAnimationFrame(t));let XE=0;const pT=new Map;function sF(t){pT.delete(t)}function Rn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;XE+=1;const n=XE;function i(r){if(r===0)sF(n),t();else{const o=oF(()=>{i(r-1)});pT.set(n,o)}}return i(e),n}Rn.cancel=t=>{const e=pT.get(t);return sF(e),aF(e)};const p0=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e},ih=t=>{const e=t;return e.install=function(n){n.component(e.displayName||e.name,t)},t};function En(t){return{type:Object,default:t}}function Ai(t){return{type:Boolean,default:t}}function Uo(t){return{type:Function,default:t}}function Ff(t,e){const n={validator:()=>!0,default:t};return n}function Lm(){return{validator:()=>!0}}function m0(t){return{type:Array,default:t}}function ji(t){return{type:String,default:t}}function Xr(t,e){return t?{type:t,default:e}:Ff(e)}let Ci=!1;try{const t=Object.defineProperty({},"passive",{get(){Ci=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch{}function hd(t,e,n,i){if(t&&t.addEventListener){let r=i;r===void 0&&Ci&&(e==="touchstart"||e==="touchmove"||e==="wheel")&&(r={passive:!1}),t.addEventListener(e,n,r)}return{remove:()=>{t&&t.removeEventListener&&t.removeEventListener(e,n)}}}const mT="anticon",k6=Symbol("GlobalFormContextKey"),$6=t=>{kn(k6,t)},H6=()=>({iconPrefixCls:String,getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:En(),input:En(),autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:En(),pageHeader:En(),componentSize:{type:String},componentDisabled:{type:Boolean,default:void 0},direction:{type:String,default:"ltr"},space:En(),virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:En(),pagination:En(),theme:En(),select:En(),wave:En()}),vT=Symbol("configProvider"),lF={getPrefixCls:(t,e)=>e||(t?`ant-${t}`:"ant"),iconPrefixCls:W(()=>mT),getPopupContainer:W(()=>()=>document.body),direction:W(()=>"ltr")},cF=()=>kt(vT,lF),V6=t=>kn(vT,t),uF=Symbol("DisabledContextKey"),gT=()=>kt(uF,je(void 0)),G6=t=>{const e=gT();return kn(uF,W(()=>{var n;return(n=t.value)!==null&&n!==void 0?n:e.value})),t},fF={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},W6={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},hF={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},jE={lang:z({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},W6),timePickerLocale:z({},hF)},ar="${label} is not a valid ${type}",Bf={locale:"en",Pagination:fF,DatePicker:jE,TimePicker:hF,Calendar:jE,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:ar,method:ar,array:ar,object:ar,number:ar,date:ar,boolean:ar,integer:ar,float:ar,regexp:ar,email:ar,url:ar,hex:ar},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"}},dF=Be({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup(t,e){let{slots:n}=e;const i=kt("localeData",{}),r=W(()=>{const{componentName:a="global",defaultLocale:s}=t,l=s||Bf[a||"global"],{antLocale:c}=i,u=a&&c?c[a]:{};return z(z({},typeof l=="function"?l():l),u||{})}),o=W(()=>{const{antLocale:a}=i,s=a&&a.locale;return a&&a.exist&&!s?Bf.locale:s});return()=>{const a=t.children||n.default,{antLocale:s}=i;return a==null?void 0:a(r.value,o.value,s)}}});function X6(t,e,n){const i=kt("localeData",{});return[W(()=>{const{antLocale:o}=i,a=Ln(e)||Bf[t],s=o?o[t]:{};return z(z(z({},typeof a=="function"?a():a),s||{}),Ln(n)||{})})]}function yT(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}const YE="%";class j6{constructor(e){this.cache=new Map,this.instanceId=e}get(e){return this.cache.get(Array.isArray(e)?e.join(YE):e)||null}update(e,n){const i=Array.isArray(e)?e.join(YE):e,r=this.cache.get(i),o=n(r);o===null?this.cache.delete(i):this.cache.set(i,o)}}const pF="data-token-hash",bc="data-css-hash",nf="__cssinjs_instance__";function dp(){const t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){const e=document.body.querySelectorAll(`style[${bc}]`)||[],{firstChild:n}=document.head;Array.from(e).forEach(r=>{r[nf]=r[nf]||t,r[nf]===t&&document.head.insertBefore(r,n)});const i={};Array.from(document.querySelectorAll(`style[${bc}]`)).forEach(r=>{var o;const a=r.getAttribute(bc);i[a]?r[nf]===t&&((o=r.parentNode)===null||o===void 0||o.removeChild(r)):i[a]=!0})}return new j6(t)}const mF=Symbol("StyleContextKey"),Y6=()=>{var t,e,n;const i=el();let r;if(i&&i.appContext){const o=(n=(e=(t=i.appContext)===null||t===void 0?void 0:t.config)===null||e===void 0?void 0:e.globalProperties)===null||n===void 0?void 0:n.__ANTDV_CSSINJS_CACHE__;o?r=o:(r=dp(),i.appContext.config.globalProperties&&(i.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__=r))}else r=dp();return r},vF={cache:dp(),defaultCache:!0,hashPriority:"low"},r_=()=>{const t=Y6();return kt(mF,Fe(z(z({},vF),{cache:t})))},q6=t=>{const e=r_(),n=Fe(z(z({},vF),{cache:dp()}));return Ke([()=>Ln(t),e],()=>{const i=z({},e.value),r=Ln(t);Object.keys(r).forEach(a=>{const s=r[a];r[a]!==void 0&&(i[a]=s)});const{cache:o}=r;i.cache=i.cache||dp(),i.defaultCache=!o&&e.value.defaultCache,n.value=i},{immediate:!0}),kn(mF,n),n},K6=()=>({autoClear:Ai(),mock:ji(),cache:En(),defaultCache:Ai(),hashPriority:ji(),container:Xr(),ssrInline:Ai(),transformers:m0(),linters:m0()});ih(Be({name:"AStyleProvider",inheritAttrs:!1,props:K6(),setup(t,e){let{slots:n}=e;return q6(t),()=>{var i;return(i=n.default)===null||i===void 0?void 0:i.call(n)}}}));function gF(t,e,n,i){const r=r_(),o=Fe(""),a=Fe();ni(()=>{o.value=[t,...e.value].join("%")});const s=l=>{r.value.cache.update(l,c=>{const[u=0,f]=c||[];return u-1===0?(i==null||i(f,!1),null):[u-1,f]})};return Ke(o,(l,c)=>{c&&s(c),r.value.cache.update(l,u=>{const[f=0,h]=u||[],p=h||n();return[f+1,p]}),a.value=r.value.cache.get(o.value)[1]},{immediate:!0}),rr(()=>{s(o.value)}),a}function Yr(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ic(t,e){return t&&t.contains?t.contains(e):!1}const qE="data-vc-order",Z6="vc-util-key",H1=new Map;function yF(){let{mark:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t?t.startsWith("data-")?t:`data-${t}`:Z6}function o_(t){return t.attachTo?t.attachTo:document.querySelector("head")||document.body}function J6(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function _F(t){return Array.from((H1.get(t)||t).children).filter(e=>e.tagName==="STYLE")}function bF(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Yr())return null;const{csp:n,prepend:i}=e,r=document.createElement("style");r.setAttribute(qE,J6(i)),n!=null&&n.nonce&&(r.nonce=n==null?void 0:n.nonce),r.innerHTML=t;const o=o_(e),{firstChild:a}=o;if(i){if(i==="queue"){const s=_F(o).filter(l=>["prepend","prependQueue"].includes(l.getAttribute(qE)));if(s.length)return o.insertBefore(r,s[s.length-1].nextSibling),r}o.insertBefore(r,a)}else o.appendChild(r);return r}function xF(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=o_(e);return _F(n).find(i=>i.getAttribute(yF(e))===t)}function v0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=xF(t,e);n&&o_(e).removeChild(n)}function Q6(t,e){const n=H1.get(t);if(!n||!ic(document,n)){const i=bF("",e),{parentNode:r}=i;H1.set(t,r),t.removeChild(i)}}function pp(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i,r,o;const a=o_(n);Q6(a,n);const s=xF(e,n);if(s)return!((i=n.csp)===null||i===void 0)&&i.nonce&&s.nonce!==((r=n.csp)===null||r===void 0?void 0:r.nonce)&&(s.nonce=(o=n.csp)===null||o===void 0?void 0:o.nonce),s.innerHTML!==t&&(s.innerHTML=t),s;const l=bF(t,n);return l.setAttribute(yF(n),e),l}function eW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}class Uf{constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i={map:this.cache};return e.forEach(r=>{var o;i?i=(o=i==null?void 0:i.map)===null||o===void 0?void 0:o.get(r):i=void 0}),i!=null&&i.value&&n&&(i.value[1]=this.cacheCallTimes++),i==null?void 0:i.value}get(e){var n;return(n=this.internalGet(e,!0))===null||n===void 0?void 0:n[0]}has(e){return!!this.internalGet(e)}set(e,n){if(!this.has(e)){if(this.size()+1>Uf.MAX_CACHE_SIZE+Uf.MAX_CACHE_OFFSET){const[r]=this.keys.reduce((o,a)=>{const[,s]=o;return this.internalGet(a)[1]<s?[a,this.internalGet(a)[1]]:o},[this.keys[0],this.cacheCallTimes]);this.delete(r)}this.keys.push(e)}let i=this.cache;e.forEach((r,o)=>{if(o===e.length-1)i.set(r,{value:[n,this.cacheCallTimes++]});else{const a=i.get(r);a?a.map||(a.map=new Map):i.set(r,{map:new Map}),i=i.get(r).map}})}deleteByPath(e,n){var i;const r=e.get(n[0]);if(n.length===1)return r.map?e.set(n[0],{map:r.map}):e.delete(n[0]),(i=r.value)===null||i===void 0?void 0:i[0];const o=this.deleteByPath(r.map,n.slice(1));return(!r.map||r.map.size===0)&&!r.value&&e.delete(n[0]),o}delete(e){if(this.has(e))return this.keys=this.keys.filter(n=>!eW(n,e)),this.deleteByPath(this.cache,e)}}Uf.MAX_CACHE_SIZE=20;Uf.MAX_CACHE_OFFSET=5;let KE={};function tW(t,e){}function nW(t,e,n){KE[n]||(KE[n]=!0)}function iW(t,e){nW(tW,t,e)}function rW(){}let _T=rW,ZE=0;class SF{constructor(e){this.derivatives=Array.isArray(e)?e:[e],this.id=ZE,e.length===0&&_T(e.length>0),ZE+=1}getDerivativeToken(e){return this.derivatives.reduce((n,i)=>i(e,n),void 0)}}const Wb=new Uf;function wF(t){const e=Array.isArray(t)?t:[t];return Wb.has(e)||Wb.set(e,new SF(e)),Wb.get(e)}const JE=new WeakMap;function g0(t){let e=JE.get(t)||"";return e||(Object.keys(t).forEach(n=>{const i=t[n];e+=n,i instanceof SF?e+=i.id:i&&typeof i=="object"?e+=g0(i):e+=i}),JE.set(t,e)),e}function oW(t,e){return yT(`${e}_${g0(t)}`)}const Dd=`random-${Date.now()}-${Math.random()}`.replace(/\./g,""),MF="_bAmBoO_";function aW(t,e,n){var i,r;if(Yr()){pp(t,Dd);const o=document.createElement("div");o.style.position="fixed",o.style.left="0",o.style.top="0",e==null||e(o),document.body.appendChild(o);const a=n?n(o):(i=getComputedStyle(o).content)===null||i===void 0?void 0:i.includes(MF);return(r=o.parentNode)===null||r===void 0||r.removeChild(o),v0(Dd),a}return!1}let Xb;function sW(){return Xb===void 0&&(Xb=aW(`@layer ${Dd} { .${Dd} { content: "${MF}"!important; } }`,t=>{t.className=Dd})),Xb}const QE={},lW="css",rc=new Map;function cW(t){rc.set(t,(rc.get(t)||0)+1)}function uW(t,e){typeof document<"u"&&document.querySelectorAll(`style[${pF}="${t}"]`).forEach(i=>{var r;i[nf]===e&&((r=i.parentNode)===null||r===void 0||r.removeChild(i))})}const fW=0;function hW(t,e){rc.set(t,(rc.get(t)||0)-1);const n=Array.from(rc.keys()),i=n.filter(r=>(rc.get(r)||0)<=0);n.length-i.length>fW&&i.forEach(r=>{uW(r,e),rc.delete(r)})}const dW=(t,e,n,i)=>{const r=n.getDerivativeToken(t);let o=z(z({},r),e);return i&&(o=i(o)),o};function pW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:je({});const i=r_(),r=W(()=>z({},...e.value)),o=W(()=>g0(r.value)),a=W(()=>g0(n.value.override||QE));return gF("token",W(()=>[n.value.salt||"",t.value.id,o.value,a.value]),()=>{const{salt:l="",override:c=QE,formatToken:u,getComputedToken:f}=n.value,h=f?f(r.value,c,t.value):dW(r.value,c,t.value,u),d=oW(h,l);h._tokenKey=d,cW(d);const p=`${lW}-${yT(d)}`;return h._hashId=p,[h,p]},l=>{var c;hW(l[0]._tokenKey,(c=i.value)===null||c===void 0?void 0:c.cache.instanceId)})}var mW={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},TF="comm",CF="rule",AF="decl",vW="@import",gW="@keyframes",yW="@layer",EF=Math.abs,bT=String.fromCharCode;function PF(t){return t.trim()}function Pg(t,e,n){return t.replace(e,n)}function _W(t,e,n){return t.indexOf(e,n)}function mp(t,e){return t.charCodeAt(e)|0}function zf(t,e,n){return t.slice(e,n)}function zo(t){return t.length}function bW(t){return t.length}function Nm(t,e){return e.push(t),t}var a_=1,kf=1,IF=0,qr=0,Pn=0,rh="";function xT(t,e,n,i,r,o,a,s){return{value:t,root:e,parent:n,type:i,props:r,children:o,line:a_,column:kf,length:a,return:"",siblings:s}}function xW(){return Pn}function SW(){return Pn=qr>0?mp(rh,--qr):0,kf--,Pn===10&&(kf=1,a_--),Pn}function yo(){return Pn=qr<IF?mp(rh,qr++):0,kf++,Pn===10&&(kf=1,a_++),Pn}function Ps(){return mp(rh,qr)}function Ig(){return qr}function s_(t,e){return zf(rh,t,e)}function vp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wW(t){return a_=kf=1,IF=zo(rh=t),qr=0,[]}function MW(t){return rh="",t}function jb(t){return PF(s_(qr-1,V1(t===91?t+2:t===40?t+1:t)))}function TW(t){for(;(Pn=Ps())&&Pn<33;)yo();return vp(t)>2||vp(Pn)>3?"":" "}function CW(t,e){for(;--e&&yo()&&!(Pn<48||Pn>102||Pn>57&&Pn<65||Pn>70&&Pn<97););return s_(t,Ig()+(e<6&&Ps()==32&&yo()==32))}function V1(t){for(;yo();)switch(Pn){case t:return qr;case 34:case 39:t!==34&&t!==39&&V1(Pn);break;case 40:t===41&&V1(t);break;case 92:yo();break}return qr}function AW(t,e){for(;yo()&&t+Pn!==57;)if(t+Pn===84&&Ps()===47)break;return"/*"+s_(e,qr-1)+"*"+bT(t===47?t:yo())}function EW(t){for(;!vp(Ps());)yo();return s_(t,qr)}function PW(t){return MW(Rg("",null,null,null,[""],t=wW(t),0,[0],t))}function Rg(t,e,n,i,r,o,a,s,l){for(var c=0,u=0,f=a,h=0,d=0,p=0,g=1,v=1,m=1,y=0,_="",b=r,T=o,x=i,S=_;v;)switch(p=y,y=yo()){case 40:if(p!=108&&mp(S,f-1)==58){_W(S+=Pg(jb(y),"&","&\f"),"&\f",EF(c?s[c-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:S+=jb(y);break;case 9:case 10:case 13:case 32:S+=TW(p);break;case 92:S+=CW(Ig()-1,7);continue;case 47:switch(Ps()){case 42:case 47:Nm(IW(AW(yo(),Ig()),e,n,l),l),(vp(p||1)==5||vp(Ps()||1)==5)&&zo(S)&&zf(S,-1,void 0)!==" "&&(S+=" ");break;default:S+="/"}break;case 123*g:s[c++]=zo(S)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+u:m==-1&&(S=Pg(S,/\f/g,"")),d>0&&(zo(S)-f||g===0&&p===47)&&Nm(d>32?tP(S+";",i,n,f-1,l):tP(Pg(S," ","")+";",i,n,f-2,l),l);break;case 59:S+=";";default:if(Nm(x=eP(S,e,n,c,u,r,s,_,b=[],T=[],f,o),o),y===123)if(u===0)Rg(S,e,x,x,b,o,f,s,T);else switch(h===99&&mp(S,3)===110?100:h){case 100:case 108:case 109:case 115:Rg(t,x,x,i&&Nm(eP(t,x,x,0,0,r,s,_,r,b=[],f,T),T),r,T,f,s,i?b:T);break;default:Rg(S,x,x,x,[""],T,0,s,T)}}c=u=d=0,g=m=1,_=S="",f=a;break;case 58:f=1+zo(S),d=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&SW()==125)continue}switch(S+=bT(y),y*g){case 38:m=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(zo(S)-1)*m,m=1;break;case 64:Ps()===45&&(S+=jb(yo())),h=Ps(),u=f=zo(_=S+=EW(Ig())),y++;break;case 45:p===45&&zo(S)==2&&(g=0)}}return o}function eP(t,e,n,i,r,o,a,s,l,c,u,f){for(var h=r-1,d=r===0?o:[""],p=bW(d),g=0,v=0,m=0;g<i;++g)for(var y=0,_=zf(t,h+1,h=EF(v=a[g])),b=t;y<p;++y)(b=PF(v>0?d[y]+" "+_:Pg(_,/&\f/g,d[y])))&&(l[m++]=b);return xT(t,e,n,r===0?CF:s,l,c,u,f)}function IW(t,e,n,i){return xT(t,e,n,TF,bT(xW()),zf(t,2,-2),0,i)}function tP(t,e,n,i,r){return xT(t,e,n,AF,zf(t,0,i),zf(t,i+1,-1),i,r)}function G1(t,e){for(var n="",i=0;i<t.length;i++)n+=e(t[i],i,t,e)||"";return n}function RW(t,e,n,i){switch(t.type){case yW:if(t.children.length)break;case vW:case AF:return t.return=t.return||t.value;case TF:return"";case gW:return t.return=t.value+"{"+G1(t.children,i)+"}";case CF:if(!zo(t.value=t.props.join(",")))return""}return zo(n=G1(t.children,i))?t.return=t.value+"{"+n+"}":""}const nP="data-ant-cssinjs-cache-path",DW="_FILE_STYLE__";let xc,RF=!0;function OW(){var t;if(!xc&&(xc={},Yr())){const e=document.createElement("div");e.className=nP,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);let n=getComputedStyle(e).content||"";n=n.replace(/^"/,"").replace(/"$/,""),n.split(";").forEach(r=>{const[o,a]=r.split(":");xc[o]=a});const i=document.querySelector(`style[${nP}]`);i&&(RF=!1,(t=i.parentNode)===null||t===void 0||t.removeChild(i)),document.body.removeChild(e)}}function LW(t){return OW(),!!xc[t]}function NW(t){const e=xc[t];let n=null;if(e&&Yr())if(RF)n=DW;else{const i=document.querySelector(`style[${bc}="${xc[t]}"]`);i?n=i.innerHTML:delete xc[t]}return[n,e]}const iP=Yr(),FW="_skip_check_",DF="_multi_value_";function rP(t){return G1(PW(t),RW).replace(/\{%%%\:[^;];}/g,";")}function BW(t){return typeof t=="object"&&t&&(FW in t||DF in t)}function UW(t,e,n){if(!e)return t;const i=`.${e}`,r=n==="low"?`:where(${i})`:i;return t.split(",").map(a=>{var s;const l=a.trim().split(/\s+/);let c=l[0]||"";const u=((s=c.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return c=`${u}${r}${c.slice(u.length)}`,[c,...l.slice(1)].join(" ")}).join(",")}const oP=new Set,W1=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{root:n,injectHash:i,parentSelectors:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]};const{hashId:o,layer:a,path:s,hashPriority:l,transformers:c=[],linters:u=[]}=e;let f="",h={};function d(v){const m=v.getName(o);if(!h[m]){const[y]=W1(v.style,e,{root:!1,parentSelectors:r});h[m]=`@keyframes ${v.getName(o)}${y}`}}function p(v){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return v.forEach(y=>{Array.isArray(y)?p(y,m):y&&m.push(y)}),m}if(p(Array.isArray(t)?t:[t]).forEach(v=>{const m=typeof v=="string"&&!n?{}:v;if(typeof m=="string")f+=`${m}
`;else if(m._keyframe)d(m);else{const y=c.reduce((_,b)=>{var T;return((T=b==null?void 0:b.visit)===null||T===void 0?void 0:T.call(b,_))||_},m);Object.keys(y).forEach(_=>{var b;const T=y[_];if(typeof T=="object"&&T&&(_!=="animationName"||!T._keyframe)&&!BW(T)){let x=!1,S=_.trim(),C=!1;(n||i)&&o?S.startsWith("@")?x=!0:S=UW(_,o,l):n&&!o&&(S==="&"||S==="")&&(S="",C=!0);const[M,w]=W1(T,e,{root:C,injectHash:x,parentSelectors:[...r,S]});h=z(z({},h),w),f+=`${S}${M}`}else{let x=function(C,M){const w=C.replace(/[A-Z]/g,P=>`-${P.toLowerCase()}`);let A=M;!mW[C]&&typeof A=="number"&&A!==0&&(A=`${A}px`),C==="animationName"&&(M!=null&&M._keyframe)&&(d(M),A=M.getName(o)),f+=`${w}:${A};`};const S=(b=T==null?void 0:T.value)!==null&&b!==void 0?b:T;typeof T=="object"&&(T!=null&&T[DF])&&Array.isArray(S)?S.forEach(C=>{x(_,C)}):x(_,S)}})}}),!n)f=`{${f}}`;else if(a&&sW()){const v=a.split(",");f=`@layer ${v[v.length-1].trim()} {${f}}`,v.length>1&&(f=`@layer ${a}{%%%:%}${f}`)}return[f,h]};function zW(t,e){return yT(`${t.join("%")}${e}`)}function X1(t,e){const n=r_(),i=W(()=>t.value.token._tokenKey),r=W(()=>[i.value,...t.value.path]);let o=iP;return gF("style",r,()=>{const{path:a,hashId:s,layer:l,nonce:c,clientOnly:u,order:f=0}=t.value,h=r.value.join("|");if(LW(h)){const[S,C]=NW(h);if(S)return[S,i.value,C,{},u,f]}const d=e(),{hashPriority:p,container:g,transformers:v,linters:m,cache:y}=n.value,[_,b]=W1(d,{hashId:s,hashPriority:p,layer:l,path:a.join("-"),transformers:v,linters:m}),T=rP(_),x=zW(r.value,T);if(o){const S={mark:bc,prepend:"queue",attachTo:g,priority:f},C=typeof c=="function"?c():c;C&&(S.csp={nonce:C});const M=pp(T,x,S);M[nf]=y.instanceId,M.setAttribute(pF,i.value),Object.keys(b).forEach(w=>{oP.has(w)||(oP.add(w),pp(rP(b[w]),`_effect-${w}`,{mark:bc,prepend:"queue",attachTo:g}))})}return[T,i.value,x,b,u,f]},(a,s)=>{let[,,l]=a;(s||n.value.autoClear)&&iP&&v0(l,{mark:bc})}),a=>a}class mt{constructor(e,n){this._keyframe=!0,this.name=e,this.style=n}getName(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e?`${e}-${this.name}`:this.name}}const kW="4.2.6",y0=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function ei(t,e){$W(t)&&(t="100%");var n=HW(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Fm(t){return Math.min(1,Math.max(0,t))}function $W(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function HW(t){return typeof t=="string"&&t.indexOf("%")!==-1}function OF(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Bm(t){return t<=1?"".concat(Number(t)*100,"%"):t}function lc(t){return t.length===1?"0"+t:String(t)}function VW(t,e,n){return{r:ei(t,255)*255,g:ei(e,255)*255,b:ei(n,255)*255}}function aP(t,e,n){t=ei(t,255),e=ei(e,255),n=ei(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),o=0,a=0,s=(i+r)/2;if(i===r)a=0,o=0;else{var l=i-r;switch(a=s>.5?l/(2-i-r):l/(i+r),i){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function Yb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GW(t,e,n){var i,r,o;if(t=ei(t,360),e=ei(e,100),n=ei(n,100),e===0)r=n,o=n,i=n;else{var a=n<.5?n*(1+e):n+e-n*e,s=2*n-a;i=Yb(s,a,t+1/3),r=Yb(s,a,t),o=Yb(s,a,t-1/3)}return{r:i*255,g:r*255,b:o*255}}function j1(t,e,n){t=ei(t,255),e=ei(e,255),n=ei(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),o=0,a=i,s=i-r,l=i===0?0:s/i;if(i===r)o=0;else{switch(i){case t:o=(e-n)/s+(e<n?6:0);break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4;break}o/=6}return{h:o,s:l,v:a}}function WW(t,e,n){t=ei(t,360)*6,e=ei(e,100),n=ei(n,100);var i=Math.floor(t),r=t-i,o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),l=i%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],f=[o,o,s,n,n,a][l];return{r:c*255,g:u*255,b:f*255}}function Y1(t,e,n,i){var r=[lc(Math.round(t).toString(16)),lc(Math.round(e).toString(16)),lc(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function XW(t,e,n,i,r){var o=[lc(Math.round(t).toString(16)),lc(Math.round(e).toString(16)),lc(Math.round(n).toString(16)),lc(jW(i))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function jW(t){return Math.round(parseFloat(t)*255).toString(16)}function sP(t){return cr(t)/255}function cr(t){return parseInt(t,16)}function YW(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var q1={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Zu(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,o=null,a=!1,s=!1;return typeof t=="string"&&(t=ZW(t)),typeof t=="object"&&(da(t.r)&&da(t.g)&&da(t.b)?(e=VW(t.r,t.g,t.b),a=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):da(t.h)&&da(t.s)&&da(t.v)?(i=Bm(t.s),r=Bm(t.v),e=WW(t.h,i,r),a=!0,s="hsv"):da(t.h)&&da(t.s)&&da(t.l)&&(i=Bm(t.s),o=Bm(t.l),e=GW(t.h,i,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=OF(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var qW="[-\\+]?\\d+%?",KW="[-\\+]?\\d*\\.\\d+%?",Is="(?:".concat(KW,")|(?:").concat(qW,")"),qb="[\\s|\\(]+(".concat(Is,")[,|\\s]+(").concat(Is,")[,|\\s]+(").concat(Is,")\\s*\\)?"),Kb="[\\s|\\(]+(".concat(Is,")[,|\\s]+(").concat(Is,")[,|\\s]+(").concat(Is,")[,|\\s]+(").concat(Is,")\\s*\\)?"),so={CSS_UNIT:new RegExp(Is),rgb:new RegExp("rgb"+qb),rgba:new RegExp("rgba"+Kb),hsl:new RegExp("hsl"+qb),hsla:new RegExp("hsla"+Kb),hsv:new RegExp("hsv"+qb),hsva:new RegExp("hsva"+Kb),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ZW(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(q1[t])t=q1[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=so.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=so.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=so.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=so.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=so.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=so.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=so.hex8.exec(t),n?{r:cr(n[1]),g:cr(n[2]),b:cr(n[3]),a:sP(n[4]),format:e?"name":"hex8"}:(n=so.hex6.exec(t),n?{r:cr(n[1]),g:cr(n[2]),b:cr(n[3]),format:e?"name":"hex"}:(n=so.hex4.exec(t),n?{r:cr(n[1]+n[1]),g:cr(n[2]+n[2]),b:cr(n[3]+n[3]),a:sP(n[4]+n[4]),format:e?"name":"hex8"}:(n=so.hex3.exec(t),n?{r:cr(n[1]+n[1]),g:cr(n[2]+n[2]),b:cr(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function da(t){return!!so.CSS_UNIT.exec(String(t))}var Jn=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var i;if(e instanceof t)return e;typeof e=="number"&&(e=YW(e)),this.originalInput=e;var r=Zu(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=n.format)!==null&&i!==void 0?i:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,i,r,o=e.r/255,a=e.g/255,s=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*i+.0722*r},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=OF(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=j1(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=j1(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=aP(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=aP(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),Y1(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),XW(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(i,")"):"rgba(".concat(e,", ").concat(n,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(ei(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(ei(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+Y1(this.r,this.g,this.b,!1),n=0,i=Object.entries(q1);n<i.length;n++){var r=i[n],o=r[0],a=r[1];if(e===a)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var i=!1,r=this.a<1&&this.a>=0,o=!n&&r&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Fm(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Fm(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Fm(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Fm(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var i=this.toRgb(),r=new t(e).toRgb(),o=n/100,a={r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a};return new t(a)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var i=this.toHsl(),r=360/n,o=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(new t(i));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/e;e--;)a.push(new t({h:i,s:r,v:o})),o=(o+s)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),i=new t(e).toRgb(),r=n.a+i.a*(1-n.a);return new t({r:(n.r*n.a+i.r*i.a*(1-n.a))/r,g:(n.g*n.a+i.g*i.a*(1-n.a))/r,b:(n.b*n.a+i.b*i.a*(1-n.a))/r,a:r})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),i=n.h,r=[this],o=360/e,a=1;a<e;a++)r.push(new t({h:(i+a*o)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),Um=2,lP=.16,JW=.05,QW=.05,e8=.15,LF=5,NF=4,t8=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function cP(t){var e=t.r,n=t.g,i=t.b,r=j1(e,n,i);return{h:r.h*360,s:r.s,v:r.v}}function zm(t){var e=t.r,n=t.g,i=t.b;return"#".concat(Y1(e,n,i,!1))}function n8(t,e,n){var i=n/100,r={r:(e.r-t.r)*i+t.r,g:(e.g-t.g)*i+t.g,b:(e.b-t.b)*i+t.b};return r}function uP(t,e,n){var i;return Math.round(t.h)>=60&&Math.round(t.h)<=240?i=n?Math.round(t.h)-Um*e:Math.round(t.h)+Um*e:i=n?Math.round(t.h)+Um*e:Math.round(t.h)-Um*e,i<0?i+=360:i>=360&&(i-=360),i}function fP(t,e,n){if(t.h===0&&t.s===0)return t.s;var i;return n?i=t.s-lP*e:e===NF?i=t.s+lP:i=t.s+JW*e,i>1&&(i=1),n&&e===LF&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function hP(t,e,n){var i;return n?i=t.v+QW*e:i=t.v-e8*e,i>1&&(i=1),Number(i.toFixed(2))}function Lc(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],i=Zu(t),r=LF;r>0;r-=1){var o=cP(i),a=zm(Zu({h:uP(o,r,!0),s:fP(o,r,!0),v:hP(o,r,!0)}));n.push(a)}n.push(zm(i));for(var s=1;s<=NF;s+=1){var l=cP(i),c=zm(Zu({h:uP(l,s),s:fP(l,s),v:hP(l,s)}));n.push(c)}return e.theme==="dark"?t8.map(function(u){var f=u.index,h=u.opacity,d=zm(n8(Zu(e.backgroundColor||"#141414"),Zu(n[f]),h*100));return d}):n}var yf={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Dg={},Zb={};Object.keys(yf).forEach(function(t){Dg[t]=Lc(yf[t]),Dg[t].primary=Dg[t][5],Zb[t]=Lc(yf[t],{theme:"dark",backgroundColor:"#141414"}),Zb[t].primary=Zb[t][5]});var i8=Dg.blue;const r8=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function o8(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const FF={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},l_=z(z({},FF),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1});function a8(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:i}=e;const{colorSuccess:r,colorWarning:o,colorError:a,colorInfo:s,colorPrimary:l,colorBgBase:c,colorTextBase:u}=t,f=n(l),h=n(r),d=n(o),p=n(a),g=n(s),v=i(c,u);return z(z({},v),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:d[1],colorWarningBgHover:d[2],colorWarningBorder:d[3],colorWarningBorderHover:d[4],colorWarningHover:d[4],colorWarning:d[6],colorWarningActive:d[7],colorWarningTextHover:d[8],colorWarningText:d[9],colorWarningTextActive:d[10],colorInfoBg:g[1],colorInfoBgHover:g[2],colorInfoBorder:g[3],colorInfoBorderHover:g[4],colorInfoHover:g[4],colorInfo:g[6],colorInfoActive:g[7],colorInfoTextHover:g[8],colorInfoText:g[9],colorInfoTextActive:g[10],colorBgMask:new Jn("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const s8=t=>{let e=t,n=t,i=t,r=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?i=1:t>=6&&(i=2),t>4&&t<8?r=4:t>=8&&(r=6),{borderRadius:t>16?16:t,borderRadiusXS:i,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:r}};function l8(t){const{motionUnit:e,motionBase:n,borderRadius:i,lineWidth:r}=t;return z({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:r+1},s8(i))}const pa=(t,e)=>new Jn(t).setAlpha(e).toRgbString(),Ah=(t,e)=>new Jn(t).darken(e).toHexString(),c8=t=>{const e=Lc(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},u8=(t,e)=>{const n=t||"#fff",i=e||"#000";return{colorBgBase:n,colorTextBase:i,colorText:pa(i,.88),colorTextSecondary:pa(i,.65),colorTextTertiary:pa(i,.45),colorTextQuaternary:pa(i,.25),colorFill:pa(i,.15),colorFillSecondary:pa(i,.06),colorFillTertiary:pa(i,.04),colorFillQuaternary:pa(i,.02),colorBgLayout:Ah(n,4),colorBgContainer:Ah(n,0),colorBgElevated:Ah(n,0),colorBgSpotlight:pa(i,.85),colorBorder:Ah(n,15),colorBorderSecondary:Ah(n,6)}};function f8(t){const e=new Array(10).fill(null).map((n,i)=>{const r=i-1,o=t*Math.pow(2.71828,r/5),a=i>1?Math.floor(o):Math.ceil(o);return Math.floor(a/2)*2});return e[1]=t,e.map(n=>{const i=n+8;return{size:n,lineHeight:i/n}})}const h8=t=>{const e=f8(t),n=e.map(r=>r.size),i=e.map(r=>r.lineHeight);return{fontSizeSM:n[0],fontSize:n[1],fontSizeLG:n[2],fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:i[1],lineHeightLG:i[2],lineHeightSM:i[0],lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}};function d8(t){const e=Object.keys(FF).map(n=>{const i=Lc(t[n]);return new Array(10).fill(1).reduce((r,o,a)=>(r[`${n}-${a+1}`]=i[a],r),{})}).reduce((n,i)=>(n=z(z({},n),i),n),{});return z(z(z(z(z(z(z({},t),e),a8(t,{generateColorPalettes:c8,generateNeutralColorPalettes:u8})),h8(t.fontSize)),o8(t)),r8(t)),l8(t))}function Jb(t){return t>=0&&t<=255}function km(t,e){const{r:n,g:i,b:r,a:o}=new Jn(t).toRgb();if(o<1)return t;const{r:a,g:s,b:l}=new Jn(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((n-a*(1-c))/c),f=Math.round((i-s*(1-c))/c),h=Math.round((r-l*(1-c))/c);if(Jb(u)&&Jb(f)&&Jb(h))return new Jn({r:u,g:f,b:h,a:Math.round(c*100)/100}).toRgbString()}return new Jn({r:n,g:i,b:r,a:1}).toRgbString()}var p8=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function m8(t){const{override:e}=t,n=p8(t,["override"]),i=z({},e);Object.keys(l_).forEach(d=>{delete i[d]});const r=z(z({},n),i),o=480,a=576,s=768,l=992,c=1200,u=1600,f=2e3;return z(z(z({},r),{colorLink:r.colorInfoText,colorLinkHover:r.colorInfoHover,colorLinkActive:r.colorInfoActive,colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:km(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:km(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:km(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidth:r.lineWidth,controlOutlineWidth:r.lineWidth*2,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:km(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:a-1,screenSM:a,screenSMMin:a,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,screenXXLMax:f-1,screenXXXL:f,screenXXXLMin:f,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:`
      0 1px 2px -2px ${new Jn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Jn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Jn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}const v8=(t,e,n,i,r)=>{const o=t/2,a=0,s=o,l=n*1/Math.sqrt(2),c=o-n*(1-1/Math.sqrt(2)),u=o-e*(1/Math.sqrt(2)),f=n*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),h=2*o-u,d=f,p=2*o-l,g=c,v=2*o-a,m=s,y=o*Math.sqrt(2)+n*(Math.sqrt(2)-2),_=n*(Math.sqrt(2)-1);return{pointerEvents:"none",width:t,height:t,overflow:"hidden","&::after":{content:'""',position:"absolute",width:y,height:y,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:r,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:t,height:t/2,background:i,clipPath:{_multi_value_:!0,value:[`polygon(${_}px 100%, 50% ${_}px, ${2*o-_}px 100%, ${_}px 100%)`,`path('M ${a} ${s} A ${n} ${n} 0 0 0 ${l} ${c} L ${u} ${f} A ${e} ${e} 0 0 1 ${h} ${d} L ${p} ${g} A ${n} ${n} 0 0 0 ${v} ${m} Z')`]},content:'""'}}};function K1(t,e){return y0.reduce((n,i)=>{const r=t[`${i}-1`],o=t[`${i}-3`],a=t[`${i}-6`],s=t[`${i}-7`];return z(z({},n),e(i,{lightColor:r,lightBorderColor:o,darkColor:a,textColor:s}))},{})}const Z1={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Kr=t=>({boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:t.fontFamily}),ST=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),g8=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active,\n  &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),y8=(t,e)=>{const{fontFamily:n,fontSize:i}=t,r=`[class^="${e}"], [class*=" ${e}"]`;return{[r]:{fontFamily:n,fontSize:i,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[r]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},J1=t=>({outline:`${t.lineWidthBold}px solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),_8=t=>({"&:focus-visible":z({},J1(t))});function Cr(t,e,n){return i=>{const r=W(()=>i==null?void 0:i.value),[o,a,s]=em(),{getPrefixCls:l,iconPrefixCls:c}=cF(),u=W(()=>l()),f=W(()=>({theme:o.value,token:a.value,hashId:s.value,path:["Shared",u.value]}));X1(f,()=>[{"&":g8(a.value)}]);const h=W(()=>({theme:o.value,token:a.value,hashId:s.value,path:[t,r.value,c.value]}));return[X1(h,()=>{const{token:d,flush:p}=x8(a.value),g=typeof n=="function"?n(d):n,v=z(z({},g),a.value[t]),m=`.${r.value}`,y=_n(d,{componentCls:m,prefixCls:r.value,iconCls:`.${c.value}`,antCls:`.${u.value}`},v),_=e(y,{hashId:s.value,prefixCls:r.value,rootPrefixCls:u.value,iconPrefixCls:c.value,overrideComponentToken:a.value[t]});return p(t,v),[y8(a.value,r.value),_]}),s]}}const BF=typeof CSSINJS_STATISTIC<"u";let Q1=!0;function _n(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!BF)return z({},...e);Q1=!1;const i={};return e.forEach(r=>{Object.keys(r).forEach(a=>{Object.defineProperty(i,a,{configurable:!0,enumerable:!0,get:()=>r[a]})})}),Q1=!0,i}function b8(){}function x8(t){let e,n=t,i=b8;return BF&&(e=new Set,n=new Proxy(t,{get(r,o){return Q1&&e.add(o),r[o]}}),i=(r,o)=>{Array.from(e)}),{token:n,keys:e,flush:i}}const S8=wF(d8),UF={token:l_,hashed:!0},zF=Symbol("DesignTokenContext"),ew=Fe(),w8=t=>{kn(zF,t),Ke(t,()=>{ew.value=Ln(t),uV(ew)},{immediate:!0,deep:!0})},M8=Be({props:{value:En()},setup(t,e){let{slots:n}=e;return w8(W(()=>t.value)),()=>{var i;return(i=n.default)===null||i===void 0?void 0:i.call(n)}}});function em(){const t=kt(zF,W(()=>ew.value||UF)),e=W(()=>`${kW}-${t.value.hashed||""}`),n=W(()=>t.value.theme||S8),i=pW(n,W(()=>[l_,t.value.token]),W(()=>({salt:e.value,override:z({override:t.value.token},t.value.components),formatToken:m8})));return[n,W(()=>i.value[0]),W(()=>t.value.hashed?i.value[1]:"")]}const wT=Be({compatConfig:{MODE:3},setup(){const[,t]=em(),e=W(()=>new Jn(t.value.colorBgBase).toHsl().l<.5?{opacity:.65}:{});return()=>B("svg",{style:e.value,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},[B("g",{fill:"none","fill-rule":"evenodd"},[B("g",{transform:"translate(24 31.67)"},[B("ellipse",{"fill-opacity":".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),B("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"},null),B("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"},null),B("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"},null),B("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"},null)]),B("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"},null),B("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},[B("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),B("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])}});wT.PRESENTED_IMAGE_DEFAULT=!0;const kF=Be({compatConfig:{MODE:3},setup(){const[,t]=em(),e=W(()=>{const{colorFill:n,colorFillTertiary:i,colorFillQuaternary:r,colorBgContainer:o}=t.value;return{borderColor:new Jn(n).onBackground(o).toHexString(),shadowColor:new Jn(i).onBackground(o).toHexString(),contentColor:new Jn(r).onBackground(o).toHexString()}});return()=>B("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},[B("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[B("ellipse",{fill:e.value.shadowColor,cx:"32",cy:"33",rx:"32",ry:"7"},null),B("g",{"fill-rule":"nonzero",stroke:e.value.borderColor},[B("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),B("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:e.value.contentColor},null)])])])}});kF.PRESENTED_IMAGE_SIMPLE=!0;const T8=t=>{const{componentCls:e,margin:n,marginXS:i,marginXL:r,fontSize:o,lineHeight:a}=t;return{[e]:{marginInline:i,fontSize:o,lineHeight:a,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:i,opacity:t.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:r,color:t.colorTextDisabled,[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:i,color:t.colorTextDisabled,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},C8=Cr("Empty",t=>{const{componentCls:e,controlHeightLG:n}=t,i=_n(t,{emptyImgCls:`${e}-img`,emptyImgHeight:n*2.5,emptyImgHeightMD:n,emptyImgHeightSM:n*.875});return[T8(i)]});var A8=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const E8=()=>({prefixCls:String,imageStyle:En(),image:Ff(),description:Ff()}),MT=Be({name:"AEmpty",compatConfig:{MODE:3},inheritAttrs:!1,props:E8(),setup(t,e){let{slots:n={},attrs:i}=e;const{direction:r,prefixCls:o}=jn("empty",t),[a,s]=C8(o);return()=>{var l,c;const u=o.value,f=z(z({},t),i),{image:h=((l=n.image)===null||l===void 0?void 0:l.call(n))||Gs(wT),description:d=((c=n.description)===null||c===void 0?void 0:c.call(n))||void 0,imageStyle:p,class:g=""}=f,v=A8(f,["image","description","imageStyle","class"]),m=typeof h=="function"?h():h,y=typeof m=="object"&&"type"in m&&m.type.PRESENTED_IMAGE_SIMPLE;return a(B(dF,{componentName:"Empty",children:_=>{const b=typeof d<"u"?d:_.description,T=typeof b=="string"?b:"empty";let x=null;return typeof m=="string"?x=B("img",{alt:T,src:m},null):x=m,B("div",we({class:qe(u,g,s.value,{[`${u}-normal`]:y,[`${u}-rtl`]:r.value==="rtl"})},v),[B("div",{class:`${u}-image`,style:p},[x]),b&&B("p",{class:`${u}-description`},[b]),n.default&&B("div",{class:`${u}-footer`},[eu(n.default())])])}},null))}}});MT.PRESENTED_IMAGE_DEFAULT=()=>Gs(wT);MT.PRESENTED_IMAGE_SIMPLE=()=>Gs(kF);const Eh=ih(MT),TT=t=>{const{prefixCls:e}=jn("empty",t);return(i=>{switch(i){case"Table":case"List":return B(Eh,{image:Eh.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return B(Eh,{image:Eh.PRESENTED_IMAGE_SIMPLE,class:`${e.value}-small`},null);default:return B(Eh,null,null)}})(t.componentName)};function P8(t){return B(TT,{componentName:t},null)}const $F=Symbol("SizeContextKey"),HF=()=>kt($F,je(void 0)),I8=t=>{const e=HF();return kn($F,W(()=>t.value||e.value)),t},jn=(t,e)=>{const n=HF(),i=gT(),r=kt(vT,z(z({},lF),{renderEmpty:S=>Gs(TT,{componentName:S})})),o=W(()=>r.getPrefixCls(t,e.prefixCls)),a=W(()=>{var S,C;return(S=e.direction)!==null&&S!==void 0?S:(C=r.direction)===null||C===void 0?void 0:C.value}),s=W(()=>{var S;return(S=e.iconPrefixCls)!==null&&S!==void 0?S:r.iconPrefixCls.value}),l=W(()=>r.getPrefixCls()),c=W(()=>{var S;return(S=r.autoInsertSpaceInButton)===null||S===void 0?void 0:S.value}),u=r.renderEmpty,f=r.space,h=r.pageHeader,d=r.form,p=W(()=>{var S,C;return(S=e.getTargetContainer)!==null&&S!==void 0?S:(C=r.getTargetContainer)===null||C===void 0?void 0:C.value}),g=W(()=>{var S,C,M;return(C=(S=e.getContainer)!==null&&S!==void 0?S:e.getPopupContainer)!==null&&C!==void 0?C:(M=r.getPopupContainer)===null||M===void 0?void 0:M.value}),v=W(()=>{var S,C;return(S=e.dropdownMatchSelectWidth)!==null&&S!==void 0?S:(C=r.dropdownMatchSelectWidth)===null||C===void 0?void 0:C.value}),m=W(()=>{var S;return(e.virtual===void 0?((S=r.virtual)===null||S===void 0?void 0:S.value)!==!1:e.virtual!==!1)&&v.value!==!1}),y=W(()=>e.size||n.value),_=W(()=>{var S,C,M;return(S=e.autocomplete)!==null&&S!==void 0?S:(M=(C=r.input)===null||C===void 0?void 0:C.value)===null||M===void 0?void 0:M.autocomplete}),b=W(()=>{var S;return(S=e.disabled)!==null&&S!==void 0?S:i.value}),T=W(()=>{var S;return(S=e.csp)!==null&&S!==void 0?S:r.csp}),x=W(()=>{var S,C;return(S=e.wave)!==null&&S!==void 0?S:(C=r.wave)===null||C===void 0?void 0:C.value});return{configProvider:r,prefixCls:o,direction:a,size:y,getTargetContainer:p,getPopupContainer:g,space:f,pageHeader:h,form:d,autoInsertSpaceInButton:c,renderEmpty:u,virtual:m,dropdownMatchSelectWidth:v,rootPrefixCls:l,getPrefixCls:r.getPrefixCls,autocomplete:_,csp:T,iconPrefixCls:s,disabled:b,select:r.select,wave:x}};function c_(t,e){const n=z({},t);for(let i=0;i<e.length;i+=1){const r=e[i];delete n[r]}return n}function R8(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function VF(t,e,n){return n&&R8(t,n),t}function Og(){return(Og=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function GF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function WF(t,e){if(t==null)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)e.indexOf(n=o[i])>=0||(r[n]=t[n]);return r}function dP(t){return((e=t)!=null&&typeof e=="object"&&Array.isArray(e)===!1)==1&&Object.prototype.toString.call(t)==="[object Object]";var e}var XF=Object.prototype,jF=XF.toString,D8=XF.hasOwnProperty,YF=/^\s*function (\w+)/;function pP(t){var e,n=(e=t==null?void 0:t.type)!==null&&e!==void 0?e:t;if(n){var i=n.toString().match(YF);return i?i[1]:""}return""}var Nc=function(t){var e,n;return dP(t)!==!1&&typeof(e=t.constructor)=="function"&&dP(n=e.prototype)!==!1&&n.hasOwnProperty("isPrototypeOf")!==!1},O8=function(t){return t},Ei=O8,gp=function(t,e){return D8.call(t,e)},L8=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},$f=Array.isArray||function(t){return jF.call(t)==="[object Array]"},Hf=function(t){return jF.call(t)==="[object Function]"},_0=function(t){return Nc(t)&&gp(t,"_vueTypes_name")},qF=function(t){return Nc(t)&&(gp(t,"type")||["_vueTypes_name","validator","default","required"].some(function(e){return gp(t,e)}))};function CT(t,e){return Object.defineProperty(t.bind(e),"__original",{value:t})}function tu(t,e,n){var i;n===void 0&&(n=!1);var r=!0,o="";i=Nc(t)?t:{type:t};var a=_0(i)?i._vueTypes_name+" - ":"";if(qF(i)&&i.type!==null){if(i.type===void 0||i.type===!0||!i.required&&e===void 0)return r;$f(i.type)?(r=i.type.some(function(f){return tu(f,e,!0)===!0}),o=i.type.map(function(f){return pP(f)}).join(" or ")):r=(o=pP(i))==="Array"?$f(e):o==="Object"?Nc(e):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(f){if(f==null)return"";var h=f.constructor.toString().match(YF);return h?h[1]:""}(e)===o:e instanceof i.type}if(!r){var s=a+'value "'+e+'" should be of type "'+o+'"';return n===!1?(Ei(s),!1):s}if(gp(i,"validator")&&Hf(i.validator)){var l=Ei,c=[];if(Ei=function(f){c.push(f)},r=i.validator(e),Ei=l,!r){var u=(c.length>1?"* ":"")+c.join(`
* `);return c.length=0,n===!1?(Ei(u),r):u}}return r}function wr(t,e){var n=Object.defineProperties(e,{_vueTypes_name:{value:t,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(r){return r!==void 0||this.default?Hf(r)||tu(this,r,!0)===!0?(this.default=$f(r)?function(){return[].concat(r)}:Nc(r)?function(){return Object.assign({},r)}:r,this):(Ei(this._vueTypes_name+' - invalid default value: "'+r+'"'),this):this}}}),i=n.validator;return Hf(i)&&(n.validator=CT(i,n)),n}function Qo(t,e){var n=wr(t,e);return Object.defineProperty(n,"validate",{value:function(i){return Hf(this.validator)&&Ei(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=CT(i,this),this}})}function mP(t,e,n){var i,r,o=(i=e,r={},Object.getOwnPropertyNames(i).forEach(function(f){r[f]=Object.getOwnPropertyDescriptor(i,f)}),Object.defineProperties({},r));if(o._vueTypes_name=t,!Nc(n))return o;var a,s,l=n.validator,c=WF(n,["validator"]);if(Hf(l)){var u=o.validator;u&&(u=(s=(a=u).__original)!==null&&s!==void 0?s:a),o.validator=CT(u?function(f){return u.call(this,f)&&l.call(this,f)}:l,o)}return Object.assign(o,c)}function u_(t){return t.replace(/^(?!\s*$)/gm,"  ")}var N8=function(){return Qo("any",{})},F8=function(){return Qo("function",{type:Function})},B8=function(){return Qo("boolean",{type:Boolean})},U8=function(){return Qo("string",{type:String})},z8=function(){return Qo("number",{type:Number})},k8=function(){return Qo("array",{type:Array})},$8=function(){return Qo("object",{type:Object})},H8=function(){return wr("integer",{type:Number,validator:function(t){return L8(t)}})},V8=function(){return wr("symbol",{validator:function(t){return typeof t=="symbol"}})};function G8(t,e){if(e===void 0&&(e="custom validation failed"),typeof t!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return wr(t.name||"<<anonymous function>>",{validator:function(n){var i=t(n);return i||Ei(this._vueTypes_name+" - "+e),i}})}function W8(t){if(!$f(t))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var e='oneOf - value should be one of "'+t.join('", "')+'".',n=t.reduce(function(i,r){if(r!=null){var o=r.constructor;i.indexOf(o)===-1&&i.push(o)}return i},[]);return wr("oneOf",{type:n.length>0?n:void 0,validator:function(i){var r=t.indexOf(i)!==-1;return r||Ei(e),r}})}function X8(t){if(!$f(t))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var e=!1,n=[],i=0;i<t.length;i+=1){var r=t[i];if(qF(r)){if(_0(r)&&r._vueTypes_name==="oneOf"){n=n.concat(r.type);continue}if(Hf(r.validator)&&(e=!0),r.type!==!0&&r.type){n=n.concat(r.type);continue}}n.push(r)}return n=n.filter(function(o,a){return n.indexOf(o)===a}),wr("oneOfType",e?{type:n,validator:function(o){var a=[],s=t.some(function(l){var c=tu(_0(l)&&l._vueTypes_name==="oneOf"?l.type||null:l,o,!0);return typeof c=="string"&&a.push(c),c===!0});return s||Ei("oneOfType - provided value does not match any of the "+a.length+` passed-in validators:
`+u_(a.join(`
`))),s}}:{type:n})}function j8(t){return wr("arrayOf",{type:Array,validator:function(e){var n,i=e.every(function(r){return(n=tu(t,r,!0))===!0});return i||Ei(`arrayOf - value validation error:
`+u_(n)),i}})}function Y8(t){return wr("instanceOf",{type:t})}function q8(t){return wr("objectOf",{type:Object,validator:function(e){var n,i=Object.keys(e).every(function(r){return(n=tu(t,e[r],!0))===!0});return i||Ei(`objectOf - value validation error:
`+u_(n)),i}})}function K8(t){var e=Object.keys(t),n=e.filter(function(r){var o;return!!(!((o=t[r])===null||o===void 0)&&o.required)}),i=wr("shape",{type:Object,validator:function(r){var o=this;if(!Nc(r))return!1;var a=Object.keys(r);if(n.length>0&&n.some(function(l){return a.indexOf(l)===-1})){var s=n.filter(function(l){return a.indexOf(l)===-1});return Ei(s.length===1?'shape - required property "'+s[0]+'" is not defined.':'shape - required properties "'+s.join('", "')+'" are not defined.'),!1}return a.every(function(l){if(e.indexOf(l)===-1)return o._vueTypes_isLoose===!0||(Ei('shape - shape definition does not include a "'+l+'" property. Allowed keys: "'+e.join('", "')+'".'),!1);var c=tu(t[l],r[l],!0);return typeof c=="string"&&Ei('shape - "'+l+`" property validation error:
 `+u_(c)),c===!0})}});return Object.defineProperty(i,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(i,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),i}var No=function(){function t(){}return t.extend=function(e){var n=this;if($f(e))return e.forEach(function(f){return n.extend(f)}),this;var i=e.name,r=e.validate,o=r!==void 0&&r,a=e.getter,s=a!==void 0&&a,l=WF(e,["name","validate","getter"]);if(gp(this,i))throw new TypeError('[VueTypes error]: Type "'+i+'" already defined');var c,u=l.type;return _0(u)?(delete l.type,Object.defineProperty(this,i,s?{get:function(){return mP(i,u,l)}}:{value:function(){var f,h=mP(i,u,l);return h.validator&&(h.validator=(f=h.validator).bind.apply(f,[h].concat([].slice.call(arguments)))),h}})):(c=s?{get:function(){var f=Object.assign({},l);return o?Qo(i,f):wr(i,f)},enumerable:!0}:{value:function(){var f,h,d=Object.assign({},l);return f=o?Qo(i,d):wr(i,d),d.validator&&(f.validator=(h=d.validator).bind.apply(h,[f].concat([].slice.call(arguments)))),f},enumerable:!0},Object.defineProperty(this,i,c))},VF(t,null,[{key:"any",get:function(){return N8()}},{key:"func",get:function(){return F8().def(this.defaults.func)}},{key:"bool",get:function(){return B8().def(this.defaults.bool)}},{key:"string",get:function(){return U8().def(this.defaults.string)}},{key:"number",get:function(){return z8().def(this.defaults.number)}},{key:"array",get:function(){return k8().def(this.defaults.array)}},{key:"object",get:function(){return $8().def(this.defaults.object)}},{key:"integer",get:function(){return H8().def(this.defaults.integer)}},{key:"symbol",get:function(){return V8()}}]),t}();function KF(t){var e;return t===void 0&&(t={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(e=function(n){function i(){return n.apply(this,arguments)||this}return GF(i,n),VF(i,null,[{key:"sensibleDefaults",get:function(){return Og({},this.defaults)},set:function(r){this.defaults=r!==!1?Og({},r!==!0?r:t):{}}}]),i}(No)).defaults=Og({},t),e}No.defaults={},No.custom=G8,No.oneOf=W8,No.instanceOf=Y8,No.oneOfType=X8,No.arrayOf=j8,No.objectOf=q8,No.shape=K8,No.utils={validate:function(t,e){return tu(e,t,!0)===!0},toType:function(t,e,n){return n===void 0&&(n=!1),n?Qo(t,e):wr(t,e)}};(function(t){function e(){return t.apply(this,arguments)||this}return GF(e,t),e})(KF());const pe=KF({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});pe.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);const Z8=(t,e,n)=>{iW(t,`[ant-design-vue: ${e}] ${n}`)};function vP(t,e){const{key:n}=t;let i;return"value"in t&&({value:i}=t),n??(i!==void 0?i:`rc-index-key-${e}`)}function ZF(t,e){const{label:n,value:i,options:r}=t||{};return{label:n||(e?"children":"label"),value:i||"value",options:r||"options"}}function J8(t){let{fieldNames:e,childrenAsData:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[],{label:r,value:o,options:a}=ZF(e,!1);function s(l,c){l.forEach(u=>{const f=u[r];if(c||!(a in u)){const h=u[o];i.push({key:vP(u,i.length),groupOption:c,data:u,label:f,value:h})}else{let h=f;h===void 0&&n&&(h=u.label),i.push({key:vP(u,i.length),group:!0,data:u,label:h}),s(u[a],!0)}})}return s(t,!1),i}function tw(t){const e=z({},t);return"props"in e||Object.defineProperty(e,"props",{get(){return e}}),e}function Q8(t,e){if(!e||!e.length)return null;let n=!1;function i(o,a){let[s,...l]=a;if(!s)return[o];const c=o.split(s);return n=n||c.length>1,c.reduce((u,f)=>[...u,...i(f,l)],[]).filter(u=>u)}const r=i(t,e);return n?r:null}function e9(){return""}function t9(t){return t?t.ownerDocument:window.document}function JF(){}const n9=()=>({action:pe.oneOfType([pe.string,pe.arrayOf(pe.string)]).def([]),showAction:pe.any.def([]),hideAction:pe.any.def([]),getPopupClassNameFromAlign:pe.any.def(e9),onPopupVisibleChange:Function,afterPopupVisibleChange:pe.func.def(JF),popup:pe.any,arrow:pe.bool.def(!0),popupStyle:{type:Object,default:void 0},prefixCls:pe.string.def("rc-trigger-popup"),popupClassName:pe.string.def(""),popupPlacement:String,builtinPlacements:pe.object,popupTransitionName:String,popupAnimation:pe.any,mouseEnterDelay:pe.number.def(0),mouseLeaveDelay:pe.number.def(.1),zIndex:Number,focusDelay:pe.number.def(0),blurDelay:pe.number.def(.15),getPopupContainer:Function,getDocument:pe.func.def(t9),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:pe.object.def(()=>({})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function}),AT={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,arrow:{type:Boolean,default:!0},animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},i9=z(z({},AT),{mobile:{type:Object}}),r9=z(z({},AT),{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function ET(t){let{prefixCls:e,animation:n,transitionName:i}=t;return n?{name:`${e}-${n}`}:i?{name:i}:{}}function QF(t){const{prefixCls:e,visible:n,zIndex:i,mask:r,maskAnimation:o,maskTransitionName:a}=t;if(!r)return null;let s={};return(a||o)&&(s=ET({prefixCls:e,transitionName:a,animation:o})),B(n_,we({appear:!0},s),{default:()=>[rT(B("div",{style:{zIndex:i},class:`${e}-mask`},null),[[DV("if"),n]])]})}QF.displayName="Mask";const o9=Be({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:i9,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(t,e){let{expose:n,slots:i}=e;const r=je();return n({forceAlign:()=>{},getElement:()=>r.value}),()=>{var o;const{zIndex:a,visible:s,prefixCls:l,mobile:{popupClassName:c,popupStyle:u,popupMotion:f={},popupRender:h}={}}=t,d=z({zIndex:a},u);let p=Ki((o=i.default)===null||o===void 0?void 0:o.call(i));p.length>1&&(p=B("div",{class:`${l}-content`},[p])),h&&(p=h(p));const g=qe(l,c);return B(n_,we({ref:r},f),{default:()=>[s?B("div",{class:g,style:d},[p]):null]})}}});var a9=function(t,e,n,i){function r(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(f){a(f)}}function l(u){try{c(i.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):r(u.value).then(s,l)}c((i=i.apply(t,e||[])).next())})};const gP=["measure","align",null,"motion"],s9=(t,e)=>{const n=Fe(null),i=Fe(),r=Fe(!1);function o(l){r.value||(n.value=l)}function a(){Rn.cancel(i.value)}function s(l){a(),i.value=Rn(()=>{let c=n.value;switch(n.value){case"align":c="motion";break;case"motion":c="stable";break}o(c),l==null||l()})}return Ke(t,()=>{o("measure")},{immediate:!0,flush:"post"}),ln(()=>{Ke(n,()=>{switch(n.value){case"measure":e();break}n.value&&(i.value=Rn(()=>a9(void 0,void 0,void 0,function*(){const l=gP.indexOf(n.value),c=gP[l+1];c&&l!==-1&&o(c)})))},{immediate:!0,flush:"post"})}),rr(()=>{r.value=!0,a()}),[n,s]},l9=t=>{const e=Fe({width:0,height:0});function n(r){e.value={width:r.offsetWidth,height:r.offsetHeight}}return[W(()=>{const r={};if(t.value){const{width:o,height:a}=e.value;t.value.indexOf("height")!==-1&&a?r.height=`${a}px`:t.value.indexOf("minHeight")!==-1&&a&&(r.minHeight=`${a}px`),t.value.indexOf("width")!==-1&&o?r.width=`${o}px`:t.value.indexOf("minWidth")!==-1&&o&&(r.minWidth=`${o}px`)}return r}),n]};function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function _P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(i){c9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function nw(t){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nw(t)}function c9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ph,u9={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function b0(){if(Ph!==void 0)return Ph;Ph="";var t=document.createElement("p").style,e="Transform";for(var n in u9)n+e in t&&(Ph=n);return Ph}function eB(){return b0()?"".concat(b0(),"TransitionProperty"):"transitionProperty"}function f_(){return b0()?"".concat(b0(),"Transform"):"transform"}function bP(t,e){var n=eB();n&&(t.style[n]=e,n!=="transitionProperty"&&(t.style.transitionProperty=e))}function Qb(t,e){var n=f_();n&&(t.style[n]=e,n!=="transform"&&(t.style.transform=e))}function f9(t){return t.style.transitionProperty||t.style[eB()]}function h9(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("transform")||e.getPropertyValue(f_());if(n&&n!=="none"){var i=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(i[12]||i[4],0),y:parseFloat(i[13]||i[5],0)}}return{x:0,y:0}}var d9=/matrix\((.*)\)/,p9=/matrix3d\((.*)\)/;function m9(t,e){var n=window.getComputedStyle(t,null),i=n.getPropertyValue("transform")||n.getPropertyValue(f_());if(i&&i!=="none"){var r,o=i.match(d9);if(o)o=o[1],r=o.split(",").map(function(s){return parseFloat(s,10)}),r[4]=e.x,r[5]=e.y,Qb(t,"matrix(".concat(r.join(","),")"));else{var a=i.match(p9)[1];r=a.split(",").map(function(s){return parseFloat(s,10)}),r[12]=e.x,r[13]=e.y,Qb(t,"matrix3d(".concat(r.join(","),")"))}}else Qb(t,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var v9=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,tm;function xP(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}function _f(t,e,n){var i=n;if(nw(e)==="object"){for(var r in e)e.hasOwnProperty(r)&&_f(t,r,e[r]);return}if(typeof i<"u"){typeof i=="number"&&(i="".concat(i,"px")),t.style[e]=i;return}return tm(t,e)}function g9(t){var e,n,i,r=t.ownerDocument,o=r.body,a=r&&r.documentElement;return e=t.getBoundingClientRect(),n=Math.floor(e.left),i=Math.floor(e.top),n-=a.clientLeft||o.clientLeft||0,i-=a.clientTop||o.clientTop||0,{left:n,top:i}}function tB(t,e){var n=t["page".concat(e?"Y":"X","Offset")],i="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var r=t.document;n=r.documentElement[i],typeof n!="number"&&(n=r.body[i])}return n}function nB(t){return tB(t)}function iB(t){return tB(t,!0)}function yp(t){var e=g9(t),n=t.ownerDocument,i=n.defaultView||n.parentWindow;return e.left+=nB(i),e.top+=iB(i),e}function PT(t){return t!=null&&t==t.window}function rB(t){return PT(t)?t.document:t.nodeType===9?t:t.ownerDocument}function y9(t,e,n){var i=n,r="",o=rB(t);return i=i||o.defaultView.getComputedStyle(t,null),i&&(r=i.getPropertyValue(e)||i[e]),r}var _9=new RegExp("^(".concat(v9,")(?!px)[a-z%]+$"),"i"),b9=/^(top|right|bottom|left)$/,ex="currentStyle",tx="runtimeStyle",dl="left",x9="px";function S9(t,e){var n=t[ex]&&t[ex][e];if(_9.test(n)&&!b9.test(e)){var i=t.style,r=i[dl],o=t[tx][dl];t[tx][dl]=t[ex][dl],i[dl]=e==="fontSize"?"1em":n||0,n=i.pixelLeft+x9,i[dl]=r,t[tx][dl]=o}return n===""?"auto":n}typeof window<"u"&&(tm=window.getComputedStyle?y9:S9);function $m(t,e){return t==="left"?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function SP(t){if(t==="left")return"right";if(t==="right")return"left";if(t==="top")return"bottom";if(t==="bottom")return"top"}function wP(t,e,n){_f(t,"position")==="static"&&(t.style.position="relative");var i=-999,r=-999,o=$m("left",n),a=$m("top",n),s=SP(o),l=SP(a);o!=="left"&&(i=999),a!=="top"&&(r=999);var c="",u=yp(t);("left"in e||"top"in e)&&(c=f9(t)||"",bP(t,"none")),"left"in e&&(t.style[s]="",t.style[o]="".concat(i,"px")),"top"in e&&(t.style[l]="",t.style[a]="".concat(r,"px")),xP(t);var f=yp(t),h={};for(var d in e)if(e.hasOwnProperty(d)){var p=$m(d,n),g=d==="left"?i:r,v=u[d]-f[d];p===d?h[p]=g+v:h[p]=g-v}_f(t,h),xP(t),("left"in e||"top"in e)&&bP(t,c);var m={};for(var y in e)if(e.hasOwnProperty(y)){var _=$m(y,n),b=e[y]-u[y];y===_?m[_]=h[_]+b:m[_]=h[_]-b}_f(t,m)}function w9(t,e){var n=yp(t),i=h9(t),r={x:i.x,y:i.y};"left"in e&&(r.x=i.x+e.left-n.left),"top"in e&&(r.y=i.y+e.top-n.top),m9(t,r)}function M9(t,e,n){if(n.ignoreShake){var i=yp(t),r=i.left.toFixed(0),o=i.top.toFixed(0),a=e.left.toFixed(0),s=e.top.toFixed(0);if(r===a&&o===s)return}n.useCssRight||n.useCssBottom?wP(t,e,n):n.useCssTransform&&f_()in document.body.style?w9(t,e):wP(t,e,n)}function IT(t,e){for(var n=0;n<t.length;n++)e(t[n])}function oB(t){return tm(t,"boxSizing")==="border-box"}var T9=["margin","border","padding"],iw=-1,C9=2,rw=1,A9=0;function E9(t,e,n){var i={},r=t.style,o;for(o in e)e.hasOwnProperty(o)&&(i[o]=r[o],r[o]=e[o]);n.call(t);for(o in e)e.hasOwnProperty(o)&&(r[o]=i[o])}function dd(t,e,n){var i=0,r,o,a;for(o=0;o<e.length;o++)if(r=e[o],r)for(a=0;a<n.length;a++){var s=void 0;r==="border"?s="".concat(r).concat(n[a],"Width"):s=r+n[a],i+=parseFloat(tm(t,s))||0}return i}var Vo={getParent:function(e){var n=e;do n.nodeType===11&&n.host?n=n.host:n=n.parentNode;while(n&&n.nodeType!==1&&n.nodeType!==9);return n}};IT(["Width","Height"],function(t){Vo["doc".concat(t)]=function(e){var n=e.document;return Math.max(n.documentElement["scroll".concat(t)],n.body["scroll".concat(t)],Vo["viewport".concat(t)](n))},Vo["viewport".concat(t)]=function(e){var n="client".concat(t),i=e.document,r=i.body,o=i.documentElement,a=o[n];return i.compatMode==="CSS1Compat"&&a||r&&r[n]||a}});function MP(t,e,n){var i=n;if(PT(t))return e==="width"?Vo.viewportWidth(t):Vo.viewportHeight(t);if(t.nodeType===9)return e==="width"?Vo.docWidth(t):Vo.docHeight(t);var r=e==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(e==="width"?t.getBoundingClientRect().width:t.getBoundingClientRect().height),a=oB(t),s=0;(o==null||o<=0)&&(o=void 0,s=tm(t,e),(s==null||Number(s)<0)&&(s=t.style[e]||0),s=Math.floor(parseFloat(s))||0),i===void 0&&(i=a?rw:iw);var l=o!==void 0||a,c=o||s;return i===iw?l?c-dd(t,["border","padding"],r):s:l?i===rw?c:c+(i===C9?-dd(t,["border"],r):dd(t,["margin"],r)):s+dd(t,T9.slice(i),r)}var P9={position:"absolute",visibility:"hidden",display:"block"};function TP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i,r=e[0];return r.offsetWidth!==0?i=MP.apply(void 0,e):E9(r,P9,function(){i=MP.apply(void 0,e)}),i}IT(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);Vo["outer".concat(e)]=function(i,r){return i&&TP(i,t,r?A9:rw)};var n=t==="width"?["Left","Right"]:["Top","Bottom"];Vo[t]=function(i,r){var o=r;if(o!==void 0){if(i){var a=oB(i);return a&&(o+=dd(i,["padding","border"],n)),_f(i,t,o)}return}return i&&TP(i,t,iw)}});function aB(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var ut={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var n=e.ownerDocument||e;return n.defaultView||n.parentWindow},getDocument:rB,offset:function(e,n,i){if(typeof n<"u")M9(e,n,i||{});else return yp(e)},isWindow:PT,each:IT,css:_f,clone:function(e){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);var r=e.overflow;if(r)for(n in e)e.hasOwnProperty(n)&&(i.overflow[n]=e.overflow[n]);return i},mix:aB,getWindowScrollLeft:function(e){return nB(e)},getWindowScrollTop:function(e){return iB(e)},merge:function(){for(var e={},n=0;n<arguments.length;n++)ut.mix(e,n<0||arguments.length<=n?void 0:arguments[n]);return e},viewportWidth:0,viewportHeight:0};aB(ut,Vo);var nx=ut.getParent;function ow(t){if(ut.isWindow(t)||t.nodeType===9)return null;var e=ut.getDocument(t),n=e.body,i,r=ut.css(t,"position"),o=r==="fixed"||r==="absolute";if(!o)return t.nodeName.toLowerCase()==="html"?null:nx(t);for(i=nx(t);i&&i!==n&&i.nodeType!==9;i=nx(i))if(r=ut.css(i,"position"),r!=="static")return i;return null}var CP=ut.getParent;function I9(t){if(ut.isWindow(t)||t.nodeType===9)return!1;var e=ut.getDocument(t),n=e.body,i=null;for(i=CP(t);i&&i!==n&&i!==e;i=CP(i)){var r=ut.css(i,"position");if(r==="fixed")return!0}return!1}function RT(t,e){for(var n={left:0,right:1/0,top:0,bottom:1/0},i=ow(t),r=ut.getDocument(t),o=r.defaultView||r.parentWindow,a=r.body,s=r.documentElement;i;){if((navigator.userAgent.indexOf("MSIE")===-1||i.clientWidth!==0)&&i!==a&&i!==s&&ut.css(i,"overflow")!=="visible"){var l=ut.offset(i);l.left+=i.clientLeft,l.top+=i.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+i.clientWidth),n.bottom=Math.min(n.bottom,l.top+i.clientHeight),n.left=Math.max(n.left,l.left)}else if(i===a||i===s)break;i=ow(i)}var c=null;if(!ut.isWindow(t)&&t.nodeType!==9){c=t.style.position;var u=ut.css(t,"position");u==="absolute"&&(t.style.position="fixed")}var f=ut.getWindowScrollLeft(o),h=ut.getWindowScrollTop(o),d=ut.viewportWidth(o),p=ut.viewportHeight(o),g=s.scrollWidth,v=s.scrollHeight,m=window.getComputedStyle(a);if(m.overflowX==="hidden"&&(g=o.innerWidth),m.overflowY==="hidden"&&(v=o.innerHeight),t.style&&(t.style.position=c),e||I9(t))n.left=Math.max(n.left,f),n.top=Math.max(n.top,h),n.right=Math.min(n.right,f+d),n.bottom=Math.min(n.bottom,h+p);else{var y=Math.max(g,f+d);n.right=Math.min(n.right,y);var _=Math.max(v,h+p);n.bottom=Math.min(n.bottom,_)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function R9(t,e,n,i){var r=ut.clone(t),o={width:e.width,height:e.height};return i.adjustX&&r.left<n.left&&(r.left=n.left),i.resizeWidth&&r.left>=n.left&&r.left+o.width>n.right&&(o.width-=r.left+o.width-n.right),i.adjustX&&r.left+o.width>n.right&&(r.left=Math.max(n.right-o.width,n.left)),i.adjustY&&r.top<n.top&&(r.top=n.top),i.resizeHeight&&r.top>=n.top&&r.top+o.height>n.bottom&&(o.height-=r.top+o.height-n.bottom),i.adjustY&&r.top+o.height>n.bottom&&(r.top=Math.max(n.bottom-o.height,n.top)),ut.mix(r,o)}function DT(t){var e,n,i;if(!ut.isWindow(t)&&t.nodeType!==9)e=ut.offset(t),n=ut.outerWidth(t),i=ut.outerHeight(t);else{var r=ut.getWindow(t);e={left:ut.getWindowScrollLeft(r),top:ut.getWindowScrollTop(r)},n=ut.viewportWidth(r),i=ut.viewportHeight(r)}return e.width=n,e.height=i,e}function AP(t,e){var n=e.charAt(0),i=e.charAt(1),r=t.width,o=t.height,a=t.left,s=t.top;return n==="c"?s+=o/2:n==="b"&&(s+=o),i==="c"?a+=r/2:i==="r"&&(a+=r),{left:a,top:s}}function Hm(t,e,n,i,r){var o=AP(e,n[1]),a=AP(t,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(t.left-s[0]+i[0]-r[0]),top:Math.round(t.top-s[1]+i[1]-r[1])}}function EP(t,e,n){return t.left<n.left||t.left+e.width>n.right}function PP(t,e,n){return t.top<n.top||t.top+e.height>n.bottom}function D9(t,e,n){return t.left>n.right||t.left+e.width<n.left}function O9(t,e,n){return t.top>n.bottom||t.top+e.height<n.top}function Vm(t,e,n){var i=[];return ut.each(t,function(r){i.push(r.replace(e,function(o){return n[o]}))}),i}function Gm(t,e){return t[e]=-t[e],t}function IP(t,e){var n;return/%$/.test(t)?n=parseInt(t.substring(0,t.length-1),10)/100*e:n=parseInt(t,10),n||0}function RP(t,e){t[0]=IP(t[0],e.width),t[1]=IP(t[1],e.height)}function sB(t,e,n,i){var r=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,l=n.source||t;o=[].concat(o),a=[].concat(a),s=s||{};var c={},u=0,f=!!(s&&s.alwaysByViewport),h=RT(l,f),d=DT(l);RP(o,d),RP(a,e);var p=Hm(d,e,r,o,a),g=ut.merge(d,p);if(h&&(s.adjustX||s.adjustY)&&i){if(s.adjustX&&EP(p,d,h)){var v=Vm(r,/[lr]/gi,{l:"r",r:"l"}),m=Gm(o,0),y=Gm(a,0),_=Hm(d,e,v,m,y);D9(_,d,h)||(u=1,r=v,o=m,a=y)}if(s.adjustY&&PP(p,d,h)){var b=Vm(r,/[tb]/gi,{t:"b",b:"t"}),T=Gm(o,1),x=Gm(a,1),S=Hm(d,e,b,T,x);O9(S,d,h)||(u=1,r=b,o=T,a=x)}u&&(p=Hm(d,e,r,o,a),ut.mix(g,p));var C=EP(p,d,h),M=PP(p,d,h);if(C||M){var w=r;C&&(w=Vm(r,/[lr]/gi,{l:"r",r:"l"})),M&&(w=Vm(r,/[tb]/gi,{t:"b",b:"t"})),r=w,o=n.offset||[0,0],a=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&C,c.adjustY=s.adjustY&&M,(c.adjustX||c.adjustY)&&(g=R9(p,d,h,c))}return g.width!==d.width&&ut.css(l,"width",ut.width(l)+g.width-d.width),g.height!==d.height&&ut.css(l,"height",ut.height(l)+g.height-d.height),ut.offset(l,{left:g.left,top:g.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:r,offset:o,targetOffset:a,overflow:c}}function L9(t,e){var n=RT(t,e),i=DT(t);return!n||i.left+i.width<=n.left||i.top+i.height<=n.top||i.left>=n.right||i.top>=n.bottom}function OT(t,e,n){var i=n.target||e,r=DT(i),o=!L9(i,n.overflow&&n.overflow.alwaysByViewport);return sB(t,r,n,o)}OT.__getOffsetParent=ow;OT.__getVisibleRectForElement=RT;function N9(t,e,n){var i,r,o=ut.getDocument(t),a=o.defaultView||o.parentWindow,s=ut.getWindowScrollLeft(a),l=ut.getWindowScrollTop(a),c=ut.viewportWidth(a),u=ut.viewportHeight(a);"pageX"in e?i=e.pageX:i=s+e.clientX,"pageY"in e?r=e.pageY:r=l+e.clientY;var f={left:i,top:r,width:0,height:0},h=i>=0&&i<=s+c&&r>=0&&r<=l+u,d=[n.points[0],"cc"];return sB(t,f,_P(_P({},n),{},{points:d}),h)}function So(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=t;if(Array.isArray(t)&&(r=eu(t)[0]),!r)return null;const o=Sr(r,e,i);return o.props=n?z(z({},o.props),e):o.props,_T(typeof o.props.class!="object"),o}const F9=t=>{if(!t)return!1;if(t.offsetParent)return!0;if(t.getBBox){const e=t.getBBox();if(e.width||e.height)return!0}if(t.getBoundingClientRect){const e=t.getBoundingClientRect();if(e.width||e.height)return!0}return!1};function B9(t,e){return t===e?!0:!t||!e?!1:"pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e?t.clientX===e.clientX&&t.clientY===e.clientY:!1}function U9(t,e){t!==document.activeElement&&ic(e,t)&&typeof t.focus=="function"&&t.focus()}function DP(t,e){let n=null,i=null;function r(a){let[{target:s}]=a;if(!document.documentElement.contains(s))return;const{width:l,height:c}=s.getBoundingClientRect(),u=Math.floor(l),f=Math.floor(c);(n!==u||i!==f)&&Promise.resolve().then(()=>{e({width:u,height:f})}),n=u,i=f}const o=new nF(r);return t&&o.observe(t),()=>{o.disconnect()}}const z9=(t,e)=>{let n=!1,i=null;function r(){clearTimeout(i)}function o(a){if(!n||a===!0){if(t()===!1)return;n=!0,r(),i=setTimeout(()=>{n=!1},e.value)}else r(),i=setTimeout(()=>{n=!1,o()},e.value)}return[o,()=>{n=!1,r()}]};function k9(){this.__data__=[],this.size=0}function nm(t,e){return t===e||t!==t&&e!==e}function h_(t,e){for(var n=t.length;n--;)if(nm(t[n][0],e))return n;return-1}var $9=Array.prototype,H9=$9.splice;function V9(t){var e=this.__data__,n=h_(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():H9.call(e,n,1),--this.size,!0}function G9(t){var e=this.__data__,n=h_(e,t);return n<0?void 0:e[n][1]}function W9(t){return h_(this.__data__,t)>-1}function X9(t,e){var n=this.__data__,i=h_(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Qa(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Qa.prototype.clear=k9;Qa.prototype.delete=V9;Qa.prototype.get=G9;Qa.prototype.has=W9;Qa.prototype.set=X9;function j9(){this.__data__=new Qa,this.size=0}function Y9(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function q9(t){return this.__data__.get(t)}function K9(t){return this.__data__.has(t)}var lB=typeof global=="object"&&global&&global.Object===Object&&global,Z9=typeof self=="object"&&self&&self.Object===Object&&self,oa=lB||Z9||Function("return this")(),Vf=oa.Symbol,cB=Object.prototype,J9=cB.hasOwnProperty,Q9=cB.toString,Ih=Vf?Vf.toStringTag:void 0;function e7(t){var e=J9.call(t,Ih),n=t[Ih];try{t[Ih]=void 0;var i=!0}catch{}var r=Q9.call(t);return i&&(e?t[Ih]=n:delete t[Ih]),r}var t7=Object.prototype,n7=t7.toString;function i7(t){return n7.call(t)}var r7="[object Null]",o7="[object Undefined]",OP=Vf?Vf.toStringTag:void 0;function oh(t){return t==null?t===void 0?o7:r7:OP&&OP in Object(t)?e7(t):i7(t)}function nu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var a7="[object AsyncFunction]",s7="[object Function]",l7="[object GeneratorFunction]",c7="[object Proxy]";function LT(t){if(!nu(t))return!1;var e=oh(t);return e==s7||e==l7||e==a7||e==c7}var ix=oa["__core-js_shared__"],LP=function(){var t=/[^.]+$/.exec(ix&&ix.keys&&ix.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function u7(t){return!!LP&&LP in t}var f7=Function.prototype,h7=f7.toString;function iu(t){if(t!=null){try{return h7.call(t)}catch{}try{return t+""}catch{}}return""}var d7=/[\\^$.*+?()[\]{}|]/g,p7=/^\[object .+?Constructor\]$/,m7=Function.prototype,v7=Object.prototype,g7=m7.toString,y7=v7.hasOwnProperty,_7=RegExp("^"+g7.call(y7).replace(d7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b7(t){if(!nu(t)||u7(t))return!1;var e=LT(t)?_7:p7;return e.test(iu(t))}function x7(t,e){return t==null?void 0:t[e]}function ru(t,e){var n=x7(t,e);return b7(n)?n:void 0}var _p=ru(oa,"Map"),bp=ru(Object,"create");function S7(){this.__data__=bp?bp(null):{},this.size=0}function w7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var M7="__lodash_hash_undefined__",T7=Object.prototype,C7=T7.hasOwnProperty;function A7(t){var e=this.__data__;if(bp){var n=e[t];return n===M7?void 0:n}return C7.call(e,t)?e[t]:void 0}var E7=Object.prototype,P7=E7.hasOwnProperty;function I7(t){var e=this.__data__;return bp?e[t]!==void 0:P7.call(e,t)}var R7="__lodash_hash_undefined__";function D7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bp&&e===void 0?R7:e,this}function Fc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Fc.prototype.clear=S7;Fc.prototype.delete=w7;Fc.prototype.get=A7;Fc.prototype.has=I7;Fc.prototype.set=D7;function O7(){this.size=0,this.__data__={hash:new Fc,map:new(_p||Qa),string:new Fc}}function L7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function d_(t,e){var n=t.__data__;return L7(e)?n[typeof e=="string"?"string":"hash"]:n.map}function N7(t){var e=d_(this,t).delete(t);return this.size-=e?1:0,e}function F7(t){return d_(this,t).get(t)}function B7(t){return d_(this,t).has(t)}function U7(t,e){var n=d_(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function ou(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ou.prototype.clear=O7;ou.prototype.delete=N7;ou.prototype.get=F7;ou.prototype.has=B7;ou.prototype.set=U7;var z7=200;function k7(t,e){var n=this.__data__;if(n instanceof Qa){var i=n.__data__;if(!_p||i.length<z7-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new ou(i)}return n.set(t,e),this.size=n.size,this}function Ua(t){var e=this.__data__=new Qa(t);this.size=e.size}Ua.prototype.clear=j9;Ua.prototype.delete=Y9;Ua.prototype.get=q9;Ua.prototype.has=K9;Ua.prototype.set=k7;var $7="__lodash_hash_undefined__";function H7(t){return this.__data__.set(t,$7),this}function V7(t){return this.__data__.has(t)}function x0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ou;++e<n;)this.add(t[e])}x0.prototype.add=x0.prototype.push=H7;x0.prototype.has=V7;function G7(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function W7(t,e){return t.has(e)}var X7=1,j7=2;function uB(t,e,n,i,r,o){var a=n&X7,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,h=!0,d=n&j7?new x0:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var p=t[f],g=e[f];if(i)var v=a?i(g,p,f,e,t,o):i(p,g,f,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(d){if(!G7(e,function(m,y){if(!W7(d,y)&&(p===m||r(p,m,n,i,o)))return d.push(y)})){h=!1;break}}else if(!(p===g||r(p,g,n,i,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var S0=oa.Uint8Array;function Y7(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}function q7(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var K7=1,Z7=2,J7="[object Boolean]",Q7="[object Date]",eX="[object Error]",tX="[object Map]",nX="[object Number]",iX="[object RegExp]",rX="[object Set]",oX="[object String]",aX="[object Symbol]",sX="[object ArrayBuffer]",lX="[object DataView]",NP=Vf?Vf.prototype:void 0,rx=NP?NP.valueOf:void 0;function cX(t,e,n,i,r,o,a){switch(n){case lX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case sX:return!(t.byteLength!=e.byteLength||!o(new S0(t),new S0(e)));case J7:case Q7:case nX:return nm(+t,+e);case eX:return t.name==e.name&&t.message==e.message;case iX:case oX:return t==e+"";case tX:var s=Y7;case rX:var l=i&K7;if(s||(s=q7),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;i|=Z7,a.set(t,e);var u=uB(s(t),s(e),i,r,o,a);return a.delete(t),u;case aX:if(rx)return rx.call(t)==rx.call(e)}return!1}function uX(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var Bc=Array.isArray;function fX(t,e,n){var i=e(t);return Bc(t)?i:uX(i,n(t))}function hX(t,e){for(var n=-1,i=t==null?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function dX(){return[]}var pX=Object.prototype,mX=pX.propertyIsEnumerable,FP=Object.getOwnPropertySymbols,vX=FP?function(t){return t==null?[]:(t=Object(t),hX(FP(t),function(e){return mX.call(t,e)}))}:dX;function gX(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Uc(t){return t!=null&&typeof t=="object"}var yX="[object Arguments]";function BP(t){return Uc(t)&&oh(t)==yX}var fB=Object.prototype,_X=fB.hasOwnProperty,bX=fB.propertyIsEnumerable,w0=BP(function(){return arguments}())?BP:function(t){return Uc(t)&&_X.call(t,"callee")&&!bX.call(t,"callee")};function xX(){return!1}var hB=typeof gr=="object"&&gr&&!gr.nodeType&&gr,UP=hB&&typeof yr=="object"&&yr&&!yr.nodeType&&yr,SX=UP&&UP.exports===hB,zP=SX?oa.Buffer:void 0,wX=zP?zP.isBuffer:void 0,xp=wX||xX,MX=9007199254740991,TX=/^(?:0|[1-9]\d*)$/;function dB(t,e){var n=typeof t;return e=e??MX,!!e&&(n=="number"||n!="symbol"&&TX.test(t))&&t>-1&&t%1==0&&t<e}var CX=9007199254740991;function pB(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=CX}var AX="[object Arguments]",EX="[object Array]",PX="[object Boolean]",IX="[object Date]",RX="[object Error]",DX="[object Function]",OX="[object Map]",LX="[object Number]",NX="[object Object]",FX="[object RegExp]",BX="[object Set]",UX="[object String]",zX="[object WeakMap]",kX="[object ArrayBuffer]",$X="[object DataView]",HX="[object Float32Array]",VX="[object Float64Array]",GX="[object Int8Array]",WX="[object Int16Array]",XX="[object Int32Array]",jX="[object Uint8Array]",YX="[object Uint8ClampedArray]",qX="[object Uint16Array]",KX="[object Uint32Array]",Qt={};Qt[HX]=Qt[VX]=Qt[GX]=Qt[WX]=Qt[XX]=Qt[jX]=Qt[YX]=Qt[qX]=Qt[KX]=!0;Qt[AX]=Qt[EX]=Qt[kX]=Qt[PX]=Qt[$X]=Qt[IX]=Qt[RX]=Qt[DX]=Qt[OX]=Qt[LX]=Qt[NX]=Qt[FX]=Qt[BX]=Qt[UX]=Qt[zX]=!1;function ZX(t){return Uc(t)&&pB(t.length)&&!!Qt[oh(t)]}function JX(t){return function(e){return t(e)}}var mB=typeof gr=="object"&&gr&&!gr.nodeType&&gr,Od=mB&&typeof yr=="object"&&yr&&!yr.nodeType&&yr,QX=Od&&Od.exports===mB,ox=QX&&lB.process,kP=function(){try{var t=Od&&Od.require&&Od.require("util").types;return t||ox&&ox.binding&&ox.binding("util")}catch{}}(),$P=kP&&kP.isTypedArray,p_=$P?JX($P):ZX,ej=Object.prototype,tj=ej.hasOwnProperty;function vB(t,e){var n=Bc(t),i=!n&&w0(t),r=!n&&!i&&xp(t),o=!n&&!i&&!r&&p_(t),a=n||i||r||o,s=a?gX(t.length,String):[],l=s.length;for(var c in t)(e||tj.call(t,c))&&!(a&&(c=="length"||r&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||dB(c,l)))&&s.push(c);return s}var nj=Object.prototype;function m_(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||nj;return t===n}function gB(t,e){return function(n){return t(e(n))}}var ij=gB(Object.keys,Object),rj=Object.prototype,oj=rj.hasOwnProperty;function yB(t){if(!m_(t))return ij(t);var e=[];for(var n in Object(t))oj.call(t,n)&&n!="constructor"&&e.push(n);return e}function im(t){return t!=null&&pB(t.length)&&!LT(t)}function aj(t){return im(t)?vB(t):yB(t)}function HP(t){return fX(t,aj,vX)}var sj=1,lj=Object.prototype,cj=lj.hasOwnProperty;function uj(t,e,n,i,r,o){var a=n&sj,s=HP(t),l=s.length,c=HP(e),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:cj.call(e,h)))return!1}var d=o.get(t),p=o.get(e);if(d&&p)return d==e&&p==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<l;){h=s[f];var m=t[h],y=e[h];if(i)var _=a?i(y,m,h,e,t,o):i(m,y,h,t,e,o);if(!(_===void 0?m===y||r(m,y,n,i,o):_)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var b=t.constructor,T=e.constructor;b!=T&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof T=="function"&&T instanceof T)&&(g=!1)}return o.delete(t),o.delete(e),g}var aw=ru(oa,"DataView"),sw=ru(oa,"Promise"),lw=ru(oa,"Set"),cw=ru(oa,"WeakMap"),VP="[object Map]",fj="[object Object]",GP="[object Promise]",WP="[object Set]",XP="[object WeakMap]",jP="[object DataView]",hj=iu(aw),dj=iu(_p),pj=iu(sw),mj=iu(lw),vj=iu(cw),Ea=oh;(aw&&Ea(new aw(new ArrayBuffer(1)))!=jP||_p&&Ea(new _p)!=VP||sw&&Ea(sw.resolve())!=GP||lw&&Ea(new lw)!=WP||cw&&Ea(new cw)!=XP)&&(Ea=function(t){var e=oh(t),n=e==fj?t.constructor:void 0,i=n?iu(n):"";if(i)switch(i){case hj:return jP;case dj:return VP;case pj:return GP;case mj:return WP;case vj:return XP}return e});var gj=1,YP="[object Arguments]",qP="[object Array]",Wm="[object Object]",yj=Object.prototype,KP=yj.hasOwnProperty;function _j(t,e,n,i,r,o){var a=Bc(t),s=Bc(e),l=a?qP:Ea(t),c=s?qP:Ea(e);l=l==YP?Wm:l,c=c==YP?Wm:c;var u=l==Wm,f=c==Wm,h=l==c;if(h&&xp(t)){if(!xp(e))return!1;a=!0,u=!1}if(h&&!u)return o||(o=new Ua),a||p_(t)?uB(t,e,n,i,r,o):cX(t,e,l,n,i,r,o);if(!(n&gj)){var d=u&&KP.call(t,"__wrapped__"),p=f&&KP.call(e,"__wrapped__");if(d||p){var g=d?t.value():t,v=p?e.value():e;return o||(o=new Ua),r(g,v,n,i,o)}}return h?(o||(o=new Ua),uj(t,e,n,i,r,o)):!1}function _B(t,e,n,i,r){return t===e?!0:t==null||e==null||!Uc(t)&&!Uc(e)?t!==t&&e!==e:_j(t,e,n,i,_B,r)}function bj(t,e){return _B(t,e)}const xj={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function ZP(t){return typeof t!="function"?null:t()}function JP(t){return typeof t!="object"||!t?null:t}const Sj=Be({compatConfig:{MODE:3},name:"Align",props:xj,emits:["align"],setup(t,e){let{expose:n,slots:i}=e;const r=je({}),o=je(),[a,s]=z9(()=>{const{disabled:h,target:d,align:p,onAlign:g}=t;if(!h&&d&&o.value){const v=o.value;let m;const y=ZP(d),_=JP(d);r.value.element=y,r.value.point=_,r.value.align=p;const{activeElement:b}=document;return y&&F9(y)?m=OT(v,y,p):_&&(m=N9(v,_,p)),U9(b,v),g&&m&&g(v,m),!0}return!1},W(()=>t.monitorBufferTime)),l=je({cancel:()=>{}}),c=je({cancel:()=>{}}),u=()=>{const h=t.target,d=ZP(h),p=JP(h);o.value!==c.value.element&&(c.value.cancel(),c.value.element=o.value,c.value.cancel=DP(o.value,a)),(r.value.element!==d||!B9(r.value.point,p)||!bj(r.value.align,t.align))&&(a(),l.value.element!==d&&(l.value.cancel(),l.value.element=d,l.value.cancel=DP(d,a)))};ln(()=>{Di(()=>{u()})}),Qs(()=>{Di(()=>{u()})}),Ke(()=>t.disabled,h=>{h?s():a()},{immediate:!0,flush:"post"});const f=je(null);return Ke(()=>t.monitorWindowResize,h=>{h?f.value||(f.value=hd(window,"resize",a)):f.value&&(f.value.remove(),f.value=null)},{flush:"post"}),ra(()=>{l.value.cancel(),c.value.cancel(),f.value&&f.value.remove(),s()}),n({forceAlign:()=>a(!0)}),()=>{const h=i==null?void 0:i.default();return h?So(h[0],{ref:o},!0,!0):null}}});p0("bottomLeft","bottomRight","topLeft","topRight");const wj=t=>t!==void 0&&(t==="topLeft"||t==="topRight")?"slide-down":"slide-up",bB=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return z(t?{name:t,appear:!0,enterFromClass:`${t}-enter ${t}-enter-prepare ${t}-enter-start`,enterActiveClass:`${t}-enter ${t}-enter-prepare`,enterToClass:`${t}-enter ${t}-enter-active`,leaveFromClass:` ${t}-leave`,leaveActiveClass:`${t}-leave ${t}-leave-active`,leaveToClass:`${t}-leave ${t}-leave-active`}:{css:!1},e)},xB=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return z(t?{name:t,appear:!0,appearActiveClass:`${t}`,appearToClass:`${t}-appear ${t}-appear-active`,enterFromClass:`${t}-appear ${t}-enter ${t}-appear-prepare ${t}-enter-prepare`,enterActiveClass:`${t}`,enterToClass:`${t}-enter ${t}-appear ${t}-appear-active ${t}-enter-active`,leaveActiveClass:`${t} ${t}-leave`,leaveToClass:`${t}-leave-active`}:{css:!1},e)},SB=(t,e,n)=>n!==void 0?n:`${t}-${e}`,Mj=Be({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:AT,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(t,e){let{expose:n,attrs:i,slots:r}=e;const o=Fe(),a=Fe(),s=Fe(),[l,c]=l9(ur(t,"stretch")),u=()=>{t.stretch&&c(t.getRootDomNode())},f=Fe(!1);let h;Ke(()=>t.visible,x=>{clearTimeout(h),x?h=setTimeout(()=>{f.value=t.visible}):f.value=!1},{immediate:!0});const[d,p]=s9(f,u),g=Fe(),v=()=>t.point?t.point:t.getRootDomNode,m=()=>{var x;(x=o.value)===null||x===void 0||x.forceAlign()},y=(x,S)=>{var C;const M=t.getClassNameFromAlign(S),w=s.value;s.value!==M&&(s.value=M),d.value==="align"&&(w!==M?Promise.resolve().then(()=>{m()}):p(()=>{var A;(A=g.value)===null||A===void 0||A.call(g)}),(C=t.onAlign)===null||C===void 0||C.call(t,x,S))},_=W(()=>{const x=typeof t.animation=="object"?t.animation:ET(t);return["onAfterEnter","onAfterLeave"].forEach(S=>{const C=x[S];x[S]=M=>{p(),d.value="stable",C==null||C(M)}}),x}),b=()=>new Promise(x=>{g.value=x});Ke([_,d],()=>{!_.value&&d.value==="motion"&&p()},{immediate:!0}),n({forceAlign:m,getElement:()=>a.value.$el||a.value});const T=W(()=>{var x;return!(!((x=t.align)===null||x===void 0)&&x.points&&(d.value==="align"||d.value==="stable"))});return()=>{var x;const{zIndex:S,align:C,prefixCls:M,destroyPopupOnHide:w,onMouseenter:A,onMouseleave:P,onTouchstart:R=()=>{},onMousedown:L}=t,E=d.value,O=[z(z({},l.value),{zIndex:S,opacity:E==="motion"||E==="stable"||!f.value?null:0,pointerEvents:!f.value&&E!=="stable"?"none":null}),i.style];let $=Ki((x=r.default)===null||x===void 0?void 0:x.call(r,{visible:t.visible}));$.length>1&&($=B("div",{class:`${M}-content`},[$]));const H=qe(M,i.class,s.value,!t.arrow&&`${M}-arrow-hidden`),Y=f.value||!t.visible?bB(_.value.name,_.value):{};return B(n_,we(we({ref:a},Y),{},{onBeforeEnter:b}),{default:()=>!w||t.visible?rT(B(Sj,{target:v(),key:"popup",ref:o,monitorWindowResize:!0,disabled:T.value,align:C,onAlign:y},{default:()=>B("div",{class:H,onMouseenter:A,onMouseleave:P,onMousedown:k1(L,["capture"]),[Ci?"onTouchstartPassive":"onTouchstart"]:k1(R,["capture"]),style:O},[$])}),[[V3,f.value]]):null})}}}),Tj=Be({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:r9,setup(t,e){let{attrs:n,slots:i,expose:r}=e;const o=Fe(!1),a=Fe(!1),s=Fe(),l=Fe();return Ke([()=>t.visible,()=>t.mobile],()=>{o.value=t.visible,t.visible&&t.mobile&&(a.value=!0)},{immediate:!0,flush:"post"}),r({forceAlign:()=>{var c;(c=s.value)===null||c===void 0||c.forceAlign()},getElement:()=>{var c;return(c=s.value)===null||c===void 0?void 0:c.getElement()}}),()=>{const c=z(z(z({},t),n),{visible:o.value}),u=a.value?B(o9,we(we({},c),{},{mobile:t.mobile,ref:s}),{default:i.default}):B(Mj,we(we({},c),{},{ref:s}),{default:i.default});return B("div",{ref:l},[B(QF,c,null),u])}}});function Cj(t,e,n){return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function QP(t,e,n){const i=t[e]||{};return z(z({},i),n)}function Aj(t,e,n,i){const{points:r}=n,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const s=o[a];if(Cj(t[s].points,r,i))return`${e}-placement-${s}`}return""}const wB={methods:{setState(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=typeof t=="function"?t(this.$data,this.$props):t;if(this.getDerivedStateFromProps){const i=this.getDerivedStateFromProps(F6(this),z(z({},this.$data),n));if(i===null)return;n=z(z({},n),i||{})}z(this.$data,n),this._.isMounted&&this.$forceUpdate(),Di(()=>{e&&e()})},__emit(){const t=[].slice.call(arguments,0);let e=t[0];e=`on${e[0].toUpperCase()}${e.substring(1)}`;const n=this.$props[e]||this.$attrs[e];if(t.length&&n)if(Array.isArray(n))for(let i=0,r=n.length;i<r;i++)n[i](...t.slice(1));else n(...t.slice(1))}}},MB=Symbol("PortalContextKey"),TB=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};kn(MB,{inTriggerContext:e.inTriggerContext,shouldRender:W(()=>{const{sPopupVisible:n,popupRef:i,forceRender:r,autoDestroy:o}=t||{};let a=!1;return(n||i||r)&&(a=!0),!n&&o&&(a=!1),a})})},Ej=()=>{TB({},{inTriggerContext:!1});const t=kt(MB,{shouldRender:W(()=>!1),inTriggerContext:!1});return{shouldRender:W(()=>t.shouldRender.value||t.inTriggerContext===!1)}},CB=Be({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:pe.func.isRequired,didUpdate:Function},setup(t,e){let{slots:n}=e,i=!0,r;const{shouldRender:o}=Ej();function a(){o.value&&(r=t.getContainer())}d3(()=>{i=!1,a()}),ln(()=>{r||a()});const s=Ke(o,()=>{o.value&&!r&&(r=t.getContainer()),r&&s()});return Qs(()=>{Di(()=>{var l;o.value&&((l=t.didUpdate)===null||l===void 0||l.call(t,t))})}),()=>{var l;return o.value?i?(l=n.default)===null||l===void 0?void 0:l.call(n):r?B(r3,{to:r},n):null:null}}});let ax;function Pj(t){if(typeof document>"u")return 0;if(ax===void 0){const e=document.createElement("div");e.style.width="100%",e.style.height="200px";const n=document.createElement("div"),i=n.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",n.appendChild(e),document.body.appendChild(n);const r=e.offsetWidth;n.style.overflow="scroll";let o=e.offsetWidth;r===o&&(o=n.clientWidth),document.body.removeChild(n),ax=r-o}return ax}const Ij=`vc-util-locker-${Date.now()}`;let eI=0;function Rj(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function Dj(t){const e=W(()=>!!t&&!!t.value);eI+=1;const n=`${Ij}_${eI}`;ni(i=>{if(Yr()){if(e.value){const r=Pj(),o=Rj();pp(`
html body {
  overflow-y: hidden;
  ${o?`width: calc(100% - ${r}px);`:""}
}`,n)}else v0(n);i(()=>{v0(n)})}},{flush:"post"})}let pl=0;const Lg=Yr(),tI=t=>{if(!Lg)return null;if(t){if(typeof t=="string")return document.querySelectorAll(t)[0];if(typeof t=="function")return t();if(typeof t=="object"&&t instanceof window.HTMLElement)return t}return document.body},Oj=Be({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:pe.any,visible:{type:Boolean,default:void 0},autoLock:Ai(),didUpdate:Function},setup(t,e){let{slots:n}=e;const i=Fe(),r=Fe(),o=Fe(),a=Fe(1),s=Yr()&&document.createElement("div"),l=()=>{var d,p;i.value===s&&((p=(d=i.value)===null||d===void 0?void 0:d.parentNode)===null||p===void 0||p.removeChild(i.value)),i.value=null};let c=null;const u=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||i.value&&!i.value.parentNode?(c=tI(t.getContainer),c?(c.appendChild(i.value),!0):!1):!0},f=()=>Lg?(i.value||(i.value=s,u(!0)),h(),i.value):null,h=()=>{const{wrapperClassName:d}=t;i.value&&d&&d!==i.value.className&&(i.value.className=d)};return Qs(()=>{h(),u()}),Dj(W(()=>t.autoLock&&t.visible&&Yr()&&(i.value===document.body||i.value===s))),ln(()=>{let d=!1;Ke([()=>t.visible,()=>t.getContainer],(p,g)=>{let[v,m]=p,[y,_]=g;Lg&&(c=tI(t.getContainer),c===document.body&&(v&&!y?pl+=1:d&&(pl-=1))),d&&(typeof m=="function"&&typeof _=="function"?m.toString()!==_.toString():m!==_)&&l(),d=!0},{immediate:!0,flush:"post"}),Di(()=>{u()||(o.value=Rn(()=>{a.value+=1}))})}),rr(()=>{const{visible:d}=t;Lg&&c===document.body&&(pl=d&&pl?pl-1:pl),l(),Rn.cancel(o.value)}),()=>{const{forceRender:d,visible:p}=t;let g=null;const v={getOpenCount:()=>pl,getContainer:f};return a.value&&(d||p||r.value)&&(g=B(CB,{getContainer:f,ref:r,didUpdate:t.didUpdate},{default:()=>{var m;return(m=n.default)===null||m===void 0?void 0:m.call(n,v)}})),g}}}),Lj=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],AB=Be({compatConfig:{MODE:3},name:"Trigger",mixins:[wB],inheritAttrs:!1,props:n9(),setup(t){const e=W(()=>{const{popupPlacement:r,popupAlign:o,builtinPlacements:a}=t;return r&&a?QP(a,r,o):o}),n=Fe(null),i=r=>{n.value=r};return{vcTriggerContext:kt("vcTriggerContext",{}),popupRef:n,setPopupRef:i,triggerRef:Fe(null),align:e,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data(){const t=this.$props;let e;return this.popupVisible!==void 0?e=!!t.popupVisible:e=!!t.defaultPopupVisible,Lj.forEach(n=>{this[`fire${n}`]=i=>{this.fireEvents(n,i)}}),{prevPopupVisible:e,sPopupVisible:e,point:null}},watch:{popupVisible(t){t!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=t)}},created(){kn("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown,onPopupMouseenter:this.onPopupMouseenter,onPopupMouseleave:this.onPopupMouseleave}),TB(this)},deactivated(){this.setPopupVisible(!1)},mounted(){this.$nextTick(()=>{this.updatedCal()})},updated(){this.$nextTick(()=>{this.updatedCal()})},beforeUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Rn.cancel(this.attachId)},methods:{updatedCal(){const t=this.$props;if(this.$data.sPopupVisible){let n;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(n=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=hd(n,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(n=n||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=hd(n,"touchstart",this.onDocumentClick,Ci?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(n=n||t.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=hd(n,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=hd(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter(t){const{mouseEnterDelay:e}=this.$props;this.fireEvents("onMouseenter",t),this.delaySetPopupVisible(!0,e,e?null:t)},onMouseMove(t){this.fireEvents("onMousemove",t),this.setPoint(t)},onMouseleave(t){this.fireEvents("onMouseleave",t),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter(){const{vcTriggerContext:t={}}=this;t.onPopupMouseenter&&t.onPopupMouseenter(),this.clearDelayTimer()},onPopupMouseleave(t){var e;if(t&&t.relatedTarget&&!t.relatedTarget.setTimeout&&ic((e=this.popupRef)===null||e===void 0?void 0:e.getElement(),t.relatedTarget))return;this.isMouseLeaveToHide()&&this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay);const{vcTriggerContext:n={}}=this;n.onPopupMouseleave&&n.onPopupMouseleave(t)},onFocus(t){this.fireEvents("onFocus",t),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown(t){this.fireEvents("onMousedown",t),this.preClickTime=Date.now()},onTouchstart(t){this.fireEvents("onTouchstart",t),this.preTouchTime=Date.now()},onBlur(t){ic(t.target,t.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",t),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu(t){t.preventDefault(),this.fireEvents("onContextmenu",t),this.setPopupVisible(!0,t)},onContextmenuClose(){this.isContextmenuToShow()&&this.close()},onClick(t){if(this.fireEvents("onClick",t),this.focusTime){let n;if(this.preClickTime&&this.preTouchTime?n=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?n=this.preClickTime:this.preTouchTime&&(n=this.preTouchTime),Math.abs(n-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault(),t&&t.domEvent&&t.domEvent.preventDefault();const e=!this.$data.sPopupVisible;(this.isClickToHide()&&!e||e&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,t)},onPopupMouseDown(){const{vcTriggerContext:t={}}=this;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{this.hasPopupMouseDown=!1},0),t.onPopupMouseDown&&t.onPopupMouseDown(...arguments)},onDocumentClick(t){if(this.$props.mask&&!this.$props.maskClosable)return;const e=t.target,n=this.getRootDomNode(),i=this.getPopupDomNode();(!ic(n,e)||this.isContextMenuOnly())&&!ic(i,e)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)},getPopupDomNode(){var t;return((t=this.popupRef)===null||t===void 0?void 0:t.getElement())||null},getRootDomNode(){var t,e,n,i;const{getTriggerDOMNode:r}=this.$props;if(r){const o=((e=(t=this.triggerRef)===null||t===void 0?void 0:t.$el)===null||e===void 0?void 0:e.nodeName)==="#comment"?null:fd(this.triggerRef);return fd(r(o))}try{const o=((i=(n=this.triggerRef)===null||n===void 0?void 0:n.$el)===null||i===void 0?void 0:i.nodeName)==="#comment"?null:fd(this.triggerRef);if(o)return o}catch{}return fd(this)},handleGetPopupClassFromAlign(t){const e=[],n=this.$props,{popupPlacement:i,builtinPlacements:r,prefixCls:o,alignPoint:a,getPopupClassNameFromAlign:s}=n;return i&&r&&e.push(Aj(r,o,t,a)),s&&e.push(s(t)),e.join(" ")},getPopupAlign(){const t=this.$props,{popupPlacement:e,popupAlign:n,builtinPlacements:i}=t;return e&&i?QP(i,e,n):n},getComponent(){const t={};this.isMouseEnterToShow()&&(t.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(t.onMouseleave=this.onPopupMouseleave),t.onMousedown=this.onPopupMouseDown,t[Ci?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;const{handleGetPopupClassFromAlign:e,getRootDomNode:n,$attrs:i}=this,{prefixCls:r,destroyPopupOnHide:o,popupClassName:a,popupAnimation:s,popupTransitionName:l,popupStyle:c,mask:u,maskAnimation:f,maskTransitionName:h,zIndex:d,stretch:p,alignPoint:g,mobile:v,arrow:m,forceRender:y}=this.$props,{sPopupVisible:_,point:b}=this.$data,T=z(z({prefixCls:r,arrow:m,destroyPopupOnHide:o,visible:_,point:g?b:null,align:this.align,animation:s,getClassNameFromAlign:e,stretch:p,getRootDomNode:n,mask:u,zIndex:d,transitionName:l,maskAnimation:f,maskTransitionName:h,class:a,style:c,onAlign:i.onPopupAlign||JF},t),{ref:this.setPopupRef,mobile:v,forceRender:y});return B(Tj,T,{default:this.$slots.popup||(()=>rF(this,"popup"))})},attachParent(t){Rn.cancel(this.attachId);const{getPopupContainer:e,getDocument:n}=this.$props,i=this.getRootDomNode();let r;e?(i||e.length===0)&&(r=e(i)):r=n(this.getRootDomNode()).body,r?r.appendChild(t):this.attachId=Rn(()=>{this.attachParent(t)})},getContainer(){const{$props:t}=this,{getDocument:e}=t,n=e(this.getRootDomNode()).createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",this.attachParent(n),n},setPopupVisible(t,e){const{alignPoint:n,sPopupVisible:i,onPopupVisibleChange:r}=this;this.clearDelayTimer(),i!==t&&(Ku(this,"popupVisible")||this.setState({sPopupVisible:t,prevPopupVisible:i}),r&&r(t)),n&&e&&t&&this.setPoint(e)},setPoint(t){const{alignPoint:e}=this.$props;!e||!t||this.setState({point:{pageX:t.pageX,pageY:t.pageY}})},handlePortalUpdate(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible(t,e,n){const i=e*1e3;if(this.clearDelayTimer(),i){const r=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=setTimeout(()=>{this.setPopupVisible(t,r),this.clearDelayTimer()},i)}else this.setPopupVisible(t,n)},clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains(t){let e=()=>{};const n=WE(this);return this.childOriginEvents[t]&&n[t]?this[`fire${t}`]:(e=this.childOriginEvents[t]||n[t]||e,e)},isClickToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("click")!==-1||e.indexOf("click")!==-1},isContextMenuOnly(){const{action:t}=this.$props;return t==="contextmenu"||t.length===1&&t[0]==="contextmenu"},isContextmenuToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("contextmenu")!==-1||e.indexOf("contextmenu")!==-1},isClickToHide(){const{action:t,hideAction:e}=this.$props;return t.indexOf("click")!==-1||e.indexOf("click")!==-1},isMouseEnterToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("hover")!==-1||e.indexOf("mouseenter")!==-1},isMouseLeaveToHide(){const{action:t,hideAction:e}=this.$props;return t.indexOf("hover")!==-1||e.indexOf("mouseleave")!==-1},isFocusToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("focus")!==-1||e.indexOf("focus")!==-1},isBlurToHide(){const{action:t,hideAction:e}=this.$props;return t.indexOf("focus")!==-1||e.indexOf("blur")!==-1},forcePopupAlign(){var t;this.$data.sPopupVisible&&((t=this.popupRef)===null||t===void 0||t.forceAlign())},fireEvents(t,e){this.childOriginEvents[t]&&this.childOriginEvents[t](e);const n=this.$props[t]||this.$attrs[t];n&&n(e)},close(){this.setPopupVisible(!1)}},render(){const{$attrs:t}=this,e=eu(N6(this)),{alignPoint:n,getPopupContainer:i}=this.$props,r=e[0];this.childOriginEvents=WE(r);const o={key:"trigger"};this.isContextmenuToShow()?o.onContextmenu=this.onContextmenu:o.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(o.onClick=this.onClick,o.onMousedown=this.onMousedown,o[Ci?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(o.onClick=this.createTwoChains("onClick"),o.onMousedown=this.createTwoChains("onMousedown"),o[Ci?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(o.onMouseenter=this.onMouseenter,n&&(o.onMousemove=this.onMouseMove)):o.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?o.onMouseleave=this.onMouseleave:o.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(o.onFocus=this.onFocus,o.onBlur=this.onBlur):(o.onFocus=this.createTwoChains("onFocus"),o.onBlur=c=>{c&&(!c.relatedTarget||!ic(c.target,c.relatedTarget))&&this.createTwoChains("onBlur")(c)});const a=qe(r&&r.props&&r.props.class,t.class);a&&(o.class=a);const s=So(r,z(z({},o),{ref:"triggerRef"}),!0,!0),l=B(Oj,{key:"portal",getContainer:i&&(()=>i(this.getRootDomNode())),didUpdate:this.handlePortalUpdate,visible:this.$data.sPopupVisible},{default:this.getComponent});return B(Ht,null,[s,l])}});var Nj=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Fj=t=>{const e=t===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}}}},Bj=Be({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:pe.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:pe.oneOfType([Number,Boolean]).def(!0),popupElement:pe.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function,onPopupFocusin:Function,onPopupFocusout:Function},setup(t,e){let{slots:n,attrs:i,expose:r}=e;const o=W(()=>{const{dropdownMatchSelectWidth:s}=t;return Fj(s)}),a=je();return r({getPopupElement:()=>a.value}),()=>{const s=z(z({},t),i),{empty:l=!1}=s,c=Nj(s,["empty"]),{visible:u,dropdownAlign:f,prefixCls:h,popupElement:d,dropdownClassName:p,dropdownStyle:g,direction:v="ltr",placement:m,dropdownMatchSelectWidth:y,containerWidth:_,dropdownRender:b,animation:T,transitionName:x,getPopupContainer:S,getTriggerDOMNode:C,onPopupVisibleChange:M,onPopupMouseEnter:w,onPopupFocusin:A,onPopupFocusout:P}=c,R=`${h}-dropdown`;let L=d;b&&(L=b({menuNode:d,props:t}));const E=T?`${R}-${T}`:x,O=z({minWidth:`${_}px`},g);return typeof y=="number"?O.width=`${y}px`:y&&(O.width=`${_}px`),B(AB,we(we({},t),{},{showAction:M?["click"]:[],hideAction:M?["click"]:[],popupPlacement:m||(v==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:o.value,prefixCls:R,popupTransitionName:E,popupAlign:f,popupVisible:u,getPopupContainer:S,popupClassName:qe(p,{[`${R}-empty`]:l}),popupStyle:O,getTriggerDOMNode:C,onPopupVisibleChange:M}),{default:n.default,popup:()=>B("div",{ref:a,onMouseenter:w,onFocusin:A,onFocusout:P},[L])})}}}),Pe={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){const{keyCode:n}=e;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=Pe.F1&&n<=Pe.F12)return!1;switch(n){case Pe.ALT:case Pe.CAPS_LOCK:case Pe.CONTEXT_MENU:case Pe.CTRL:case Pe.DOWN:case Pe.END:case Pe.ESC:case Pe.HOME:case Pe.INSERT:case Pe.LEFT:case Pe.MAC_FF_META:case Pe.META:case Pe.NUMLOCK:case Pe.NUM_CENTER:case Pe.PAGE_DOWN:case Pe.PAGE_UP:case Pe.PAUSE:case Pe.PRINT_SCREEN:case Pe.RIGHT:case Pe.SHIFT:case Pe.UP:case Pe.WIN_KEY:case Pe.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Pe.ZERO&&e<=Pe.NINE||e>=Pe.NUM_ZERO&&e<=Pe.NUM_MULTIPLY||e>=Pe.A&&e<=Pe.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case Pe.SPACE:case Pe.QUESTION_MARK:case Pe.NUM_PLUS:case Pe.NUM_MINUS:case Pe.NUM_PERIOD:case Pe.NUM_DIVISION:case Pe.SEMICOLON:case Pe.DASH:case Pe.EQUALS:case Pe.COMMA:case Pe.PERIOD:case Pe.SLASH:case Pe.APOSTROPHE:case Pe.SINGLE_QUOTE:case Pe.OPEN_SQUARE_BRACKET:case Pe.BACKSLASH:case Pe.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},zc=(t,e)=>{let{slots:n}=e;var i;const{class:r,customizeIcon:o,customizeIconProps:a,onMousedown:s,onClick:l}=t;let c;return typeof o=="function"?c=o(a):c=xr(o)?Sr(o):o,B("span",{class:r,onMousedown:u=>{u.preventDefault(),s&&s(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0},[c!==void 0?c:B("span",{class:r.split(/\s+/).map(u=>`${u}-icon`)},[(i=n.default)===null||i===void 0?void 0:i.call(n)])])};zc.inheritAttrs=!1;zc.displayName="TransBtn";zc.props={class:String,customizeIcon:pe.any,customizeIconProps:pe.any,onMousedown:Function,onClick:Function};var Uj=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const zj=Be({compatConfig:{MODE:3},props:{disabled:pe.looseBool,type:pe.string,value:pe.any,tag:{type:String,default:"input"},size:pe.string,onChange:Function,onInput:Function,onBlur:Function,onFocus:Function,onKeydown:Function,onCompositionstart:Function,onCompositionend:Function,onKeyup:Function,onPaste:Function,onMousedown:Function},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(t,e){let{expose:n}=e;const i=Fe(null);return n({focus:()=>{i.value&&i.value.focus()},blur:()=>{i.value&&i.value.blur()},input:i,setSelectionRange:(l,c,u)=>{var f;(f=i.value)===null||f===void 0||f.setSelectionRange(l,c,u)},select:()=>{var l;(l=i.value)===null||l===void 0||l.select()},getSelectionStart:()=>{var l;return(l=i.value)===null||l===void 0?void 0:l.selectionStart},getSelectionEnd:()=>{var l;return(l=i.value)===null||l===void 0?void 0:l.selectionEnd},getScrollTop:()=>{var l;return(l=i.value)===null||l===void 0?void 0:l.scrollTop}}),()=>{const{tag:l,value:c}=t,u=Uj(t,["tag","value"]);return B(l,we(we({},u),{},{ref:i,value:c}),null)}}});function kj(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return typeof i>"u"||i===null||(e+=`${n}: ${t[n]};`),e},"")}var $j=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const NT=Be({compatConfig:{MODE:3},inheritAttrs:!1,props:{disabled:pe.looseBool,type:pe.string,value:pe.any,lazy:pe.bool.def(!0),tag:{type:String,default:"input"},size:pe.string,style:pe.oneOfType([String,Object]),class:pe.string},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(t,e){let{emit:n,attrs:i,expose:r}=e;const o=Fe(null),a=je(),s=je(!1);Ke([()=>t.value,s],()=>{s.value||(a.value=t.value)},{immediate:!0});const l=S=>{n("change",S)},c=S=>{s.value=!0,S.target.composing=!0,n("compositionstart",S)},u=S=>{s.value=!1,S.target.composing=!1,n("compositionend",S);const C=document.createEvent("HTMLEvents");C.initEvent("input",!0,!0),S.target.dispatchEvent(C),l(S)},f=S=>{if(s.value&&t.lazy){a.value=S.target.value;return}n("input",S)},h=S=>{n("blur",S)},d=S=>{n("focus",S)},p=()=>{o.value&&o.value.focus()},g=()=>{o.value&&o.value.blur()},v=S=>{n("keydown",S)},m=S=>{n("keyup",S)},y=(S,C,M)=>{var w;(w=o.value)===null||w===void 0||w.setSelectionRange(S,C,M)},_=()=>{var S;(S=o.value)===null||S===void 0||S.select()};r({focus:p,blur:g,input:W(()=>{var S;return(S=o.value)===null||S===void 0?void 0:S.input}),setSelectionRange:y,select:_,getSelectionStart:()=>{var S;return(S=o.value)===null||S===void 0?void 0:S.getSelectionStart()},getSelectionEnd:()=>{var S;return(S=o.value)===null||S===void 0?void 0:S.getSelectionEnd()},getScrollTop:()=>{var S;return(S=o.value)===null||S===void 0?void 0:S.getScrollTop()}});const b=S=>{n("mousedown",S)},T=S=>{n("paste",S)},x=W(()=>t.style&&typeof t.style!="string"?kj(t.style):t.style);return()=>{const S=$j(t,["style","lazy"]);return B(zj,we(we(we({},S),i),{},{style:x.value,onInput:f,onChange:l,onBlur:h,onFocus:d,ref:o,value:a.value,onCompositionstart:c,onCompositionend:u,onKeyup:m,onKeydown:v,onPaste:T,onMousedown:b}),null)}}}),Hj={inputRef:pe.any,prefixCls:String,id:String,inputElement:pe.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:pe.oneOfType([pe.number,pe.string]),attrs:pe.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},EB=Be({compatConfig:{MODE:3},name:"SelectInput",inheritAttrs:!1,props:Hj,setup(t){let e=null;const n=kt("VCSelectContainerEvent");return()=>{var i;const{prefixCls:r,id:o,inputElement:a,disabled:s,tabindex:l,autofocus:c,autocomplete:u,editable:f,activeDescendantId:h,value:d,onKeydown:p,onMousedown:g,onChange:v,onPaste:m,onCompositionstart:y,onCompositionend:_,onFocus:b,onBlur:T,open:x,inputRef:S,attrs:C}=t;let M=a||B(NT,null,null);const w=M.props||{},{onKeydown:A,onInput:P,onFocus:R,onBlur:L,onMousedown:E,onCompositionstart:O,onCompositionend:$,style:H}=w;return M=So(M,z(z(z(z(z({type:"search"},w),{id:o,ref:S,disabled:s,tabindex:l,lazy:!1,autocomplete:u||"off",autofocus:c,class:qe(`${r}-selection-search-input`,(i=M==null?void 0:M.props)===null||i===void 0?void 0:i.class),role:"combobox","aria-expanded":x,"aria-haspopup":"listbox","aria-owns":`${o}_list`,"aria-autocomplete":"list","aria-controls":`${o}_list`,"aria-activedescendant":h}),C),{value:f?d:"",readonly:!f,unselectable:f?null:"on",style:z(z({},H),{opacity:f?null:0}),onKeydown:V=>{p(V),A&&A(V)},onMousedown:V=>{g(V),E&&E(V)},onInput:V=>{v(V),P&&P(V)},onCompositionstart(V){y(V),O&&O(V)},onCompositionend(V){_(V),$&&$(V)},onPaste:m,onFocus:function(){clearTimeout(e),R&&R(arguments.length<=0?void 0:arguments[0]),b&&b(arguments.length<=0?void 0:arguments[0]),n==null||n.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var V=arguments.length,Y=new Array(V),ae=0;ae<V;ae++)Y[ae]=arguments[ae];e=setTimeout(()=>{L&&L(Y[0]),T&&T(Y[0]),n==null||n.blur(Y[0])},100)}}),M.type==="textarea"?{}:{type:"search"}),!0,!0),M}}}),Vj=`accept acceptcharset accesskey action allowfullscreen allowtransparency
alt async autocomplete autofocus autoplay capture cellpadding cellspacing challenge
charset checked classid classname colspan cols content contenteditable contextmenu
controls coords crossorigin data datetime default defer dir disabled download draggable
enctype form formaction formenctype formmethod formnovalidate formtarget frameborder
headers height hidden high href hreflang htmlfor for httpequiv icon id inputmode integrity
is keyparams keytype kind label lang list loop low manifest marginheight marginwidth max maxlength media
mediagroup method min minlength multiple muted name novalidate nonce open
optimum pattern placeholder poster preload radiogroup readonly rel required
reversed role rowspan rows sandbox scope scoped scrolling seamless selected
shape size sizes span spellcheck src srcdoc srclang srcset start step style
summary tabindex target title type usemap value width wmode wrap`,Gj=`onCopy onCut onPaste onCompositionend onCompositionstart onCompositionupdate onKeydown
    onKeypress onKeyup onFocus onBlur onChange onInput onSubmit onClick onContextmenu onDoubleclick onDblclick
    onDrag onDragend onDragenter onDragexit onDragleave onDragover onDragstart onDrop onMousedown
    onMouseenter onMouseleave onMousemove onMouseout onMouseover onMouseup onSelect onTouchcancel
    onTouchend onTouchmove onTouchstart onTouchstartPassive onTouchmovePassive onScroll onWheel onAbort onCanplay onCanplaythrough
    onDurationchange onEmptied onEncrypted onEnded onError onLoadeddata onLoadedmetadata
    onLoadstart onPause onPlay onPlaying onProgress onRatechange onSeeked onSeeking onStalled onSuspend onTimeupdate onVolumechange onWaiting onLoad onError`,nI=`${Vj} ${Gj}`.split(/[\s\n]+/),Wj="aria-",Xj="data-";function iI(t,e){return t.indexOf(e)===0}function FT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=z({},e);const i={};return Object.keys(t).forEach(r=>{(n.aria&&(r==="role"||iI(r,Wj))||n.data&&iI(r,Xj)||n.attr&&(nI.includes(r)||nI.includes(r.toLowerCase())))&&(i[r]=t[r])}),i}const PB=Symbol("OverflowContextProviderKey"),uw=Be({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup(t,e){let{slots:n}=e;return kn(PB,W(()=>t.value)),()=>{var i;return(i=n.default)===null||i===void 0?void 0:i.call(n)}}}),jj=()=>kt(PB,W(()=>null));var Yj=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const mu=void 0,Ng=Be({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:pe.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:pe.any,invalidate:Boolean},setup(t,e){let{slots:n,expose:i}=e;const r=W(()=>t.responsive&&!t.display),o=je();i({itemNodeRef:o});function a(s){t.registerSize(t.itemKey,s)}return ra(()=>{a(null)}),()=>{var s;const{prefixCls:l,invalidate:c,item:u,renderItem:f,responsive:h,registerSize:d,itemKey:p,display:g,order:v,component:m="div"}=t,y=Yj(t,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),_=(s=n.default)===null||s===void 0?void 0:s.call(n),b=f&&u!==mu?f(u):_;let T;c||(T={opacity:r.value?0:1,height:r.value?0:mu,overflowY:r.value?"hidden":mu,order:h?v:mu,pointerEvents:r.value?"none":mu,position:r.value?"absolute":mu});const x={};return r.value&&(x["aria-hidden"]=!0),B(dT,{disabled:!h,onResize:S=>{let{offsetWidth:C}=S;a(C)}},{default:()=>B(m,we(we(we({class:qe(!c&&l),style:T},x),y),{},{ref:o}),{default:()=>[b]})})}}});var sx=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const qj=Be({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:pe.any,title:pe.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},role:String,tabindex:Number},setup(t,e){let{slots:n,attrs:i}=e;const r=jj();return()=>{var o;if(!r.value){const{component:f="div"}=t,h=sx(t,["component"]);return B(f,we(we({},h),i),{default:()=>[(o=n.default)===null||o===void 0?void 0:o.call(n)]})}const a=r.value,{className:s}=a,l=sx(a,["className"]),{class:c}=i,u=sx(i,["class"]);return B(uw,{value:null},{default:()=>[B(Ng,we(we(we({class:qe(s,c)},l),u),t),n)]})}}});var Kj=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const IB="responsive",RB="invalidate";function Zj(t){return`+ ${t.length} ...`}const Jj=()=>({id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:pe.any,component:String,itemComponent:pe.any,onVisibleChange:Function,ssr:String,onMousedown:Function,role:String}),v_=Be({name:"Overflow",inheritAttrs:!1,props:Jj(),emits:["visibleChange"],setup(t,e){let{attrs:n,emit:i,slots:r}=e;const o=W(()=>t.ssr==="full"),a=Fe(null),s=W(()=>a.value||0),l=Fe(new Map),c=Fe(0),u=Fe(0),f=Fe(0),h=Fe(null),d=Fe(null),p=W(()=>d.value===null&&o.value?Number.MAX_SAFE_INTEGER:d.value||0),g=Fe(!1),v=W(()=>`${t.prefixCls}-item`),m=W(()=>Math.max(c.value,u.value)),y=W(()=>!!(t.data.length&&t.maxCount===IB)),_=W(()=>t.maxCount===RB),b=W(()=>y.value||typeof t.maxCount=="number"&&t.data.length>t.maxCount),T=W(()=>{let E=t.data;return y.value?a.value===null&&o.value?E=t.data:E=t.data.slice(0,Math.min(t.data.length,s.value/t.itemWidth)):typeof t.maxCount=="number"&&(E=t.data.slice(0,t.maxCount)),E}),x=W(()=>y.value?t.data.slice(p.value+1):t.data.slice(T.value.length)),S=(E,O)=>{var $;return typeof t.itemKey=="function"?t.itemKey(E):($=t.itemKey&&(E==null?void 0:E[t.itemKey]))!==null&&$!==void 0?$:O},C=W(()=>t.renderItem||(E=>E)),M=(E,O)=>{d.value=E,O||(g.value=E<t.data.length-1,i("visibleChange",E))},w=(E,O)=>{a.value=O.clientWidth},A=(E,O)=>{const $=new Map(l.value);O===null?$.delete(E):$.set(E,O),l.value=$},P=(E,O)=>{c.value=u.value,u.value=O},R=(E,O)=>{f.value=O},L=E=>l.value.get(S(T.value[E],E));return Ke([s,l,u,f,()=>t.itemKey,T],()=>{if(s.value&&m.value&&T.value){let E=f.value;const O=T.value.length,$=O-1;if(!O){M(0),h.value=null;return}for(let H=0;H<O;H+=1){const V=L(H);if(V===void 0){M(H-1,!0);break}if(E+=V,$===0&&E<=s.value||H===$-1&&E+L($)<=s.value){M($),h.value=null;break}else if(E+m.value>s.value){M(H-1),h.value=E-V-f.value+u.value;break}}t.suffix&&L(0)+f.value>s.value&&(h.value=null)}}),()=>{const E=g.value&&!!x.value.length,{itemComponent:O,renderRawItem:$,renderRawRest:H,renderRest:V,prefixCls:Y="rc-overflow",suffix:ae,component:oe="div",id:xe,onMousedown:Z}=t,{class:ve,style:ye}=n,ge=Kj(n,["class","style"]);let Ce={};h.value!==null&&y.value&&(Ce={position:"absolute",left:`${h.value}px`,top:0});const ce={prefixCls:v.value,responsive:y.value,component:O,invalidate:_.value},J=$?(I,K)=>{const X=S(I,K);return B(uw,{key:X,value:z(z({},ce),{order:K,item:I,itemKey:X,registerSize:A,display:K<=p.value})},{default:()=>[$(I,K)]})}:(I,K)=>{const X=S(I,K);return B(Ng,we(we({},ce),{},{order:K,key:X,item:I,renderItem:C.value,itemKey:X,registerSize:A,display:K<=p.value}),null)};let Q=()=>null;const D={order:E?p.value:Number.MAX_SAFE_INTEGER,className:`${v.value} ${v.value}-rest`,registerSize:P,display:E};if(H)H&&(Q=()=>B(uw,{value:z(z({},ce),D)},{default:()=>[H(x.value)]}));else{const I=V||Zj;Q=()=>B(Ng,we(we({},ce),D),{default:()=>typeof I=="function"?I(x.value):I})}const U=()=>{var I;return B(oe,we({id:xe,class:qe(!_.value&&Y,ve),style:ye,onMousedown:Z,role:t.role},ge),{default:()=>[T.value.map(J),b.value?Q():null,ae&&B(Ng,we(we({},ce),{},{order:p.value,class:`${v.value}-suffix`,registerSize:R,display:!0,style:Ce}),{default:()=>ae}),(I=r.default)===null||I===void 0?void 0:I.call(r)]})};return B(dT,{disabled:!y.value,onResize:w},{default:U})}}});v_.Item=qj;v_.RESPONSIVE=IB;v_.INVALIDATE=RB;const Qj=Symbol("TreeSelectLegacyContextPropsKey");function BT(){return kt(Qj,{})}const eY={id:String,prefixCls:String,values:pe.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:pe.any,placeholder:pe.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:pe.oneOfType([pe.number,pe.string]),compositionStatus:Boolean,removeIcon:pe.any,choiceTransitionName:String,maxTagCount:pe.oneOfType([pe.number,pe.string]),maxTagTextLength:Number,maxTagPlaceholder:pe.any.def(()=>t=>`+ ${t.length} ...`),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},rI=t=>{t.preventDefault(),t.stopPropagation()},tY=Be({name:"MultipleSelectSelector",inheritAttrs:!1,props:eY,setup(t){const e=Fe(),n=Fe(0),i=Fe(!1),r=BT(),o=W(()=>`${t.prefixCls}-selection`),a=W(()=>t.open||t.mode==="tags"?t.searchValue:""),s=W(()=>t.mode==="tags"||t.showSearch&&(t.open||i.value)),l=je("");ni(()=>{l.value=a.value}),ln(()=>{Ke(l,()=>{n.value=e.value.scrollWidth},{flush:"post",immediate:!0})});function c(p,g,v,m,y){return B("span",{class:qe(`${o.value}-item`,{[`${o.value}-item-disabled`]:v}),title:typeof p=="string"||typeof p=="number"?p.toString():void 0},[B("span",{class:`${o.value}-item-content`},[g]),m&&B(zc,{class:`${o.value}-item-remove`,onMousedown:rI,onClick:y,customizeIcon:t.removeIcon},{default:()=>[Df("×")]})])}function u(p,g,v,m,y,_){var b;const T=S=>{rI(S),t.onToggleOpen(!open)};let x=_;return r.keyEntities&&(x=((b=r.keyEntities[p])===null||b===void 0?void 0:b.node)||{}),B("span",{key:p,onMousedown:T},[t.tagRender({label:g,value:p,disabled:v,closable:m,onClose:y,option:x})])}function f(p){const{disabled:g,label:v,value:m,option:y}=p,_=!t.disabled&&!g;let b=v;if(typeof t.maxTagTextLength=="number"&&(typeof v=="string"||typeof v=="number")){const x=String(b);x.length>t.maxTagTextLength&&(b=`${x.slice(0,t.maxTagTextLength)}...`)}const T=x=>{var S;x&&x.stopPropagation(),(S=t.onRemove)===null||S===void 0||S.call(t,p)};return typeof t.tagRender=="function"?u(m,b,g,_,T,y):c(v,b,g,_,T)}function h(p){const{maxTagPlaceholder:g=m=>`+ ${m.length} ...`}=t,v=typeof g=="function"?g(p):g;return c(v,v,!1)}const d=p=>{const g=p.target.composing;l.value=p.target.value,g||t.onInputChange(p)};return()=>{const{id:p,prefixCls:g,values:v,open:m,inputRef:y,placeholder:_,disabled:b,autofocus:T,autocomplete:x,activeDescendantId:S,tabindex:C,compositionStatus:M,onInputPaste:w,onInputKeyDown:A,onInputMouseDown:P,onInputCompositionStart:R,onInputCompositionEnd:L}=t,E=B("div",{class:`${o.value}-search`,style:{width:n.value+"px"},key:"input"},[B(EB,{inputRef:y,open:m,prefixCls:g,id:p,inputElement:null,disabled:b,autofocus:T,autocomplete:x,editable:s.value,activeDescendantId:S,value:l.value,onKeydown:A,onMousedown:P,onChange:d,onPaste:w,onCompositionstart:R,onCompositionend:L,tabindex:C,attrs:FT(t,!0),onFocus:()=>i.value=!0,onBlur:()=>i.value=!1},null),B("span",{ref:e,class:`${o.value}-search-mirror`,"aria-hidden":!0},[l.value,Df(" ")])]),O=B(v_,{prefixCls:`${o.value}-overflow`,data:v,renderItem:f,renderRest:h,suffix:E,itemKey:"key",maxCount:t.maxTagCount,key:"overflow"},null);return B(Ht,null,[O,!v.length&&!a.value&&!M&&B("span",{class:`${o.value}-placeholder`},[_])])}}}),nY={inputElement:pe.any,id:String,prefixCls:String,values:pe.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:pe.any,placeholder:pe.any,compositionStatus:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:pe.oneOfType([pe.number,pe.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},UT=Be({name:"SingleSelector",setup(t){const e=Fe(!1),n=W(()=>t.mode==="combobox"),i=W(()=>n.value||t.showSearch),r=W(()=>{let u=t.searchValue||"";return n.value&&t.activeValue&&!e.value&&(u=t.activeValue),u}),o=BT();Ke([n,()=>t.activeValue],()=>{n.value&&(e.value=!1)},{immediate:!0});const a=W(()=>t.mode!=="combobox"&&!t.open&&!t.showSearch?!1:!!r.value||t.compositionStatus),s=W(()=>{const u=t.values[0];return u&&(typeof u.label=="string"||typeof u.label=="number")?u.label.toString():void 0}),l=()=>{if(t.values[0])return null;const u=a.value?{visibility:"hidden"}:void 0;return B("span",{class:`${t.prefixCls}-selection-placeholder`,style:u},[t.placeholder])},c=u=>{u.target.composing||(e.value=!0,t.onInputChange(u))};return()=>{var u,f,h,d;const{inputElement:p,prefixCls:g,id:v,values:m,inputRef:y,disabled:_,autofocus:b,autocomplete:T,activeDescendantId:x,open:S,tabindex:C,optionLabelRender:M,onInputKeyDown:w,onInputMouseDown:A,onInputPaste:P,onInputCompositionStart:R,onInputCompositionEnd:L}=t,E=m[0];let O=null;if(E&&o.customSlots){const $=(u=E.key)!==null&&u!==void 0?u:E.value,H=((f=o.keyEntities[$])===null||f===void 0?void 0:f.node)||{};O=o.customSlots[(h=H.slots)===null||h===void 0?void 0:h.title]||o.customSlots.title||E.label,typeof O=="function"&&(O=O(H))}else O=M&&E?M(E.option):E==null?void 0:E.label;return B(Ht,null,[B("span",{class:`${g}-selection-search`},[B(EB,{inputRef:y,prefixCls:g,id:v,open:S,inputElement:p,disabled:_,autofocus:b,autocomplete:T,editable:i.value,activeDescendantId:x,value:r.value,onKeydown:w,onMousedown:A,onChange:c,onPaste:P,onCompositionstart:R,onCompositionend:L,tabindex:C,attrs:FT(t,!0)},null)]),!n.value&&E&&!a.value&&B("span",{class:`${g}-selection-item`,title:s.value},[B(Ht,{key:(d=E.key)!==null&&d!==void 0?d:E.value},[O])]),l()])}}});UT.props=nY;UT.inheritAttrs=!1;function iY(t){return![Pe.ESC,Pe.SHIFT,Pe.BACKSPACE,Pe.TAB,Pe.WIN_KEY,Pe.ALT,Pe.META,Pe.WIN_KEY_RIGHT,Pe.CTRL,Pe.SEMICOLON,Pe.EQUALS,Pe.CAPS_LOCK,Pe.CONTEXT_MENU,Pe.F1,Pe.F2,Pe.F3,Pe.F4,Pe.F5,Pe.F6,Pe.F7,Pe.F8,Pe.F9,Pe.F10,Pe.F11,Pe.F12].includes(t)}function DB(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=null,n;rr(()=>{clearTimeout(n)});function i(r){(r||e===null)&&(e=r),clearTimeout(n),n=setTimeout(()=>{e=null},t)}return[()=>e,i]}function Sp(){const t=e=>{t.current=e};return t}const rY=Be({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:pe.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:pe.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:pe.oneOfType([pe.number,pe.string]),disabled:{type:Boolean,default:void 0},placeholder:pe.any,removeIcon:pe.any,maxTagCount:pe.oneOfType([pe.number,pe.string]),maxTagTextLength:Number,maxTagPlaceholder:pe.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup(t,e){let{expose:n}=e;const i=Sp(),r=je(!1),[o,a]=DB(0),s=m=>{const{which:y}=m;(y===Pe.UP||y===Pe.DOWN)&&m.preventDefault(),t.onInputKeyDown&&t.onInputKeyDown(m),y===Pe.ENTER&&t.mode==="tags"&&!r.value&&!t.open&&t.onSearchSubmit(m.target.value),iY(y)&&t.onToggleOpen(!0)},l=()=>{a(!0)};let c=null;const u=m=>{t.onSearch(m,!0,r.value)!==!1&&t.onToggleOpen(!0)},f=()=>{r.value=!0},h=m=>{r.value=!1,t.mode!=="combobox"&&u(m.target.value)},d=m=>{let{target:{value:y}}=m;if(t.tokenWithEnter&&c&&/[\r\n]/.test(c)){const _=c.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");y=y.replace(_,c)}c=null,u(y)},p=m=>{const{clipboardData:y}=m;c=y.getData("text")},g=m=>{let{target:y}=m;y!==i.current&&(document.body.style.msTouchAction!==void 0?setTimeout(()=>{i.current.focus()}):i.current.focus())},v=m=>{const y=o();m.target!==i.current&&!y&&m.preventDefault(),(t.mode!=="combobox"&&(!t.showSearch||!y)||!t.open)&&(t.open&&t.onSearch("",!0,!1),t.onToggleOpen())};return n({focus:()=>{i.current.focus()},blur:()=>{i.current.blur()}}),()=>{const{prefixCls:m,domRef:y,mode:_}=t,b={inputRef:i,onInputKeyDown:s,onInputMouseDown:l,onInputChange:d,onInputPaste:p,compositionStatus:r.value,onInputCompositionStart:f,onInputCompositionEnd:h},T=_==="multiple"||_==="tags"?B(tY,we(we({},t),b),null):B(UT,we(we({},t),b),null);return B("div",{ref:y,class:`${m}-selector`,onClick:g,onMousedown:v},[T])}}});function oY(t,e,n){function i(r){var o,a,s;let l=r.target;l.shadowRoot&&r.composed&&(l=r.composedPath()[0]||l);const c=[(o=t[0])===null||o===void 0?void 0:o.value,(s=(a=t[1])===null||a===void 0?void 0:a.value)===null||s===void 0?void 0:s.getPopupElement()];e.value&&c.every(u=>u&&!u.contains(l)&&u!==l)&&n(!1)}ln(()=>{window.addEventListener("mousedown",i)}),rr(()=>{window.removeEventListener("mousedown",i)})}function aY(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;const e=Fe(!1);let n;const i=()=>{clearTimeout(n)};return ln(()=>{i()}),[e,(o,a)=>{i(),n=setTimeout(()=>{e.value=o,a&&a()},t)},i]}const OB=Symbol("BaseSelectContextKey");function sY(t){return kn(OB,t)}function lY(){return kt(OB,{})}const cY=()=>{if(typeof navigator>"u"||typeof window>"u")return!1;const t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substring(0,4))};function LB(t){if(!en(t))return zn(t);const e=new Proxy({},{get(n,i,r){return Reflect.get(t.value,i,r)},set(n,i,r){return t.value[i]=r,!0},deleteProperty(n,i){return Reflect.deleteProperty(t.value,i)},has(n,i){return Reflect.has(t.value,i)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return zn(e)}var uY=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const fY=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],hY=()=>({prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:pe.any,emptyOptions:Boolean}),NB=()=>({showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:pe.any,placeholder:pe.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:pe.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:pe.any,clearIcon:pe.any,removeIcon:pe.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}),dY=()=>z(z({},hY()),NB());function FB(t){return t==="tags"||t==="multiple"}const pY=Be({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:Ja(dY(),{showAction:[],notFoundContent:"Not Found"}),setup(t,e){let{attrs:n,expose:i,slots:r}=e;const o=W(()=>FB(t.mode)),a=W(()=>t.showSearch!==void 0?t.showSearch:o.value||t.mode==="combobox"),s=Fe(!1);ln(()=>{s.value=cY()});const l=BT(),c=Fe(null),u=Sp(),f=Fe(null),h=Fe(null),d=Fe(null),p=je(!1),[g,v,m]=aY();i({focus:()=>{var J;(J=h.value)===null||J===void 0||J.focus()},blur:()=>{var J;(J=h.value)===null||J===void 0||J.blur()},scrollTo:J=>{var Q;return(Q=d.value)===null||Q===void 0?void 0:Q.scrollTo(J)}});const b=W(()=>{var J;if(t.mode!=="combobox")return t.searchValue;const Q=(J=t.displayValues[0])===null||J===void 0?void 0:J.value;return typeof Q=="string"||typeof Q=="number"?String(Q):""}),T=t.open!==void 0?t.open:t.defaultOpen,x=Fe(T),S=Fe(T),C=J=>{x.value=t.open!==void 0?t.open:J,S.value=x.value};Ke(()=>t.open,()=>{C(t.open)});const M=W(()=>!t.notFoundContent&&t.emptyOptions);ni(()=>{S.value=x.value,(t.disabled||M.value&&S.value&&t.mode==="combobox")&&(S.value=!1)});const w=W(()=>M.value?!1:S.value),A=J=>{const Q=J!==void 0?J:!S.value;S.value!==Q&&!t.disabled&&(C(Q),t.onDropdownVisibleChange&&t.onDropdownVisibleChange(Q),!Q&&oe.value&&(oe.value=!1,v(!1,()=>{Y.value=!1,p.value=!1})))},P=W(()=>(t.tokenSeparators||[]).some(J=>[`
`,`\r
`].includes(J))),R=(J,Q,D)=>{var U,I;let K=!0,X=J;(U=t.onActiveValueChange)===null||U===void 0||U.call(t,null);const te=D?null:Q8(J,t.tokenSeparators);return t.mode!=="combobox"&&te&&(X="",(I=t.onSearchSplit)===null||I===void 0||I.call(t,te),A(!1),K=!1),t.onSearch&&b.value!==X&&t.onSearch(X,{source:Q?"typing":"effect"}),K},L=J=>{var Q;!J||!J.trim()||(Q=t.onSearch)===null||Q===void 0||Q.call(t,J,{source:"submit"})};Ke(S,()=>{!S.value&&!o.value&&t.mode!=="combobox"&&R("",!1,!1)},{immediate:!0,flush:"post"}),Ke(()=>t.disabled,()=>{x.value&&t.disabled&&C(!1),t.disabled&&!p.value&&v(!1)},{immediate:!0});const[E,O]=DB(),$=function(J){var Q;const D=E(),{which:U}=J;if(U===Pe.ENTER&&(t.mode!=="combobox"&&J.preventDefault(),S.value||A(!0)),O(!!b.value),U===Pe.BACKSPACE&&!D&&o.value&&!b.value&&t.displayValues.length){const te=[...t.displayValues];let ee=null;for(let fe=te.length-1;fe>=0;fe-=1){const le=te[fe];if(!le.disabled){te.splice(fe,1),ee=le;break}}ee&&t.onDisplayValuesChange(te,{type:"remove",values:[ee]})}for(var I=arguments.length,K=new Array(I>1?I-1:0),X=1;X<I;X++)K[X-1]=arguments[X];S.value&&d.value&&d.value.onKeydown(J,...K),(Q=t.onKeydown)===null||Q===void 0||Q.call(t,J,...K)},H=function(J){for(var Q=arguments.length,D=new Array(Q>1?Q-1:0),U=1;U<Q;U++)D[U-1]=arguments[U];S.value&&d.value&&d.value.onKeyup(J,...D),t.onKeyup&&t.onKeyup(J,...D)},V=J=>{const Q=t.displayValues.filter(D=>D!==J);t.onDisplayValuesChange(Q,{type:"remove",values:[J]})},Y=Fe(!1),ae=function(){v(!0),t.disabled||(t.onFocus&&!Y.value&&t.onFocus(...arguments),t.showAction&&t.showAction.includes("focus")&&A(!0)),Y.value=!0},oe=je(!1),xe=function(){if(oe.value||(p.value=!0,v(!1,()=>{Y.value=!1,p.value=!1,A(!1)}),t.disabled))return;const J=b.value;J&&(t.mode==="tags"?t.onSearch(J,{source:"submit"}):t.mode==="multiple"&&t.onSearch("",{source:"blur"})),t.onBlur&&t.onBlur(...arguments)},Z=()=>{oe.value=!0},ve=()=>{oe.value=!1};kn("VCSelectContainerEvent",{focus:ae,blur:xe});const ye=[];ln(()=>{ye.forEach(J=>clearTimeout(J)),ye.splice(0,ye.length)}),rr(()=>{ye.forEach(J=>clearTimeout(J)),ye.splice(0,ye.length)});const ge=function(J){var Q,D;const{target:U}=J,I=(Q=f.value)===null||Q===void 0?void 0:Q.getPopupElement();if(I&&I.contains(U)){const ee=setTimeout(()=>{var fe;const le=ye.indexOf(ee);le!==-1&&ye.splice(le,1),m(),!s.value&&!I.contains(document.activeElement)&&((fe=h.value)===null||fe===void 0||fe.focus())});ye.push(ee)}for(var K=arguments.length,X=new Array(K>1?K-1:0),te=1;te<K;te++)X[te-1]=arguments[te];(D=t.onMousedown)===null||D===void 0||D.call(t,J,...X)},Ce=Fe(null),ce=()=>{};return ln(()=>{Ke(w,()=>{var J;if(w.value){const Q=Math.ceil((J=c.value)===null||J===void 0?void 0:J.offsetWidth);Ce.value!==Q&&!Number.isNaN(Q)&&(Ce.value=Q)}},{immediate:!0,flush:"post"})}),oY([c,f],w,A),sY(LB(z(z({},nT(t)),{open:S,triggerOpen:w,showSearch:a,multiple:o,toggleOpen:A}))),()=>{const J=z(z({},t),n),{prefixCls:Q,id:D,open:U,defaultOpen:I,mode:K,showSearch:X,searchValue:te,onSearch:ee,allowClear:fe,clearIcon:le,showArrow:F,inputIcon:N,disabled:j,loading:re,getInputElement:he,getPopupContainer:ue,placement:Ee,animation:Me,transitionName:Re,dropdownStyle:Ze,dropdownClassName:Te,dropdownMatchSelectWidth:Le,dropdownRender:Ye,dropdownAlign:it,showAction:De,direction:ot,tokenSeparators:lt,tagRender:Gt,optionLabelRender:ne,onPopupScroll:Ue,onDropdownVisibleChange:_e,onFocus:Se,onBlur:$e,onKeyup:ke,onKeydown:yt,onMousedown:fn,onClear:Tn,omitDomProps:Pt,getRawInputElement:Fi,displayValues:Bi,onDisplayValuesChange:wm,emptyOptions:Mm,activeDescendantId:fa,activeValue:bh,OptionList:Tm}=J,Cm=uY(J,["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"]),ll=K==="combobox"&&he&&he()||null,ts=typeof Fi=="function"&&Fi(),ns=z({},Cm);let xh;ts&&(xh=de=>{A(de)}),fY.forEach(de=>{delete ns[de]}),Pt==null||Pt.forEach(de=>{delete ns[de]});const Sh=F!==void 0?F:re||!o.value&&K!=="combobox";let Am;Sh&&(Am=B(zc,{class:qe(`${Q}-arrow`,{[`${Q}-arrow-loading`]:re}),customizeIcon:N,customizeIconProps:{loading:re,searchValue:b.value,open:S.value,focused:g.value,showSearch:a.value}},null));let Em;const Pb=()=>{Tn==null||Tn(),wm([],{type:"clear",values:Bi}),R("",!1,!1)};!j&&fe&&(Bi.length||b.value)&&(Em=B(zc,{class:`${Q}-clear`,onMousedown:Pb,customizeIcon:le},{default:()=>[Df("×")]}));const Ib=B(Tm,{ref:d},z(z({},l.customSlots),{option:r.option})),Rb=qe(Q,n.class,{[`${Q}-focused`]:g.value,[`${Q}-multiple`]:o.value,[`${Q}-single`]:!o.value,[`${Q}-allow-clear`]:fe,[`${Q}-show-arrow`]:Sh,[`${Q}-disabled`]:j,[`${Q}-loading`]:re,[`${Q}-open`]:S.value,[`${Q}-customize-input`]:ll,[`${Q}-show-search`]:a.value}),k=B(Bj,{ref:f,disabled:j,prefixCls:Q,visible:w.value,popupElement:Ib,containerWidth:Ce.value,animation:Me,transitionName:Re,dropdownStyle:Ze,dropdownClassName:Te,direction:ot,dropdownMatchSelectWidth:Le,dropdownRender:Ye,dropdownAlign:it,placement:Ee,getPopupContainer:ue,empty:Mm,getTriggerDOMNode:()=>u.current,onPopupVisibleChange:xh,onPopupMouseEnter:ce,onPopupFocusin:Z,onPopupFocusout:ve},{default:()=>ts?Nf(ts)&&So(ts,{ref:u},!1,!0):B(rY,we(we({},t),{},{domRef:u,prefixCls:Q,inputElement:ll,ref:h,id:D,showSearch:a.value,mode:K,activeDescendantId:fa,tagRender:Gt,optionLabelRender:ne,values:Bi,open:S.value,onToggleOpen:A,activeValue:bh,searchValue:b.value,onSearch:R,onSearchSubmit:L,onRemove:V,tokenWithEnter:P.value}),null)});let ie;return ts?ie=k:ie=B("div",we(we({},ns),{},{class:Rb,ref:c,onMousedown:ge,onKeydown:$,onKeyup:H}),[g.value&&!S.value&&B("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},[`${Bi.map(de=>{let{label:me,value:se}=de;return["number","string"].includes(typeof me)?me:se}).join(", ")}`]),k,Am,Em]),ie}}}),g_=(t,e)=>{let{height:n,offset:i,prefixCls:r,onInnerResize:o}=t,{slots:a}=e;var s;let l={},c={display:"flex",flexDirection:"column"};return i!==void 0&&(l={height:`${n}px`,position:"relative",overflow:"hidden"},c=z(z({},c),{transform:`translateY(${i}px)`,position:"absolute",left:0,right:0,top:0})),B("div",{style:l},[B(dT,{onResize:u=>{let{offsetHeight:f}=u;f&&o&&o()}},{default:()=>[B("div",{style:c,class:qe({[`${r}-holder-inner`]:r})},[(s=a.default)===null||s===void 0?void 0:s.call(a)])]})])};g_.displayName="Filter";g_.inheritAttrs=!1;g_.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const BB=(t,e)=>{let{setRef:n}=t,{slots:i}=e;var r;const o=Ki((r=i.default)===null||r===void 0?void 0:r.call(i));return o.length?Sr(o[0],{ref:n}):o};BB.props={setRef:{type:Function,default:()=>{}}};const mY=20;function oI(t){return"touches"in t?t.touches[0].pageY:t.pageY}const vY=Be({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup(){return{moveRaf:null,scrollbarRef:Sp(),thumbRef:Sp(),visibleTimeout:null,state:zn({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler(){this.delayHidden()},flush:"post"}},mounted(){var t,e;(t=this.scrollbarRef.current)===null||t===void 0||t.addEventListener("touchstart",this.onScrollbarTouchStart,Ci?{passive:!1}:!1),(e=this.thumbRef.current)===null||e===void 0||e.addEventListener("touchstart",this.onMouseDown,Ci?{passive:!1}:!1)},beforeUnmount(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden(){clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(()=>{this.state.visible=!1},2e3)},onScrollbarTouchStart(t){t.preventDefault()},onContainerMouseDown(t){t.stopPropagation(),t.preventDefault()},patchEvents(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,Ci?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,Ci?{passive:!1}:!1),this.thumbRef.current&&(this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,Ci?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,Ci?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp)),Rn.cancel(this.moveRaf)},onMouseDown(t){const{onStartMove:e}=this.$props;z(this.state,{dragging:!0,pageY:oI(t),startTop:this.getTop()}),e(),this.patchEvents(),t.stopPropagation(),t.preventDefault()},onMouseMove(t){const{dragging:e,pageY:n,startTop:i}=this.state,{onScroll:r}=this.$props;if(Rn.cancel(this.moveRaf),e){const o=oI(t)-n,a=i+o,s=this.getEnableScrollRange(),l=this.getEnableHeightRange(),c=l?a/l:0,u=Math.ceil(c*s);this.moveRaf=Rn(()=>{r(u)})}},onMouseUp(){const{onStopMove:t}=this.$props;this.state.dragging=!1,t(),this.removeEvents()},getSpinHeight(){const{height:t,scrollHeight:e}=this.$props;let n=t/e*100;return n=Math.max(n,mY),n=Math.min(n,t/2),Math.floor(n)},getEnableScrollRange(){const{scrollHeight:t,height:e}=this.$props;return t-e||0},getEnableHeightRange(){const{height:t}=this.$props,e=this.getSpinHeight();return t-e||0},getTop(){const{scrollTop:t}=this.$props,e=this.getEnableScrollRange(),n=this.getEnableHeightRange();return t===0||e===0?0:t/e*n},showScroll(){const{height:t,scrollHeight:e}=this.$props;return e>t}},render(){const{dragging:t,visible:e}=this.state,{prefixCls:n}=this.$props,i=this.getSpinHeight()+"px",r=this.getTop()+"px",o=this.showScroll(),a=o&&e;return B("div",{ref:this.scrollbarRef,class:qe(`${n}-scrollbar`,{[`${n}-scrollbar-show`]:o}),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:a?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[B("div",{ref:this.thumbRef,class:qe(`${n}-scrollbar-thumb`,{[`${n}-scrollbar-thumb-moving`]:t}),style:{width:"100%",height:i,top:r,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function gY(t,e,n,i){const r=new Map,o=new Map,a=je(Symbol("update"));Ke(t,()=>{a.value=Symbol("update")});let s;function l(){Rn.cancel(s)}function c(){l(),s=Rn(()=>{r.forEach((f,h)=>{if(f&&f.offsetParent){const{offsetHeight:d}=f;o.get(h)!==d&&(a.value=Symbol("update"),o.set(h,f.offsetHeight))}})})}function u(f,h){const d=e(f);r.get(d),h?(r.set(d,h.$el||h),c()):r.delete(d)}return ra(()=>{l()}),[u,c,o,a]}function yY(t,e,n,i,r,o,a,s){let l;return c=>{if(c==null){s();return}Rn.cancel(l);const u=e.value,f=i.itemHeight;if(typeof c=="number")a(c);else if(c&&typeof c=="object"){let h;const{align:d}=c;"index"in c?{index:h}=c:h=u.findIndex(v=>r(v)===c.key);const{offset:p=0}=c,g=(v,m)=>{if(v<0||!t.value)return;const y=t.value.clientHeight;let _=!1,b=m;if(y){const T=m||d;let x=0,S=0,C=0;const M=Math.min(u.length,h);for(let P=0;P<=M;P+=1){const R=r(u[P]);S=x;const L=n.get(R);C=S+(L===void 0?f:L),x=C,P===h&&L===void 0&&(_=!0)}const w=t.value.scrollTop;let A=null;switch(T){case"top":A=S-p;break;case"bottom":A=C-y+p;break;default:{const P=w+y;S<w?b="top":C>P&&(b="bottom")}}A!==null&&A!==w&&a(A)}l=Rn(()=>{_&&o(),g(v-1,b)},2)};g(5)}}}const _Y=typeof navigator=="object"&&/Firefox/i.test(navigator.userAgent),UB=(t,e)=>{let n=!1,i=null;function r(){clearTimeout(i),n=!0,i=setTimeout(()=>{n=!1},50)}return function(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=o<0&&t.value||o>0&&e.value;return a&&s?(clearTimeout(i),n=!1):(!s||n)&&r(),!n&&s}};function bY(t,e,n,i){let r=0,o=null,a=null,s=!1;const l=UB(e,n);function c(f){if(!t.value)return;Rn.cancel(o);const{deltaY:h}=f;r+=h,a=h,!l(h)&&(_Y||f.preventDefault(),o=Rn(()=>{i(r*(s?10:1)),r=0}))}function u(f){t.value&&(s=f.detail===a)}return[c,u]}const xY=14/15;function SY(t,e,n){let i=!1,r=0,o=null,a=null;const s=()=>{o&&(o.removeEventListener("touchmove",l),o.removeEventListener("touchend",c))},l=h=>{if(i){const d=Math.ceil(h.touches[0].pageY);let p=r-d;r=d,n(p)&&h.preventDefault(),clearInterval(a),a=setInterval(()=>{p*=xY,(!n(p,!0)||Math.abs(p)<=.1)&&clearInterval(a)},16)}},c=()=>{i=!1,s()},u=h=>{s(),h.touches.length===1&&!i&&(i=!0,r=Math.ceil(h.touches[0].pageY),o=h.target,o.addEventListener("touchmove",l,{passive:!1}),o.addEventListener("touchend",c))},f=()=>{};ln(()=>{document.addEventListener("touchmove",f,{passive:!1}),Ke(t,h=>{e.value.removeEventListener("touchstart",u),s(),clearInterval(a),h&&e.value.addEventListener("touchstart",u,{passive:!1})},{immediate:!0})}),rr(()=>{document.removeEventListener("touchmove",f)})}var wY=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const MY=[],TY={overflowY:"auto",overflowAnchor:"none"};function CY(t,e,n,i,r,o){let{getKey:a}=o;return t.slice(e,n+1).map((s,l)=>{const c=e+l,u=r(s,c,{}),f=a(s);return B(BB,{key:f,setRef:h=>i(s,h)},{default:()=>[u]})})}const AY=Be({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:pe.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup(t,e){let{expose:n}=e;const i=W(()=>{const{height:V,itemHeight:Y,virtual:ae}=t;return!!(ae!==!1&&V&&Y)}),r=W(()=>{const{height:V,itemHeight:Y,data:ae}=t;return i.value&&ae&&Y*ae.length>V}),o=zn({scrollTop:0,scrollMoving:!1}),a=W(()=>t.data||MY),s=Fe([]);Ke(a,()=>{s.value=xt(a.value).slice()},{immediate:!0});const l=Fe(V=>{});Ke(()=>t.itemKey,V=>{typeof V=="function"?l.value=V:l.value=Y=>Y==null?void 0:Y[V]},{immediate:!0});const c=Fe(),u=Fe(),f=Fe(),h=V=>l.value(V),d={getKey:h};function p(V){let Y;typeof V=="function"?Y=V(o.scrollTop):Y=V;const ae=x(Y);c.value&&(c.value.scrollTop=ae),o.scrollTop=ae}const[g,v,m,y]=gY(s,h),_=zn({scrollHeight:void 0,start:0,end:0,offset:void 0}),b=Fe(0);ln(()=>{Di(()=>{var V;b.value=((V=u.value)===null||V===void 0?void 0:V.offsetHeight)||0})}),Qs(()=>{Di(()=>{var V;b.value=((V=u.value)===null||V===void 0?void 0:V.offsetHeight)||0})}),Ke([i,s],()=>{i.value||z(_,{scrollHeight:void 0,start:0,end:s.value.length-1,offset:void 0})},{immediate:!0}),Ke([i,s,b,r],()=>{i.value&&!r.value&&z(_,{scrollHeight:b.value,start:0,end:s.value.length-1,offset:void 0}),c.value&&(o.scrollTop=c.value.scrollTop)},{immediate:!0}),Ke([r,i,()=>o.scrollTop,s,y,()=>t.height,b],()=>{if(!i.value||!r.value)return;let V=0,Y,ae,oe;const xe=s.value.length,Z=s.value,ve=o.scrollTop,{itemHeight:ye,height:ge}=t,Ce=ve+ge;for(let ce=0;ce<xe;ce+=1){const J=Z[ce],Q=h(J);let D=m.get(Q);D===void 0&&(D=ye);const U=V+D;Y===void 0&&U>=ve&&(Y=ce,ae=V),oe===void 0&&U>Ce&&(oe=ce),V=U}Y===void 0&&(Y=0,ae=0,oe=Math.ceil(ge/ye)),oe===void 0&&(oe=xe-1),oe=Math.min(oe+1,xe),z(_,{scrollHeight:V,start:Y,end:oe,offset:ae})},{immediate:!0});const T=W(()=>_.scrollHeight-t.height);function x(V){let Y=V;return Number.isNaN(T.value)||(Y=Math.min(Y,T.value)),Y=Math.max(Y,0),Y}const S=W(()=>o.scrollTop<=0),C=W(()=>o.scrollTop>=T.value),M=UB(S,C);function w(V){p(V)}function A(V){var Y;const{scrollTop:ae}=V.currentTarget;ae!==o.scrollTop&&p(ae),(Y=t.onScroll)===null||Y===void 0||Y.call(t,V)}const[P,R]=bY(i,S,C,V=>{p(Y=>Y+V)});SY(i,c,(V,Y)=>M(V,Y)?!1:(P({preventDefault(){},deltaY:V}),!0));function L(V){i.value&&V.preventDefault()}const E=()=>{c.value&&(c.value.removeEventListener("wheel",P,Ci?{passive:!1}:!1),c.value.removeEventListener("DOMMouseScroll",R),c.value.removeEventListener("MozMousePixelScroll",L))};ni(()=>{Di(()=>{c.value&&(E(),c.value.addEventListener("wheel",P,Ci?{passive:!1}:!1),c.value.addEventListener("DOMMouseScroll",R),c.value.addEventListener("MozMousePixelScroll",L))})}),rr(()=>{E()});const O=yY(c,s,m,t,h,v,p,()=>{var V;(V=f.value)===null||V===void 0||V.delayHidden()});n({scrollTo:O});const $=W(()=>{let V=null;return t.height&&(V=z({[t.fullHeight?"height":"maxHeight"]:t.height+"px"},TY),i.value&&(V.overflowY="hidden",o.scrollMoving&&(V.pointerEvents="none"))),V});return Ke([()=>_.start,()=>_.end,s],()=>{if(t.onVisibleChange){const V=s.value.slice(_.start,_.end+1);t.onVisibleChange(V,s.value)}},{flush:"post"}),{state:o,mergedData:s,componentStyle:$,onFallbackScroll:A,onScrollBar:w,componentRef:c,useVirtual:i,calRes:_,collectHeight:v,setInstance:g,sharedConfig:d,scrollBarRef:f,fillerInnerRef:u,delayHideScrollBar:()=>{var V;(V=f.value)===null||V===void 0||V.delayHidden()}}},render(){const t=z(z({},this.$props),this.$attrs),{prefixCls:e="rc-virtual-list",height:n,itemHeight:i,fullHeight:r,data:o,itemKey:a,virtual:s,component:l="div",onScroll:c,children:u=this.$slots.default,style:f,class:h}=t,d=wY(t,["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"]),p=qe(e,h),{scrollTop:g}=this.state,{scrollHeight:v,offset:m,start:y,end:_}=this.calRes,{componentStyle:b,onFallbackScroll:T,onScrollBar:x,useVirtual:S,collectHeight:C,sharedConfig:M,setInstance:w,mergedData:A,delayHideScrollBar:P}=this;return B("div",we({style:z(z({},f),{position:"relative"}),class:p},d),[B(l,{class:`${e}-holder`,style:b,ref:"componentRef",onScroll:T,onMouseenter:P},{default:()=>[B(g_,{prefixCls:e,height:v,offset:m,onInnerResize:C,ref:"fillerInnerRef"},{default:()=>CY(A,y,_,w,u,M)})]}),S&&B(vY,{ref:"scrollBarRef",prefixCls:e,scrollTop:g,height:n,scrollHeight:v,count:A.length,onScroll:x,onStartMove:()=>{this.state.scrollMoving=!0},onStopMove:()=>{this.state.scrollMoving=!1}},null)])}});function EY(t,e,n){const i=je(t());return Ke(e,(r,o)=>{n(r,o)&&(i.value=t())}),i}function PY(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}const zB=Symbol("SelectContextKey");function IY(t){return kn(zB,t)}function RY(){return kt(zB,{})}var DY=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function aI(t){return typeof t=="string"||typeof t=="number"}const OY=Be({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(t,e){let{expose:n,slots:i}=e;const r=lY(),o=RY(),a=W(()=>`${r.prefixCls}-item`),s=EY(()=>o.flattenOptions,[()=>r.open,()=>o.flattenOptions],T=>T[0]),l=Sp(),c=T=>{T.preventDefault()},u=T=>{l.current&&l.current.scrollTo(typeof T=="number"?{index:T}:T)},f=function(T){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const S=s.value.length;for(let C=0;C<S;C+=1){const M=(T+C*x+S)%S,{group:w,data:A}=s.value[M];if(!w&&!A.disabled)return M}return-1},h=zn({activeIndex:f(0)}),d=function(T){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;h.activeIndex=T;const S={source:x?"keyboard":"mouse"},C=s.value[T];if(!C){o.onActiveValue(null,-1,S);return}o.onActiveValue(C.value,T,S)};Ke([()=>s.value.length,()=>r.searchValue],()=>{d(o.defaultActiveFirstOption!==!1?f(0):-1)},{immediate:!0});const p=T=>o.rawValues.has(T)&&r.mode!=="combobox";Ke([()=>r.open,()=>r.searchValue],()=>{if(!r.multiple&&r.open&&o.rawValues.size===1){const T=Array.from(o.rawValues)[0],x=xt(s.value).findIndex(S=>{let{data:C}=S;return C[o.fieldNames.value]===T});x!==-1&&(d(x),Di(()=>{u(x)}))}r.open&&Di(()=>{var T;(T=l.current)===null||T===void 0||T.scrollTo(void 0)})},{immediate:!0,flush:"post"});const g=T=>{T!==void 0&&o.onSelect(T,{selected:!o.rawValues.has(T)}),r.multiple||r.toggleOpen(!1)},v=T=>typeof T.label=="function"?T.label():T.label;function m(T){const x=s.value[T];if(!x)return null;const S=x.data||{},{value:C}=S,{group:M}=x,w=FT(S,!0),A=v(x);return x?B("div",we(we({"aria-label":typeof A=="string"&&!M?A:null},w),{},{key:T,role:M?"presentation":"option",id:`${r.id}_list_${T}`,"aria-selected":p(C)}),[C]):null}return n({onKeydown:T=>{const{which:x,ctrlKey:S}=T;switch(x){case Pe.N:case Pe.P:case Pe.UP:case Pe.DOWN:{let C=0;if(x===Pe.UP?C=-1:x===Pe.DOWN?C=1:PY()&&S&&(x===Pe.N?C=1:x===Pe.P&&(C=-1)),C!==0){const M=f(h.activeIndex+C,C);u(M),d(M,!0)}break}case Pe.ENTER:{const C=s.value[h.activeIndex];C&&!C.data.disabled?g(C.value):g(void 0),r.open&&T.preventDefault();break}case Pe.ESC:r.toggleOpen(!1),r.open&&T.stopPropagation()}},onKeyup:()=>{},scrollTo:T=>{u(T)}}),()=>{const{id:T,notFoundContent:x,onPopupScroll:S}=r,{menuItemSelectedIcon:C,fieldNames:M,virtual:w,listHeight:A,listItemHeight:P}=o,R=i.option,{activeIndex:L}=h,E=Object.keys(M).map(O=>M[O]);return s.value.length===0?B("div",{role:"listbox",id:`${T}_list`,class:`${a.value}-empty`,onMousedown:c},[x]):B(Ht,null,[B("div",{role:"listbox",id:`${T}_list`,style:{height:0,width:0,overflow:"hidden"}},[m(L-1),m(L),m(L+1)]),B(AY,{itemKey:"key",ref:l,data:s.value,height:A,itemHeight:P,fullHeight:!1,onMousedown:c,onScroll:S,virtual:w},{default:(O,$)=>{var H;const{group:V,groupOption:Y,data:ae,value:oe}=O,{key:xe}=ae,Z=typeof O.label=="function"?O.label():O.label;if(V){const le=(H=ae.title)!==null&&H!==void 0?H:aI(Z)&&Z;return B("div",{class:qe(a.value,`${a.value}-group`),title:le},[R?R(ae):Z!==void 0?Z:xe])}const{disabled:ve,title:ye,children:ge,style:Ce,class:ce,className:J}=ae,Q=DY(ae,["disabled","title","children","style","class","className"]),D=c_(Q,E),U=p(oe),I=`${a.value}-option`,K=qe(a.value,I,ce,J,{[`${I}-grouped`]:Y,[`${I}-active`]:L===$&&!ve,[`${I}-disabled`]:ve,[`${I}-selected`]:U}),X=v(O),te=!C||typeof C=="function"||U,ee=typeof X=="number"?X:X||oe;let fe=aI(ee)?ee.toString():void 0;return ye!==void 0&&(fe=ye),B("div",we(we({},D),{},{"aria-selected":U,class:K,title:fe,onMousemove:le=>{Q.onMousemove&&Q.onMousemove(le),!(L===$||ve)&&d($)},onClick:le=>{ve||g(oe),Q.onClick&&Q.onClick(le)},style:Ce}),[B("div",{class:`${I}-content`},[R?R(ae):ee]),Nf(C)||U,te&&B(zc,{class:`${a.value}-option-state`,customizeIcon:C,customizeIconProps:{isSelected:U}},{default:()=>[U?"✓":null]})])}})])}}});var LY=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function NY(t){const e=t,{key:n,children:i}=e,r=e.props,{value:o,disabled:a}=r,s=LY(r,["value","disabled"]),l=i==null?void 0:i.default;return z({key:n,value:o!==void 0?o:n,children:l,disabled:a||a===""},s)}function kB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ki(t).map((i,r)=>{var o;if(!Nf(i)||!i.type)return null;const{type:{isSelectOptGroup:a},key:s,children:l,props:c}=i;if(e||!a)return NY(i);const u=l&&l.default?l.default():void 0,f=(c==null?void 0:c.label)||((o=l.label)===null||o===void 0?void 0:o.call(l))||s;return z(z({key:`__RC_SELECT_GRP__${s===null?r:String(s)}__`},c),{label:f,options:kB(u||[])})}).filter(i=>i)}function FY(t,e,n){const i=Fe(),r=Fe(),o=Fe(),a=Fe([]);return Ke([t,e],()=>{t.value?a.value=xt(t.value).slice():a.value=kB(e.value)},{immediate:!0,deep:!0}),ni(()=>{const s=a.value,l=new Map,c=new Map,u=n.value;function f(h){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(let p=0;p<h.length;p+=1){const g=h[p];!g[u.options]||d?(l.set(g[u.value],g),c.set(g[u.label],g)):f(g[u.options],!0)}}f(s),i.value=s,r.value=l,o.value=c}),{options:i,valueOptions:r,labelOptions:o}}let sI=0;const BY=Yr();function UY(){let t;return BY?(t=sI,sI+=1):t="TEST_OR_SSR",t}function zY(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:je("");const e=`rc_select_${UY()}`;return t.value||e}function $B(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}function lx(t,e){return $B(t).join("").toUpperCase().includes(e)}const kY=(t,e,n,i,r)=>W(()=>{const o=n.value,a=r==null?void 0:r.value,s=i==null?void 0:i.value;if(!o||s===!1)return t.value;const{options:l,label:c,value:u}=e.value,f=[],h=typeof s=="function",d=o.toUpperCase(),p=h?s:(v,m)=>a?lx(m[a],d):m[l]?lx(m[c!=="children"?c:"label"],d):lx(m[u],d),g=h?v=>tw(v):v=>v;return t.value.forEach(v=>{if(v[l]){if(p(o,g(v)))f.push(v);else{const y=v[l].filter(_=>p(o,g(_)));y.length&&f.push(z(z({},v),{[l]:y}))}return}p(o,g(v))&&f.push(v)}),f}),$Y=(t,e)=>{const n=Fe({values:new Map,options:new Map});return[W(()=>{const{values:o,options:a}=n.value,s=t.value.map(u=>{var f;return u.label===void 0?z(z({},u),{label:(f=o.get(u.value))===null||f===void 0?void 0:f.label}):u}),l=new Map,c=new Map;return s.forEach(u=>{l.set(u.value,u),c.set(u.value,e.value.get(u.value)||a.get(u.value))}),n.value.values=l,n.value.options=c,s}),o=>e.value.get(o)||n.value.options.get(o)]};function lI(t,e){const{defaultValue:n,value:i=je()}=e||{};let r=typeof t=="function"?t():t;i.value!==void 0&&(r=Ln(i)),n!==void 0&&(r=typeof n=="function"?n():n);const o=je(r),a=je(r);ni(()=>{let l=i.value!==void 0?i.value:o.value;e.postState&&(l=e.postState(l)),a.value=l});function s(l){const c=a.value;o.value=l,xt(a.value)!==l&&e.onChange&&e.onChange(l,c)}return Ke(i,()=>{o.value=i.value}),[a,s]}function cI(t){const e=typeof t=="function"?t():t,n=je(e);function i(r){n.value=r}return[n,i]}const HY=["inputValue"];function HB(){return z(z({},NB()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:pe.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:pe.any,defaultValue:pe.any,onChange:Function,children:Array})}function VY(t){return!t||typeof t!="object"}const GY=Be({compatConfig:{MODE:3},name:"VcSelect",inheritAttrs:!1,props:Ja(HB(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup(t,e){let{expose:n,attrs:i,slots:r}=e;const o=zY(ur(t,"id")),a=W(()=>FB(t.mode)),s=W(()=>!!(!t.options&&t.children)),l=W(()=>t.filterOption===void 0&&t.mode==="combobox"?!1:t.filterOption),c=W(()=>ZF(t.fieldNames,s.value)),[u,f]=lI("",{value:W(()=>t.searchValue!==void 0?t.searchValue:t.inputValue),postState:ce=>ce||""}),h=FY(ur(t,"options"),ur(t,"children"),c),{valueOptions:d,labelOptions:p,options:g}=h,v=ce=>$B(ce).map(Q=>{var D,U;let I,K,X,te;VY(Q)?I=Q:(X=Q.key,K=Q.label,I=(D=Q.value)!==null&&D!==void 0?D:X);const ee=d.value.get(I);return ee&&(K===void 0&&(K=ee==null?void 0:ee[t.optionLabelProp||c.value.label]),X===void 0&&(X=(U=ee==null?void 0:ee.key)!==null&&U!==void 0?U:I),te=ee==null?void 0:ee.disabled),{label:K,value:I,key:X,disabled:te,option:ee}}),[m,y]=lI(t.defaultValue,{value:ur(t,"value")}),_=W(()=>{var ce;const J=v(m.value);return t.mode==="combobox"&&!(!((ce=J[0])===null||ce===void 0)&&ce.value)?[]:J}),[b,T]=$Y(_,d),x=W(()=>{if(!t.mode&&b.value.length===1){const ce=b.value[0];if(ce.value===null&&(ce.label===null||ce.label===void 0))return[]}return b.value.map(ce=>{var J;return z(z({},ce),{label:(J=typeof ce.label=="function"?ce.label():ce.label)!==null&&J!==void 0?J:ce.value})})}),S=W(()=>new Set(b.value.map(ce=>ce.value)));ni(()=>{var ce;if(t.mode==="combobox"){const J=(ce=b.value[0])===null||ce===void 0?void 0:ce.value;J!=null&&f(String(J))}},{flush:"post"});const C=(ce,J)=>{const Q=J??ce;return{[c.value.value]:ce,[c.value.label]:Q}},M=Fe();ni(()=>{if(t.mode!=="tags"){M.value=g.value;return}const ce=g.value.slice(),J=Q=>d.value.has(Q);[...b.value].sort((Q,D)=>Q.value<D.value?-1:1).forEach(Q=>{const D=Q.value;J(D)||ce.push(C(D,Q.label))}),M.value=ce});const w=kY(M,c,u,l,ur(t,"optionFilterProp")),A=W(()=>t.mode!=="tags"||!u.value||w.value.some(ce=>ce[t.optionFilterProp||"value"]===u.value)?w.value:[C(u.value),...w.value]),P=W(()=>t.filterSort?[...A.value].sort((ce,J)=>t.filterSort(ce,J)):A.value),R=W(()=>J8(P.value,{fieldNames:c.value,childrenAsData:s.value})),L=ce=>{const J=v(ce);if(y(J),t.onChange&&(J.length!==b.value.length||J.some((Q,D)=>{var U;return((U=b.value[D])===null||U===void 0?void 0:U.value)!==(Q==null?void 0:Q.value)}))){const Q=t.labelInValue?J.map(U=>z(z({},U),{originLabel:U.label,label:typeof U.label=="function"?U.label():U.label})):J.map(U=>U.value),D=J.map(U=>tw(T(U.value)));t.onChange(a.value?Q:Q[0],a.value?D:D[0])}},[E,O]=cI(null),[$,H]=cI(0),V=W(()=>t.defaultActiveFirstOption!==void 0?t.defaultActiveFirstOption:t.mode!=="combobox"),Y=function(ce,J){let{source:Q="keyboard"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};H(J),t.backfill&&t.mode==="combobox"&&ce!==null&&Q==="keyboard"&&O(String(ce))},ae=(ce,J)=>{const Q=()=>{var D;const U=T(ce),I=U==null?void 0:U[c.value.label];return[t.labelInValue?{label:typeof I=="function"?I():I,originLabel:I,value:ce,key:(D=U==null?void 0:U.key)!==null&&D!==void 0?D:ce}:ce,tw(U)]};if(J&&t.onSelect){const[D,U]=Q();t.onSelect(D,U)}else if(!J&&t.onDeselect){const[D,U]=Q();t.onDeselect(D,U)}},oe=(ce,J)=>{let Q;const D=a.value?J.selected:!0;D?Q=a.value?[...b.value,ce]:[ce]:Q=b.value.filter(U=>U.value!==ce),L(Q),ae(ce,D),t.mode==="combobox"?O(""):(!a.value||t.autoClearSearchValue)&&(f(""),O(""))},xe=(ce,J)=>{L(ce),(J.type==="remove"||J.type==="clear")&&J.values.forEach(Q=>{ae(Q.value,!1)})},Z=(ce,J)=>{var Q;if(f(ce),O(null),J.source==="submit"){const D=(ce||"").trim();if(D){const U=Array.from(new Set([...S.value,D]));L(U),ae(D,!0),f("")}return}J.source!=="blur"&&(t.mode==="combobox"&&L(ce),(Q=t.onSearch)===null||Q===void 0||Q.call(t,ce))},ve=ce=>{let J=ce;t.mode!=="tags"&&(J=ce.map(D=>{const U=p.value.get(D);return U==null?void 0:U.value}).filter(D=>D!==void 0));const Q=Array.from(new Set([...S.value,...J]));L(Q),Q.forEach(D=>{ae(D,!0)})},ye=W(()=>t.virtual!==!1&&t.dropdownMatchSelectWidth!==!1);IY(LB(z(z({},h),{flattenOptions:R,onActiveValue:Y,defaultActiveFirstOption:V,onSelect:oe,menuItemSelectedIcon:ur(t,"menuItemSelectedIcon"),rawValues:S,fieldNames:c,virtual:ye,listHeight:ur(t,"listHeight"),listItemHeight:ur(t,"listItemHeight"),childrenAsData:s})));const ge=je();n({focus(){var ce;(ce=ge.value)===null||ce===void 0||ce.focus()},blur(){var ce;(ce=ge.value)===null||ce===void 0||ce.blur()},scrollTo(ce){var J;(J=ge.value)===null||J===void 0||J.scrollTo(ce)}});const Ce=W(()=>c_(t,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"]));return()=>B(pY,we(we(we({},Ce.value),i),{},{id:o,prefixCls:t.prefixCls,ref:ge,omitDomProps:HY,mode:t.mode,displayValues:x.value,onDisplayValuesChange:xe,searchValue:u.value,onSearch:Z,onSearchSplit:ve,dropdownMatchSelectWidth:t.dropdownMatchSelectWidth,OptionList:OY,emptyOptions:!R.value.length,activeValue:E.value,activeDescendantId:`${o}_list_${$.value}`}),r)}}),zT=()=>null;zT.isSelectOption=!0;zT.displayName="ASelectOption";const kT=()=>null;kT.isSelectOptGroup=!0;kT.displayName="ASelectOptGroup";var WY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},XY=Symbol("iconContext"),VB=function(){return kt(XY,{prefixCls:je("anticon"),rootClassName:je(""),csp:je()})};function $T(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function jY(t,e){return t&&t.contains?t.contains(e):!1}var uI="data-vc-order",YY="vc-icon-key",fw=new Map;function GB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):YY}function HT(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function qY(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function WB(t){return Array.from((fw.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function XB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!$T())return null;var n=e.csp,i=e.prepend,r=document.createElement("style");r.setAttribute(uI,qY(i)),n&&n.nonce&&(r.nonce=n.nonce),r.innerHTML=t;var o=HT(e),a=o.firstChild;if(i){if(i==="queue"){var s=WB(o).filter(function(l){return["prepend","prependQueue"].includes(l.getAttribute(uI))});if(s.length)return o.insertBefore(r,s[s.length-1].nextSibling),r}o.insertBefore(r,a)}else o.appendChild(r);return r}function KY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=HT(e);return WB(n).find(function(i){return i.getAttribute(GB(e))===t})}function ZY(t,e){var n=fw.get(t);if(!n||!jY(document,n)){var i=XB("",e),r=i.parentNode;fw.set(t,r),t.removeChild(i)}}function JY(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=HT(n);ZY(i,n);var r=KY(e,n);if(r)return n.csp&&n.csp.nonce&&r.nonce!==n.csp.nonce&&(r.nonce=n.csp.nonce),r.innerHTML!==t&&(r.innerHTML=t),r;var o=XB(t,n);return o.setAttribute(GB(n),e),o}function fI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){QY(t,r,n[r])})}return t}function QY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hI(t){return typeof t=="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(typeof t.icon=="object"||typeof t.icon=="function")}function hw(t,e,n){return n?Gs(t.tag,fI({key:e},n,t.attrs),(t.children||[]).map(function(i,r){return hw(i,"".concat(e,"-").concat(t.tag,"-").concat(r))})):Gs(t.tag,fI({key:e},t.attrs),(t.children||[]).map(function(i,r){return hw(i,"".concat(e,"-").concat(t.tag,"-").concat(r))}))}function jB(t){return Lc(t)[0]}function YB(t){return t?Array.isArray(t)?t:[t]:[]}var eq=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;function qB(t){return t&&t.getRootNode&&t.getRootNode()}function tq(t){return $T()?qB(t)instanceof ShadowRoot:!1}function nq(t){return tq(t)?qB(t):null}var iq=function(){var e=VB(),n=e.prefixCls,i=e.csp,r=el(),o=eq;n&&(o=o.replace(/anticon/g,n.value)),Di(function(){if($T()){var a=r.vnode.el,s=nq(a);JY(o,"@ant-design-vue-icons",{prepend:!0,csp:i.value,attachTo:s})}})},rq=["icon","primaryColor","secondaryColor"];function oq(t,e){if(t==null)return{};var n=aq(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function aq(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){sq(t,r,n[r])})}return t}function sq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ld=zn({primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1});function lq(t){var e=t.primaryColor,n=t.secondaryColor;Ld.primaryColor=e,Ld.secondaryColor=n||jB(e),Ld.calculated=!!n}function cq(){return Fg({},Ld)}var tl=function(e,n){var i=Fg({},e,n.attrs),r=i.icon,o=i.primaryColor,a=i.secondaryColor,s=oq(i,rq),l=Ld;if(o&&(l={primaryColor:o,secondaryColor:a||jB(o)}),hI(r),!hI(r))return null;var c=r;return c&&typeof c.icon=="function"&&(c=Fg({},c,{icon:c.icon(l.primaryColor,l.secondaryColor)})),hw(c.icon,"svg-".concat(c.name),Fg({},s,{"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};tl.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};tl.inheritAttrs=!1;tl.displayName="IconBase";tl.getTwoToneColors=cq;tl.setTwoToneColors=lq;function uq(t,e){return pq(t)||dq(t,e)||hq(t,e)||fq()}function fq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hq(t,e){if(t){if(typeof t=="string")return dI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(t,e)}}function dI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function dq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,o=!1,a,s;try{for(n=n.call(t);!(r=(a=n.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(l){o=!0,s=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(o)throw s}}return i}}function pq(t){if(Array.isArray(t))return t}function KB(t){var e=YB(t),n=uq(e,2),i=n[0],r=n[1];return tl.setTwoToneColors({primaryColor:i,secondaryColor:r})}function mq(){var t=tl.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var vq=Be({name:"InsertStyles",setup:function(){return iq(),function(){return null}}}),gq=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function yq(t,e){return Sq(t)||xq(t,e)||bq(t,e)||_q()}function _q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bq(t,e){if(t){if(typeof t=="string")return pI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pI(t,e)}}function pI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function xq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i=[],r=!0,o=!1,a,s;try{for(n=n.call(t);!(r=(a=n.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(l){o=!0,s=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(o)throw s}}return i}}function Sq(t){if(Array.isArray(t))return t}function mI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){pd(t,r,n[r])})}return t}function pd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wq(t,e){if(t==null)return{};var n=Mq(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function Mq(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}KB(i8.primary);var dn=function(e,n){var i,r=mI({},e,n.attrs),o=r.class,a=r.icon,s=r.spin,l=r.rotate,c=r.tabindex,u=r.twoToneColor,f=r.onClick,h=wq(r,gq),d=VB(),p=d.prefixCls,g=d.rootClassName,v=(i={},pd(i,g.value,!!g.value),pd(i,p.value,!0),pd(i,"".concat(p.value,"-").concat(a.name),!!a.name),pd(i,"".concat(p.value,"-spin"),!!s||a.name==="loading"),i),m=c;m===void 0&&f&&(m=-1);var y=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,_=YB(u),b=yq(_,2),T=b[0],x=b[1];return B("span",mI({role:"img","aria-label":a.name},h,{onClick:f,class:[v,o],tabindex:m}),[B(tl,{icon:a,primaryColor:T,secondaryColor:x,style:y},null),B(vq,null,null)])};dn.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:[String,Array]};dn.displayName="AntdIcon";dn.inheritAttrs=!1;dn.getTwoToneColor=mq;dn.setTwoToneColor=KB;function vI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){Tq(t,r,n[r])})}return t}function Tq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var VT=function(e,n){var i=vI({},e,n.attrs);return B(dn,vI({},i,{icon:WY}),null)};VT.displayName="DownOutlined";VT.inheritAttrs=!1;var Cq={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};function gI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){Aq(t,r,n[r])})}return t}function Aq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ah=function(e,n){var i=gI({},e,n.attrs);return B(dn,gI({},i,{icon:Cq}),null)};ah.displayName="LoadingOutlined";ah.inheritAttrs=!1;var Eq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};function yI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){Pq(t,r,n[r])})}return t}function Pq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y_=function(e,n){var i=yI({},e,n.attrs);return B(dn,yI({},i,{icon:Eq}),null)};y_.displayName="CheckOutlined";y_.inheritAttrs=!1;var Iq={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};function _I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){Rq(t,r,n[r])})}return t}function Rq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nl=function(e,n){var i=_I({},e,n.attrs);return B(dn,_I({},i,{icon:Iq}),null)};nl.displayName="CloseOutlined";nl.inheritAttrs=!1;var Dq={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};function bI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){Oq(t,r,n[r])})}return t}function Oq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var il=function(e,n){var i=bI({},e,n.attrs);return B(dn,bI({},i,{icon:Dq}),null)};il.displayName="CloseCircleFilled";il.inheritAttrs=!1;var Lq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){Nq(t,r,n[r])})}return t}function Nq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var GT=function(e,n){var i=xI({},e,n.attrs);return B(dn,xI({},i,{icon:Lq}),null)};GT.displayName="SearchOutlined";GT.inheritAttrs=!1;function Fq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{loading:n,multiple:i,prefixCls:r,hasFeedback:o,feedbackIcon:a,showArrow:s}=t,l=t.suffixIcon||e.suffixIcon&&e.suffixIcon(),c=t.clearIcon||e.clearIcon&&e.clearIcon(),u=t.menuItemSelectedIcon||e.menuItemSelectedIcon&&e.menuItemSelectedIcon(),f=t.removeIcon||e.removeIcon&&e.removeIcon(),h=c??B(il,null,null),d=m=>B(Ht,null,[s!==!1&&m,o&&a]);let p=null;if(l!==void 0)p=d(l);else if(n)p=d(B(ah,{spin:!0},null));else{const m=`${r}-suffix`;p=y=>{let{open:_,showSearch:b}=y;return d(_&&b?B(GT,{class:m},null):B(VT,{class:m},null))}}let g=null;u!==void 0?g=u:i?g=B(y_,null,null):g=null;let v=null;return f!==void 0?v=f:v=B(nl,null,null),{clearIcon:h,suffixIcon:p,itemIcon:g,removeIcon:v}}function ZB(t){const e=Symbol("contextKey");return{useProvide:(r,o)=>{const a=zn({});return kn(e,a),ni(()=>{z(a,r,o||{})}),a},useInject:()=>kt(e,t)||{}}}const SI=Symbol("ContextProps"),wI=Symbol("InternalContextProps"),MI={id:W(()=>{}),onFieldBlur:()=>{},onFieldChange:()=>{},clearValidate:()=>{}},TI={addFormItemField:()=>{},removeFormItemField:()=>{}},Bq=()=>{const t=kt(wI,TI),e=Symbol("FormItemFieldKey"),n=el();return t.addFormItemField(e,n.type),rr(()=>{t.removeFormItemField(e)}),kn(wI,TI),kn(SI,MI),kt(SI,MI)},Uq=ZB({});function zq(t,e,n){return qe({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const kq=(t,e)=>e||t,$q=t=>{const{componentCls:e}=t;return{[e]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},Hq=t=>{const{componentCls:e}=t;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item`]:{"&:empty":{display:"none"}}}}},Vq=Cr("Space",t=>[Hq(t),$q(t)]);function JB(t){return t}var CI=Object.create,Gq=function(){function t(){}return function(e){if(!nu(e))return{};if(CI)return CI(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Wq(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Xq(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var jq=800,Yq=16,qq=Date.now;function Kq(t){var e=0,n=0;return function(){var i=qq(),r=Yq-(i-n);if(n=i,r>0){if(++e>=jq)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Zq(t){return function(){return t}}var M0=function(){try{var t=ru(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Jq=M0?function(t,e){return M0(t,"toString",{configurable:!0,enumerable:!1,value:Zq(e),writable:!0})}:JB,Qq=Kq(Jq);function WT(t,e,n){e=="__proto__"&&M0?M0(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var eK=Object.prototype,tK=eK.hasOwnProperty;function nK(t,e,n){var i=t[e];(!(tK.call(t,e)&&nm(i,n))||n===void 0&&!(e in t))&&WT(t,e,n)}function iK(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=void 0;l===void 0&&(l=t[s]),r?WT(n,s,l):nK(n,s,l)}return n}var AI=Math.max;function rK(t,e,n){return e=AI(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=AI(i.length-e,0),a=Array(o);++r<o;)a[r]=i[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=i[r];return s[e]=n(a),Wq(t,this,s)}}function oK(t,e){return Qq(rK(t,e,JB),t+"")}function aK(t,e,n){if(!nu(n))return!1;var i=typeof e;return(i=="number"?im(n)&&dB(e,n.length):i=="string"&&e in n)?nm(n[e],t):!1}function sK(t){return oK(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(r--,o):void 0,a&&aK(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function lK(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var cK=Object.prototype,uK=cK.hasOwnProperty;function fK(t){if(!nu(t))return lK(t);var e=m_(t),n=[];for(var i in t)i=="constructor"&&(e||!uK.call(t,i))||n.push(i);return n}function QB(t){return im(t)?vB(t,!0):fK(t)}var eU=gB(Object.getPrototypeOf,Object),hK="[object Object]",dK=Function.prototype,pK=Object.prototype,tU=dK.toString,mK=pK.hasOwnProperty,vK=tU.call(Object);function gK(t){if(!Uc(t)||oh(t)!=hK)return!1;var e=eU(t);if(e===null)return!0;var n=mK.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&tU.call(n)==vK}var nU=typeof gr=="object"&&gr&&!gr.nodeType&&gr,EI=nU&&typeof yr=="object"&&yr&&!yr.nodeType&&yr,yK=EI&&EI.exports===nU,PI=yK?oa.Buffer:void 0;PI&&PI.allocUnsafe;function _K(t,e){return t.slice()}function bK(t){var e=new t.constructor(t.byteLength);return new S0(e).set(new S0(t)),e}function xK(t,e){var n=bK(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function SK(t){return typeof t.constructor=="function"&&!m_(t)?Gq(eU(t)):{}}function wK(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var l=a[++r];if(n(o[l],l,o)===!1)break}return e}}var MK=wK();function dw(t,e,n){(n!==void 0&&!nm(t[e],n)||n===void 0&&!(e in t))&&WT(t,e,n)}function TK(t){return Uc(t)&&im(t)}function pw(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function CK(t){return iK(t,QB(t))}function AK(t,e,n,i,r,o,a){var s=pw(t,n),l=pw(e,n),c=a.get(l);if(c){dw(t,n,c);return}var u=o?o(s,l,n+"",t,e,a):void 0,f=u===void 0;if(f){var h=Bc(l),d=!h&&xp(l),p=!h&&!d&&p_(l);u=l,h||d||p?Bc(s)?u=s:TK(s)?u=Xq(s):d?(f=!1,u=_K(l)):p?(f=!1,u=xK(l)):u=[]:gK(l)||w0(l)?(u=s,w0(s)?u=CK(s):(!nu(s)||LT(s))&&(u=SK(l))):f=!1}f&&(a.set(l,u),r(u,l,i,o,a),a.delete(l)),dw(t,n,u)}function iU(t,e,n,i,r){t!==e&&MK(e,function(o,a){if(r||(r=new Ua),nu(o))AK(t,e,a,n,iU,i,r);else{var s=i?i(pw(t,a),o,a+"",t,e,r):void 0;s===void 0&&(s=o),dw(t,a,s)}},QB)}var EK=sK(function(t,e,n,i){iU(t,e,n,i)}),PK="[object Map]",IK="[object Set]",RK=Object.prototype,DK=RK.hasOwnProperty;function XT(t){if(t==null)return!0;if(im(t)&&(Bc(t)||typeof t=="string"||typeof t.splice=="function"||xp(t)||p_(t)||w0(t)))return!t.length;var e=Ea(t);if(e==PK||e==IK)return!t.size;if(m_(t))return!yB(t).length;for(var n in t)if(DK.call(t,n))return!1;return!0}const OK=()=>({compactSize:String,compactDirection:pe.oneOf(p0("horizontal","vertical")).def("horizontal"),isFirstItem:Ai(),isLastItem:Ai()}),jT=ZB(null),LK=(t,e)=>{const n=jT.useInject(),i=W(()=>{if(!n||XT(n))return"";const{compactDirection:r,isFirstItem:o,isLastItem:a}=n,s=r==="vertical"?"-vertical-":"-";return qe({[`${t.value}-compact${s}item`]:!0,[`${t.value}-compact${s}first-item`]:o,[`${t.value}-compact${s}last-item`]:a,[`${t.value}-compact${s}item-rtl`]:e.value==="rtl"})});return{compactSize:W(()=>n==null?void 0:n.compactSize),compactDirection:W(()=>n==null?void 0:n.compactDirection),compactItemClassnames:i}},NK=()=>({prefixCls:String,size:{type:String},direction:pe.oneOf(p0("horizontal","vertical")).def("horizontal"),align:pe.oneOf(p0("start","end","center","baseline")),block:{type:Boolean,default:void 0}}),FK=Be({name:"CompactItem",props:OK(),setup(t,e){let{slots:n}=e;return jT.useProvide(t),()=>{var i;return(i=n.default)===null||i===void 0?void 0:i.call(n)}}});NK();const BK=t=>({animationDuration:t,animationFillMode:"both"}),UK=t=>({animationDuration:t,animationFillMode:"both"}),YT=function(t,e,n,i){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]:z(z({},BK(i)),{animationPlayState:"paused"}),[`${o}${t}-leave`]:z(z({},UK(i)),{animationPlayState:"paused"}),[`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},zK=new mt("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),kK=new mt("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),$K=new mt("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),HK=new mt("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),VK=new mt("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),GK=new mt("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),WK=new mt("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),XK=new mt("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),jK={"move-up":{inKeyframes:WK,outKeyframes:XK},"move-down":{inKeyframes:zK,outKeyframes:kK},"move-left":{inKeyframes:$K,outKeyframes:HK},"move-right":{inKeyframes:VK,outKeyframes:GK}},II=(t,e)=>{const{antCls:n}=t,i=`${n}-${e}`,{inKeyframes:r,outKeyframes:o}=jK[e];return[YT(i,r,o,t.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${i}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},rU=new mt("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),oU=new mt("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),aU=new mt("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),sU=new mt("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),YK=new mt("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),qK=new mt("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),KK=new mt("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),ZK=new mt("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),JK={"slide-up":{inKeyframes:rU,outKeyframes:oU},"slide-down":{inKeyframes:aU,outKeyframes:sU},"slide-left":{inKeyframes:YK,outKeyframes:qK},"slide-right":{inKeyframes:KK,outKeyframes:ZK}},RI=(t,e)=>{const{antCls:n}=t,i=`${n}-${e}`,{inKeyframes:r,outKeyframes:o}=JK[e];return[YT(i,r,o,t.motionDurationMid),{[`
      ${i}-enter,
      ${i}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint},[`${i}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},QK=new mt("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),eZ=new mt("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),DI=new mt("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),OI=new mt("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),tZ=new mt("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),nZ=new mt("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),iZ=new mt("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),rZ=new mt("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),oZ=new mt("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),aZ=new mt("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),sZ=new mt("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),lZ=new mt("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),cZ={zoom:{inKeyframes:QK,outKeyframes:eZ},"zoom-big":{inKeyframes:DI,outKeyframes:OI},"zoom-big-fast":{inKeyframes:DI,outKeyframes:OI},"zoom-left":{inKeyframes:iZ,outKeyframes:rZ},"zoom-right":{inKeyframes:oZ,outKeyframes:aZ},"zoom-up":{inKeyframes:tZ,outKeyframes:nZ},"zoom-down":{inKeyframes:sZ,outKeyframes:lZ}},uZ=(t,e)=>{const{antCls:n}=t,i=`${n}-${e}`,{inKeyframes:r,outKeyframes:o}=cZ[e];return[YT(i,r,o,t.motionDurationFast),{[`
        ${i}-enter,
        ${i}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${i}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},LI=t=>{const{controlPaddingHorizontal:e}=t;return{position:"relative",display:"block",minHeight:t.controlHeight,padding:`${(t.controlHeight-t.fontSize*t.lineHeight)/2}px ${e}px`,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,lineHeight:t.lineHeight,boxSizing:"border-box"}},fZ=t=>{const{antCls:e,componentCls:n}=t,i=`${n}-item`;return[{[`${n}-dropdown`]:z(z({},Kr(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
            &${e}-slide-up-enter${e}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${n}-dropdown-placement-bottomLeft
          `]:{animationName:rU},[`
            &${e}-slide-up-enter${e}-slide-up-enter-active${n}-dropdown-placement-topLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${n}-dropdown-placement-topLeft
          `]:{animationName:aU},[`&${e}-slide-up-leave${e}-slide-up-leave-active${n}-dropdown-placement-bottomLeft`]:{animationName:oU},[`&${e}-slide-up-leave${e}-slide-up-leave-active${n}-dropdown-placement-topLeft`]:{animationName:sU},"&-hidden":{display:"none"},"&-empty":{color:t.colorTextDisabled},[`${i}-empty`]:z(z({},LI(t)),{color:t.colorTextDisabled}),[`${i}`]:z(z({},LI(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":z({flex:"auto"},Z1),"&-state":{flex:"none"},[`&-active:not(${i}-option-disabled)`]:{backgroundColor:t.controlItemBgHover},[`&-selected:not(${i}-option-disabled)`]:{color:t.colorText,fontWeight:t.fontWeightStrong,backgroundColor:t.controlItemBgActive,[`${i}-option-state`]:{color:t.colorPrimary}},"&-disabled":{[`&${i}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},RI(t,"slide-up"),RI(t,"slide-down"),II(t,"move-up"),II(t,"move-down")]},vu=2;function lU(t){let{controlHeightSM:e,controlHeight:n,lineWidth:i}=t;const r=(n-e)/2-i,o=Math.ceil(r/2);return[r,o]}function cx(t,e){const{componentCls:n,iconCls:i}=t,r=`${n}-selection-overflow`,o=t.controlHeightSM,[a]=lU(t),s=e?`${n}-${e}`:"";return{[`${n}-multiple${s}`]:{fontSize:t.fontSize,[r]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:`${a-vu}px ${vu*2}px`,borderRadius:t.borderRadius,[`${n}-show-search&`]:{cursor:"text"},[`${n}-disabled&`]:{background:t.colorBgContainerDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${vu}px 0`,lineHeight:`${o}px`,content:'"\\a0"'}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.fontSizeIcon+t.controlPaddingHorizontal},[`${n}-selection-item`]:{position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:o,marginTop:vu,marginBottom:vu,lineHeight:`${o-t.lineWidth*2}px`,background:t.colorFillSecondary,border:`${t.lineWidth}px solid ${t.colorSplit}`,borderRadius:t.borderRadiusSM,cursor:"default",transition:`font-size ${t.motionDurationSlow}, line-height ${t.motionDurationSlow}, height ${t.motionDurationSlow}`,userSelect:"none",marginInlineEnd:vu*2,paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS/2,[`${n}-disabled&`]:{color:t.colorTextDisabled,borderColor:t.colorBorder,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":z(z({},ST()),{display:"inline-block",color:t.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${i}`]:{verticalAlign:"-0.2em"},"&:hover":{color:t.colorIconHover}})},[`${r}-item + ${r}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.inputPaddingHorizontalBase-a,"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:t.fontFamily,lineHeight:`${o}px`,transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder `]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}}}}function hZ(t){const{componentCls:e}=t,n=_n(t,{controlHeight:t.controlHeightSM,controlHeightSM:t.controlHeightXS,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),[,i]=lU(t);return[cx(t),cx(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInlineStart:t.controlPaddingHorizontalSM-t.lineWidth,insetInlineEnd:"auto"},[`${e}-selection-search`]:{marginInlineStart:i}}},cx(_n(t,{fontSize:t.fontSizeLG,controlHeight:t.controlHeightLG,controlHeightSM:t.controlHeight,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius}),"lg")]}function ux(t,e){const{componentCls:n,inputPaddingHorizontalBase:i,borderRadius:r}=t,o=t.controlHeight-t.lineWidth*2,a=Math.ceil(t.fontSize*1.25),s=e?`${n}-${e}`:"";return{[`${n}-single${s}`]:{fontSize:t.fontSize,[`${n}-selector`]:z(z({},Kr(t)),{display:"flex",borderRadius:r,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:i,insetInlineEnd:i,bottom:0,"&-input":{width:"100%"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:`${o}px`,transition:`all ${t.motionDurationSlow}`,"@supports (-moz-appearance: meterbar)":{lineHeight:`${o}px`}},[`${n}-selection-item`]:{position:"relative",userSelect:"none"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:after`,`${n}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:a},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:t.controlHeight,padding:`0 ${i}px`,[`${n}-selection-search-input`]:{height:o},"&:after":{lineHeight:`${o}px`}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${i}px`,"&:after":{display:"none"}}}}}}}function dZ(t){const{componentCls:e}=t,n=t.controlPaddingHorizontalSM-t.lineWidth;return[ux(t),ux(_n(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${e}-selector`]:{padding:`0 ${n}px`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:n+t.fontSize*1.5},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.fontSize*1.5}}}},ux(_n(t,{controlHeight:t.controlHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}function pZ(t,e,n){const{focusElCls:i,focus:r,borderElCls:o}=n,a=o?"> *":"",s=["hover",r?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${a}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-t.lineWidth},"&-item":z(z({[s]:{zIndex:2}},i?{[`&${i}`]:{zIndex:2}}:{}),{[`&[disabled] ${a}`]:{zIndex:0}})}}function mZ(t,e,n){const{borderElCls:i}=n,r=i?`> ${i}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${r}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${r}, &${t}-sm ${r}, &${t}-lg ${r}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${r}, &${t}-sm ${r}, &${t}-lg ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function vZ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,i=`${n}-compact`;return{[i]:z(z({},pZ(t,i,e)),mZ(n,i,e))}}const gZ=t=>{const{componentCls:e}=t;return{position:"relative",backgroundColor:t.colorBgContainer,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit"}},[`${e}-disabled&`]:{color:t.colorTextDisabled,background:t.colorBgContainerDisabled,cursor:"not-allowed",[`${e}-multiple&`]:{background:t.colorBgContainerDisabled},input:{cursor:"not-allowed"}}}},fx=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:i,borderHoverColor:r,outlineColor:o,antCls:a}=e,s=n?{[`${i}-selector`]:{borderColor:r}}:{};return{[t]:{[`&:not(${i}-disabled):not(${i}-customize-input):not(${a}-pagination-size-changer)`]:z(z({},s),{[`${i}-focused& ${i}-selector`]:{borderColor:r,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${o}`,borderInlineEndWidth:`${e.controlLineWidth}px !important`,outline:0},[`&:hover ${i}-selector`]:{borderColor:r,borderInlineEndWidth:`${e.controlLineWidth}px !important`}})}}},yZ=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},_Z=t=>{const{componentCls:e,inputPaddingHorizontalBase:n,iconCls:i}=t;return{[e]:z(z({},Kr(t)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${e}-customize-input) ${e}-selector`]:z(z({},gZ(t)),yZ(t)),[`${e}-selection-item`]:z({flex:1,fontWeight:"normal"},Z1),[`${e}-selection-placeholder`]:z(z({},Z1),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${e}-arrow`]:z(z({},ST()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,height:t.fontSizeIcon,marginTop:-t.fontSizeIcon/2,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[i]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${e}-suffix)`]:{pointerEvents:"auto"}},[`${e}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${e}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:-t.fontSizeIcon/2,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:t.colorBgContainer,cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},"&:hover":{[`${e}-clear`]:{opacity:1}}}),[`${e}-has-feedback`]:{[`${e}-clear`]:{insetInlineEnd:n+t.fontSize+t.paddingXXS}}}},bZ=t=>{const{componentCls:e}=t;return[{[e]:{[`&-borderless ${e}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${e}-in-form-item`]:{width:"100%"}}},_Z(t),dZ(t),hZ(t),fZ(t),{[`${e}-rtl`]:{direction:"rtl"}},fx(e,_n(t,{borderHoverColor:t.colorPrimaryHover,outlineColor:t.controlOutline})),fx(`${e}-status-error`,_n(t,{borderHoverColor:t.colorErrorHover,outlineColor:t.colorErrorOutline}),!0),fx(`${e}-status-warning`,_n(t,{borderHoverColor:t.colorWarningHover,outlineColor:t.colorWarningOutline}),!0),vZ(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},xZ=Cr("Select",(t,e)=>{let{rootPrefixCls:n}=e;const i=_n(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.paddingSM-1});return[bZ(i)]},t=>({zIndexPopup:t.zIndexPopupBase+50})),qT=()=>z(z({},c_(HB(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{value:Xr([Array,Object,String,Number]),defaultValue:Xr([Array,Object,String,Number]),notFoundContent:pe.any,suffixIcon:pe.any,itemIcon:pe.any,size:ji(),mode:ji(),bordered:Ai(!0),transitionName:String,choiceTransitionName:ji(""),popupClassName:String,dropdownClassName:String,placement:ji(),status:ji(),"onUpdate:value":Uo()}),NI="SECRET_COMBOBOX_MODE_DO_NOT_USE",fr=Be({compatConfig:{MODE:3},name:"ASelect",Option:zT,OptGroup:kT,inheritAttrs:!1,props:Ja(qT(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:NI,slots:Object,setup(t,e){let{attrs:n,emit:i,slots:r,expose:o}=e;const a=je(),s=Bq(),l=Uq.useInject(),c=W(()=>kq(l.status,t.status)),u=()=>{var oe;(oe=a.value)===null||oe===void 0||oe.focus()},f=()=>{var oe;(oe=a.value)===null||oe===void 0||oe.blur()},h=oe=>{var xe;(xe=a.value)===null||xe===void 0||xe.scrollTo(oe)},d=W(()=>{const{mode:oe}=t;if(oe!=="combobox")return oe===NI?"combobox":oe}),{prefixCls:p,direction:g,configProvider:v,renderEmpty:m,size:y,getPrefixCls:_,getPopupContainer:b,disabled:T,select:x}=jn("select",t),{compactSize:S,compactItemClassnames:C}=LK(p,g),M=W(()=>S.value||y.value),w=gT(),A=W(()=>{var oe;return(oe=T.value)!==null&&oe!==void 0?oe:w.value}),[P,R]=xZ(p),L=W(()=>_()),E=W(()=>t.placement!==void 0?t.placement:g.value==="rtl"?"bottomRight":"bottomLeft"),O=W(()=>SB(L.value,wj(E.value),t.transitionName)),$=W(()=>qe({[`${p.value}-lg`]:M.value==="large",[`${p.value}-sm`]:M.value==="small",[`${p.value}-rtl`]:g.value==="rtl",[`${p.value}-borderless`]:!t.bordered,[`${p.value}-in-form-item`]:l.isFormItemInput},zq(p.value,c.value,l.hasFeedback),C.value,R.value)),H=function(){for(var oe=arguments.length,xe=new Array(oe),Z=0;Z<oe;Z++)xe[Z]=arguments[Z];i("update:value",xe[0]),i("change",...xe),s.onFieldChange()},V=oe=>{i("blur",oe),s.onFieldBlur()};o({blur:f,focus:u,scrollTo:h});const Y=W(()=>d.value==="multiple"||d.value==="tags"),ae=W(()=>t.showArrow!==void 0?t.showArrow:t.loading||!(Y.value||d.value==="combobox"));return()=>{var oe,xe,Z,ve;const{notFoundContent:ye,listHeight:ge=256,listItemHeight:Ce=24,popupClassName:ce,dropdownClassName:J,virtual:Q,dropdownMatchSelectWidth:D,id:U=s.id.value,placeholder:I=(oe=r.placeholder)===null||oe===void 0?void 0:oe.call(r),showArrow:K}=t,{hasFeedback:X,feedbackIcon:te}=l;let ee;ye!==void 0?ee=ye:r.notFoundContent?ee=r.notFoundContent():d.value==="combobox"?ee=null:ee=(m==null?void 0:m("Select"))||B(TT,{componentName:"Select"},null);const{suffixIcon:fe,itemIcon:le,removeIcon:F,clearIcon:N}=Fq(z(z({},t),{multiple:Y.value,prefixCls:p.value,hasFeedback:X,feedbackIcon:te,showArrow:ae.value}),r),j=c_(t,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered","status"]),re=qe(ce||J,{[`${p.value}-dropdown-${g.value}`]:g.value==="rtl"},R.value);return P(B(GY,we(we(we({ref:a,virtual:Q,dropdownMatchSelectWidth:D},j),n),{},{showSearch:(xe=t.showSearch)!==null&&xe!==void 0?xe:(Z=x==null?void 0:x.value)===null||Z===void 0?void 0:Z.showSearch,placeholder:I,listHeight:ge,listItemHeight:Ce,mode:d.value,prefixCls:p.value,direction:g.value,inputIcon:fe,menuItemSelectedIcon:le,removeIcon:F,clearIcon:N,notFoundContent:ee,class:[$.value,n.class],getPopupContainer:b==null?void 0:b.value,dropdownClassName:re,onChange:H,onBlur:V,id:U,dropdownRender:j.dropdownRender||r.dropdownRender,transitionName:O.value,children:(ve=r.default)===null||ve===void 0?void 0:ve.call(r),tagRender:t.tagRender||r.tagRender,optionLabelRender:r.optionLabel,maxTagPlaceholder:t.maxTagPlaceholder||r.maxTagPlaceholder,showArrow:X||K,disabled:A.value}),{option:r.option}))}}});fr.install=function(t){return t.component(fr.name,fr),t.component(fr.Option.displayName,fr.Option),t.component(fr.OptGroup.displayName,fr.OptGroup),t};fr.Option;fr.OptGroup;var SZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function FI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){wZ(t,r,n[r])})}return t}function wZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var KT=function(e,n){var i=FI({},e,n.attrs);return B(dn,FI({},i,{icon:SZ}),null)};KT.displayName="CheckCircleOutlined";KT.inheritAttrs=!1;var MZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};function BI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){TZ(t,r,n[r])})}return t}function TZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ZT=function(e,n){var i=BI({},e,n.attrs);return B(dn,BI({},i,{icon:MZ}),null)};ZT.displayName="ExclamationCircleOutlined";ZT.inheritAttrs=!1;var CZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function UI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){AZ(t,r,n[r])})}return t}function AZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var JT=function(e,n){var i=UI({},e,n.attrs);return B(dn,UI({},i,{icon:CZ}),null)};JT.displayName="InfoCircleOutlined";JT.inheritAttrs=!1;var EZ={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){PZ(t,r,n[r])})}return t}function PZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var QT=function(e,n){var i=zI({},e,n.attrs);return B(dn,zI({},i,{icon:EZ}),null)};QT.displayName="CloseCircleOutlined";QT.inheritAttrs=!1;var IZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){RZ(t,r,n[r])})}return t}function RZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var au=function(e,n){var i=kI({},e,n.attrs);return B(dn,kI({},i,{icon:IZ}),null)};au.displayName="CheckCircleFilled";au.inheritAttrs=!1;var DZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};function $I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){OZ(t,r,n[r])})}return t}function OZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sh=function(e,n){var i=$I({},e,n.attrs);return B(dn,$I({},i,{icon:DZ}),null)};sh.displayName="ExclamationCircleFilled";sh.inheritAttrs=!1;var LZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};function HI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){NZ(t,r,n[r])})}return t}function NZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lh=function(e,n){var i=HI({},e,n.attrs);return B(dn,HI({},i,{icon:LZ}),null)};lh.displayName="InfoCircleFilled";lh.inheritAttrs=!1;const rf=["xxxl","xxl","xl","lg","md","sm","xs"],FZ=t=>({xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`,xxxl:`{min-width: ${t.screenXXXL}px}`});function cU(){const[,t]=em();return W(()=>{const e=FZ(t.value),n=new Map;let i=-1,r={};return{matchHandlers:{},dispatch(o){return r=o,n.forEach(a=>a(r)),n.size>=1},subscribe(o){return n.size||this.register(),i+=1,n.set(i,o),o(r),i},unsubscribe(o){n.delete(o),n.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const a=e[o],s=this.matchHandlers[a];s==null||s.mql.removeListener(s==null?void 0:s.listener)}),n.clear()},register(){Object.keys(e).forEach(o=>{const a=e[o],s=c=>{let{matches:u}=c;this.dispatch(z(z({},r),{[o]:u}))},l=window.matchMedia(a);l.addListener(s),this.matchHandlers[a]={mql:l,listener:s},s(l)})},responsiveMap:e}})}function uU(){const t=Fe({});let e=null;const n=cU();return ln(()=>{e=n.value.subscribe(i=>{t.value=i})}),ra(()=>{n.value.unsubscribe(e)}),t}function BZ(t){const e=Fe();return ni(()=>{e.value=t()},{flush:"sync"}),e}const Ir={adjustX:1,adjustY:1},Rr=[0,0],fU={left:{points:["cr","cl"],overflow:Ir,offset:[-4,0],targetOffset:Rr},right:{points:["cl","cr"],overflow:Ir,offset:[4,0],targetOffset:Rr},top:{points:["bc","tc"],overflow:Ir,offset:[0,-4],targetOffset:Rr},bottom:{points:["tc","bc"],overflow:Ir,offset:[0,4],targetOffset:Rr},topLeft:{points:["bl","tl"],overflow:Ir,offset:[0,-4],targetOffset:Rr},leftTop:{points:["tr","tl"],overflow:Ir,offset:[-4,0],targetOffset:Rr},topRight:{points:["br","tr"],overflow:Ir,offset:[0,-4],targetOffset:Rr},rightTop:{points:["tl","tr"],overflow:Ir,offset:[4,0],targetOffset:Rr},bottomRight:{points:["tr","br"],overflow:Ir,offset:[0,4],targetOffset:Rr},rightBottom:{points:["bl","br"],overflow:Ir,offset:[4,0],targetOffset:Rr},bottomLeft:{points:["tl","bl"],overflow:Ir,offset:[0,4],targetOffset:Rr},leftBottom:{points:["br","bl"],overflow:Ir,offset:[-4,0],targetOffset:Rr}},UZ={prefixCls:String,id:String,overlayInnerStyle:pe.any},zZ=Be({compatConfig:{MODE:3},name:"TooltipContent",props:UZ,setup(t,e){let{slots:n}=e;return()=>{var i;return B("div",{class:`${t.prefixCls}-inner`,id:t.id,role:"tooltip",style:t.overlayInnerStyle},[(i=n.overlay)===null||i===void 0?void 0:i.call(n)])}}});var kZ=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function VI(){}const $Z=Be({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:pe.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:pe.string.def("right"),transitionName:String,animation:pe.any,afterVisibleChange:pe.func.def(()=>{}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:pe.string.def("rc-tooltip"),mouseEnterDelay:pe.number.def(.1),mouseLeaveDelay:pe.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:pe.object.def(()=>({})),arrowContent:pe.any.def(null),tipId:String,builtinPlacements:pe.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function,arrow:{type:Boolean,default:!0}},setup(t,e){let{slots:n,attrs:i,expose:r}=e;const o=Fe(),a=()=>{const{prefixCls:u,tipId:f,overlayInnerStyle:h}=t;return[t.arrow?B("div",{class:`${u}-arrow`,key:"arrow"},[hT(n,t,"arrowContent")]):null,B(zZ,{key:"content",prefixCls:u,id:f,overlayInnerStyle:h},{overlay:n.overlay})]};r({getPopupDomNode:()=>o.value.getPopupDomNode(),triggerDOM:o,forcePopupAlign:()=>{var u;return(u=o.value)===null||u===void 0?void 0:u.forcePopupAlign()}});const l=Fe(!1),c=Fe(!1);return ni(()=>{const{destroyTooltipOnHide:u}=t;if(typeof u=="boolean")l.value=u;else if(u&&typeof u=="object"){const{keepParent:f}=u;l.value=f===!0,c.value=f===!1}}),()=>{const{overlayClassName:u,trigger:f,mouseEnterDelay:h,mouseLeaveDelay:d,overlayStyle:p,prefixCls:g,afterVisibleChange:v,transitionName:m,animation:y,placement:_,align:b,destroyTooltipOnHide:T,defaultVisible:x}=t,S=kZ(t,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"]),C=z({},S);t.visible!==void 0&&(C.popupVisible=t.visible);const M=z(z(z({popupClassName:u,prefixCls:g,action:f,builtinPlacements:fU,popupPlacement:_,popupAlign:b,afterPopupVisibleChange:v,popupTransitionName:m,popupAnimation:y,defaultPopupVisible:x,destroyPopupOnHide:l.value,autoDestroy:c.value,mouseLeaveDelay:d,popupStyle:p,mouseEnterDelay:h},C),i),{onPopupVisibleChange:t.onVisibleChange||VI,onPopupAlign:t.onPopupAlign||VI,ref:o,arrow:!!t.arrow,popup:a()});return B(AB,M,{default:n.default})}}}),HZ=()=>({trigger:[String,Array],open:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:En(),overlayInnerStyle:En(),overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},arrow:{type:[Boolean,Object],default:!0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:En(),builtinPlacements:En(),children:Array,onVisibleChange:Function,"onUpdate:visible":Function,onOpenChange:Function,"onUpdate:open":Function}),VZ={adjustX:1,adjustY:1},GI={adjustX:0,adjustY:0},GZ=[0,0];function WI(t){return typeof t=="boolean"?t?VZ:GI:z(z({},GI),t)}function WZ(t){const{arrowWidth:e=4,horizontalArrowShift:n=16,verticalArrowShift:i=8,autoAdjustOverflow:r,arrowPointAtCenter:o}=t,a={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(n+e),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(i+e)]},topRight:{points:["br","tc"],offset:[n+e,-4]},rightTop:{points:["tl","cr"],offset:[4,-(i+e)]},bottomRight:{points:["tr","bc"],offset:[n+e,4]},rightBottom:{points:["bl","cr"],offset:[4,i+e]},bottomLeft:{points:["tl","bc"],offset:[-(n+e),4]},leftBottom:{points:["br","cl"],offset:[-4,i+e]}};return Object.keys(a).forEach(s=>{a[s]=o?z(z({},a[s]),{overflow:WI(r),targetOffset:GZ}):z(z({},fU[s]),{overflow:WI(r)}),a[s].ignoreShake=!0}),a}function mw(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];for(let e=0,n=t.length;e<n;e++)if(t[e]!==void 0)return t[e]}const XZ=y0.map(t=>`${t}-inverse`);function eC(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[...XZ,...y0].includes(t):y0.includes(t)}function jZ(t,e){const n=eC(e),i=qe({[`${t}-${e}`]:e&&n}),r={},o={};return e&&!n&&(r.background=e,o["--antd-arrow-background-color"]=e),{className:i,overlayStyle:r,arrowStyle:o}}function Xm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return t.map(n=>`${e}${n}`).join(",")}const hU=8;function YZ(t){const e=hU,{sizePopupArrow:n,contentRadius:i,borderRadiusOuter:r,limitVerticalRadius:o}=t,a=n/2-Math.ceil(r*(Math.sqrt(2)-1)),s=(i>12?i+2:12)-a,l=o?e-a:s;return{dropdownArrowOffset:s,dropdownArrowOffsetVertical:l}}function qZ(t,e){const{componentCls:n,sizePopupArrow:i,marginXXS:r,borderRadiusXS:o,borderRadiusOuter:a,boxShadowPopoverArrow:s}=t,{colorBg:l,showArrowCls:c,contentRadius:u=t.borderRadiusLG,limitVerticalRadius:f}=e,{dropdownArrowOffsetVertical:h,dropdownArrowOffset:d}=YZ({sizePopupArrow:i,contentRadius:u,borderRadiusOuter:a,limitVerticalRadius:f}),p=i/2+r;return{[n]:{[`${n}-arrow`]:[z(z({position:"absolute",zIndex:1,display:"block"},v8(i,o,a,l,s)),{"&:before":{background:l}})],[[`&-placement-top ${n}-arrow`,`&-placement-topLeft ${n}-arrow`,`&-placement-topRight ${n}-arrow`].join(",")]:{bottom:0,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:d}},[`&-placement-topRight ${n}-arrow`]:{right:{_skip_check_:!0,value:d}},[[`&-placement-bottom ${n}-arrow`,`&-placement-bottomLeft ${n}-arrow`,`&-placement-bottomRight ${n}-arrow`].join(",")]:{top:0,transform:"translateY(-100%)"},[`&-placement-bottom ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:d}},[`&-placement-bottomRight ${n}-arrow`]:{right:{_skip_check_:!0,value:d}},[[`&-placement-left ${n}-arrow`,`&-placement-leftTop ${n}-arrow`,`&-placement-leftBottom ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${n}-arrow`]:{top:h},[`&-placement-leftBottom ${n}-arrow`]:{bottom:h},[[`&-placement-right ${n}-arrow`,`&-placement-rightTop ${n}-arrow`,`&-placement-rightBottom ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${n}-arrow`]:{top:h},[`&-placement-rightBottom ${n}-arrow`]:{bottom:h},[Xm(["&-placement-topLeft","&-placement-top","&-placement-topRight"].map(g=>g+=":not(&-arrow-hidden)"),c)]:{paddingBottom:p},[Xm(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"].map(g=>g+=":not(&-arrow-hidden)"),c)]:{paddingTop:p},[Xm(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"].map(g=>g+=":not(&-arrow-hidden)"),c)]:{paddingRight:{_skip_check_:!0,value:p}},[Xm(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"].map(g=>g+=":not(&-arrow-hidden)"),c)]:{paddingLeft:{_skip_check_:!0,value:p}}}}}const KZ=t=>{const{componentCls:e,tooltipMaxWidth:n,tooltipColor:i,tooltipBg:r,tooltipBorderRadius:o,zIndexPopup:a,controlHeight:s,boxShadowSecondary:l,paddingSM:c,paddingXS:u,tooltipRadiusOuter:f}=t;return[{[e]:z(z(z(z({},Kr(t)),{position:"absolute",zIndex:a,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:n,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":r,[`${e}-inner`]:{minWidth:s,minHeight:s,padding:`${c/2}px ${u}px`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:r,borderRadius:o,boxShadow:l},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(o,hU)}},[`${e}-content`]:{position:"relative"}}),K1(t,(h,d)=>{let{darkColor:p}=d;return{[`&${e}-${h}`]:{[`${e}-inner`]:{backgroundColor:p},[`${e}-arrow`]:{"--antd-arrow-background-color":p}}}})),{"&-rtl":{direction:"rtl"}})},qZ(_n(t,{borderRadiusOuter:f}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:o,limitVerticalRadius:!0}),{[`${e}-pure`]:{position:"relative",maxWidth:"none"}}]},ZZ=(t,e)=>Cr("Tooltip",i=>{if((e==null?void 0:e.value)===!1)return[];const{borderRadius:r,colorTextLightSolid:o,colorBgDefault:a,borderRadiusOuter:s}=i,l=_n(i,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:r,tooltipBg:a,tooltipRadiusOuter:s>4?4:s});return[KZ(l),uZ(i,"zoom-big-fast")]},i=>{let{zIndexPopupBase:r,colorBgSpotlight:o}=i;return{zIndexPopup:r+70,colorBgDefault:o}})(t),JZ=(t,e)=>{const n={},i=z({},t);return e.forEach(r=>{t&&r in t&&(n[r]=t[r],delete i[r])}),{picked:n,omitted:i}},QZ=()=>z(z({},HZ()),{title:pe.any}),eJ=Be({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:Ja(QZ(),{trigger:"hover",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:Object,setup(t,e){let{slots:n,emit:i,attrs:r,expose:o}=e;const{prefixCls:a,getPopupContainer:s,direction:l,rootPrefixCls:c}=jn("tooltip",t),u=W(()=>{var w;return(w=t.open)!==null&&w!==void 0?w:t.visible}),f=je(mw([t.open,t.visible])),h=je();let d;Ke(u,w=>{Rn.cancel(d),d=Rn(()=>{f.value=!!w})});const p=()=>{var w;const A=(w=t.title)!==null&&w!==void 0?w:n.title;return!A&&A!==0},g=w=>{const A=p();u.value===void 0&&(f.value=A?!1:w),A||(i("update:visible",w),i("visibleChange",w),i("update:open",w),i("openChange",w))};o({getPopupDomNode:()=>h.value.getPopupDomNode(),open:f,forcePopupAlign:()=>{var w;return(w=h.value)===null||w===void 0?void 0:w.forcePopupAlign()}});const m=W(()=>{var w;const{builtinPlacements:A,autoAdjustOverflow:P,arrow:R,arrowPointAtCenter:L}=t;let E=L;return typeof R=="object"&&(E=(w=R.pointAtCenter)!==null&&w!==void 0?w:L),A||WZ({arrowPointAtCenter:E,autoAdjustOverflow:P})}),y=w=>w||w==="",_=w=>{const A=w.type;if(typeof A=="object"&&w.props&&((A.__ANT_BUTTON===!0||A==="button")&&y(w.props.disabled)||A.__ANT_SWITCH===!0&&(y(w.props.disabled)||y(w.props.loading))||A.__ANT_RADIO===!0&&y(w.props.disabled))){const{picked:P,omitted:R}=JZ(B6(w),["position","left","right","top","bottom","float","display","zIndex"]),L=z(z({display:"inline-block"},P),{cursor:"not-allowed",lineHeight:1,width:w.props&&w.props.block?"100%":void 0}),E=z(z({},R),{pointerEvents:"none"}),O=So(w,{style:E},!0);return B("span",{style:L,class:`${a.value}-disabled-compatible-wrapper`},[O])}return w},b=()=>{var w,A;return(w=t.title)!==null&&w!==void 0?w:(A=n.title)===null||A===void 0?void 0:A.call(n)},T=(w,A)=>{const P=m.value,R=Object.keys(P).find(L=>{var E,O;return P[L].points[0]===((E=A.points)===null||E===void 0?void 0:E[0])&&P[L].points[1]===((O=A.points)===null||O===void 0?void 0:O[1])});if(R){const L=w.getBoundingClientRect(),E={top:"50%",left:"50%"};R.indexOf("top")>=0||R.indexOf("Bottom")>=0?E.top=`${L.height-A.offset[1]}px`:(R.indexOf("Top")>=0||R.indexOf("bottom")>=0)&&(E.top=`${-A.offset[1]}px`),R.indexOf("left")>=0||R.indexOf("Right")>=0?E.left=`${L.width-A.offset[0]}px`:(R.indexOf("right")>=0||R.indexOf("Left")>=0)&&(E.left=`${-A.offset[0]}px`),w.style.transformOrigin=`${E.left} ${E.top}`}},x=W(()=>jZ(a.value,t.color)),S=W(()=>r["data-popover-inject"]),[C,M]=ZZ(a,W(()=>!S.value));return()=>{var w,A;const{openClassName:P,overlayClassName:R,overlayStyle:L,overlayInnerStyle:E}=t;let O=(A=eu((w=n.default)===null||w===void 0?void 0:w.call(n)))!==null&&A!==void 0?A:null;O=O.length===1?O[0]:O;let $=f.value;if(u.value===void 0&&p()&&($=!1),!O)return null;const H=_(Nf(O)&&!U6(O)?O:B("span",null,[O])),V=qe({[P||`${a.value}-open`]:!0,[H.props&&H.props.class]:H.props&&H.props.class}),Y=qe(R,{[`${a.value}-rtl`]:l.value==="rtl"},x.value.className,M.value),ae=z(z({},x.value.overlayStyle),E),oe=x.value.arrowStyle,xe=z(z(z({},r),t),{prefixCls:a.value,arrow:!!t.arrow,getPopupContainer:s==null?void 0:s.value,builtinPlacements:m.value,visible:$,ref:h,overlayClassName:Y,overlayStyle:z(z({},oe),L),overlayInnerStyle:ae,onVisibleChange:g,onPopupAlign:T,transitionName:SB(c.value,"zoom-big-fast",t.transitionName)});return C(B($Z,xe,{default:()=>[f.value?So(H,{class:V}):H],arrowContent:()=>B("span",{class:`${a.value}-arrow-content`},null),overlay:b}))}}}),tJ=ih(eJ);function XI(t){let{prefixCls:e,value:n,current:i,offset:r=0}=t,o;return r&&(o={position:"absolute",top:`${r}00%`,left:0}),B("p",{style:o,class:qe(`${e}-only-unit`,{current:i})},[n])}function nJ(t,e,n){let i=t,r=0;for(;(i+10)%10!==e;)i+=n,r+=n;return r}const iJ=Be({compatConfig:{MODE:3},name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup(t){const e=W(()=>Number(t.value)),n=W(()=>Math.abs(t.count)),i=zn({prevValue:e.value,prevCount:n.value}),r=()=>{i.prevValue=e.value,i.prevCount=n.value},o=je();return Ke(e,()=>{clearTimeout(o.value),o.value=setTimeout(()=>{r()},1e3)},{flush:"post"}),ra(()=>{clearTimeout(o.value)}),()=>{let a,s={};const l=e.value;if(i.prevValue===l||Number.isNaN(l)||Number.isNaN(i.prevValue))a=[XI(z(z({},t),{current:!0}))],s={transition:"none"};else{a=[];const c=l+10,u=[];for(let d=l;d<=c;d+=1)u.push(d);const f=u.findIndex(d=>d%10===i.prevValue);a=u.map((d,p)=>{const g=d%10;return XI(z(z({},t),{value:g,offset:p-f,current:p===f}))});const h=i.prevCount<n.value?1:-1;s={transform:`translateY(${-nJ(i.prevValue,l,h)}00%)`}}return B("span",{class:`${t.prefixCls}-only`,style:s,onTransitionend:()=>r()},[a])}}});var rJ=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const oJ={prefixCls:String,count:pe.any,component:String,title:pe.any,show:Boolean},aJ=Be({compatConfig:{MODE:3},name:"ScrollNumber",inheritAttrs:!1,props:oJ,setup(t,e){let{attrs:n,slots:i}=e;const{prefixCls:r}=jn("scroll-number",t);return()=>{var o;const a=z(z({},t),n),{prefixCls:s,count:l,title:c,show:u,component:f="sup",class:h,style:d}=a,p=rJ(a,["prefixCls","count","title","show","component","class","style"]),g=z(z({},p),{style:d,"data-show":t.show,class:qe(r.value,h),title:c});let v=l;if(l&&Number(l)%1===0){const y=String(l).split("");v=y.map((_,b)=>B(iJ,{prefixCls:r.value,count:Number(l),value:_,key:y.length-b},null))}d&&d.borderColor&&(g.style=z(z({},d),{boxShadow:`0 0 0 1px ${d.borderColor} inset`}));const m=eu((o=i.default)===null||o===void 0?void 0:o.call(i));return m.length?So(m,{class:qe(`${r.value}-custom-component`)},!1):B(f,g,{default:()=>[v]})}}}),sJ=new mt("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),lJ=new mt("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),cJ=new mt("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),uJ=new mt("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),fJ=new mt("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),hJ=new mt("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),dJ=t=>{const{componentCls:e,iconCls:n,antCls:i,badgeFontHeight:r,badgeShadowSize:o,badgeHeightSm:a,motionDurationSlow:s,badgeStatusSize:l,marginXS:c,badgeRibbonOffset:u}=t,f=`${i}-scroll-number`,h=`${i}-ribbon`,d=`${i}-ribbon-wrapper`,p=K1(t,(v,m)=>{let{darkColor:y}=m;return{[`&${e} ${e}-color-${v}`]:{background:y,[`&:not(${e}-count)`]:{color:y}}}}),g=K1(t,(v,m)=>{let{darkColor:y}=m;return{[`&${h}-color-${v}`]:{background:y,color:y}}});return{[e]:z(z(z(z({},Kr(t)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${e}-count`]:{zIndex:t.badgeZIndex,minWidth:t.badgeHeight,height:t.badgeHeight,color:t.badgeTextColor,fontWeight:t.badgeFontWeight,fontSize:t.badgeFontSize,lineHeight:`${t.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:t.badgeColor,borderRadius:t.badgeHeight/2,boxShadow:`0 0 0 ${o}px ${t.badgeShadowColor}`,transition:`background ${t.motionDurationMid}`,a:{color:t.badgeTextColor},"a:hover":{color:t.badgeTextColor},"a:hover &":{background:t.badgeColorHover}},[`${e}-count-sm`]:{minWidth:a,height:a,fontSize:t.badgeFontSizeSm,lineHeight:`${a}px`,borderRadius:a/2},[`${e}-multiple-words`]:{padding:`0 ${t.paddingXS}px`},[`${e}-dot`]:{zIndex:t.badgeZIndex,width:t.badgeDotSize,minWidth:t.badgeDotSize,height:t.badgeDotSize,background:t.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${o}px ${t.badgeShadowColor}`},[`${e}-dot${f}`]:{transition:`background ${s}`},[`${e}-count, ${e}-dot, ${f}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${n}-spin`]:{animationName:hJ,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${e}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${e}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:l,height:l,verticalAlign:"middle",borderRadius:"50%"},[`${e}-status-success`]:{backgroundColor:t.colorSuccess},[`${e}-status-processing`]:{overflow:"visible",color:t.colorPrimary,backgroundColor:t.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:o,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:sJ,animationDuration:t.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${e}-status-default`]:{backgroundColor:t.colorTextPlaceholder},[`${e}-status-error`]:{backgroundColor:t.colorError},[`${e}-status-warning`]:{backgroundColor:t.colorWarning},[`${e}-status-text`]:{marginInlineStart:c,color:t.colorText,fontSize:t.fontSize}}}),p),{[`${e}-zoom-appear, ${e}-zoom-enter`]:{animationName:lJ,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`${e}-zoom-leave`]:{animationName:cJ,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack,animationFillMode:"both"},[`&${e}-not-a-wrapper`]:{[`${e}-zoom-appear, ${e}-zoom-enter`]:{animationName:uJ,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`${e}-zoom-leave`]:{animationName:fJ,animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseOutBack},[`&:not(${e}-status)`]:{verticalAlign:"middle"},[`${f}-custom-component, ${e}-count`]:{transform:"none"},[`${f}-custom-component, ${f}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${f}`]:{overflow:"hidden",[`${f}-only`]:{position:"relative",display:"inline-block",height:t.badgeHeight,transition:`all ${t.motionDurationSlow} ${t.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${f}-only-unit`]:{height:t.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${f}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${e}-count, ${e}-dot, ${f}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${d}`]:{position:"relative"},[`${h}`]:z(z(z(z({},Kr(t)),{position:"absolute",top:c,padding:`0 ${t.paddingXS}px`,color:t.colorPrimary,lineHeight:`${r}px`,whiteSpace:"nowrap",backgroundColor:t.colorPrimary,borderRadius:t.borderRadiusSM,[`${h}-text`]:{color:t.colorTextLightSolid},[`${h}-corner`]:{position:"absolute",top:"100%",width:u,height:u,color:"currentcolor",border:`${u/2}px solid`,transform:t.badgeRibbonCornerTransform,transformOrigin:"top",filter:t.badgeRibbonCornerFilter}}),g),{[`&${h}-placement-end`]:{insetInlineEnd:-u,borderEndEndRadius:0,[`${h}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${h}-placement-start`]:{insetInlineStart:-u,borderEndStartRadius:0,[`${h}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},dU=Cr("Badge",t=>{const{fontSize:e,lineHeight:n,fontSizeSM:i,lineWidth:r,marginXS:o,colorBorderBg:a}=t,s=Math.round(e*n),l=r,c="auto",u=s-2*l,f=t.colorBgContainer,h="normal",d=i,p=t.colorError,g=t.colorErrorHover,v=e,m=i/2,y=i,_=i/2,b=_n(t,{badgeFontHeight:s,badgeShadowSize:l,badgeZIndex:c,badgeHeight:u,badgeTextColor:f,badgeFontWeight:h,badgeFontSize:d,badgeColor:p,badgeColorHover:g,badgeShadowColor:a,badgeHeightSm:v,badgeDotSize:m,badgeFontSizeSm:y,badgeStatusSize:_,badgeProcessingDuration:"1.2s",badgeRibbonOffset:o,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[dJ(b)]});var pJ=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const mJ=()=>({prefix:String,color:{type:String},text:pe.any,placement:{type:String,default:"end"}}),vw=Be({compatConfig:{MODE:3},name:"ABadgeRibbon",inheritAttrs:!1,props:mJ(),slots:Object,setup(t,e){let{attrs:n,slots:i}=e;const{prefixCls:r,direction:o}=jn("ribbon",t),[a,s]=dU(r),l=W(()=>eC(t.color,!1)),c=W(()=>[r.value,`${r.value}-placement-${t.placement}`,{[`${r.value}-rtl`]:o.value==="rtl",[`${r.value}-color-${t.color}`]:l.value}]);return()=>{var u,f;const{class:h,style:d}=n,p=pJ(n,["class","style"]),g={},v={};return t.color&&!l.value&&(g.background=t.color,v.color=t.color),a(B("div",we({class:`${r.value}-wrapper ${s.value}`},p),[(u=i.default)===null||u===void 0?void 0:u.call(i),B("div",{class:[c.value,h,s.value],style:z(z({},g),d)},[B("span",{class:`${r.value}-text`},[t.text||((f=i.text)===null||f===void 0?void 0:f.call(i))]),B("div",{class:`${r.value}-corner`,style:v},null)])]))}}}),vJ=t=>!isNaN(parseFloat(t))&&isFinite(t),gJ=()=>({count:pe.any.def(null),showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:pe.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String}),Bg=Be({compatConfig:{MODE:3},name:"ABadge",Ribbon:vw,inheritAttrs:!1,props:gJ(),slots:Object,setup(t,e){let{slots:n,attrs:i}=e;const{prefixCls:r,direction:o}=jn("badge",t),[a,s]=dU(r),l=W(()=>t.count>t.overflowCount?`${t.overflowCount}+`:t.count),c=W(()=>l.value==="0"||l.value===0),u=W(()=>t.count===null||c.value&&!t.showZero),f=W(()=>(t.status!==null&&t.status!==void 0||t.color!==null&&t.color!==void 0)&&u.value),h=W(()=>t.dot&&!c.value),d=W(()=>h.value?"":l.value),p=W(()=>(d.value===null||d.value===void 0||d.value===""||c.value&&!t.showZero)&&!h.value),g=je(t.count),v=je(d.value),m=je(h.value);Ke([()=>t.count,d,h],()=>{p.value||(g.value=t.count,v.value=d.value,m.value=h.value)},{immediate:!0});const y=W(()=>eC(t.color,!1)),_=W(()=>({[`${r.value}-status-dot`]:f.value,[`${r.value}-status-${t.status}`]:!!t.status,[`${r.value}-color-${t.color}`]:y.value})),b=W(()=>t.color&&!y.value?{background:t.color,color:t.color}:{}),T=W(()=>({[`${r.value}-dot`]:m.value,[`${r.value}-count`]:!m.value,[`${r.value}-count-sm`]:t.size==="small",[`${r.value}-multiple-words`]:!m.value&&v.value&&v.value.toString().length>1,[`${r.value}-status-${t.status}`]:!!t.status,[`${r.value}-color-${t.color}`]:y.value}));return()=>{var x,S;const{offset:C,title:M,color:w}=t,A=i.style,P=hT(n,t,"text"),R=r.value,L=g.value;let E=Ki((x=n.default)===null||x===void 0?void 0:x.call(n));E=E.length?E:null;const O=!!(!p.value||n.count),$=(()=>{if(!C)return z({},A);const Z={marginTop:vJ(C[1])?`${C[1]}px`:C[1]};return o.value==="rtl"?Z.left=`${parseInt(C[0],10)}px`:Z.right=`${-parseInt(C[0],10)}px`,z(z({},Z),A)})(),H=M??(typeof L=="string"||typeof L=="number"?L:void 0),V=O||!P?null:B("span",{class:`${R}-status-text`},[P]),Y=typeof L=="object"||L===void 0&&n.count?So(L??((S=n.count)===null||S===void 0?void 0:S.call(n)),{style:$},!1):null,ae=qe(R,{[`${R}-status`]:f.value,[`${R}-not-a-wrapper`]:!E,[`${R}-rtl`]:o.value==="rtl"},i.class,s.value);if(!E&&f.value){const Z=$.color;return a(B("span",we(we({},i),{},{class:ae,style:$}),[B("span",{class:_.value,style:b.value},null),B("span",{style:{color:Z},class:`${R}-status-text`},[P])]))}const oe=bB(E?`${R}-zoom`:"",{appear:!1});let xe=z(z({},$),t.numberStyle);return w&&!y.value&&(xe=xe||{},xe.background=w),a(B("span",we(we({},i),{},{class:ae}),[E,B(n_,oe,{default:()=>[rT(B(aJ,{prefixCls:t.scrollNumberPrefixCls,show:O,class:T.value,count:v.value,title:H,style:xe,key:"scrollNumber"},{default:()=>[Y]}),[[V3,O]])]}),V]))}}});Bg.install=function(t){return t.component(Bg.name,Bg),t.component(vw.name,vw),t};var yJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};function jI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){_J(t,r,n[r])})}return t}function _J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T0=function(e,n){var i=jI({},e,n.attrs);return B(dn,jI({},i,{icon:yJ}),null)};T0.displayName="RightOutlined";T0.inheritAttrs=!1;const bJ=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),pU=t=>({borderColor:t.inputBorderHoverColor,borderInlineEndWidth:t.lineWidth}),xJ=t=>({borderColor:t.inputBorderHoverColor,boxShadow:`0 0 0 ${t.controlOutlineWidth}px ${t.controlOutline}`,borderInlineEndWidth:t.lineWidth,outline:0}),SJ=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":z({},pU(_n(t,{inputBorderHoverColor:t.colorBorder})))}),wJ=t=>{const{inputPaddingVerticalLG:e,fontSizeLG:n,lineHeightLG:i,borderRadiusLG:r,inputPaddingHorizontalLG:o}=t;return{padding:`${e}px ${o}px`,fontSize:n,lineHeight:i,borderRadius:r}},mU=t=>({padding:`${t.inputPaddingVerticalSM}px ${t.controlPaddingHorizontalSM-1}px`,borderRadius:t.borderRadiusSM}),MJ=t=>z(z({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${t.inputPaddingVertical}px ${t.inputPaddingHorizontal}px`,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,backgroundColor:t.colorBgContainer,backgroundImage:"none",borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:t.colorBorder,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},bJ(t.colorTextPlaceholder)),{"&:hover":z({},pU(t)),"&:focus, &-focused":z({},xJ(t)),"&-disabled, &[disabled]":z({},SJ(t)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":z({},wJ(t)),"&-sm":z({},mU(t)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}});function TJ(t){return _n(t,{inputAffixPadding:t.paddingXXS,inputPaddingVertical:Math.max(Math.round((t.controlHeight-t.fontSize*t.lineHeight)/2*10)/10-t.lineWidth,3),inputPaddingVerticalLG:Math.ceil((t.controlHeightLG-t.fontSizeLG*t.lineHeightLG)/2*10)/10-t.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((t.controlHeightSM-t.fontSize*t.lineHeight)/2*10)/10-t.lineWidth,0),inputPaddingHorizontal:t.paddingSM-t.lineWidth,inputPaddingHorizontalSM:t.paddingXS-t.lineWidth,inputPaddingHorizontalLG:t.controlPaddingHorizontal-t.lineWidth,inputBorderHoverColor:t.colorPrimaryHover,inputBorderActiveColor:t.colorPrimaryHover})}const CJ=()=>{const t=je(new Map),e=n=>i=>{t.value.set(n,i)};return aT(()=>{t.value=new Map}),[e,t]};var AJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};function YI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){EJ(t,r,n[r])})}return t}function EJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C0=function(e,n){var i=YI({},e,n.attrs);return B(dn,YI({},i,{icon:AJ}),null)};C0.displayName="LeftOutlined";C0.inheritAttrs=!1;const PJ=()=>Yr()&&window.document.documentElement;let jm;const IJ=()=>{if(!PJ())return!1;if(jm!==void 0)return jm;const t=document.createElement("div");return t.style.display="flex",t.style.flexDirection="column",t.style.rowGap="1px",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("div")),document.body.appendChild(t),jm=t.scrollHeight===1,document.body.removeChild(t),jm},RJ=()=>{const t=Fe(!1);return ln(()=>{t.value=IJ()}),t},vU=Symbol("rowContextKey"),DJ=t=>{kn(vU,t)},OJ=()=>kt(vU,{gutter:W(()=>{}),wrap:W(()=>{}),supportFlexGap:W(()=>{})}),LJ=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around ":{justifyContent:"space-around"},"&-space-evenly ":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},NJ=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},FJ=(t,e)=>{const{componentCls:n,gridColumns:i}=t,r={};for(let o=i;o>=0;o--)o===0?(r[`${n}${e}-${o}`]={display:"none"},r[`${n}-push-${o}`]={insetInlineStart:"auto"},r[`${n}-pull-${o}`]={insetInlineEnd:"auto"},r[`${n}${e}-push-${o}`]={insetInlineStart:"auto"},r[`${n}${e}-pull-${o}`]={insetInlineEnd:"auto"},r[`${n}${e}-offset-${o}`]={marginInlineEnd:0},r[`${n}${e}-order-${o}`]={order:0}):(r[`${n}${e}-${o}`]={display:"block",flex:`0 0 ${o/i*100}%`,maxWidth:`${o/i*100}%`},r[`${n}${e}-push-${o}`]={insetInlineStart:`${o/i*100}%`},r[`${n}${e}-pull-${o}`]={insetInlineEnd:`${o/i*100}%`},r[`${n}${e}-offset-${o}`]={marginInlineStart:`${o/i*100}%`},r[`${n}${e}-order-${o}`]={order:o});return r},gw=(t,e)=>FJ(t,e),BJ=(t,e,n)=>({[`@media (min-width: ${e}px)`]:z({},gw(t,n))}),UJ=Cr("Grid",t=>[LJ(t)]),zJ=Cr("Grid",t=>{const e=_n(t,{gridColumns:24}),n={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[NJ(e),gw(e,""),gw(e,"-xs"),Object.keys(n).map(i=>BJ(e,n[i],i)).reduce((i,r)=>z(z({},i),r),{})]}),kJ=()=>({align:Xr([String,Object]),justify:Xr([String,Object]),prefixCls:String,gutter:Xr([Number,Array,Object],0),wrap:{type:Boolean,default:void 0}}),$J=Be({compatConfig:{MODE:3},name:"ARow",inheritAttrs:!1,props:kJ(),setup(t,e){let{slots:n,attrs:i}=e;const{prefixCls:r,direction:o}=jn("row",t),[a,s]=UJ(r);let l;const c=cU(),u=je({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),f=je({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),h=_=>W(()=>{if(typeof t[_]=="string")return t[_];if(typeof t[_]!="object")return"";for(let b=0;b<rf.length;b++){const T=rf[b];if(!f.value[T])continue;const x=t[_][T];if(x!==void 0)return x}return""}),d=h("align"),p=h("justify"),g=RJ();ln(()=>{l=c.value.subscribe(_=>{f.value=_;const b=t.gutter||0;(!Array.isArray(b)&&typeof b=="object"||Array.isArray(b)&&(typeof b[0]=="object"||typeof b[1]=="object"))&&(u.value=_)})}),rr(()=>{c.value.unsubscribe(l)});const v=W(()=>{const _=[void 0,void 0],{gutter:b=0}=t;return(Array.isArray(b)?b:[b,void 0]).forEach((x,S)=>{if(typeof x=="object")for(let C=0;C<rf.length;C++){const M=rf[C];if(u.value[M]&&x[M]!==void 0){_[S]=x[M];break}}else _[S]=x}),_});DJ({gutter:v,supportFlexGap:g,wrap:W(()=>t.wrap)});const m=W(()=>qe(r.value,{[`${r.value}-no-wrap`]:t.wrap===!1,[`${r.value}-${p.value}`]:p.value,[`${r.value}-${d.value}`]:d.value,[`${r.value}-rtl`]:o.value==="rtl"},i.class,s.value)),y=W(()=>{const _=v.value,b={},T=_[0]!=null&&_[0]>0?`${_[0]/-2}px`:void 0,x=_[1]!=null&&_[1]>0?`${_[1]/-2}px`:void 0;return T&&(b.marginLeft=T,b.marginRight=T),g.value?b.rowGap=`${_[1]}px`:x&&(b.marginTop=x,b.marginBottom=x),b});return()=>{var _;return a(B("div",we(we({},i),{},{class:m.value,style:z(z({},y.value),i.style)}),[(_=n.default)===null||_===void 0?void 0:_.call(n)]))}}});function HJ(t){return typeof t=="number"?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}const VJ=()=>({span:[String,Number],order:[String,Number],offset:[String,Number],push:[String,Number],pull:[String,Number],xs:{type:[String,Number,Object],default:void 0},sm:{type:[String,Number,Object],default:void 0},md:{type:[String,Number,Object],default:void 0},lg:{type:[String,Number,Object],default:void 0},xl:{type:[String,Number,Object],default:void 0},xxl:{type:[String,Number,Object],default:void 0},prefixCls:String,flex:[String,Number]}),GJ=["xs","sm","md","lg","xl","xxl"],WJ=Be({compatConfig:{MODE:3},name:"ACol",inheritAttrs:!1,props:VJ(),setup(t,e){let{slots:n,attrs:i}=e;const{gutter:r,supportFlexGap:o,wrap:a}=OJ(),{prefixCls:s,direction:l}=jn("col",t),[c,u]=zJ(s),f=W(()=>{const{span:d,order:p,offset:g,push:v,pull:m}=t,y=s.value;let _={};return GJ.forEach(b=>{let T={};const x=t[b];typeof x=="number"?T.span=x:typeof x=="object"&&(T=x||{}),_=z(z({},_),{[`${y}-${b}-${T.span}`]:T.span!==void 0,[`${y}-${b}-order-${T.order}`]:T.order||T.order===0,[`${y}-${b}-offset-${T.offset}`]:T.offset||T.offset===0,[`${y}-${b}-push-${T.push}`]:T.push||T.push===0,[`${y}-${b}-pull-${T.pull}`]:T.pull||T.pull===0,[`${y}-rtl`]:l.value==="rtl"})}),qe(y,{[`${y}-${d}`]:d!==void 0,[`${y}-order-${p}`]:p,[`${y}-offset-${g}`]:g,[`${y}-push-${v}`]:v,[`${y}-pull-${m}`]:m},_,i.class,u.value)}),h=W(()=>{const{flex:d}=t,p=r.value,g={};if(p&&p[0]>0){const v=`${p[0]/2}px`;g.paddingLeft=v,g.paddingRight=v}if(p&&p[1]>0&&!o.value){const v=`${p[1]/2}px`;g.paddingTop=v,g.paddingBottom=v}return d&&(g.flex=HJ(d),a.value===!1&&!g.minWidth&&(g.minWidth=0)),g});return()=>{var d;return c(B("div",we(we({},i),{},{class:f.value,style:[h.value,i.style]}),[(d=n.default)===null||d===void 0?void 0:d.call(n)]))}}});let hx=z({},Bf.Modal);function XJ(t){t?hx=z(z({},hx),t):hx=z({},Bf.Modal)}const yw="internalMark",Ug=Be({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup(t,e){let{slots:n}=e;_T(t.ANT_MARK__===yw);const i=zn({antLocale:z(z({},t.locale),{exist:!0}),ANT_MARK__:yw});return kn("localeData",i),Ke(()=>t.locale,r=>{XJ(r&&r.Modal),i.antLocale=z(z({},r),{exist:!0})},{immediate:!0}),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}});Ug.install=function(t){return t.component(Ug.name,Ug),t};const jJ=ih(Ug),gU=Be({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup(t,e){let{attrs:n,slots:i}=e,r,o=!1;const a=W(()=>t.duration===void 0?4.5:t.duration),s=()=>{a.value&&!o&&(r=setTimeout(()=>{c()},a.value*1e3))},l=()=>{r&&(clearTimeout(r),r=null)},c=f=>{f&&f.stopPropagation(),l();const{onClose:h,noticeKey:d}=t;h&&h(d)},u=()=>{l(),s()};return ln(()=>{s()}),ra(()=>{o=!0,l()}),Ke([a,()=>t.updateMark,()=>t.visible],(f,h)=>{let[d,p,g]=f,[v,m,y]=h;(d!==v||p!==m||g!==y&&y)&&u()},{flush:"post"}),()=>{var f,h;const{prefixCls:d,closable:p,closeIcon:g=(f=i.closeIcon)===null||f===void 0?void 0:f.call(i),onClick:v,holder:m}=t,{class:y,style:_}=n,b=`${d}-notice`,T=Object.keys(n).reduce((S,C)=>((C.startsWith("data-")||C.startsWith("aria-")||C==="role")&&(S[C]=n[C]),S),{}),x=B("div",we({class:qe(b,y,{[`${b}-closable`]:p}),style:_,onMouseenter:l,onMouseleave:s,onClick:v},T),[B("div",{class:`${b}-content`},[(h=i.default)===null||h===void 0?void 0:h.call(i)]),p?B("a",{tabindex:0,onClick:c,class:`${b}-close`},[g||B("span",{class:`${b}-close-x`},null)]):null]);return m?B(r3,{to:m},{default:()=>x}):x}}});var YJ=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};let qI=0;const qJ=Date.now();function KI(){const t=qI;return qI+=1,`rcNotification_${qJ}_${t}`}const A0=Be({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId"],setup(t,e){let{attrs:n,expose:i,slots:r}=e;const o=new Map,a=je([]),s=W(()=>{const{prefixCls:u,animation:f="fade"}=t;let h=t.transitionName;return!h&&f&&(h=`${u}-${f}`),xB(h)}),l=(u,f)=>{const h=u.key||KI(),d=z(z({},u),{key:h}),{maxCount:p}=t,g=a.value.map(m=>m.notice.key).indexOf(h),v=a.value.concat();g!==-1?v.splice(g,1,{notice:d,holderCallback:f}):(p&&a.value.length>=p&&(d.key=v[0].notice.key,d.updateMark=KI(),d.userPassKey=h,v.shift()),v.push({notice:d,holderCallback:f})),a.value=v},c=u=>{a.value=xt(a.value).filter(f=>{let{notice:{key:h,userPassKey:d}}=f;return(d||h)!==u})};return i({add:l,remove:c,notices:a}),()=>{var u;const{prefixCls:f,closeIcon:h=(u=r.closeIcon)===null||u===void 0?void 0:u.call(r,{prefixCls:f})}=t,d=a.value.map((g,v)=>{let{notice:m,holderCallback:y}=g;const _=v===a.value.length-1?m.updateMark:void 0,{key:b,userPassKey:T}=m,{content:x}=m,S=z(z(z({prefixCls:f,closeIcon:typeof h=="function"?h({prefixCls:f}):h},m),m.props),{key:b,noticeKey:T||b,updateMark:_,onClose:C=>{var M;c(C),(M=m.onClose)===null||M===void 0||M.call(m)},onClick:m.onClick});return y?B("div",{key:b,class:`${f}-hook-holder`,ref:C=>{typeof b>"u"||(C?(o.set(b,C),y(C,S)):o.delete(b))}},null):B(gU,we(we({},S),{},{class:qe(S.class,t.hashId)}),{default:()=>[typeof x=="function"?x({prefixCls:f}):x]})}),p={[f]:1,[n.class]:!!n.class,[t.hashId]:!0};return B("div",{class:p,style:n.style||{top:"65px",left:"50%"}},[B(j3,we({tag:"div"},s.value),{default:()=>[d]})])}}});A0.newInstance=function(e,n){const i=e||{},{name:r="notification",getContainer:o,appContext:a,prefixCls:s,rootPrefixCls:l,transitionName:c,hasTransitionName:u,useStyle:f}=i,h=YJ(i,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName","useStyle"]),d=document.createElement("div");o?o().appendChild(d):document.body.appendChild(d);const g=B(Be({compatConfig:{MODE:3},name:"NotificationWrapper",setup(v,m){let{attrs:y}=m;const _=Fe(),b=W(()=>ci.getPrefixCls(r,s)),[,T]=f(b);return ln(()=>{n({notice(x){var S;(S=_.value)===null||S===void 0||S.add(x)},removeNotice(x){var S;(S=_.value)===null||S===void 0||S.remove(x)},destroy(){$E(null,d),d.parentNode&&d.parentNode.removeChild(d)},component:_})}),()=>{const x=ci,S=x.getRootPrefixCls(l,b.value),C=u?c:`${b.value}-${c}`;return B(Nd,we(we({},x),{},{prefixCls:S}),{default:()=>[B(A0,we(we({ref:_},y),{},{prefixCls:b.value,transitionName:C,hashId:T.value}),null)]})}}}),h);g.appContext=a||g.appContext,$E(g,d)};let ZI=0;const KJ=Date.now();function JI(){const t=ZI;return ZI+=1,`rcNotification_${KJ}_${t}`}const ZJ=Be({name:"HookNotification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId","remove","notices","getStyles","getClassName","onAllRemoved","getContainer"],setup(t,e){let{attrs:n,slots:i}=e;const r=new Map,o=W(()=>t.notices),a=W(()=>{let u=t.transitionName;if(!u&&t.animation)switch(typeof t.animation){case"string":u=t.animation;break;case"function":u=t.animation().name;break;case"object":u=t.animation.name;break;default:u=`${t.prefixCls}-fade`;break}return xB(u)}),s=u=>t.remove(u),l=je({});Ke(o,()=>{const u={};Object.keys(l.value).forEach(f=>{u[f]=[]}),t.notices.forEach(f=>{const{placement:h="topRight"}=f.notice;h&&(u[h]=u[h]||[],u[h].push(f))}),l.value=u});const c=W(()=>Object.keys(l.value));return()=>{var u;const{prefixCls:f,closeIcon:h=(u=i.closeIcon)===null||u===void 0?void 0:u.call(i,{prefixCls:f})}=t,d=c.value.map(p=>{var g,v;const m=l.value[p],y=(g=t.getClassName)===null||g===void 0?void 0:g.call(t,p),_=(v=t.getStyles)===null||v===void 0?void 0:v.call(t,p),b=m.map((S,C)=>{let{notice:M,holderCallback:w}=S;const A=C===o.value.length-1?M.updateMark:void 0,{key:P,userPassKey:R}=M,{content:L}=M,E=z(z(z({prefixCls:f,closeIcon:typeof h=="function"?h({prefixCls:f}):h},M),M.props),{key:P,noticeKey:R||P,updateMark:A,onClose:O=>{var $;s(O),($=M.onClose)===null||$===void 0||$.call(M)},onClick:M.onClick});return w?B("div",{key:P,class:`${f}-hook-holder`,ref:O=>{typeof P>"u"||(O?(r.set(P,O),w(O,E)):r.delete(P))}},null):B(gU,we(we({},E),{},{class:qe(E.class,t.hashId)}),{default:()=>[typeof L=="function"?L({prefixCls:f}):L]})}),T={[f]:1,[`${f}-${p}`]:1,[n.class]:!!n.class,[t.hashId]:!0,[y]:!!y};function x(){var S;m.length>0||(Reflect.deleteProperty(l.value,p),(S=t.onAllRemoved)===null||S===void 0||S.call(t))}return B("div",{key:p,class:T,style:n.style||_||{top:"65px",left:"50%"}},[B(j3,we(we({tag:"div"},a.value),{},{onAfterLeave:x}),{default:()=>[b]})])});return B(CB,{getContainer:t.getContainer},{default:()=>[d]})}}});var JJ=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const QJ=()=>document.body;let QI=0;function eQ(){const t={};for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(r=>{r&&Object.keys(r).forEach(o=>{const a=r[o];a!==void 0&&(t[o]=a)})}),t}function yU(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{getContainer:e=QJ,motion:n,prefixCls:i,maxCount:r,getClassName:o,getStyles:a,onAllRemoved:s}=t,l=JJ(t,["getContainer","motion","prefixCls","maxCount","getClassName","getStyles","onAllRemoved"]),c=Fe([]),u=Fe(),f=(m,y)=>{const _=m.key||JI(),b=z(z({},m),{key:_}),T=c.value.map(S=>S.notice.key).indexOf(_),x=c.value.concat();T!==-1?x.splice(T,1,{notice:b,holderCallback:y}):(r&&c.value.length>=r&&(b.key=x[0].notice.key,b.updateMark=JI(),b.userPassKey=_,x.shift()),x.push({notice:b,holderCallback:y})),c.value=x},h=m=>{c.value=c.value.filter(y=>{let{notice:{key:_,userPassKey:b}}=y;return(b||_)!==m})},d=()=>{c.value=[]},p=()=>B(ZJ,{ref:u,prefixCls:i,maxCount:r,notices:c.value,remove:h,getClassName:o,getStyles:a,animation:n,hashId:t.hashId,onAllRemoved:s,getContainer:e},null),g=Fe([]),v={open:m=>{const y=eQ(l,m);(y.key===null||y.key===void 0)&&(y.key=`vc-notification-${QI}`,QI+=1),g.value=[...g.value,{type:"open",config:y}]},close:m=>{g.value=[...g.value,{type:"close",key:m}]},destroy:()=>{g.value=[...g.value,{type:"destroy"}]}};return Ke(g,()=>{g.value.length&&(g.value.forEach(m=>{switch(m.type){case"open":f(m.config);break;case"close":h(m.key);break;case"destroy":d();break}}),g.value=[])}),[v,p]}const tQ=t=>{const{componentCls:e,iconCls:n,boxShadowSecondary:i,colorBgElevated:r,colorSuccess:o,colorError:a,colorWarning:s,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:f,marginXS:h,paddingXS:d,borderRadiusLG:p,zIndexPopup:g,messageNoticeContentPadding:v}=t,m=new mt("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:d,transform:"translateY(0)",opacity:1}}),y=new mt("MessageMoveOut",{"0%":{maxHeight:t.height,padding:d,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}});return[{[e]:z(z({},Kr(t)),{position:"fixed",top:h,left:"50%",transform:"translateX(-50%)",width:"100%",pointerEvents:"none",zIndex:g,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:m,animationDuration:f,animationPlayState:"paused",animationTimingFunction:u},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:y,animationDuration:f,animationPlayState:"paused",animationTimingFunction:u},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[`${e}-notice`]:{padding:d,textAlign:"center",[n]:{verticalAlign:"text-bottom",marginInlineEnd:h,fontSize:c},[`${e}-notice-content`]:{display:"inline-block",padding:v,background:r,borderRadius:p,boxShadow:i,pointerEvents:"all"},[`${e}-success ${n}`]:{color:o},[`${e}-error ${n}`]:{color:a},[`${e}-warning ${n}`]:{color:s},[`
        ${e}-info ${n},
        ${e}-loading ${n}`]:{color:l}}},{[`${e}-notice-pure-panel`]:{padding:0,textAlign:"start"}}]},_U=Cr("Message",t=>{const e=_n(t,{messageNoticeContentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`});return[tQ(e)]},t=>({height:150,zIndexPopup:t.zIndexPopupBase+10})),nQ={info:B(lh,null,null),success:B(au,null,null),error:B(il,null,null),warning:B(sh,null,null),loading:B(ah,null,null)},iQ=Be({name:"PureContent",inheritAttrs:!1,props:["prefixCls","type","icon"],setup(t,e){let{slots:n}=e;return()=>{var i;return B("div",{class:qe(`${t.prefixCls}-custom-content`,`${t.prefixCls}-${t.type}`)},[t.icon||nQ[t.type],B("span",null,[(i=n.default)===null||i===void 0?void 0:i.call(n)])])}}});var rQ=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const oQ=8,aQ=3,sQ=Be({name:"Holder",inheritAttrs:!1,props:["top","prefixCls","getContainer","maxCount","duration","rtl","transitionName","onAllRemoved","animation","staticGetContainer"],setup(t,e){let{expose:n}=e;var i,r;const{getPrefixCls:o,getPopupContainer:a}=jn("message",t),s=W(()=>o("message",t.prefixCls)),[,l]=_U(s),c=()=>{var g;const v=(g=t.top)!==null&&g!==void 0?g:oQ;return{left:"50%",transform:"translateX(-50%)",top:typeof v=="number"?`${v}px`:v}},u=()=>qe(l.value,t.rtl?`${s.value}-rtl`:""),f=()=>{var g;return ET({prefixCls:s.value,animation:(g=t.animation)!==null&&g!==void 0?g:"move-up",transitionName:t.transitionName})},h=B("span",{class:`${s.value}-close-x`},[B(nl,{class:`${s.value}-close-icon`},null)]),[d,p]=yU({getStyles:c,prefixCls:s.value,getClassName:u,motion:f,closable:!1,closeIcon:h,duration:(i=t.duration)!==null&&i!==void 0?i:aQ,getContainer:(r=t.staticGetContainer)!==null&&r!==void 0?r:a.value,maxCount:t.maxCount,onAllRemoved:t.onAllRemoved});return n(z(z({},d),{prefixCls:s,hashId:l})),p}});let eR=0;function lQ(t){const e=Fe(null),n=Symbol("messageHolderKey"),i=l=>{var c;(c=e.value)===null||c===void 0||c.close(l)},r=l=>{if(!e.value){const T=()=>{};return T.then=()=>{},T}const{open:c,prefixCls:u,hashId:f}=e.value,h=`${u}-notice`,{content:d,icon:p,type:g,key:v,class:m,onClose:y}=l,_=rQ(l,["content","icon","type","key","class","onClose"]);let b=v;return b==null&&(eR+=1,b=`antd-message-${eR}`),p6(T=>(c(z(z({},_),{key:b,content:()=>B(iQ,{prefixCls:u,type:g,icon:typeof p=="function"?p():p},{default:()=>[typeof d=="function"?d():d]}),placement:"top",class:qe(g&&`${h}-${g}`,f,m),onClose:()=>{y==null||y(),T()}})),()=>{i(b)}))},a={open:r,destroy:l=>{var c;l!==void 0?i(l):(c=e.value)===null||c===void 0||c.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const c=(u,f,h)=>{let d;u&&typeof u=="object"&&"content"in u?d=u:d={content:u};let p,g;typeof f=="function"?g=f:(p=f,g=h);const v=z(z({onClose:g,duration:p},d),{type:l});return r(v)};a[l]=c}),[a,()=>B(sQ,we(we({key:n},t),{},{ref:e}),null)]}function cQ(t){return lQ(t)}let bU=3,xU,Pi,uQ=1,SU="",wU="move-up",MU=!1,TU=()=>document.body,CU,AU=!1;function fQ(){return uQ++}function hQ(t){t.top!==void 0&&(xU=t.top,Pi=null),t.duration!==void 0&&(bU=t.duration),t.prefixCls!==void 0&&(SU=t.prefixCls),t.getContainer!==void 0&&(TU=t.getContainer,Pi=null),t.transitionName!==void 0&&(wU=t.transitionName,Pi=null,MU=!0),t.maxCount!==void 0&&(CU=t.maxCount,Pi=null),t.rtl!==void 0&&(AU=t.rtl)}function dQ(t,e){if(Pi){e(Pi);return}A0.newInstance({appContext:t.appContext,prefixCls:t.prefixCls||SU,rootPrefixCls:t.rootPrefixCls,transitionName:wU,hasTransitionName:MU,style:{top:xU},getContainer:TU||t.getPopupContainer,maxCount:CU,name:"message",useStyle:_U},n=>{if(Pi){e(Pi);return}Pi=n,e(n)})}const EU={info:lh,success:au,error:il,warning:sh,loading:ah},pQ=Object.keys(EU);function mQ(t){const e=t.duration!==void 0?t.duration:bU,n=t.key||fQ(),i=new Promise(o=>{const a=()=>(typeof t.onClose=="function"&&t.onClose(),o(!0));dQ(t,s=>{s.notice({key:n,duration:e,style:t.style||{},class:t.class,content:l=>{let{prefixCls:c}=l;const u=EU[t.type],f=u?B(u,null,null):"",h=qe(`${c}-custom-content`,{[`${c}-${t.type}`]:t.type,[`${c}-rtl`]:AU===!0});return B("div",{class:h},[typeof t.icon=="function"?t.icon():t.icon||f,B("span",null,[typeof t.content=="function"?t.content():t.content])])},onClose:a,onClick:t.onClick})})}),r=()=>{Pi&&Pi.removeNotice(n)};return r.then=(o,a)=>i.then(o,a),r.promise=i,r}function vQ(t){return Object.prototype.toString.call(t)==="[object Object]"&&!!t.content}const Gf={open:mQ,config:hQ,destroy(t){if(Pi)if(t){const{removeNotice:e}=Pi;e(t)}else{const{destroy:e}=Pi;e(),Pi=null}}};function gQ(t,e){t[e]=(n,i,r)=>vQ(n)?t.open(z(z({},n),{type:e})):(typeof i=="function"&&(r=i,i=void 0),t.open({content:n,duration:i,type:e,onClose:r}))}pQ.forEach(t=>gQ(Gf,t));Gf.warn=Gf.warning;Gf.useMessage=cQ;const yQ=t=>{const{componentCls:e,width:n,notificationMarginEdge:i}=t,r=new mt("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),o=new mt("antNotificationBottomFadeIn",{"0%":{marginBottom:"-100%",opacity:0},"100%":{marginBottom:0,opacity:1}}),a=new mt("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:n},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{[`&${e}-top, &${e}-bottom`]:{marginInline:0},[`&${e}-top`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:r}},[`&${e}-bottom`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:o}},[`&${e}-topLeft, &${e}-bottomLeft`]:{marginInlineEnd:0,marginInlineStart:i,[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:a}}}},_Q=t=>{const{iconCls:e,componentCls:n,boxShadowSecondary:i,fontSizeLG:r,notificationMarginBottom:o,borderRadiusLG:a,colorSuccess:s,colorInfo:l,colorWarning:c,colorError:u,colorTextHeading:f,notificationBg:h,notificationPadding:d,notificationMarginEdge:p,motionDurationMid:g,motionEaseInOut:v,fontSize:m,lineHeight:y,width:_,notificationIconSize:b}=t,T=`${n}-notice`,x=new mt("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:_},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),S=new mt("antNotificationFadeOut",{"0%":{maxHeight:t.animationMaxHeight,marginBottom:o,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[n]:z(z(z(z({},Kr(t)),{position:"fixed",zIndex:t.zIndexPopup,marginInlineEnd:p,[`${n}-hook-holder`]:{position:"relative"},[`&${n}-top, &${n}-bottom`]:{[`${n}-notice`]:{marginInline:"auto auto"}},[`&${n}-topLeft, &${n}-bottomLeft`]:{[`${n}-notice`]:{marginInlineEnd:"auto",marginInlineStart:0}},[`${n}-fade-enter, ${n}-fade-appear`]:{animationDuration:t.motionDurationMid,animationTimingFunction:v,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${n}-fade-leave`]:{animationTimingFunction:v,animationFillMode:"both",animationDuration:g,animationPlayState:"paused"},[`${n}-fade-enter${n}-fade-enter-active, ${n}-fade-appear${n}-fade-appear-active`]:{animationName:x,animationPlayState:"running"},[`${n}-fade-leave${n}-fade-leave-active`]:{animationName:S,animationPlayState:"running"}}),yQ(t)),{"&-rtl":{direction:"rtl",[`${n}-notice-btn`]:{float:"left"}}})},{[T]:{position:"relative",width:_,maxWidth:`calc(100vw - ${p*2}px)`,marginBottom:o,marginInlineStart:"auto",padding:d,overflow:"hidden",lineHeight:y,wordWrap:"break-word",background:h,borderRadius:a,boxShadow:i,[`${n}-close-icon`]:{fontSize:m,cursor:"pointer"},[`${T}-message`]:{marginBottom:t.marginXS,color:f,fontSize:r,lineHeight:t.lineHeightLG},[`${T}-description`]:{fontSize:m},[`&${T}-closable ${T}-message`]:{paddingInlineEnd:t.paddingLG},[`${T}-with-icon ${T}-message`]:{marginBottom:t.marginXS,marginInlineStart:t.marginSM+b,fontSize:r},[`${T}-with-icon ${T}-description`]:{marginInlineStart:t.marginSM+b,fontSize:m},[`${T}-icon`]:{position:"absolute",fontSize:b,lineHeight:0,[`&-success${e}`]:{color:s},[`&-info${e}`]:{color:l},[`&-warning${e}`]:{color:c},[`&-error${e}`]:{color:u}},[`${T}-close`]:{position:"absolute",top:t.notificationPaddingVertical,insetInlineEnd:t.notificationPaddingHorizontal,color:t.colorIcon,outline:"none",width:t.notificationCloseButtonSize,height:t.notificationCloseButtonSize,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:t.colorIconHover,backgroundColor:t.wireframe?"transparent":t.colorFillContent}},[`${T}-btn`]:{float:"right",marginTop:t.marginSM}}},{[`${T}-pure-panel`]:{margin:0}}]},PU=Cr("Notification",t=>{const e=t.paddingMD,n=t.paddingLG,i=_n(t,{notificationBg:t.colorBgElevated,notificationPaddingVertical:e,notificationPaddingHorizontal:n,notificationPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`,notificationMarginBottom:t.margin,notificationMarginEdge:t.marginLG,animationMaxHeight:150,notificationIconSize:t.fontSizeLG*t.lineHeightLG,notificationCloseButtonSize:t.controlHeightLG*.55});return[_Q(i)]},t=>({zIndexPopup:t.zIndexPopupBase+50,width:384}));function bQ(t,e){return e||B("span",{class:`${t}-close-x`},[B(nl,{class:`${t}-close-icon`},null)])}B(lh,null,null),B(au,null,null),B(il,null,null),B(sh,null,null),B(ah,null,null);const xQ={success:au,info:lh,error:il,warning:sh};function SQ(t){let{prefixCls:e,icon:n,type:i,message:r,description:o,btn:a}=t,s=null;if(n)s=B("span",{class:`${e}-icon`},[tf(n)]);else if(i){const l=xQ[i];s=B(l,{class:`${e}-icon ${e}-icon-${i}`},null)}return B("div",{class:qe({[`${e}-with-icon`]:s}),role:"alert"},[s,B("div",{class:`${e}-message`},[r]),B("div",{class:`${e}-description`},[o]),a&&B("div",{class:`${e}-btn`},[a])])}function IU(t,e,n){let i;switch(e=typeof e=="number"?`${e}px`:e,n=typeof n=="number"?`${n}px`:n,t){case"top":i={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":i={left:0,top:e,bottom:"auto"};break;case"topRight":i={right:0,top:e,bottom:"auto"};break;case"bottom":i={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":i={left:0,top:"auto",bottom:n};break;default:i={right:0,top:"auto",bottom:n};break}return i}function wQ(t){return{name:`${t}-fade`}}var MQ=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const tR=24,TQ=4.5,CQ=Be({name:"Holder",inheritAttrs:!1,props:["prefixCls","class","type","icon","content","onAllRemoved"],setup(t,e){let{expose:n}=e;const{getPrefixCls:i,getPopupContainer:r}=jn("notification",t),o=W(()=>t.prefixCls||i("notification")),a=h=>{var d,p;return IU(h,(d=t.top)!==null&&d!==void 0?d:tR,(p=t.bottom)!==null&&p!==void 0?p:tR)},[,s]=PU(o),l=()=>qe(s.value,{[`${o.value}-rtl`]:t.rtl}),c=()=>wQ(o.value),[u,f]=yU({prefixCls:o.value,getStyles:a,getClassName:l,motion:c,closable:!0,closeIcon:bQ(o.value),duration:TQ,getContainer:()=>{var h,d;return((h=t.getPopupContainer)===null||h===void 0?void 0:h.call(t))||((d=r.value)===null||d===void 0?void 0:d.call(r))||document.body},maxCount:t.maxCount,hashId:s.value,onAllRemoved:t.onAllRemoved});return n(z(z({},u),{prefixCls:o.value,hashId:s})),f}});function AQ(t){const e=Fe(null),n=Symbol("notificationHolderKey"),i=s=>{if(!e.value)return;const{open:l,prefixCls:c,hashId:u}=e.value,f=`${c}-notice`,{message:h,description:d,icon:p,type:g,btn:v,class:m}=s,y=MQ(s,["message","description","icon","type","btn","class"]);return l(z(z({placement:"topRight"},y),{content:()=>B(SQ,{prefixCls:f,icon:typeof p=="function"?p():p,type:g,message:typeof h=="function"?h():h,description:typeof d=="function"?d():d,btn:typeof v=="function"?v():v},null),class:qe(g&&`${f}-${g}`,u,m)}))},o={open:i,destroy:s=>{var l,c;s!==void 0?(l=e.value)===null||l===void 0||l.close(s):(c=e.value)===null||c===void 0||c.destroy()}};return["success","info","warning","error"].forEach(s=>{o[s]=l=>i(z(z({},l),{type:s}))}),[o,()=>B(CQ,we(we({key:n},t),{},{ref:e}),null)]}function EQ(t){return AQ(t)}const oc={};let RU=4.5,DU="24px",OU="24px",_w="",LU="topRight",NU=()=>document.body,FU=null,bw=!1,BU;function PQ(t){const{duration:e,placement:n,bottom:i,top:r,getContainer:o,closeIcon:a,prefixCls:s}=t;s!==void 0&&(_w=s),e!==void 0&&(RU=e),n!==void 0&&(LU=n),i!==void 0&&(OU=typeof i=="number"?`${i}px`:i),r!==void 0&&(DU=typeof r=="number"?`${r}px`:r),o!==void 0&&(NU=o),a!==void 0&&(FU=a),t.rtl!==void 0&&(bw=t.rtl),t.maxCount!==void 0&&(BU=t.maxCount)}function IQ(t,e){let{prefixCls:n,placement:i=LU,getContainer:r=NU,top:o,bottom:a,closeIcon:s=FU,appContext:l}=t;const{getPrefixCls:c}=HQ(),u=c("notification",n||_w),f=`${u}-${i}-${bw}`,h=oc[f];if(h){Promise.resolve(h).then(p=>{e(p)});return}const d=qe(`${u}-${i}`,{[`${u}-rtl`]:bw===!0});A0.newInstance({name:"notification",prefixCls:n||_w,useStyle:PU,class:d,style:IU(i,o??DU,a??OU),appContext:l,getContainer:r,closeIcon:p=>{let{prefixCls:g}=p;return B("span",{class:`${g}-close-x`},[tf(s,{},B(nl,{class:`${g}-close-icon`},null))])},maxCount:BU,hasTransitionName:!0},p=>{oc[f]=p,e(p)})}const RQ={success:KT,info:JT,error:QT,warning:ZT};function DQ(t){const{icon:e,type:n,description:i,message:r,btn:o}=t,a=t.duration===void 0?RU:t.duration;IQ(t,s=>{s.notice({content:l=>{let{prefixCls:c}=l;const u=`${c}-notice`;let f=null;if(e)f=()=>B("span",{class:`${u}-icon`},[tf(e)]);else if(n){const h=RQ[n];f=()=>B(h,{class:`${u}-icon ${u}-icon-${n}`},null)}return B("div",{class:f?`${u}-with-icon`:""},[f&&f(),B("div",{class:`${u}-message`},[!i&&f?B("span",{class:`${u}-message-single-line-auto-margin`},null):null,tf(r)]),B("div",{class:`${u}-description`},[tf(i)]),o?B("span",{class:`${u}-btn`},[tf(o)]):null])},duration:a,closable:!0,onClose:t.onClose,onClick:t.onClick,key:t.key,style:t.style||{},class:t.class})})}const Wf={open:DQ,close(t){Object.keys(oc).forEach(e=>Promise.resolve(oc[e]).then(n=>{n.removeNotice(t)}))},config:PQ,destroy(){Object.keys(oc).forEach(t=>{Promise.resolve(oc[t]).then(e=>{e.destroy()}),delete oc[t]})}},OQ=["success","info","warning","error"];OQ.forEach(t=>{Wf[t]=e=>Wf.open(z(z({},e),{type:t}))});Wf.warn=Wf.warning;Wf.useNotification=EQ;const LQ=`-ant-${Date.now()}-${Math.random()}`;function NQ(t,e){const n={},i=(a,s)=>{let l=a.clone();return l=(s==null?void 0:s(l))||l,l.toRgbString()},r=(a,s)=>{const l=new Jn(a),c=Lc(l.toRgbString());n[`${s}-color`]=i(l),n[`${s}-color-disabled`]=c[1],n[`${s}-color-hover`]=c[4],n[`${s}-color-active`]=c[6],n[`${s}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),n[`${s}-color-deprecated-bg`]=c[0],n[`${s}-color-deprecated-border`]=c[2]};if(e.primaryColor){r(e.primaryColor,"primary");const a=new Jn(e.primaryColor),s=Lc(a.toRgbString());s.forEach((c,u)=>{n[`primary-${u+1}`]=c}),n["primary-color-deprecated-l-35"]=i(a,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=i(a,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=i(a,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=i(a,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=i(a,c=>c.setAlpha(c.getAlpha()*.12));const l=new Jn(s[0]);n["primary-color-active-deprecated-f-30"]=i(l,c=>c.setAlpha(c.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=i(l,c=>c.darken(2))}return e.successColor&&r(e.successColor,"success"),e.warningColor&&r(e.warningColor,"warning"),e.errorColor&&r(e.errorColor,"error"),e.infoColor&&r(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(a=>`--${t}-${a}: ${n[a]};`).join(`
`)}
  }
  `.trim()}function FQ(t,e){const n=NQ(t,e);Yr()&&pp(n,`${LQ}-dynamic-theme`)}const BQ=t=>{const[e,n]=em();return X1(W(()=>({theme:e.value,token:n.value,hashId:"",path:["ant-design-icons",t.value]})),()=>[{[`.${t.value}`]:z(z({},ST()),{[`.${t.value} .${t.value}-icon`]:{display:"block"}})}])};function UQ(t,e){const n=W(()=>(t==null?void 0:t.value)||{}),i=W(()=>n.value.inherit===!1||!(e!=null&&e.value)?UF:e.value);return W(()=>{if(!(t!=null&&t.value))return e==null?void 0:e.value;const o=z({},i.value.components);return Object.keys(t.value.components||{}).forEach(a=>{o[a]=z(z({},o[a]),t.value.components[a])}),z(z(z({},i.value),n.value),{token:z(z({},i.value.token),n.value.token),components:o})})}var zQ=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const kQ="ant";function bf(){return ci.prefixCls||kQ}function UU(){return ci.iconPrefixCls||mT}const tC=zn({}),ci=zn({});ni(()=>{z(ci,tC),ci.prefixCls=bf(),ci.iconPrefixCls=UU(),ci.getPrefixCls=(t,e)=>e||(t?`${ci.prefixCls}-${t}`:ci.prefixCls),ci.getRootPrefixCls=()=>ci.prefixCls?ci.prefixCls:bf()});let dx;const $Q=t=>{dx&&dx(),dx=ni(()=>{z(tC,zn(t)),z(ci,zn(t))}),t.theme&&FQ(bf(),t.theme)},HQ=()=>({getPrefixCls:(t,e)=>e||(t?`${bf()}-${t}`:bf()),getIconPrefixCls:UU,getRootPrefixCls:()=>ci.prefixCls?ci.prefixCls:bf()}),Nd=Be({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:H6(),setup(t,e){let{slots:n}=e;const i=cF(),r=(E,O)=>{const{prefixCls:$="ant"}=t;if(O)return O;const H=$||i.getPrefixCls("");return E?`${H}-${E}`:H},o=W(()=>t.iconPrefixCls||i.iconPrefixCls.value||mT),a=W(()=>o.value!==i.iconPrefixCls.value),s=W(()=>{var E;return t.csp||((E=i.csp)===null||E===void 0?void 0:E.value)}),l=BQ(o),c=UQ(W(()=>t.theme),W(()=>{var E;return(E=i.theme)===null||E===void 0?void 0:E.value})),u=E=>(t.renderEmpty||n.renderEmpty||i.renderEmpty||P8)(E),f=W(()=>{var E,O;return(E=t.autoInsertSpaceInButton)!==null&&E!==void 0?E:(O=i.autoInsertSpaceInButton)===null||O===void 0?void 0:O.value}),h=W(()=>{var E;return t.locale||((E=i.locale)===null||E===void 0?void 0:E.value)});Ke(h,()=>{tC.locale=h.value},{immediate:!0});const d=W(()=>{var E;return t.direction||((E=i.direction)===null||E===void 0?void 0:E.value)}),p=W(()=>{var E,O;return(E=t.space)!==null&&E!==void 0?E:(O=i.space)===null||O===void 0?void 0:O.value}),g=W(()=>{var E,O;return(E=t.virtual)!==null&&E!==void 0?E:(O=i.virtual)===null||O===void 0?void 0:O.value}),v=W(()=>{var E,O;return(E=t.dropdownMatchSelectWidth)!==null&&E!==void 0?E:(O=i.dropdownMatchSelectWidth)===null||O===void 0?void 0:O.value}),m=W(()=>{var E;return t.getTargetContainer!==void 0?t.getTargetContainer:(E=i.getTargetContainer)===null||E===void 0?void 0:E.value}),y=W(()=>{var E;return t.getPopupContainer!==void 0?t.getPopupContainer:(E=i.getPopupContainer)===null||E===void 0?void 0:E.value}),_=W(()=>{var E;return t.pageHeader!==void 0?t.pageHeader:(E=i.pageHeader)===null||E===void 0?void 0:E.value}),b=W(()=>{var E;return t.input!==void 0?t.input:(E=i.input)===null||E===void 0?void 0:E.value}),T=W(()=>{var E;return t.pagination!==void 0?t.pagination:(E=i.pagination)===null||E===void 0?void 0:E.value}),x=W(()=>{var E;return t.form!==void 0?t.form:(E=i.form)===null||E===void 0?void 0:E.value}),S=W(()=>{var E;return t.select!==void 0?t.select:(E=i.select)===null||E===void 0?void 0:E.value}),C=W(()=>t.componentSize),M=W(()=>t.componentDisabled),w=W(()=>{var E,O;return(E=t.wave)!==null&&E!==void 0?E:(O=i.wave)===null||O===void 0?void 0:O.value}),A={csp:s,autoInsertSpaceInButton:f,locale:h,direction:d,space:p,virtual:g,dropdownMatchSelectWidth:v,getPrefixCls:r,iconPrefixCls:o,theme:W(()=>{var E,O;return(E=c.value)!==null&&E!==void 0?E:(O=i.theme)===null||O===void 0?void 0:O.value}),renderEmpty:u,getTargetContainer:m,getPopupContainer:y,pageHeader:_,input:b,pagination:T,form:x,select:S,componentSize:C,componentDisabled:M,transformCellText:W(()=>t.transformCellText),wave:w},P=W(()=>{const E=c.value||{},{algorithm:O,token:$}=E,H=zQ(E,["algorithm","token"]),V=O&&(!Array.isArray(O)||O.length>0)?wF(O):void 0;return z(z({},H),{theme:V,token:z(z({},l_),$)})}),R=W(()=>{var E,O;let $={};return h.value&&($=((E=h.value.Form)===null||E===void 0?void 0:E.defaultValidateMessages)||((O=Bf.Form)===null||O===void 0?void 0:O.defaultValidateMessages)||{}),t.form&&t.form.validateMessages&&($=z(z({},$),t.form.validateMessages)),$});V6(A),$6({validateMessages:R}),I8(C),G6(M);const L=E=>{var O,$;let H=a.value?l((O=n.default)===null||O===void 0?void 0:O.call(n)):($=n.default)===null||$===void 0?void 0:$.call(n);if(t.theme){const V=function(){return H}();H=B(M8,{value:P.value},{default:()=>[V]})}return B(jJ,{locale:h.value||E,ANT_MARK__:yw},{default:()=>[H]})};return ni(()=>{d.value&&(Gf.config({rtl:d.value==="rtl"}),Wf.config({rtl:d.value==="rtl"}))}),()=>B(dF,{children:(E,O,$)=>L($)},null)}});Nd.config=$Q;Nd.install=function(t){t.component(Nd.name,Nd)};function VQ(t,e,n){var i=n,r=i.noTrailing,o=r===void 0?!1:r,a=i.noLeading,s=a===void 0?!1:a,l=i.debounceMode,c=l===void 0?void 0:l,u,f=!1,h=0;function d(){u&&clearTimeout(u)}function p(v){var m=v||{},y=m.upcomingOnly,_=y===void 0?!1:y;d(),f=!_}function g(){for(var v=arguments.length,m=new Array(v),y=0;y<v;y++)m[y]=arguments[y];var _=this,b=Date.now()-h;if(f)return;function T(){h=Date.now(),e.apply(_,m)}function x(){u=void 0}!s&&c&&!u&&T(),d(),c===void 0&&b>t?s?(h=Date.now(),o||(u=setTimeout(c?x:T,t))):T():o!==!0&&(u=setTimeout(c?x:T,c===void 0?t-b:t))}return g.cancel=p,g}function GQ(t,e,n){var i={},r=i.atBegin,o=r===void 0?!1:r;return VQ(t,e,{debounceMode:o!==!1})}const WQ=new mt("antSpinMove",{to:{opacity:1}}),XQ=new mt("antRotate",{to:{transform:"rotate(405deg)"}}),jQ=t=>({[`${t.componentCls}`]:z(z({},Kr(t)),{position:"absolute",display:"none",color:t.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${t.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${t.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-t.spinDotSize/2},[`${t.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(t.spinDotSize-t.fontSize)/2+2,textShadow:`0 1px 2px ${t.colorBgContainer}`},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.spinDotSize/2)-10},"&-sm":{[`${t.componentCls}-dot`]:{margin:-t.spinDotSizeSM/2},[`${t.componentCls}-text`]:{paddingTop:(t.spinDotSizeSM-t.fontSize)/2+2},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.spinDotSizeSM/2)-10}},"&-lg":{[`${t.componentCls}-dot`]:{margin:-(t.spinDotSizeLG/2)},[`${t.componentCls}-text`]:{paddingTop:(t.spinDotSizeLG-t.fontSize)/2+2},[`&${t.componentCls}-show-text ${t.componentCls}-dot`]:{marginTop:-(t.spinDotSizeLG/2)-10}}},[`${t.componentCls}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${t.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:t.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(t.spinDotSize-t.marginXXS/2)/2,height:(t.spinDotSize-t.marginXXS/2)/2,backgroundColor:t.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:WQ,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:XQ,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${t.componentCls}-dot`]:{fontSize:t.spinDotSizeSM,i:{width:(t.spinDotSizeSM-t.marginXXS/2)/2,height:(t.spinDotSizeSM-t.marginXXS/2)/2}},[`&-lg ${t.componentCls}-dot`]:{fontSize:t.spinDotSizeLG,i:{width:(t.spinDotSizeLG-t.marginXXS)/2,height:(t.spinDotSizeLG-t.marginXXS)/2}},[`&${t.componentCls}-show-text ${t.componentCls}-text`]:{display:"block"}})}),YQ=Cr("Spin",t=>{const e=_n(t,{spinDotDefault:t.colorTextDescription,spinDotSize:t.controlHeightLG/2,spinDotSizeSM:t.controlHeightLG*.35,spinDotSizeLG:t.controlHeight});return[jQ(e)]},{contentHeight:400});var qQ=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const KQ=()=>({prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:pe.any,delay:Number,indicator:pe.any});let zg=null;function ZQ(t,e){return!!t&&!!e&&!isNaN(Number(e))}function JQ(t){const e=t.indicator;zg=typeof e=="function"?e:()=>B(e,null,null)}const Fd=Be({compatConfig:{MODE:3},name:"ASpin",inheritAttrs:!1,props:Ja(KQ(),{size:"default",spinning:!0,wrapperClassName:""}),setup(t,e){let{attrs:n,slots:i}=e;const{prefixCls:r,size:o,direction:a}=jn("spin",t),[s,l]=YQ(r),c=Fe(t.spinning&&!ZQ(t.spinning,t.delay));let u;return Ke([()=>t.spinning,()=>t.delay],()=>{u==null||u.cancel(),u=GQ(t.delay,()=>{c.value=t.spinning}),u==null||u()},{immediate:!0,flush:"post"}),rr(()=>{u==null||u.cancel()}),()=>{var f,h;const{class:d}=n,p=qQ(n,["class"]),{tip:g=(f=i.tip)===null||f===void 0?void 0:f.call(i)}=t,v=(h=i.default)===null||h===void 0?void 0:h.call(i),m={[l.value]:!0,[r.value]:!0,[`${r.value}-sm`]:o.value==="small",[`${r.value}-lg`]:o.value==="large",[`${r.value}-spinning`]:c.value,[`${r.value}-show-text`]:!!g,[`${r.value}-rtl`]:a.value==="rtl",[d]:!!d};function y(b){const T=`${b}-dot`;let x=hT(i,t,"indicator");return x===null?null:(Array.isArray(x)&&(x=x.length===1?x[0]:x),xr(x)?Sr(x,{class:T}):zg&&xr(zg())?Sr(zg(),{class:T}):B("span",{class:`${T} ${b}-dot-spin`},[B("i",{class:`${b}-dot-item`},null),B("i",{class:`${b}-dot-item`},null),B("i",{class:`${b}-dot-item`},null),B("i",{class:`${b}-dot-item`},null)]))}const _=B("div",we(we({},p),{},{class:m,"aria-live":"polite","aria-busy":c.value}),[y(r.value),g?B("div",{class:`${r.value}-text`},[g]):null]);if(v&&eu(v).length){const b={[`${r.value}-container`]:!0,[`${r.value}-blur`]:c.value};return s(B("div",{class:[`${r.value}-nested-loading`,t.wrapperClassName,l.value]},[c.value&&B("div",{key:"loading"},[_]),B("div",{class:b,key:"container"},[v])]))}return s(_)}}});Fd.setDefaultIndicator=JQ;Fd.install=function(t){return t.component(Fd.name,Fd),t};var QQ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};function nR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){eee(t,r,n[r])})}return t}function eee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E0=function(e,n){var i=nR({},e,n.attrs);return B(dn,nR({},i,{icon:QQ}),null)};E0.displayName="DoubleLeftOutlined";E0.inheritAttrs=!1;var tee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};function iR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){nee(t,r,n[r])})}return t}function nee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P0=function(e,n){var i=iR({},e,n.attrs);return B(dn,iR({},i,{icon:tee}),null)};P0.displayName="DoubleRightOutlined";P0.inheritAttrs=!1;const iee=Be({name:"MiniSelect",compatConfig:{MODE:3},inheritAttrs:!1,props:qT(),Option:fr.Option,setup(t,e){let{attrs:n,slots:i}=e;return()=>{const r=z(z(z({},t),{size:"small"}),n);return B(fr,r,i)}}}),ree=Be({name:"MiddleSelect",inheritAttrs:!1,props:qT(),Option:fr.Option,setup(t,e){let{attrs:n,slots:i}=e;return()=>{const r=z(z(z({},t),{size:"middle"}),n);return B(fr,r,i)}}}),ml=Be({compatConfig:{MODE:3},name:"Pager",inheritAttrs:!1,props:{rootPrefixCls:String,page:Number,active:{type:Boolean,default:void 0},last:{type:Boolean,default:void 0},locale:pe.object,showTitle:{type:Boolean,default:void 0},itemRender:{type:Function,default:()=>{}},onClick:{type:Function},onKeypress:{type:Function}},eimt:["click","keypress"],setup(t,e){let{emit:n,attrs:i}=e;const r=()=>{n("click",t.page)},o=a=>{n("keypress",a,r,t.page)};return()=>{const{showTitle:a,page:s,itemRender:l}=t,{class:c,style:u}=i,f=`${t.rootPrefixCls}-item`,h=qe(f,`${f}-${t.page}`,{[`${f}-active`]:t.active,[`${f}-disabled`]:!t.page},c);return B("li",{onClick:r,onKeypress:o,title:a?String(s):null,tabindex:"0",class:h,style:u},[l({page:s,type:"page",originalElement:B("a",{rel:"nofollow"},[s])})])}}}),Ql={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},oee=Be({compatConfig:{MODE:3},props:{disabled:{type:Boolean,default:void 0},changeSize:Function,quickGo:Function,selectComponentClass:pe.any,current:Number,pageSizeOptions:pe.array.def(["10","20","50","100"]),pageSize:Number,buildOptionText:Function,locale:pe.object,rootPrefixCls:String,selectPrefixCls:String,goButton:pe.any},setup(t){const e=je(""),n=W(()=>!e.value||isNaN(e.value)?void 0:Number(e.value)),i=l=>`${l.value} ${t.locale.items_per_page}`,r=l=>{const{value:c}=l.target;e.value!==c&&(e.value=c)},o=l=>{const{goButton:c,quickGo:u,rootPrefixCls:f}=t;if(!(c||e.value===""))if(l.relatedTarget&&(l.relatedTarget.className.indexOf(`${f}-item-link`)>=0||l.relatedTarget.className.indexOf(`${f}-item`)>=0)){e.value="";return}else u(n.value),e.value=""},a=l=>{e.value!==""&&(l.keyCode===Ql.ENTER||l.type==="click")&&(t.quickGo(n.value),e.value="")},s=W(()=>{const{pageSize:l,pageSizeOptions:c}=t;return c.some(u=>u.toString()===l.toString())?c:c.concat([l.toString()]).sort((u,f)=>{const h=isNaN(Number(u))?0:Number(u),d=isNaN(Number(f))?0:Number(f);return h-d})});return()=>{const{rootPrefixCls:l,locale:c,changeSize:u,quickGo:f,goButton:h,selectComponentClass:d,selectPrefixCls:p,pageSize:g,disabled:v}=t,m=`${l}-options`;let y=null,_=null,b=null;if(!u&&!f)return null;if(u&&d){const T=t.buildOptionText||i,x=s.value.map((S,C)=>B(d.Option,{key:C,value:S},{default:()=>[T({value:S})]}));y=B(d,{disabled:v,prefixCls:p,showSearch:!1,class:`${m}-size-changer`,optionLabelProp:"children",value:(g||s.value[0]).toString(),onChange:S=>u(Number(S)),getPopupContainer:S=>S.parentNode},{default:()=>[x]})}return f&&(h&&(b=typeof h=="boolean"?B("button",{type:"button",onClick:a,onKeyup:a,disabled:v,class:`${m}-quick-jumper-button`},[c.jump_to_confirm]):B("span",{onClick:a,onKeyup:a},[h])),_=B("div",{class:`${m}-quick-jumper`},[c.jump_to,B(NT,{disabled:v,type:"text",value:e.value,onInput:r,onChange:r,onKeyup:a,onBlur:o},null),c.page,b])),B("li",{class:`${m}`},[y,_])}}}),aee={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页"};var see=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function lee(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function cee(t){let{originalElement:e}=t;return e}function ma(t,e,n){const i=typeof t>"u"?e.statePageSize:t;return Math.floor((n.total-1)/i)+1}const uee=Be({compatConfig:{MODE:3},name:"Pagination",mixins:[wB],inheritAttrs:!1,props:{disabled:{type:Boolean,default:void 0},prefixCls:pe.string.def("rc-pagination"),selectPrefixCls:pe.string.def("rc-select"),current:Number,defaultCurrent:pe.number.def(1),total:pe.number.def(0),pageSize:Number,defaultPageSize:pe.number.def(10),hideOnSinglePage:{type:Boolean,default:!1},showSizeChanger:{type:Boolean,default:void 0},showLessItems:{type:Boolean,default:!1},selectComponentClass:pe.any,showPrevNextJumpers:{type:Boolean,default:!0},showQuickJumper:pe.oneOfType([pe.looseBool,pe.object]).def(!1),showTitle:{type:Boolean,default:!0},pageSizeOptions:pe.arrayOf(pe.oneOfType([pe.number,pe.string])),buildOptionText:Function,showTotal:Function,simple:{type:Boolean,default:void 0},locale:pe.object.def(aee),itemRender:pe.func.def(cee),prevIcon:pe.any,nextIcon:pe.any,jumpPrevIcon:pe.any,jumpNextIcon:pe.any,totalBoundaryShowSizeChanger:pe.number.def(50)},data(){const t=this.$props;let e=mw([this.current,this.defaultCurrent]);const n=mw([this.pageSize,this.defaultPageSize]);return e=Math.min(e,ma(n,void 0,t)),{stateCurrent:e,stateCurrentInputValue:e,statePageSize:n}},watch:{current(t){this.setState({stateCurrent:t,stateCurrentInputValue:t})},pageSize(t){const e={};let n=this.stateCurrent;const i=ma(t,this.$data,this.$props);n=n>i?i:n,Ku(this,"current")||(e.stateCurrent=n,e.stateCurrentInputValue=n),e.statePageSize=t,this.setState(e)},stateCurrent(t,e){this.$nextTick(()=>{if(this.$refs.paginationNode){const n=this.$refs.paginationNode.querySelector(`.${this.prefixCls}-item-${e}`);n&&document.activeElement===n&&n.blur()}})},total(){const t={},e=ma(this.pageSize,this.$data,this.$props);if(Ku(this,"current")){const n=Math.min(this.current,e);t.stateCurrent=n,t.stateCurrentInputValue=n}else{let n=this.stateCurrent;n===0&&e>0?n=1:n=Math.min(this.stateCurrent,e),t.stateCurrent=n}this.setState(t)}},methods:{getJumpPrevPage(){return Math.max(1,this.stateCurrent-(this.showLessItems?3:5))},getJumpNextPage(){return Math.min(ma(void 0,this.$data,this.$props),this.stateCurrent+(this.showLessItems?3:5))},getItemIcon(t,e){const{prefixCls:n}=this.$props;return rF(this,t,this.$props)||B("button",{type:"button","aria-label":e,class:`${n}-item-link`},null)},getValidValue(t){const e=t.target.value,n=ma(void 0,this.$data,this.$props),{stateCurrentInputValue:i}=this.$data;let r;return e===""?r=e:isNaN(Number(e))?r=i:e>=n?r=n:r=Number(e),r},isValid(t){return lee(t)&&t!==this.stateCurrent},shouldDisplayQuickJumper(){const{showQuickJumper:t,pageSize:e,total:n}=this.$props;return n<=e?!1:t},handleKeyDown(t){(t.keyCode===Ql.ARROW_UP||t.keyCode===Ql.ARROW_DOWN)&&t.preventDefault()},handleKeyUp(t){const e=this.getValidValue(t),n=this.stateCurrentInputValue;e!==n&&this.setState({stateCurrentInputValue:e}),t.keyCode===Ql.ENTER?this.handleChange(e):t.keyCode===Ql.ARROW_UP?this.handleChange(e-1):t.keyCode===Ql.ARROW_DOWN&&this.handleChange(e+1)},changePageSize(t){let e=this.stateCurrent;const n=e,i=ma(t,this.$data,this.$props);e=e>i?i:e,i===0&&(e=this.stateCurrent),typeof t=="number"&&(Ku(this,"pageSize")||this.setState({statePageSize:t}),Ku(this,"current")||this.setState({stateCurrent:e,stateCurrentInputValue:e})),this.__emit("update:pageSize",t),e!==n&&this.__emit("update:current",e),this.__emit("showSizeChange",e,t),this.__emit("change",e,t)},handleChange(t){const{disabled:e}=this.$props;let n=t;if(this.isValid(n)&&!e){const i=ma(void 0,this.$data,this.$props);return n>i?n=i:n<1&&(n=1),Ku(this,"current")||this.setState({stateCurrent:n,stateCurrentInputValue:n}),this.__emit("update:current",n),this.__emit("change",n,this.statePageSize),n}return this.stateCurrent},prev(){this.hasPrev()&&this.handleChange(this.stateCurrent-1)},next(){this.hasNext()&&this.handleChange(this.stateCurrent+1)},jumpPrev(){this.handleChange(this.getJumpPrevPage())},jumpNext(){this.handleChange(this.getJumpNextPage())},hasPrev(){return this.stateCurrent>1},hasNext(){return this.stateCurrent<ma(void 0,this.$data,this.$props)},getShowSizeChanger(){const{showSizeChanger:t,total:e,totalBoundaryShowSizeChanger:n}=this.$props;return typeof t<"u"?t:e>n},runIfEnter(t,e){if(t.key==="Enter"||t.charCode===13){t.preventDefault();for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];e(...i)}},runIfEnterPrev(t){this.runIfEnter(t,this.prev)},runIfEnterNext(t){this.runIfEnter(t,this.next)},runIfEnterJumpPrev(t){this.runIfEnter(t,this.jumpPrev)},runIfEnterJumpNext(t){this.runIfEnter(t,this.jumpNext)},handleGoTO(t){(t.keyCode===Ql.ENTER||t.type==="click")&&this.handleChange(this.stateCurrentInputValue)},renderPrev(t){const{itemRender:e}=this.$props,n=e({page:t,type:"prev",originalElement:this.getItemIcon("prevIcon","prev page")}),i=!this.hasPrev();return Nf(n)?So(n,i?{disabled:i}:{}):n},renderNext(t){const{itemRender:e}=this.$props,n=e({page:t,type:"next",originalElement:this.getItemIcon("nextIcon","next page")}),i=!this.hasNext();return Nf(n)?So(n,i?{disabled:i}:{}):n}},render(){const{prefixCls:t,disabled:e,hideOnSinglePage:n,total:i,locale:r,showQuickJumper:o,showLessItems:a,showTitle:s,showTotal:l,simple:c,itemRender:u,showPrevNextJumpers:f,jumpPrevIcon:h,jumpNextIcon:d,selectComponentClass:p,selectPrefixCls:g,pageSizeOptions:v}=this.$props,{stateCurrent:m,statePageSize:y}=this,_=iF(this.$attrs).extraAttrs,{class:b}=_,T=see(_,["class"]);if(n===!0&&this.total<=y)return null;const x=ma(void 0,this.$data,this.$props),S=[];let C=null,M=null,w=null,A=null,P=null;const R=o&&o.goButton,L=a?1:2,E=m-1>0?m-1:0,O=m+1<x?m+1:x,$=this.hasPrev(),H=this.hasNext();if(c)return R&&(typeof R=="boolean"?P=B("button",{type:"button",onClick:this.handleGoTO,onKeyup:this.handleGoTO},[r.jump_to_confirm]):P=B("span",{onClick:this.handleGoTO,onKeyup:this.handleGoTO},[R]),P=B("li",{title:s?`${r.jump_to}${m}/${x}`:null,class:`${t}-simple-pager`},[P])),B("ul",we({class:qe(`${t} ${t}-simple`,{[`${t}-disabled`]:e},b)},T),[B("li",{title:s?r.prev_page:null,onClick:this.prev,tabindex:$?0:null,onKeypress:this.runIfEnterPrev,class:qe(`${t}-prev`,{[`${t}-disabled`]:!$}),"aria-disabled":!$},[this.renderPrev(E)]),B("li",{title:s?`${m}/${x}`:null,class:`${t}-simple-pager`},[B(NT,{type:"text",value:this.stateCurrentInputValue,disabled:e,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onInput:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"},null),B("span",{class:`${t}-slash`},[Df("／")]),x]),B("li",{title:s?r.next_page:null,onClick:this.next,tabindex:H?0:null,onKeypress:this.runIfEnterNext,class:qe(`${t}-next`,{[`${t}-disabled`]:!H}),"aria-disabled":!H},[this.renderNext(O)]),P]);if(x<=3+L*2){const xe={locale:r,rootPrefixCls:t,showTitle:s,itemRender:u,onClick:this.handleChange,onKeypress:this.runIfEnter};x||S.push(B(ml,we(we({},xe),{},{key:"noPager",page:1,class:`${t}-item-disabled`}),null));for(let Z=1;Z<=x;Z+=1){const ve=m===Z;S.push(B(ml,we(we({},xe),{},{key:Z,page:Z,active:ve}),null))}}else{const xe=a?r.prev_3:r.prev_5,Z=a?r.next_3:r.next_5;f&&(C=B("li",{title:this.showTitle?xe:null,key:"prev",onClick:this.jumpPrev,tabindex:"0",onKeypress:this.runIfEnterJumpPrev,class:qe(`${t}-jump-prev`,{[`${t}-jump-prev-custom-icon`]:!!h})},[u({page:this.getJumpPrevPage(),type:"jump-prev",originalElement:this.getItemIcon("jumpPrevIcon","prev page")})]),M=B("li",{title:this.showTitle?Z:null,key:"next",tabindex:"0",onClick:this.jumpNext,onKeypress:this.runIfEnterJumpNext,class:qe(`${t}-jump-next`,{[`${t}-jump-next-custom-icon`]:!!d})},[u({page:this.getJumpNextPage(),type:"jump-next",originalElement:this.getItemIcon("jumpNextIcon","next page")})])),A=B(ml,{locale:r,last:!0,rootPrefixCls:t,onClick:this.handleChange,onKeypress:this.runIfEnter,key:x,page:x,active:!1,showTitle:s,itemRender:u},null),w=B(ml,{locale:r,rootPrefixCls:t,onClick:this.handleChange,onKeypress:this.runIfEnter,key:1,page:1,active:!1,showTitle:s,itemRender:u},null);let ve=Math.max(1,m-L),ye=Math.min(m+L,x);m-1<=L&&(ye=1+L*2),x-m<=L&&(ve=x-L*2);for(let ge=ve;ge<=ye;ge+=1){const Ce=m===ge;S.push(B(ml,{locale:r,rootPrefixCls:t,onClick:this.handleChange,onKeypress:this.runIfEnter,key:ge,page:ge,active:Ce,showTitle:s,itemRender:u},null))}m-1>=L*2&&m!==3&&(S[0]=B(ml,{locale:r,rootPrefixCls:t,onClick:this.handleChange,onKeypress:this.runIfEnter,key:ve,page:ve,class:`${t}-item-after-jump-prev`,active:!1,showTitle:this.showTitle,itemRender:u},null),S.unshift(C)),x-m>=L*2&&m!==x-2&&(S[S.length-1]=B(ml,{locale:r,rootPrefixCls:t,onClick:this.handleChange,onKeypress:this.runIfEnter,key:ye,page:ye,class:`${t}-item-before-jump-next`,active:!1,showTitle:this.showTitle,itemRender:u},null),S.push(M)),ve!==1&&S.unshift(w),ye!==x&&S.push(A)}let V=null;l&&(V=B("li",{class:`${t}-total-text`},[l(i,[i===0?0:(m-1)*y+1,m*y>i?i:m*y])]));const Y=!$||!x,ae=!H||!x,oe=this.buildOptionText||this.$slots.buildOptionText;return B("ul",we(we({unselectable:"on",ref:"paginationNode"},T),{},{class:qe({[`${t}`]:!0,[`${t}-disabled`]:e},b)}),[V,B("li",{title:s?r.prev_page:null,onClick:this.prev,tabindex:Y?null:0,onKeypress:this.runIfEnterPrev,class:qe(`${t}-prev`,{[`${t}-disabled`]:Y}),"aria-disabled":Y},[this.renderPrev(E)]),S,B("li",{title:s?r.next_page:null,onClick:this.next,tabindex:ae?null:0,onKeypress:this.runIfEnterNext,class:qe(`${t}-next`,{[`${t}-disabled`]:ae}),"aria-disabled":ae},[this.renderNext(O)]),B(oee,{disabled:e,locale:r,rootPrefixCls:t,selectComponentClass:p,selectPrefixCls:g,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:m,pageSize:y,pageSizeOptions:v,buildOptionText:oe||null,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:R},null)])}}),fee=t=>{const{componentCls:e}=t;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`&${e}-mini`]:{[`
          &:hover ${e}-item:not(${e}-item-active),
          &:active ${e}-item:not(${e}-item-active),
          &:hover ${e}-item-link,
          &:active ${e}-item-link
        `]:{backgroundColor:"transparent"}},[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:t.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:t.colorBorder,backgroundColor:t.paginationItemDisabledBgActive,"&:hover, &:active":{backgroundColor:t.paginationItemDisabledBgActive},a:{color:t.paginationItemDisabledColorActive}}},[`${e}-item-link`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:t.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},hee=t=>{const{componentCls:e}=t;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:t.paginationItemSizeSM,lineHeight:`${t.paginationItemSizeSM}px`},[`&${e}-mini ${e}-item`]:{minWidth:t.paginationItemSizeSM,height:t.paginationItemSizeSM,margin:0,lineHeight:`${t.paginationItemSizeSM-2}px`},[`&${e}-mini ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:t.paginationItemSizeSM,height:t.paginationItemSizeSM,margin:0,lineHeight:`${t.paginationItemSizeSM}px`,[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:t.paginationItemSizeSM,lineHeight:`${t.paginationItemSizeSM}px`}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:t.paginationItemSizeSM,marginInlineEnd:0,lineHeight:`${t.paginationItemSizeSM}px`},[`&${e}-mini ${e}-options`]:{marginInlineStart:t.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:t.paginationMiniOptionsSizeChangerTop},"&-quick-jumper":{height:t.paginationItemSizeSM,lineHeight:`${t.paginationItemSizeSM}px`,input:z(z({},mU(t)),{width:t.paginationMiniQuickJumperInputWidth,height:t.controlHeightSM})}}}},dee=t=>{const{componentCls:e}=t;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:t.paginationItemSizeSM,lineHeight:`${t.paginationItemSizeSM}px`,verticalAlign:"top",[`${e}-item-link`]:{height:t.paginationItemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive},"&::after":{height:t.paginationItemSizeSM,lineHeight:`${t.paginationItemSizeSM}px`}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:t.paginationItemSizeSM,marginInlineEnd:t.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:t.marginXS,padding:`0 ${t.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:t.paginationItemInputBg,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,outline:"none",transition:`border-color ${t.motionDurationMid}`,color:"inherit","&:hover":{borderColor:t.colorPrimary},"&:focus":{borderColor:t.colorPrimaryHover,boxShadow:`${t.inputOutlineOffset}px 0 ${t.controlOutlineWidth}px ${t.controlOutline}`},"&[disabled]":{color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,cursor:"not-allowed"}}}}},pee=t=>{const{componentCls:e}=t;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:t.colorPrimary,fontSize:t.fontSizeSM,opacity:0,transition:`all ${t.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:t.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:t.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:t.paginationEllipsisTextIndent,opacity:1,transition:`all ${t.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},"&:focus-visible":z({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},J1(t))},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:t.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:t.paginationItemSize,height:t.paginationItemSize,color:t.colorText,fontFamily:t.paginationFontFamily,lineHeight:`${t.paginationItemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:t.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:t.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${t.lineWidth}px ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:"none",transition:`all ${t.motionDurationMid}`},[`&:focus-visible ${e}-item-link`]:z({},J1(t)),[`&:hover ${e}-item-link`]:{backgroundColor:t.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:t.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:t.paginationSlashMarginInlineEnd,marginInlineStart:t.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:t.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:t.controlHeight,marginInlineStart:t.marginXS,lineHeight:`${t.controlHeight}px`,verticalAlign:"top",input:z(z({},MJ(t)),{width:t.controlHeightLG*1.25,height:t.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:t.marginXS,marginInlineEnd:t.marginXS})}}}},mee=t=>{const{componentCls:e}=t;return{[`${e}-item`]:z(z({display:"inline-block",minWidth:t.paginationItemSize,height:t.paginationItemSize,marginInlineEnd:t.marginXS,fontFamily:t.paginationFontFamily,lineHeight:`${t.paginationItemSize-2}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${t.lineWidth}px ${t.lineType} transparent`,borderRadius:t.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${t.paginationItemPaddingInline}px`,color:t.colorText,transition:"none","&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${t.motionDurationMid}`,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}}},_8(t)),{"&-active":{fontWeight:t.paginationFontWeightActive,backgroundColor:t.paginationItemBgActive,borderColor:t.colorPrimary,a:{color:t.colorPrimary},"&:hover":{borderColor:t.colorPrimaryHover},"&:hover a":{color:t.colorPrimaryHover}}})}},vee=t=>{const{componentCls:e}=t;return{[e]:z(z(z(z(z(z(z(z({},Kr(t)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:t.paginationItemSize,marginInlineEnd:t.marginXS,lineHeight:`${t.paginationItemSize-2}px`,verticalAlign:"middle"}}),mee(t)),pee(t)),dee(t)),hee(t)),fee(t)),{[`@media only screen and (max-width: ${t.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${t.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${t.componentCls}-rtl`]:{direction:"rtl"}}},gee=t=>{const{componentCls:e}=t;return{[`${e}${e}-disabled`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:t.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:t.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,a:{color:t.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:t.paginationItemDisabledBgActive}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,color:t.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder}}},[e]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:t.colorPrimaryHover,backgroundColor:t.paginationItemBg},[`${e}-item-link`]:{backgroundColor:t.paginationItemLinkBg,borderColor:t.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:t.colorPrimary,backgroundColor:t.paginationItemBg,color:t.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:t.colorBorder,color:t.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:t.paginationItemBg,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:t.colorPrimary,backgroundColor:t.paginationItemBg,a:{color:t.colorPrimary}},"&-active":{borderColor:t.colorPrimary}}}}},yee=Cr("Pagination",t=>{const e=_n(t,{paginationItemSize:t.controlHeight,paginationFontFamily:t.fontFamily,paginationItemBg:t.colorBgContainer,paginationItemBgActive:t.colorBgContainer,paginationFontWeightActive:t.fontWeightStrong,paginationItemSizeSM:t.controlHeightSM,paginationItemInputBg:t.colorBgContainer,paginationMiniOptionsSizeChangerTop:0,paginationItemDisabledBgActive:t.controlItemBgActiveDisabled,paginationItemDisabledColorActive:t.colorTextDisabled,paginationItemLinkBg:t.colorBgContainer,inputOutlineOffset:"0 0",paginationMiniOptionsMarginInlineStart:t.marginXXS/2,paginationMiniQuickJumperInputWidth:t.controlHeightLG*1.1,paginationItemPaddingInline:t.marginXXS*1.5,paginationEllipsisLetterSpacing:t.marginXXS/2,paginationSlashMarginInlineStart:t.marginXXS,paginationSlashMarginInlineEnd:t.marginSM,paginationEllipsisTextIndent:"0.13em"},TJ(t));return[vee(e),t.wireframe&&gee(e)]});var _ee=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const bee=()=>({total:Number,defaultCurrent:Number,disabled:Ai(),current:Number,defaultPageSize:Number,pageSize:Number,hideOnSinglePage:Ai(),showSizeChanger:Ai(),pageSizeOptions:m0(),buildOptionText:Uo(),showQuickJumper:Xr([Boolean,Object]),showTotal:Uo(),size:ji(),simple:Ai(),locale:Object,prefixCls:String,selectPrefixCls:String,totalBoundaryShowSizeChanger:Number,selectComponentClass:String,itemRender:Uo(),role:String,responsive:Boolean,showLessItems:Ai(),onChange:Uo(),onShowSizeChange:Uo(),"onUpdate:current":Uo(),"onUpdate:pageSize":Uo()}),xee=Be({compatConfig:{MODE:3},name:"APagination",inheritAttrs:!1,props:bee(),setup(t,e){let{slots:n,attrs:i}=e;const{prefixCls:r,configProvider:o,direction:a,size:s}=jn("pagination",t),[l,c]=yee(r),u=W(()=>o.getPrefixCls("select",t.selectPrefixCls)),f=uU(),[h]=X6("Pagination",fF,ur(t,"locale")),d=p=>{const g=B("span",{class:`${p}-item-ellipsis`},[Df("•••")]),v=B("button",{class:`${p}-item-link`,type:"button",tabindex:-1},[a.value==="rtl"?B(T0,null,null):B(C0,null,null)]),m=B("button",{class:`${p}-item-link`,type:"button",tabindex:-1},[a.value==="rtl"?B(C0,null,null):B(T0,null,null)]),y=B("a",{rel:"nofollow",class:`${p}-item-link`},[B("div",{class:`${p}-item-container`},[a.value==="rtl"?B(P0,{class:`${p}-item-link-icon`},null):B(E0,{class:`${p}-item-link-icon`},null),g])]),_=B("a",{rel:"nofollow",class:`${p}-item-link`},[B("div",{class:`${p}-item-container`},[a.value==="rtl"?B(E0,{class:`${p}-item-link-icon`},null):B(P0,{class:`${p}-item-link-icon`},null),g])]);return{prevIcon:v,nextIcon:m,jumpPrevIcon:y,jumpNextIcon:_}};return()=>{var p;const{itemRender:g=n.itemRender,buildOptionText:v=n.buildOptionText,selectComponentClass:m,responsive:y}=t,_=_ee(t,["itemRender","buildOptionText","selectComponentClass","responsive"]),b=s.value==="small"||!!(!((p=f.value)===null||p===void 0)&&p.xs&&!s.value&&y),T=z(z(z(z(z({},_),d(r.value)),{prefixCls:r.value,selectPrefixCls:u.value,selectComponentClass:m||(b?iee:ree),locale:h.value,buildOptionText:v}),i),{class:qe({[`${r.value}-mini`]:b,[`${r.value}-rtl`]:a.value==="rtl"},i.class,c.value),itemRender:g});return l(B(uee,T,null))}}}),See=ih(xee),wee=()=>({avatar:pe.any,description:pe.any,prefixCls:String,title:pe.any}),Mee=Be({compatConfig:{MODE:3},name:"AListItemMeta",props:wee(),displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:Object,setup(t,e){let{slots:n}=e;const{prefixCls:i}=jn("list",t);return()=>{var r,o,a,s,l,c;const u=`${i.value}-item-meta`,f=(r=t.title)!==null&&r!==void 0?r:(o=n.title)===null||o===void 0?void 0:o.call(n),h=(a=t.description)!==null&&a!==void 0?a:(s=n.description)===null||s===void 0?void 0:s.call(n),d=(l=t.avatar)!==null&&l!==void 0?l:(c=n.avatar)===null||c===void 0?void 0:c.call(n),p=B("div",{class:`${i.value}-item-meta-content`},[f&&B("h4",{class:`${i.value}-item-meta-title`},[f]),h&&B("div",{class:`${i.value}-item-meta-description`},[h])]);return B("div",{class:u},[d&&B("div",{class:`${i.value}-item-meta-avatar`},[d]),(f||h)&&p])}}}),zU=Symbol("ListContextKey");var Tee=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Cee=()=>({prefixCls:String,extra:pe.any,actions:pe.array,grid:Object,colStyle:{type:Object,default:void 0}}),nC=Be({compatConfig:{MODE:3},name:"AListItem",inheritAttrs:!1,Meta:Mee,props:Cee(),slots:Object,setup(t,e){let{slots:n,attrs:i}=e;const{itemLayout:r,grid:o}=kt(zU,{grid:je(),itemLayout:je()}),{prefixCls:a}=jn("list",t),s=()=>{var c;const u=((c=n.default)===null||c===void 0?void 0:c.call(n))||[];let f;return u.forEach(h=>{z6(h)&&!fT(h)&&(f=!0)}),f&&u.length>1},l=()=>{var c,u;const f=(c=t.extra)!==null&&c!==void 0?c:(u=n.extra)===null||u===void 0?void 0:u.call(n);return r.value==="vertical"?!!f:!s()};return()=>{var c,u,f,h,d;const{class:p}=i,g=Tee(i,["class"]),v=a.value,m=(c=t.extra)!==null&&c!==void 0?c:(u=n.extra)===null||u===void 0?void 0:u.call(n),y=(f=n.default)===null||f===void 0?void 0:f.call(n);let _=(h=t.actions)!==null&&h!==void 0?h:Ki((d=n.actions)===null||d===void 0?void 0:d.call(n));_=_&&!Array.isArray(_)?[_]:_;const b=_&&_.length>0&&B("ul",{class:`${v}-item-action`,key:"actions"},[_.map((S,C)=>B("li",{key:`${v}-item-action-${C}`},[S,C!==_.length-1&&B("em",{class:`${v}-item-action-split`},null)]))]),T=o.value?"div":"li",x=B(T,we(we({},g),{},{class:qe(`${v}-item`,{[`${v}-item-no-flex`]:!l()},p)}),{default:()=>[r.value==="vertical"&&m?[B("div",{class:`${v}-item-main`,key:"content"},[y,b]),B("div",{class:`${v}-item-extra`,key:"extra"},[m])]:[y,b,So(m,{key:"extra"})]]});return o.value?B(WJ,{flex:1,style:t.colStyle},{default:()=>[x]}):x}}}),Aee=t=>{const{listBorderedCls:e,componentCls:n,paddingLG:i,margin:r,padding:o,listItemPaddingSM:a,marginLG:s,borderRadiusLG:l}=t;return{[`${e}`]:{border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:l,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:i},[`${n}-pagination`]:{margin:`${r}px ${s}px`}},[`${e}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:a}},[`${e}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:`${o}px ${i}px`}}}},Eee=t=>{const{componentCls:e,screenSM:n,screenMD:i,marginLG:r,marginSM:o,margin:a}=t;return{[`@media screen and (max-width:${i})`]:{[`${e}`]:{[`${e}-item`]:{[`${e}-item-action`]:{marginInlineStart:r}}},[`${e}-vertical`]:{[`${e}-item`]:{[`${e}-item-extra`]:{marginInlineStart:r}}}},[`@media screen and (max-width: ${n})`]:{[`${e}`]:{[`${e}-item`]:{flexWrap:"wrap",[`${e}-action`]:{marginInlineStart:o}}},[`${e}-vertical`]:{[`${e}-item`]:{flexWrap:"wrap-reverse",[`${e}-item-main`]:{minWidth:t.contentWidth},[`${e}-item-extra`]:{margin:`auto auto ${a}px`}}}}}},Pee=t=>{const{componentCls:e,antCls:n,controlHeight:i,minHeight:r,paddingSM:o,marginLG:a,padding:s,listItemPadding:l,colorPrimary:c,listItemPaddingSM:u,listItemPaddingLG:f,paddingXS:h,margin:d,colorText:p,colorTextDescription:g,motionDurationSlow:v,lineWidth:m}=t;return{[`${e}`]:z(z({},Kr(t)),{position:"relative","*":{outline:"none"},[`${e}-header, ${e}-footer`]:{background:"transparent",paddingBlock:o},[`${e}-pagination`]:{marginBlockStart:a,textAlign:"end",[`${n}-pagination-options`]:{textAlign:"start"}},[`${e}-spin`]:{minHeight:r,textAlign:"center"},[`${e}-items`]:{margin:0,padding:0,listStyle:"none"},[`${e}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:p,[`${e}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${e}-item-meta-avatar`]:{marginInlineEnd:s},[`${e}-item-meta-content`]:{flex:"1 0",width:0,color:p},[`${e}-item-meta-title`]:{marginBottom:t.marginXXS,color:p,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:p,transition:`all ${v}`,"&:hover":{color:c}}},[`${e}-item-meta-description`]:{color:g,fontSize:t.fontSize,lineHeight:t.lineHeight}},[`${e}-item-action`]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${h}px`,color:g,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${e}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:m,height:Math.ceil(t.fontSize*t.lineHeight)-t.marginXXS*2,transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},[`${e}-empty`]:{padding:`${s}px 0`,color:g,fontSize:t.fontSizeSM,textAlign:"center"},[`${e}-empty-text`]:{padding:s,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},[`${e}-item-no-flex`]:{display:"block"}}),[`${e}-grid ${n}-col > ${e}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:d,paddingBlock:0,borderBlockEnd:"none"},[`${e}-vertical ${e}-item`]:{alignItems:"initial",[`${e}-item-main`]:{display:"block",flex:1},[`${e}-item-extra`]:{marginInlineStart:a},[`${e}-item-meta`]:{marginBlockEnd:s,[`${e}-item-meta-title`]:{marginBlockEnd:o,color:p,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},[`${e}-item-action`]:{marginBlockStart:s,marginInlineStart:"auto","> li":{padding:`0 ${s}px`,"&:first-child":{paddingInlineStart:0}}}},[`${e}-split ${e}-item`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${e}-split ${e}-header`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-split${e}-empty ${e}-footer`]:{borderTop:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-loading ${e}-spin-nested-loading`]:{minHeight:i},[`${e}-split${e}-something-after-last-item ${n}-spin-container > ${e}-items > ${e}-item:last-child`]:{borderBlockEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},[`${e}-lg ${e}-item`]:{padding:f},[`${e}-sm ${e}-item`]:{padding:u},[`${e}:not(${e}-vertical)`]:{[`${e}-item-no-flex`]:{[`${e}-item-action`]:{float:"right"}}}}},Iee=Cr("List",t=>{const e=_n(t,{listBorderedCls:`${t.componentCls}-bordered`,minHeight:t.controlHeightLG,listItemPadding:`${t.paddingContentVertical}px ${t.paddingContentHorizontalLG}px`,listItemPaddingSM:`${t.paddingContentVerticalSM}px ${t.paddingContentHorizontal}px`,listItemPaddingLG:`${t.paddingContentVerticalLG}px ${t.paddingContentHorizontalLG}px`});return[Pee(e),Aee(e),Eee(e)]},{contentWidth:220}),Ree=()=>({bordered:Ai(),dataSource:m0(),extra:Lm(),grid:En(),itemLayout:String,loading:Xr([Boolean,Object]),loadMore:Lm(),pagination:Xr([Boolean,Object]),prefixCls:String,rowKey:Xr([String,Number,Function]),renderItem:Uo(),size:String,split:Ai(),header:Lm(),footer:Lm(),locale:En()}),Ta=Be({compatConfig:{MODE:3},name:"AList",inheritAttrs:!1,Item:nC,props:Ja(Ree(),{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:Object,setup(t,e){let{slots:n,attrs:i}=e;var r,o;kn(zU,{grid:ur(t,"grid"),itemLayout:ur(t,"itemLayout")});const a={current:1,total:0},{prefixCls:s,direction:l,renderEmpty:c}=jn("list",t),[u,f]=Iee(s),h=W(()=>t.pagination&&typeof t.pagination=="object"?t.pagination:{}),d=je((r=h.value.defaultCurrent)!==null&&r!==void 0?r:1),p=je((o=h.value.defaultPageSize)!==null&&o!==void 0?o:10);Ke(h,()=>{"current"in h.value&&(d.value=h.value.current),"pageSize"in h.value&&(p.value=h.value.pageSize)});const g=[],v=R=>(L,E)=>{d.value=L,p.value=E,h.value[R]&&h.value[R](L,E)},m=v("onChange"),y=v("onShowSizeChange"),_=W(()=>typeof t.loading=="boolean"?{spinning:t.loading}:t.loading),b=W(()=>_.value&&_.value.spinning),T=W(()=>{let R="";switch(t.size){case"large":R="lg";break;case"small":R="sm";break}return R}),x=W(()=>({[`${s.value}`]:!0,[`${s.value}-vertical`]:t.itemLayout==="vertical",[`${s.value}-${T.value}`]:T.value,[`${s.value}-split`]:t.split,[`${s.value}-bordered`]:t.bordered,[`${s.value}-loading`]:b.value,[`${s.value}-grid`]:!!t.grid,[`${s.value}-rtl`]:l.value==="rtl"})),S=W(()=>{const R=z(z(z({},a),{total:t.dataSource.length,current:d.value,pageSize:p.value}),t.pagination||{}),L=Math.ceil(R.total/R.pageSize);return R.current>L&&(R.current=L),R}),C=W(()=>{let R=[...t.dataSource];return t.pagination&&t.dataSource.length>(S.value.current-1)*S.value.pageSize&&(R=[...t.dataSource].splice((S.value.current-1)*S.value.pageSize,S.value.pageSize)),R}),M=uU(),w=BZ(()=>{for(let R=0;R<rf.length;R+=1){const L=rf[R];if(M.value[L])return L}}),A=W(()=>{if(!t.grid)return;const R=w.value&&t.grid[w.value]?t.grid[w.value]:t.grid.column;if(R)return{width:`${100/R}%`,maxWidth:`${100/R}%`}}),P=(R,L)=>{var E;const O=(E=t.renderItem)!==null&&E!==void 0?E:n.renderItem;if(!O)return null;let $;const H=typeof t.rowKey;return H==="function"?$=t.rowKey(R):H==="string"||H==="number"?$=R[t.rowKey]:$=R.key,$||($=`list-item-${L}`),g[L]=$,O({item:R,index:L})};return()=>{var R,L,E,O,$,H,V,Y;const ae=(R=t.loadMore)!==null&&R!==void 0?R:(L=n.loadMore)===null||L===void 0?void 0:L.call(n),oe=(E=t.footer)!==null&&E!==void 0?E:(O=n.footer)===null||O===void 0?void 0:O.call(n),xe=($=t.header)!==null&&$!==void 0?$:(H=n.header)===null||H===void 0?void 0:H.call(n),Z=Ki((V=n.default)===null||V===void 0?void 0:V.call(n)),ve=!!(ae||t.pagination||oe),ye=qe(z(z({},x.value),{[`${s.value}-something-after-last-item`]:ve}),i.class,f.value),ge=t.pagination?B("div",{class:`${s.value}-pagination`},[B(See,we(we({},S.value),{},{onChange:m,onShowSizeChange:y}),null)]):null;let Ce=b.value&&B("div",{style:{minHeight:"53px"}},null);if(C.value.length>0){g.length=0;const J=C.value.map((D,U)=>P(D,U)),Q=J.map((D,U)=>B("div",{key:g[U],style:A.value},[D]));Ce=t.grid?B($J,{gutter:t.grid.gutter},{default:()=>[Q]}):B("ul",{class:`${s.value}-items`},[J])}else!Z.length&&!b.value&&(Ce=B("div",{class:`${s.value}-empty-text`},[((Y=t.locale)===null||Y===void 0?void 0:Y.emptyText)||c("List")]));const ce=S.value.position||"bottom";return u(B("div",we(we({},i),{},{class:ye}),[(ce==="top"||ce==="both")&&ge,xe&&B("div",{class:`${s.value}-header`},[xe]),B(Fd,_.value,{default:()=>[Ce,Z]}),oe&&B("div",{class:`${s.value}-footer`},[oe]),ae||(ce==="bottom"||ce==="both")&&ge]))}}});Ta.install=function(t){return t.component(Ta.name,Ta),t.component(Ta.Item.name,Ta.Item),t.component(Ta.Item.Meta.name,Ta.Item.Meta),t};const Dee=["normal","exception","active","success"],__=()=>({prefixCls:String,type:ji(),percent:Number,format:Uo(),status:ji(),showInfo:Ai(),strokeWidth:Number,strokeLinecap:ji(),strokeColor:Ff(),trailColor:String,width:Number,success:En(),gapDegree:Number,gapPosition:ji(),size:Xr([String,Number,Array]),steps:Number,successPercent:Number,title:String,progressStatus:ji()});function Sc(t){return!t||t<0?0:t>100?100:t}function I0(t){let{success:e,successPercent:n}=t,i=n;return e&&"progress"in e&&(Z8(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),i=e.progress),e&&"percent"in e&&(i=e.percent),i}function Oee(t){let{percent:e,success:n,successPercent:i}=t;const r=Sc(I0({success:n,successPercent:i}));return[r,Sc(Sc(e)-r)]}function Lee(t){let{success:e={},strokeColor:n}=t;const{strokeColor:i}=e;return[i||yf.green,n||null]}const b_=(t,e,n)=>{var i,r,o,a;let s=-1,l=-1;if(e==="step"){const c=n.steps,u=n.strokeWidth;typeof t=="string"||typeof t>"u"?(s=t==="small"?2:14,l=u??8):typeof t=="number"?[s,l]=[t,t]:[s=14,l=8]=t,s*=c}else if(e==="line"){const c=n==null?void 0:n.strokeWidth;typeof t=="string"||typeof t>"u"?l=c||(t==="small"?6:8):typeof t=="number"?[s,l]=[t,t]:[s=-1,l=8]=t}else(e==="circle"||e==="dashboard")&&(typeof t=="string"||typeof t>"u"?[s,l]=t==="small"?[60,60]:[120,120]:typeof t=="number"?[s,l]=[t,t]:(s=(r=(i=t[0])!==null&&i!==void 0?i:t[1])!==null&&r!==void 0?r:120,l=(a=(o=t[0])!==null&&o!==void 0?o:t[1])!==null&&a!==void 0?a:120));return{width:s,height:l}};var Nee=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const Fee=()=>z(z({},__()),{strokeColor:Ff(),direction:ji()}),Bee=t=>{let e=[];return Object.keys(t).forEach(n=>{const i=parseFloat(n.replace(/%/g,""));isNaN(i)||e.push({key:i,value:t[n]})}),e=e.sort((n,i)=>n.key-i.key),e.map(n=>{let{key:i,value:r}=n;return`${r} ${i}%`}).join(", ")},Uee=(t,e)=>{const{from:n=yf.blue,to:i=yf.blue,direction:r=e==="rtl"?"to left":"to right"}=t,o=Nee(t,["from","to","direction"]);if(Object.keys(o).length!==0){const a=Bee(o);return{backgroundImage:`linear-gradient(${r}, ${a})`}}return{backgroundImage:`linear-gradient(${r}, ${n}, ${i})`}},zee=Be({compatConfig:{MODE:3},name:"ProgressLine",inheritAttrs:!1,props:Fee(),setup(t,e){let{slots:n,attrs:i}=e;const r=W(()=>{const{strokeColor:d,direction:p}=t;return d&&typeof d!="string"?Uee(d,p):{backgroundColor:d}}),o=W(()=>t.strokeLinecap==="square"||t.strokeLinecap==="butt"?0:void 0),a=W(()=>t.trailColor?{backgroundColor:t.trailColor}:void 0),s=W(()=>{var d;return(d=t.size)!==null&&d!==void 0?d:[-1,t.strokeWidth||(t.size==="small"?6:8)]}),l=W(()=>b_(s.value,"line",{strokeWidth:t.strokeWidth})),c=W(()=>{const{percent:d}=t;return z({width:`${Sc(d)}%`,height:`${l.value.height}px`,borderRadius:o.value},r.value)}),u=W(()=>I0(t)),f=W(()=>{const{success:d}=t;return{width:`${Sc(u.value)}%`,height:`${l.value.height}px`,borderRadius:o.value,backgroundColor:d==null?void 0:d.strokeColor}}),h={width:l.value.width<0?"100%":l.value.width,height:`${l.value.height}px`};return()=>{var d;return B(Ht,null,[B("div",we(we({},i),{},{class:[`${t.prefixCls}-outer`,i.class],style:[i.style,h]}),[B("div",{class:`${t.prefixCls}-inner`,style:a.value},[B("div",{class:`${t.prefixCls}-bg`,style:c.value},null),u.value!==void 0?B("div",{class:`${t.prefixCls}-success-bg`,style:f.value},null):null])]),(d=n.default)===null||d===void 0?void 0:d.call(n)])}}}),kee={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},$ee=t=>{const e=je(null);return Qs(()=>{const n=Date.now();let i=!1;t.value.forEach(r=>{const o=(r==null?void 0:r.$el)||r;if(!o)return;i=!0;const a=o.style;a.transitionDuration=".3s, .3s, .3s, .06s",e.value&&n-e.value<100&&(a.transitionDuration="0s, 0s")}),i&&(e.value=Date.now())}),t},Hee={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String};var Vee=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};let rR=0;function oR(t){return+t.replace("%","")}function aR(t){return Array.isArray(t)?t:[t]}function sR(t,e,n,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;const a=50-i/2;let s=0,l=-a,c=0,u=-2*a;switch(o){case"left":s=-a,l=0,c=2*a,u=0;break;case"right":s=a,l=0,c=-2*a,u=0;break;case"bottom":l=a,u=2*a;break}const f=`M 50,50 m ${s},${l}
   a ${a},${a} 0 1 1 ${c},${-u}
   a ${a},${a} 0 1 1 ${-c},${u}`,h=Math.PI*2*a,d={stroke:n,strokeDasharray:`${e/100*(h-r)}px ${h}px`,strokeDashoffset:`-${r/2+t/100*(h-r)}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:f,pathStyle:d}}const Gee=Be({compatConfig:{MODE:3},name:"VCCircle",props:Ja(Hee,kee),setup(t){rR+=1;const e=je(rR),n=W(()=>aR(t.percent)),i=W(()=>aR(t.strokeColor)),[r,o]=CJ();$ee(o);const a=()=>{const{prefixCls:s,strokeWidth:l,strokeLinecap:c,gapDegree:u,gapPosition:f}=t;let h=0;return n.value.map((d,p)=>{const g=i.value[p]||i.value[i.value.length-1],v=Object.prototype.toString.call(g)==="[object Object]"?`url(#${s}-gradient-${e.value})`:"",{pathString:m,pathStyle:y}=sR(h,d,g,l,u,f);h+=d;const _={key:p,d:m,stroke:v,"stroke-linecap":c,"stroke-width":l,opacity:d===0?0:1,"fill-opacity":"0",class:`${s}-circle-path`,style:y};return B("path",we({ref:r(p)},_),null)})};return()=>{const{prefixCls:s,strokeWidth:l,trailWidth:c,gapDegree:u,gapPosition:f,trailColor:h,strokeLinecap:d,strokeColor:p}=t,g=Vee(t,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),{pathString:v,pathStyle:m}=sR(0,100,h,l,u,f);delete g.percent;const y=i.value.find(b=>Object.prototype.toString.call(b)==="[object Object]"),_={d:v,stroke:h,"stroke-linecap":d,"stroke-width":c||l,"fill-opacity":"0",class:`${s}-circle-trail`,style:m};return B("svg",we({class:`${s}-circle`,viewBox:"0 0 100 100"},g),[y&&B("defs",null,[B("linearGradient",{id:`${s}-gradient-${e.value}`,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(y).sort((b,T)=>oR(b)-oR(T)).map((b,T)=>B("stop",{key:T,offset:b,"stop-color":y[b]},null))])]),B("path",_,null),a().reverse()])}}}),Wee=()=>z(z({},__()),{strokeColor:Ff()}),Xee=3,jee=t=>Xee/t*100,Yee=Be({compatConfig:{MODE:3},name:"ProgressCircle",inheritAttrs:!1,props:Ja(Wee(),{trailColor:null}),setup(t,e){let{slots:n,attrs:i}=e;const r=W(()=>{var g;return(g=t.width)!==null&&g!==void 0?g:120}),o=W(()=>{var g;return(g=t.size)!==null&&g!==void 0?g:[r.value,r.value]}),a=W(()=>b_(o.value,"circle")),s=W(()=>{if(t.gapDegree||t.gapDegree===0)return t.gapDegree;if(t.type==="dashboard")return 75}),l=W(()=>({width:`${a.value.width}px`,height:`${a.value.height}px`,fontSize:`${a.value.width*.15+6}px`})),c=W(()=>{var g;return(g=t.strokeWidth)!==null&&g!==void 0?g:Math.max(jee(a.value.width),6)}),u=W(()=>t.gapPosition||t.type==="dashboard"&&"bottom"||void 0),f=W(()=>Oee(t)),h=W(()=>Object.prototype.toString.call(t.strokeColor)==="[object Object]"),d=W(()=>Lee({success:t.success,strokeColor:t.strokeColor})),p=W(()=>({[`${t.prefixCls}-inner`]:!0,[`${t.prefixCls}-circle-gradient`]:h.value}));return()=>{var g;const v=B(Gee,{percent:f.value,strokeWidth:c.value,trailWidth:c.value,strokeColor:d.value,strokeLinecap:t.strokeLinecap,trailColor:t.trailColor,prefixCls:t.prefixCls,gapDegree:s.value,gapPosition:u.value},null);return B("div",we(we({},i),{},{class:[p.value,i.class],style:[i.style,l.value]}),[a.value.width<=20?B(tJ,null,{default:()=>[B("span",null,[v])],title:n.default}):B(Ht,null,[v,(g=n.default)===null||g===void 0?void 0:g.call(n)])])}}}),qee=()=>z(z({},__()),{steps:Number,strokeColor:Xr(),trailColor:String}),Kee=Be({compatConfig:{MODE:3},name:"Steps",props:qee(),setup(t,e){let{slots:n}=e;const i=W(()=>Math.round(t.steps*((t.percent||0)/100))),r=W(()=>{var s;return(s=t.size)!==null&&s!==void 0?s:[t.size==="small"?2:14,t.strokeWidth||8]}),o=W(()=>b_(r.value,"step",{steps:t.steps,strokeWidth:t.strokeWidth||8})),a=W(()=>{const{steps:s,strokeColor:l,trailColor:c,prefixCls:u}=t,f=[];for(let h=0;h<s;h+=1){const d=Array.isArray(l)?l[h]:l,p={[`${u}-steps-item`]:!0,[`${u}-steps-item-active`]:h<=i.value-1};f.push(B("div",{key:h,class:p,style:{backgroundColor:h<=i.value-1?d:c,width:`${o.value.width/s}px`,height:`${o.value.height}px`}},null))}return f});return()=>{var s;return B("div",{class:`${t.prefixCls}-steps-outer`},[a.value,(s=n.default)===null||s===void 0?void 0:s.call(n)])}}}),Zee=new mt("antProgressActive",{"0%":{transform:"translateX(-100%) scaleX(0)",opacity:.1},"20%":{transform:"translateX(-100%) scaleX(0)",opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}}),Jee=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:z(z({},Kr(t)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:t.fontSize,marginInlineEnd:t.marginXS,marginBottom:t.marginXS},[`${e}-outer`]:{display:"inline-block",width:"100%"},[`&${e}-show-info`]:{[`${e}-outer`]:{marginInlineEnd:`calc(-2em - ${t.marginXS}px)`,paddingInlineEnd:`calc(2em + ${t.paddingXS}px)`}},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:t.progressRemainingColor,borderRadius:t.progressLineRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorInfo}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",backgroundColor:t.colorInfo,borderRadius:t.progressLineRadius,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:t.colorSuccess},[`${e}-text`]:{display:"inline-block",width:"2em",marginInlineStart:t.marginXS,color:t.progressInfoTextColor,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:t.fontSize}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:t.colorBgContainer,borderRadius:t.progressLineRadius,opacity:0,animationName:Zee,animationDuration:t.progressActiveMotionDuration,animationTimingFunction:t.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:t.colorError},[`${e}-text`]:{color:t.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:t.colorSuccess},[`${e}-text`]:{color:t.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorSuccess}}})}},Qee=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-circle-trail`]:{stroke:t.progressRemainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:t.colorText,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:`${t.fontSize/t.fontSizeSM}em`}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:t.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:t.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},ete=t=>{const{componentCls:e}=t;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:t.progressStepMinWidth,marginInlineEnd:t.progressStepMarginInlineEnd,backgroundColor:t.progressRemainingColor,transition:`all ${t.motionDurationSlow}`,"&-active":{backgroundColor:t.colorInfo}}}}}},tte=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${n}`]:{fontSize:t.fontSizeSM}}}},nte=Cr("Progress",t=>{const e=t.marginXXS/2,n=_n(t,{progressLineRadius:100,progressInfoTextColor:t.colorText,progressDefaultColor:t.colorInfo,progressRemainingColor:t.colorFillSecondary,progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[Jee(n),Qee(n),ete(n),tte(n)]});var ite=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const rte=Be({compatConfig:{MODE:3},name:"AProgress",inheritAttrs:!1,props:Ja(__(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",strokeLinecap:"round"}),slots:Object,setup(t,e){let{slots:n,attrs:i}=e;const{prefixCls:r,direction:o}=jn("progress",t),[a,s]=nte(r),l=W(()=>Array.isArray(t.strokeColor)?t.strokeColor[0]:t.strokeColor),c=W(()=>{const{percent:p=0}=t,g=I0(t);return parseInt(g!==void 0?g.toString():p.toString(),10)}),u=W(()=>{const{status:p}=t;return!Dee.includes(p)&&c.value>=100?"success":p||"normal"}),f=W(()=>{const{type:p,showInfo:g,size:v}=t,m=r.value;return{[m]:!0,[`${m}-inline-circle`]:p==="circle"&&b_(v,"circle").width<=20,[`${m}-${p==="dashboard"&&"circle"||p}`]:!0,[`${m}-status-${u.value}`]:!0,[`${m}-show-info`]:g,[`${m}-${v}`]:v,[`${m}-rtl`]:o.value==="rtl",[s.value]:!0}}),h=W(()=>typeof t.strokeColor=="string"||Array.isArray(t.strokeColor)?t.strokeColor:void 0),d=()=>{const{showInfo:p,format:g,type:v,percent:m,title:y}=t,_=I0(t);if(!p)return null;let b;const T=g||(n==null?void 0:n.format)||(S=>`${S}%`),x=v==="line";return g||n!=null&&n.format||u.value!=="exception"&&u.value!=="success"?b=T(Sc(m),Sc(_)):u.value==="exception"?b=B(x?il:nl,null,null):u.value==="success"&&(b=B(x?au:y_,null,null)),B("span",{class:`${r.value}-text`,title:y===void 0&&typeof b=="string"?b:void 0},[b])};return()=>{const{type:p,steps:g,title:v}=t,{class:m}=i,y=ite(i,["class"]),_=d();let b;return p==="line"?b=g?B(Kee,we(we({},t),{},{strokeColor:h.value,prefixCls:r.value,steps:g}),{default:()=>[_]}):B(zee,we(we({},t),{},{strokeColor:l.value,prefixCls:r.value,direction:o.value}),{default:()=>[_]}):(p==="circle"||p==="dashboard")&&(b=B(Yee,we(we({},t),{},{prefixCls:r.value,strokeColor:l.value,progressStatus:u.value}),{default:()=>[_]})),a(B("div",we(we({role:"progressbar"},y),{},{class:[f.value,m],title:v}),[b]))}}}),ote=ih(rte);var ate={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"};function lR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){ste(t,r,n[r])})}return t}function ste(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var iC=function(e,n){var i=lR({},e,n.attrs);return B(dn,lR({},i,{icon:ate}),null)};iC.displayName="LoginOutlined";iC.inheritAttrs=!1;const lte={class:"right-panel-item"},cte={class:"right-panel-item__title"},ute={class:"right-panel-item__content"},fte=Be({__name:"RightItem",props:{title:{type:String,default:""}},setup(t){return(e,n)=>(xo(),e_("div",lte,[Yo("div",cte,qy(t.title),1),Yo("div",ute,[p3(e.$slots,"default",{},void 0)])]))}}),rm=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},px=rm(fte,[["__scopeId","data-v-63b34a52"]]),hte=Be({__name:"Area",props:{floors:{type:Array,default:[]}},emits:["item-click"],setup(t,{emit:e}){const n=e;function i(a,s){n("item-click",{areaType:a,...s})}function r(a){const s=Math.round((a==null?void 0:a.nop)/(a==null?void 0:a.capacity)*100),l=a.nop,c=a.capacity;return`当前：${l}(人)
容量：${c}(人)
百分比：${s}%
${s>=80?"爆满":s>=50?"拥挤":"空闲"}`}function o(a){const s=Math.round((a==null?void 0:a.nop)/(a==null?void 0:a.capacity)*100);return s>=80?"#ff4d4f":s>=50?"#faad14":"#52c41a"}return(a,s)=>(xo(),Oc(Ln(Ta),{"item-layout":"horizontal","data-source":t.floors,split:!1},{renderItem:fo(({item:l})=>[B(Ln(nC),{onClick:c=>i("area-item",l)},{actions:fo(()=>[B(Ln(ote),{type:"circle",percent:Math.round((l==null?void 0:l.nop)/(l==null?void 0:l.capacity)*100),size:14,strokeColor:o(l),format:()=>r(l)},null,8,["percent","strokeColor","format"]),B(Ln(iC),{class:"a-icon hover",onClick:k1(c=>i("area-detail",l),["stop"])},null,8,["onClick"])]),default:fo(()=>[Yo("p",null,qy(l==null?void 0:l.name),1)]),_:2},1032,["onClick"])]),_:1},8,["data-source"]))}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xw=function(t,e){return xw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},xw(t,e)};function Ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var dte=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),pte=function(){function t(){this.browser=new dte,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),pt=new pte;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(pt.wxa=!0,pt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?pt.worker=!0:typeof navigator>"u"||navigator.userAgent.indexOf("Node.js")===0?(pt.node=!0,pt.svgSupported=!0):mte(navigator.userAgent,pt);function mte(t,e){var n=e.browser,i=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);i&&(n.firefox=!0,n.version=i[1]),r&&(n.ie=!0,n.version=r[1]),o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18),a&&(n.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}var rC=12,vte="sans-serif",kc=rC+"px "+vte,gte=20,yte=100,_te="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function bte(t){var e={};if(typeof JSON>"u")return e;for(var n=0;n<t.length;n++){var i=String.fromCharCode(n+32),r=(t.charCodeAt(n)-gte)/yte;e[i]=r}return e}var xte=bte(_te),ch={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(n,i){if(!t){var r=ch.createCanvas();t=r&&r.getContext("2d")}if(t)return e!==i&&(e=t.font=i||kc),t.measureText(n);n=n||"",i=i||kc;var o=/((?:\d+)?\.?\d*)px/.exec(i),a=o&&+o[1]||rC,s=0;if(i.indexOf("mono")>=0)s=a*n.length;else for(var l=0;l<n.length;l++){var c=xte[n[l]];s+=c==null?a:c*a}return{width:s}}}(),loadImage:function(t,e,n){var i=new Image;return i.onload=e,i.onerror=n,i.src=t,i}},kU=Ws(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),$U=Ws(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),om=Object.prototype.toString,x_=Array.prototype,Ste=x_.forEach,wte=x_.filter,oC=x_.slice,Mte=x_.map,cR=(function(){}).constructor,Ym=cR?cR.prototype:null,aC="__proto__",Tte=2311;function HU(){return Tte++}function sC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function Dt(t){if(t==null||typeof t!="object")return t;var e=t,n=om.call(t);if(n==="[object Array]"){if(!Ud(t)){e=[];for(var i=0,r=t.length;i<r;i++)e[i]=Dt(t[i])}}else if($U[n]){if(!Ud(t)){var o=t.constructor;if(o.from)e=o.from(t);else{e=new o(t.length);for(var i=0,r=t.length;i<r;i++)e[i]=t[i]}}}else if(!kU[n]&&!Ud(t)&&!wp(t)){e={};for(var a in t)t.hasOwnProperty(a)&&a!==aC&&(e[a]=Dt(t[a]))}return e}function Kt(t,e,n){if(!nt(e)||!nt(t))return n?Dt(e):t;for(var i in e)if(e.hasOwnProperty(i)&&i!==aC){var r=t[i],o=e[i];nt(o)&&nt(r)&&!Ge(o)&&!Ge(r)&&!wp(o)&&!wp(r)&&!uR(o)&&!uR(r)&&!Ud(o)&&!Ud(r)?Kt(r,o,n):(n||!(i in t))&&(t[i]=Dt(e[i]))}return t}function Ie(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==aC&&(t[n]=e[n]);return t}function Vt(t,e,n){for(var i=cn(e),r=0;r<i.length;r++){var o=i[r];t[o]==null&&(t[o]=e[o])}return t}function qt(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1}function Cte(t,e){var n=t.prototype;function i(){}i.prototype=e.prototype,t.prototype=new i;for(var r in n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);t.prototype.constructor=t,t.superClass=e}function aa(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r];o!=="constructor"&&t[o]==null&&(t[o]=e[o])}else Vt(t,e)}function Qi(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function q(t,e,n){if(t&&e)if(t.forEach&&t.forEach===Ste)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function rt(t,e,n){if(!t)return[];if(!e)return lC(t);if(t.map&&t.map===Mte)return t.map(e,n);for(var i=[],r=0,o=t.length;r<o;r++)i.push(e.call(n,t[r],r,t));return i}function Ws(t,e,n,i){if(t&&e){for(var r=0,o=t.length;r<o;r++)n=e.call(i,n,t[r],r,t);return n}}function Gi(t,e,n){if(!t)return[];if(!e)return lC(t);if(t.filter&&t.filter===wte)return t.filter(e,n);for(var i=[],r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}function cn(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function Ate(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return t.apply(e,n.concat(oC.call(arguments)))}}var an=Ym&&St(Ym.bind)?Ym.call.bind(Ym.bind):Ate;function Zi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(oC.call(arguments)))}}function Ge(t){return Array.isArray?Array.isArray(t):om.call(t)==="[object Array]"}function St(t){return typeof t=="function"}function Qe(t){return typeof t=="string"}function Sw(t){return om.call(t)==="[object String]"}function tn(t){return typeof t=="number"}function nt(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function uR(t){return!!kU[om.call(t)]}function er(t){return!!$U[om.call(t)]}function wp(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function S_(t){return t.colorStops!=null}function Ete(t){return t.image!=null}function R0(t){return t!==t}function Mp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t.length;n<i;n++)if(t[n]!=null)return t[n]}function Tt(t,e){return t??e}function Bd(t,e,n){return t??e??n}function lC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return oC.apply(t,e)}function VU(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function Va(t,e){if(!t)throw new Error(e)}function Go(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var GU="__ec_primitive__";function ww(t){t[GU]=!0}function Ud(t){return t[GU]}var Pte=function(){function t(){this.data={}}return t.prototype.delete=function(e){var n=this.has(e);return n&&delete this.data[e],n},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,n){return this.data[e]=n,this},t.prototype.keys=function(){return cn(this.data)},t.prototype.forEach=function(e){var n=this.data;for(var i in n)n.hasOwnProperty(i)&&e(n[i],i)},t}(),WU=typeof Map=="function";function Ite(){return WU?new Map:new Pte}var Rte=function(){function t(e){var n=Ge(e);this.data=Ite();var i=this;e instanceof t?e.each(r):e&&q(e,r);function r(o,a){n?i.set(o,a):i.set(a,o)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,n){return this.data.set(e,n),n},t.prototype.each=function(e,n){this.data.forEach(function(i,r){e.call(n,i,r)})},t.prototype.keys=function(){var e=this.data.keys();return WU?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function Ct(t){return new Rte(t)}function Dte(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];for(var r=t.length,i=0;i<e.length;i++)n[i+r]=e[i];return n}function w_(t,e){var n;if(Object.create)n=Object.create(t);else{var i=function(){};i.prototype=t,n=new i}return e&&Ie(n,e),n}function XU(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Xf(t,e){return t.hasOwnProperty(e)}function Ji(){}var Ote=180/Math.PI;function uh(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function Lte(t){return[t[0],t[1]]}function fR(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Nte(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Fte(t){return Math.sqrt(Bte(t))}function Bte(t){return t[0]*t[0]+t[1]*t[1]}function mx(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function Ute(t,e){var n=Fte(e);return n===0?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function Mw(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Tw=Mw;function zte(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var xf=zte;function vx(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t}function jr(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function of(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function af(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var gu=function(){function t(e,n){this.target=e,this.topTarget=n&&n.topTarget}return t}(),kte=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var n=e.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new gu(n,e),"dragstart",e.event))},t.prototype._drag=function(e){var n=this._draggingTarget;if(n){var i=e.offsetX,r=e.offsetY,o=i-this._x,a=r-this._y;this._x=i,this._y=r,n.drift(o,a,e),this.handler.dispatchToElement(new gu(n,e),"drag",e.event);var s=this.handler.findHover(i,r,n).target,l=this._dropTarget;this._dropTarget=s,n!==s&&(l&&s!==l&&this.handler.dispatchToElement(new gu(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new gu(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new gu(n,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new gu(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}(),sa=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,n,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof n=="function"&&(r=i,i=n,n=null),!i||!e)return this;var a=this._$eventProcessor;n!=null&&a&&a.normalizeQuery&&(n=a.normalizeQuery(n)),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===i)return this;var l={h:i,query:n,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},c=o[e].length-1,u=o[e][c];return u&&u.callAtLast?o[e].splice(c,0,l):o[e].push(l),this},t.prototype.isSilent=function(e){var n=this._$handlers;return!n||!n[e]||!n[e].length},t.prototype.off=function(e,n){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(n){if(i[e]){for(var r=[],o=0,a=i[e].length;o<a;o++)i[e][o].h!==n&&r.push(i[e][o]);i[e]=r}i[e]&&i[e].length===0&&delete i[e]}else delete i[e];return this},t.prototype.trigger=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var a=n.length,s=r.length,l=0;l<s;l++){var c=r[l];if(!(o&&o.filter&&c.query!=null&&!o.filter(e,c.query)))switch(a){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,n[0]);break;case 2:c.h.call(c.ctx,n[0],n[1]);break;default:c.h.apply(c.ctx,n);break}}return o&&o.afterTrigger&&o.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var a=n.length,s=n[a-1],l=r.length,c=0;c<l;c++){var u=r[c];if(!(o&&o.filter&&u.query!=null&&!o.filter(e,u.query)))switch(a){case 0:u.h.call(s);break;case 1:u.h.call(s,n[0]);break;case 2:u.h.call(s,n[0],n[1]);break;default:u.h.apply(s,n.slice(1,a-1));break}}return o&&o.afterTrigger&&o.afterTrigger(e),this},t}(),$te=Math.log(2);function Cw(t,e,n,i,r,o){var a=i+"-"+r,s=t.length;if(o.hasOwnProperty(a))return o[a];if(e===1){var l=Math.round(Math.log((1<<s)-1&~r)/$te);return t[n][l]}for(var c=i|1<<n,u=n+1;i&1<<u;)u++;for(var f=0,h=0,d=0;h<s;h++){var p=1<<h;p&r||(f+=(d%2?-1:1)*t[n][h]*Cw(t,e-1,u,c,r|p,o),d++)}return o[a]=f,f}function hR(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],i={},r=Cw(n,8,0,0,0,i);if(r!==0){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)o[s]==null&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*Cw(n,7,a===0?1:0,1<<a,1<<s,i)/r*e[a];return function(l,c,u){var f=c*o[6]+u*o[7]+1;l[0]=(c*o[0]+u*o[1]+o[2])/f,l[1]=(c*o[3]+u*o[4]+o[5])/f}}}var dR="___zrEVENTSAVED",gx=[];function Hte(t,e,n,i,r){return Aw(gx,e,i,r,!0)&&Aw(t,n,gx[0],gx[1])}function Aw(t,e,n,i,r){if(e.getBoundingClientRect&&pt.domSupported&&!jU(e)){var o=e[dR]||(e[dR]={}),a=Vte(e,o),s=Gte(a,o,r);if(s)return s(t,n,i),!0}return!1}function Vte(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=a.style,l=o%2,c=(o>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",r[c]+":0",i[1-l]+":auto",r[1-c]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}function Gte(t,e,n){for(var i=n?"invTrans":"trans",r=e[i],o=e.srcCoords,a=[],s=[],l=!0,c=0;c<4;c++){var u=t[c].getBoundingClientRect(),f=2*c,h=u.left,d=u.top;a.push(h,d),l=l&&o&&h===o[f]&&d===o[f+1],s.push(t[c].offsetLeft,t[c].offsetTop)}return l&&r?r:(e.srcCoords=a,e[i]=n?hR(s,a):hR(a,s))}function jU(t){return t.nodeName.toUpperCase()==="CANVAS"}var Wte=/([&<>"'])/g,Xte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function hr(t){return t==null?"":(t+"").replace(Wte,function(e,n){return Xte[n]})}var jte=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,yx=[],Yte=pt.browser.firefox&&+pt.browser.version.split(".")[0]<39;function Ew(t,e,n,i){return n=n||{},i?pR(t,e,n):Yte&&e.layerX!=null&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):e.offsetX!=null?(n.zrX=e.offsetX,n.zrY=e.offsetY):pR(t,e,n),n}function pR(t,e,n){if(pt.domSupported&&t.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(jU(t)){var o=t.getBoundingClientRect();n.zrX=i-o.left,n.zrY=r-o.top;return}else if(Aw(yx,t,i,r)){n.zrX=yx[0],n.zrY=yx[1];return}}n.zrX=n.zrY=0}function cC(t){return t||window.event}function Fr(t,e,n){if(e=cC(e),e.zrX!=null)return e;var i=e.type,r=i&&i.indexOf("touch")>=0;if(r){var a=i!=="touchend"?e.targetTouches[0]:e.changedTouches[0];a&&Ew(t,a,e,n)}else{Ew(t,e,e,n);var o=qte(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&jte.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function qte(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,i=t.deltaY;if(n==null||i==null)return e;var r=Math.abs(i!==0?i:n),o=i>0?-1:i<0?1:n>0?-1:1;return 3*r*o}function Kte(t,e,n,i){t.addEventListener(e,n,i)}function Zte(t,e,n,i){t.removeEventListener(e,n,i)}var YU=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0},Jte=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,n,i){return this._doTrack(e,n,i),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,n,i){var r=e.touches;if(r){for(var o={points:[],touches:[],target:n,event:e},a=0,s=r.length;a<s;a++){var l=r[a],c=Ew(i,l,{});o.points.push([c.zrX,c.zrY]),o.touches.push(l)}this._track.push(o)}},t.prototype._recognize=function(e){for(var n in _x)if(_x.hasOwnProperty(n)){var i=_x[n](this._track,e);if(i)return i}},t}();function mR(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function Qte(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var _x={pinch:function(t,e){var n=t.length;if(n){var i=(t[n-1]||{}).points,r=(t[n-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var o=mR(i)/mR(r);!isFinite(o)&&(o=1),e.pinchScale=o;var a=Qte(i);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}};function Sf(){return[1,0,0,1,0,0]}function uC(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function ene(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function wf(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function Pw(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function fC(t,e,n,i){i===void 0&&(i=[0,0]);var r=e[0],o=e[2],a=e[4],s=e[1],l=e[3],c=e[5],u=Math.sin(n),f=Math.cos(n);return t[0]=r*f+s*u,t[1]=-r*u+s*f,t[2]=o*f+l*u,t[3]=-o*u+f*l,t[4]=f*(a-i[0])+u*(c-i[1])+i[0],t[5]=f*(c-i[1])-u*(a-i[0])+i[1],t}function tne(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t}function hC(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*i;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-a*r)*l,t[5]=(o*r-n*s)*l,t):null}var ft=function(){function t(e,n){this.x=e||0,this.y=n||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,n){return this.x=e,this.y=n,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,n){this.x+=e.x*n,this.y+=e.y*n},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var n=this.x-e.x,i=this.y-e.y;return Math.sqrt(n*n+i*i)},t.prototype.distanceSquare=function(e){var n=this.x-e.x,i=this.y-e.y;return n*n+i*i},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var n=this.x,i=this.y;return this.x=e[0]*n+e[2]*i+e[4],this.y=e[1]*n+e[3]*i+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,n,i){e.x=n,e.y=i},t.copy=function(e,n){e.x=n.x,e.y=n.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,n){return e.x*n.x+e.y*n.y},t.add=function(e,n,i){e.x=n.x+i.x,e.y=n.y+i.y},t.sub=function(e,n,i){e.x=n.x-i.x,e.y=n.y-i.y},t.scale=function(e,n,i){e.x=n.x*i,e.y=n.y*i},t.scaleAndAdd=function(e,n,i,r){e.x=n.x+i.x*r,e.y=n.y+i.y*r},t.lerp=function(e,n,i,r){var o=1-r;e.x=o*n.x+r*i.x,e.y=o*n.y+r*i.y},t}(),qm=Math.min,Km=Math.max,vl=new ft,gl=new ft,yl=new ft,_l=new ft,Rh=new ft,Dh=new ft,zt=function(){function t(e,n,i,r){i<0&&(e=e+i,i=-i),r<0&&(n=n+r,r=-r),this.x=e,this.y=n,this.width=i,this.height=r}return t.prototype.union=function(e){var n=qm(e.x,this.x),i=qm(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Km(e.x+e.width,this.x+this.width)-n:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=Km(e.y+e.height,this.y+this.height)-i:this.height=e.height,this.x=n,this.y=i},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var n=this,i=e.width/n.width,r=e.height/n.height,o=Sf();return Pw(o,o,[-n.x,-n.y]),tne(o,o,[i,r]),Pw(o,o,[e.x,e.y]),o},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=e.x,c=e.x+e.width,u=e.y,f=e.y+e.height,h=!(o<l||c<r||s<u||f<a);if(n){var d=1/0,p=0,g=Math.abs(o-l),v=Math.abs(c-r),m=Math.abs(s-u),y=Math.abs(f-a),_=Math.min(g,v),b=Math.min(m,y);o<l||c<r?_>p&&(p=_,g<v?ft.set(Dh,-g,0):ft.set(Dh,v,0)):_<d&&(d=_,g<v?ft.set(Rh,g,0):ft.set(Rh,-v,0)),s<u||f<a?b>p&&(p=b,m<y?ft.set(Dh,0,-m):ft.set(Dh,0,y)):_<d&&(d=_,m<y?ft.set(Rh,0,m):ft.set(Rh,0,-y))}return n&&ft.copy(n,h?Rh:Dh),h},t.prototype.contain=function(e,n){var i=this;return e>=i.x&&e<=i.x+i.width&&n>=i.y&&n<=i.y+i.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,n){e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height},t.applyTransform=function(e,n,i){if(!i){e!==n&&t.copy(e,n);return}if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],a=i[4],s=i[5];e.x=n.x*r+a,e.y=n.y*o+s,e.width=n.width*r,e.height=n.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}vl.x=yl.x=n.x,vl.y=_l.y=n.y,gl.x=_l.x=n.x+n.width,gl.y=yl.y=n.y+n.height,vl.transform(i),_l.transform(i),gl.transform(i),yl.transform(i),e.x=qm(vl.x,gl.x,yl.x,_l.x),e.y=qm(vl.y,gl.y,yl.y,_l.y);var l=Km(vl.x,gl.x,yl.x,_l.x),c=Km(vl.y,gl.y,yl.y,_l.y);e.width=l-e.x,e.height=c-e.y},t}(),qU="silent";function nne(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:ine}}function ine(){YU(this.event)}var rne=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handler=null,n}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(sa),Oh=function(){function t(e,n){this.x=e,this.y=n}return t}(),one=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],bx=new zt(0,0,0,0),KU=function(t){Ve(e,t);function e(n,i,r,o,a){var s=t.call(this)||this;return s._hovered=new Oh(0,0),s.storage=n,s.painter=i,s.painterRoot=o,s._pointerSize=a,r=r||new rne,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new kte(s),s}return e.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(q(one,function(i){n.on&&n.on(i,this[i],this)},this),n.handler=this),this.proxy=n},e.prototype.mousemove=function(n){var i=n.zrX,r=n.zrY,o=ZU(this,i,r),a=this._hovered,s=a.target;s&&!s.__zr&&(a=this.findHover(a.x,a.y),s=a.target);var l=this._hovered=o?new Oh(i,r):this.findHover(i,r),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),s&&c!==s&&this.dispatchToElement(a,"mouseout",n),this.dispatchToElement(l,"mousemove",n),c&&c!==s&&this.dispatchToElement(l,"mouseover",n)},e.prototype.mouseout=function(n){var i=n.zrEventControl;i!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),i!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},e.prototype.resize=function(){this._hovered=new Oh(0,0)},e.prototype.dispatch=function(n,i){var r=this[n];r&&r.call(this,i)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(n){var i=this.proxy;i.setCursor&&i.setCursor(n)},e.prototype.dispatchToElement=function(n,i,r){n=n||{};var o=n.target;if(!(o&&o.silent)){for(var a="on"+i,s=nne(i,n,r);o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(i,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(i,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[a]=="function"&&l[a].call(l,s),l.trigger&&l.trigger(i,s)}))}},e.prototype.findHover=function(n,i,r){var o=this.storage.getDisplayList(),a=new Oh(n,i);if(vR(o,a,n,i,r),this._pointerSize&&!a.target){for(var s=[],l=this._pointerSize,c=l/2,u=new zt(n-c,i-c,l,l),f=o.length-1;f>=0;f--){var h=o[f];h!==r&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(bx.copy(h.getBoundingRect()),h.transform&&bx.applyTransform(h.transform),bx.intersect(u)&&s.push(h))}if(s.length)for(var d=4,p=Math.PI/12,g=Math.PI*2,v=0;v<c;v+=d)for(var m=0;m<g;m+=p){var y=n+v*Math.cos(m),_=i+v*Math.sin(m);if(vR(s,a,y,_,r),a.target)return a}}return a},e.prototype.processGesture=function(n,i){this._gestureMgr||(this._gestureMgr=new Jte);var r=this._gestureMgr;i==="start"&&r.clear();var o=r.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(i==="end"&&r.clear(),o){var a=o.type;n.gestureEvent=a;var s=new Oh;s.target=o.target,this.dispatchToElement(s,a,o.event)}},e}(sa);q(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){KU.prototype[t]=function(e){var n=e.zrX,i=e.zrY,r=ZU(this,n,i),o,a;if((t!=="mouseup"||!r)&&(o=this.findHover(n,i),a=o.target),t==="mousedown")this._downEl=a,this._downPoint=[e.zrX,e.zrY],this._upEl=a;else if(t==="mouseup")this._upEl=a;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||Tw(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,t,e)}});function ane(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i=t,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(e,n))return!1}i.silent&&(r=!0);var s=i.__hostTarget;i=s||i.parent}return r?qU:!0}return!1}function vR(t,e,n,i,r){for(var o=t.length-1;o>=0;o--){var a=t[o],s=void 0;if(a!==r&&!a.ignore&&(s=ane(a,n,i))&&(!e.topTarget&&(e.topTarget=a),s!==qU)){e.target=a;break}}}function ZU(t,e,n){var i=t.painter;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}var JU=32,Lh=7;function sne(t){for(var e=0;t>=JU;)e|=t&1,t>>=1;return t+e}function gR(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;lne(t,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function lne(t,e,n){for(n--;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}function yR(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var o=t[i],a=e,s=i,l;a<s;)l=a+s>>>1,r(o,t[l])<0?s=l:a=l+1;var c=i-a;switch(c){case 3:t[a+3]=t[a+2];case 2:t[a+2]=t[a+1];case 1:t[a+1]=t[a];break;default:for(;c>0;)t[a+c]=t[a+c-1],c--}t[a]=o}}function xx(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])>0){for(s=i-r;l<s&&o(t,e[n+r+l])>0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(t,e[n+r-l])<=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}for(a++;a<l;){var u=a+(l-a>>>1);o(t,e[n+u])>0?a=u+1:l=u}return l}function Sx(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])<0){for(s=r+1;l<s&&o(t,e[n+r-l])<0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}else{for(s=i-r;l<s&&o(t,e[n+r+l])>=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var u=a+(l-a>>>1);o(t,e[n+u])<0?l=u:a=u+1}return l}function cne(t,e){var n=Lh,i,r,o=0,a=[];i=[],r=[];function s(d,p){i[o]=d,r[o]=p,o+=1}function l(){for(;o>1;){var d=o-2;if(d>=1&&r[d-1]<=r[d]+r[d+1]||d>=2&&r[d-2]<=r[d]+r[d-1])r[d-1]<r[d+1]&&d--;else if(r[d]>r[d+1])break;u(d)}}function c(){for(;o>1;){var d=o-2;d>0&&r[d-1]<r[d+1]&&d--,u(d)}}function u(d){var p=i[d],g=r[d],v=i[d+1],m=r[d+1];r[d]=g+m,d===o-3&&(i[d+1]=i[d+2],r[d+1]=r[d+2]),o--;var y=Sx(t[v],t,p,g,0,e);p+=y,g-=y,g!==0&&(m=xx(t[p+g-1],t,v,m,m-1,e),m!==0&&(g<=m?f(p,g,v,m):h(p,g,v,m)))}function f(d,p,g,v){var m=0;for(m=0;m<p;m++)a[m]=t[d+m];var y=0,_=g,b=d;if(t[b++]=t[_++],--v===0){for(m=0;m<p;m++)t[b+m]=a[y+m];return}if(p===1){for(m=0;m<v;m++)t[b+m]=t[_+m];t[b+v]=a[y];return}for(var T=n,x,S,C;;){x=0,S=0,C=!1;do if(e(t[_],a[y])<0){if(t[b++]=t[_++],S++,x=0,--v===0){C=!0;break}}else if(t[b++]=a[y++],x++,S=0,--p===1){C=!0;break}while((x|S)<T);if(C)break;do{if(x=Sx(t[_],a,y,p,0,e),x!==0){for(m=0;m<x;m++)t[b+m]=a[y+m];if(b+=x,y+=x,p-=x,p<=1){C=!0;break}}if(t[b++]=t[_++],--v===0){C=!0;break}if(S=xx(a[y],t,_,v,0,e),S!==0){for(m=0;m<S;m++)t[b+m]=t[_+m];if(b+=S,_+=S,v-=S,v===0){C=!0;break}}if(t[b++]=a[y++],--p===1){C=!0;break}T--}while(x>=Lh||S>=Lh);if(C)break;T<0&&(T=0),T+=2}if(n=T,n<1&&(n=1),p===1){for(m=0;m<v;m++)t[b+m]=t[_+m];t[b+v]=a[y]}else{if(p===0)throw new Error;for(m=0;m<p;m++)t[b+m]=a[y+m]}}function h(d,p,g,v){var m=0;for(m=0;m<v;m++)a[m]=t[g+m];var y=d+p-1,_=v-1,b=g+v-1,T=0,x=0;if(t[b--]=t[y--],--p===0){for(T=b-(v-1),m=0;m<v;m++)t[T+m]=a[m];return}if(v===1){for(b-=p,y-=p,x=b+1,T=y+1,m=p-1;m>=0;m--)t[x+m]=t[T+m];t[b]=a[_];return}for(var S=n;;){var C=0,M=0,w=!1;do if(e(a[_],t[y])<0){if(t[b--]=t[y--],C++,M=0,--p===0){w=!0;break}}else if(t[b--]=a[_--],M++,C=0,--v===1){w=!0;break}while((C|M)<S);if(w)break;do{if(C=p-Sx(a[_],t,d,p,p-1,e),C!==0){for(b-=C,y-=C,p-=C,x=b+1,T=y+1,m=C-1;m>=0;m--)t[x+m]=t[T+m];if(p===0){w=!0;break}}if(t[b--]=a[_--],--v===1){w=!0;break}if(M=v-xx(t[y],a,0,v,v-1,e),M!==0){for(b-=M,_-=M,v-=M,x=b+1,T=_+1,m=0;m<M;m++)t[x+m]=a[T+m];if(v<=1){w=!0;break}}if(t[b--]=t[y--],--p===0){w=!0;break}S--}while(C>=Lh||M>=Lh);if(w)break;S<0&&(S=0),S+=2}if(n=S,n<1&&(n=1),v===1){for(b-=p,y-=p,x=b+1,T=y+1,m=p-1;m>=0;m--)t[x+m]=t[T+m];t[b]=a[_]}else{if(v===0)throw new Error;for(T=b-(v-1),m=0;m<v;m++)t[T+m]=a[m]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:s}}function kg(t,e,n,i){n||(n=0),i||(i=t.length);var r=i-n;if(!(r<2)){var o=0;if(r<JU){o=gR(t,n,i,e),yR(t,n,i,n+o,e);return}var a=cne(t,e),s=sne(r);do{if(o=gR(t,n,i,e),o<s){var l=r;l>s&&(l=s),yR(t,n,n+l,n+o,e),o=l}a.pushRun(n,o),a.mergeRuns(),r-=o,n+=o}while(r!==0);a.forceMergeRuns()}}var dr=1,md=2,Ju=4,_R=!1;function Mx(){_R||(_R=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function bR(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var une=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=bR}return t.prototype.traverse=function(e,n){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,n)},t.prototype.getDisplayList=function(e,n){n=n||!1;var i=this._displayList;return(e||!i.length)&&this.updateDisplayList(n),i},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var n=this._roots,i=this._displayList,r=0,o=n.length;r<o;r++)this._updateAndAddDisplayable(n[r],null,e);i.length=this._displayListLen,kg(i,bR)},t.prototype._updateAndAddDisplayable=function(e,n,i){if(!(e.ignore&&!i)){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)n=null;else if(r){n?n=n.slice():n=[];for(var o=r,a=e;o;)o.parent=a,o.updateTransform(),n.push(o),a=o,o=o.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),l=0;l<s.length;l++){var c=s[l];e.__dirty&&(c.__dirty|=dr),this._updateAndAddDisplayable(c,n,i)}e.__dirty=0}else{var u=e;n&&n.length?u.__clipPaths=n:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(Mx(),u.z=0),isNaN(u.z2)&&(Mx(),u.z2=0),isNaN(u.zlevel)&&(Mx(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var f=e.getDecalElement&&e.getDecalElement();f&&this._updateAndAddDisplayable(f,n,i);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,n,i);var d=e.getTextContent();d&&this._updateAndAddDisplayable(d,n,i)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var n=0,i=e.length;n<i;n++)this.delRoot(e[n]);return}var r=qt(this._roots,e);r>=0&&this._roots.splice(r,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),D0;D0=pt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var zd={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,i=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)))},elasticOut:function(t){var e,n=.1,i=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},elasticInOut:function(t){var e,n=.1,i=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=i/4):e=i*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-zd.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?zd.bounceIn(t*2)*.5:zd.bounceOut(t*2-1)*.5+.5}},Zm=Math.pow,Bs=Math.sqrt,O0=1e-8,QU=1e-4,xR=Bs(3),Jm=1/3,$o=uh(),kr=uh(),Mf=uh();function Rs(t){return t>-O0&&t<O0}function ez(t){return t>O0||t<-O0}function Zn(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function SR(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function L0(t,e,n,i,r,o){var a=i+3*(e-n)-t,s=3*(n-e*2+t),l=3*(e-t),c=t-r,u=s*s-3*a*l,f=s*l-9*a*c,h=l*l-3*s*c,d=0;if(Rs(u)&&Rs(f))if(Rs(s))o[0]=0;else{var p=-l/s;p>=0&&p<=1&&(o[d++]=p)}else{var g=f*f-4*u*h;if(Rs(g)){var v=f/u,p=-s/a+v,m=-v/2;p>=0&&p<=1&&(o[d++]=p),m>=0&&m<=1&&(o[d++]=m)}else if(g>0){var y=Bs(g),_=u*s+1.5*a*(-f+y),b=u*s+1.5*a*(-f-y);_<0?_=-Zm(-_,Jm):_=Zm(_,Jm),b<0?b=-Zm(-b,Jm):b=Zm(b,Jm);var p=(-s-(_+b))/(3*a);p>=0&&p<=1&&(o[d++]=p)}else{var T=(2*u*s-3*a*f)/(2*Bs(u*u*u)),x=Math.acos(T)/3,S=Bs(u),C=Math.cos(x),p=(-s-2*S*C)/(3*a),m=(-s+S*(C+xR*Math.sin(x)))/(3*a),M=(-s+S*(C-xR*Math.sin(x)))/(3*a);p>=0&&p<=1&&(o[d++]=p),m>=0&&m<=1&&(o[d++]=m),M>=0&&M<=1&&(o[d++]=M)}}return d}function tz(t,e,n,i,r){var o=6*n-12*e+6*t,a=9*e+3*i-3*t-9*n,s=3*e-3*t,l=0;if(Rs(a)){if(ez(o)){var c=-s/o;c>=0&&c<=1&&(r[l++]=c)}}else{var u=o*o-4*a*s;if(Rs(u))r[0]=-o/(2*a);else if(u>0){var f=Bs(u),c=(-o+f)/(2*a),h=(-o-f)/(2*a);c>=0&&c<=1&&(r[l++]=c),h>=0&&h<=1&&(r[l++]=h)}}return l}function N0(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,l=(i-n)*r+n,c=(s-a)*r+a,u=(l-s)*r+s,f=(u-c)*r+c;o[0]=t,o[1]=a,o[2]=c,o[3]=f,o[4]=f,o[5]=u,o[6]=l,o[7]=i}function fne(t,e,n,i,r,o,a,s,l,c,u){var f,h=.005,d=1/0,p,g,v,m;$o[0]=l,$o[1]=c;for(var y=0;y<1;y+=.05)kr[0]=Zn(t,n,r,a,y),kr[1]=Zn(e,i,o,s,y),v=xf($o,kr),v<d&&(f=y,d=v);d=1/0;for(var _=0;_<32&&!(h<QU);_++)p=f-h,g=f+h,kr[0]=Zn(t,n,r,a,p),kr[1]=Zn(e,i,o,s,p),v=xf(kr,$o),p>=0&&v<d?(f=p,d=v):(Mf[0]=Zn(t,n,r,a,g),Mf[1]=Zn(e,i,o,s,g),m=xf(Mf,$o),g<=1&&m<d?(f=g,d=m):h*=.5);return Bs(d)}function hne(t,e,n,i,r,o,a,s,l){for(var c=t,u=e,f=0,h=1/l,d=1;d<=l;d++){var p=d*h,g=Zn(t,n,r,a,p),v=Zn(e,i,o,s,p),m=g-c,y=v-u;f+=Math.sqrt(m*m+y*y),c=g,u=v}return f}function Wi(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function wR(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function dne(t,e,n,i,r){var o=t-2*e+n,a=2*(e-t),s=t-i,l=0;if(Rs(o)){if(ez(a)){var c=-s/a;c>=0&&c<=1&&(r[l++]=c)}}else{var u=a*a-4*o*s;if(Rs(u)){var c=-a/(2*o);c>=0&&c<=1&&(r[l++]=c)}else if(u>0){var f=Bs(u),c=(-a+f)/(2*o),h=(-a-f)/(2*o);c>=0&&c<=1&&(r[l++]=c),h>=0&&h<=1&&(r[l++]=h)}}return l}function nz(t,e,n){var i=t+n-2*e;return i===0?.5:(t-e)/i}function F0(t,e,n,i,r){var o=(e-t)*i+t,a=(n-e)*i+e,s=(a-o)*i+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function pne(t,e,n,i,r,o,a,s,l){var c,u=.005,f=1/0;$o[0]=a,$o[1]=s;for(var h=0;h<1;h+=.05){kr[0]=Wi(t,n,r,h),kr[1]=Wi(e,i,o,h);var d=xf($o,kr);d<f&&(c=h,f=d)}f=1/0;for(var p=0;p<32&&!(u<QU);p++){var g=c-u,v=c+u;kr[0]=Wi(t,n,r,g),kr[1]=Wi(e,i,o,g);var d=xf(kr,$o);if(g>=0&&d<f)c=g,f=d;else{Mf[0]=Wi(t,n,r,v),Mf[1]=Wi(e,i,o,v);var m=xf(Mf,$o);v<=1&&m<f?(c=v,f=m):u*=.5}}return Bs(f)}function mne(t,e,n,i,r,o,a){for(var s=t,l=e,c=0,u=1/a,f=1;f<=a;f++){var h=f*u,d=Wi(t,n,r,h),p=Wi(e,i,o,h),g=d-s,v=p-l;c+=Math.sqrt(g*g+v*v),s=d,l=p}return c}var vne=/cubic-bezier\(([0-9,\.e ]+)\)/;function iz(t){var e=t&&vne.exec(t);if(e){var n=e[1].split(","),i=+Go(n[0]),r=+Go(n[1]),o=+Go(n[2]),a=+Go(n[3]);if(isNaN(i+r+o+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:L0(0,i,o,1,l,s)&&Zn(0,r,a,1,s[0])}}}var gne=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Ji,this.ondestroy=e.ondestroy||Ji,this.onrestart=e.onrestart||Ji,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,n){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var i=this._life,r=e-this._startTime-this._pausedTime,o=r/i;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,s=a?a(o):o;if(this.onframe(s),o===1)if(this.loop){var l=r%i;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=St(e)?e:zd[e]||iz(e)},t}(),rz=function(){function t(e){this.value=e}return t}(),yne=function(){function t(){this._len=0}return t.prototype.insert=function(e){var n=new rz(e);return this.insertEntry(n),n},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var n=e.prev,i=e.next;n?n.next=i:this.head=i,i?i.prev=n:this.tail=n,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),am=function(){function t(e){this._list=new yne,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,n){var i=this._list,r=this._map,o=null;if(r[e]==null){var a=i.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=i.head;i.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=n:s=new rz(n),s.key=e,i.insertEntry(s),r[e]=s}return o},t.prototype.get=function(e){var n=this._map[e],i=this._list;if(n!=null)return n!==i.tail&&(i.remove(n),i.insertEntry(n)),n.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),MR={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Us(t){return t=Math.round(t),t<0?0:t>255?255:t}function Iw(t){return t<0?0:t>1?1:t}function Tx(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?Us(parseFloat(e)/100*255):Us(parseInt(e,10))}function kd(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?Iw(parseFloat(e)/100):Iw(parseFloat(e))}function Cx(t,e,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?t+(e-t)*n*6:n*2<1?e:n*3<2?t+(e-t)*(2/3-n)*6:t}function Qm(t,e,n){return t+(e-t)*n}function Nr(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function Rw(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var oz=new am(20),ev=null;function yu(t,e){ev&&Rw(ev,e),ev=oz.put(t,ev||e.slice())}function zs(t,e){if(t){e=e||[];var n=oz.get(t);if(n)return Rw(e,n);t=t+"";var i=t.replace(/ /g,"").toLowerCase();if(i in MR)return Rw(e,MR[i]),yu(t,e),e;var r=i.length;if(i.charAt(0)==="#"){if(r===4||r===5){var o=parseInt(i.slice(1,4),16);if(!(o>=0&&o<=4095)){Nr(e,0,0,0,1);return}return Nr(e,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,r===5?parseInt(i.slice(4),16)/15:1),yu(t,e),e}else if(r===7||r===9){var o=parseInt(i.slice(1,7),16);if(!(o>=0&&o<=16777215)){Nr(e,0,0,0,1);return}return Nr(e,(o&16711680)>>16,(o&65280)>>8,o&255,r===9?parseInt(i.slice(7),16)/255:1),yu(t,e),e}return}var a=i.indexOf("("),s=i.indexOf(")");if(a!==-1&&s+1===r){var l=i.substr(0,a),c=i.substr(a+1,s-(a+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?Nr(e,+c[0],+c[1],+c[2],1):Nr(e,0,0,0,1);u=kd(c.pop());case"rgb":if(c.length>=3)return Nr(e,Tx(c[0]),Tx(c[1]),Tx(c[2]),c.length===3?u:kd(c[3])),yu(t,e),e;Nr(e,0,0,0,1);return;case"hsla":if(c.length!==4){Nr(e,0,0,0,1);return}return c[3]=kd(c[3]),TR(c,e),yu(t,e),e;case"hsl":if(c.length!==3){Nr(e,0,0,0,1);return}return TR(c,e),yu(t,e),e;default:return}}Nr(e,0,0,0,1)}}function TR(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=kd(t[1]),r=kd(t[2]),o=r<=.5?r*(i+1):r+i-r*i,a=r*2-o;return e=e||[],Nr(e,Us(Cx(a,o,n+1/3)*255),Us(Cx(a,o,n)*255),Us(Cx(a,o,n-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function CR(t,e){var n=zs(t);if(n){for(var i=0;i<3;i++)n[i]=n[i]*(1-e)|0,n[i]>255?n[i]=255:n[i]<0&&(n[i]=0);return dC(n,n.length===4?"rgba":"rgb")}}function _ne(t,e,n){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var i=t*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=zs(e[r]),s=zs(e[o]),l=i-r,c=dC([Us(Qm(a[0],s[0],l)),Us(Qm(a[1],s[1],l)),Us(Qm(a[2],s[2],l)),Iw(Qm(a[3],s[3],l))],"rgba");return n?{color:c,leftIndex:r,rightIndex:o,value:i}:c}}function dC(t,e){if(!(!t||!t.length)){var n=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(n+=","+t[3]),e+"("+n+")"}}function B0(t,e){var n=zs(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}var AR=new am(100);function ER(t){if(Qe(t)){var e=AR.get(t);return e||(e=CR(t,-.1),AR.put(t,e)),e}else if(S_(t)){var n=Ie({},t);return n.colorStops=rt(t.colorStops,function(i){return{offset:i.offset,color:CR(i.color,-.1)}}),n}return t}function bne(t){return t.type==="linear"}function xne(t){return t.type==="radial"}(function(){return pt.hasGlobalWindow&&St(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}})();var Dw=Array.prototype.slice;function Ca(t,e,n){return(e-t)*n+t}function Ax(t,e,n,i){for(var r=e.length,o=0;o<r;o++)t[o]=Ca(e[o],n[o],i);return t}function Sne(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=Ca(e[a][s],n[a][s],i)}return t}function tv(t,e,n,i){for(var r=e.length,o=0;o<r;o++)t[o]=e[o]+n[o]*i;return t}function PR(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+n[a][s]*i}return t}function wne(t,e){for(var n=t.length,i=e.length,r=n>i?e:t,o=Math.min(n,i),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(n,i);s++)r.push({offset:a.offset,color:a.color.slice()})}function Mne(t,e,n){var i=t,r=e;if(!(!i.push||!r.push)){var o=i.length,a=r.length;if(o!==a){var s=o>a;if(s)i.length=a;else for(var l=o;l<a;l++)i.push(n===1?r[l]:Dw.call(r[l]))}for(var c=i[0]&&i[0].length,l=0;l<i.length;l++)if(n===1)isNaN(i[l])&&(i[l]=r[l]);else for(var u=0;u<c;u++)isNaN(i[l][u])&&(i[l][u]=r[l][u])}}function $g(t){if(Qi(t)){var e=t.length;if(Qi(t[0])){for(var n=[],i=0;i<e;i++)n.push(Dw.call(t[i]));return n}return Dw.call(t)}return t}function Hg(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function Tne(t){return Qi(t&&t[0])?2:1}var nv=0,Vg=1,az=2,vd=3,Ow=4,Lw=5,IR=6;function RR(t){return t===Ow||t===Lw}function iv(t){return t===Vg||t===az}var Nh=[0,0,0,0],Cne=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,n,i){this._needsSort=!0;var r=this.keyframes,o=r.length,a=!1,s=IR,l=n;if(Qi(n)){var c=Tne(n);s=c,(c===1&&!tn(n[0])||c===2&&!tn(n[0][0]))&&(a=!0)}else if(tn(n)&&!R0(n))s=nv;else if(Qe(n))if(!isNaN(+n))s=nv;else{var u=zs(n);u&&(l=u,s=vd)}else if(S_(n)){var f=Ie({},l);f.colorStops=rt(n.colorStops,function(d){return{offset:d.offset,color:zs(d.color)}}),bne(n)?s=Ow:xne(n)&&(s=Lw),l=f}o===0?this.valType=s:(s!==this.valType||s===IR)&&(a=!0),this.discrete=this.discrete||a;var h={time:e,value:l,rawValue:n,percent:0};return i&&(h.easing=i,h.easingFunc=St(i)?i:zd[i]||iz(i)),r.push(h),h},t.prototype.prepare=function(e,n){var i=this.keyframes;this._needsSort&&i.sort(function(g,v){return g.time-v.time});for(var r=this.valType,o=i.length,a=i[o-1],s=this.discrete,l=iv(r),c=RR(r),u=0;u<o;u++){var f=i[u],h=f.value,d=a.value;f.percent=f.time/e,s||(l&&u!==o-1?Mne(h,d,r):c&&wne(h.colorStops,d.colorStops))}if(!s&&r!==Lw&&n&&this.needsAnimate()&&n.needsAnimate()&&r===n.valType&&!n._finished){this._additiveTrack=n;for(var p=i[0].value,u=0;u<o;u++)r===nv?i[u].additiveValue=i[u].value-p:r===vd?i[u].additiveValue=tv([],i[u].value,p,-1):iv(r)&&(i[u].additiveValue=r===Vg?tv([],i[u].value,p,-1):PR([],i[u].value,p,-1))}},t.prototype.step=function(e,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i=this._additiveTrack!=null,r=i?"additiveValue":"value",o=this.valType,a=this.keyframes,s=a.length,l=this.propName,c=o===vd,u,f=this._lastFr,h=Math.min,d,p;if(s===1)d=p=a[0];else{if(n<0)u=0;else if(n<this._lastFrP){var g=h(f+1,s-1);for(u=g;u>=0&&!(a[u].percent<=n);u--);u=h(u,s-2)}else{for(u=f;u<s&&!(a[u].percent>n);u++);u=h(u-1,s-2)}p=a[u+1],d=a[u]}if(d&&p){this._lastFr=u,this._lastFrP=n;var v=p.percent-d.percent,m=v===0?1:h((n-d.percent)/v,1);p.easingFunc&&(m=p.easingFunc(m));var y=i?this._additiveValue:c?Nh:e[l];if((iv(o)||c)&&!y&&(y=this._additiveValue=[]),this.discrete)e[l]=m<1?d.rawValue:p.rawValue;else if(iv(o))o===Vg?Ax(y,d[r],p[r],m):Sne(y,d[r],p[r],m);else if(RR(o)){var _=d[r],b=p[r],T=o===Ow;e[l]={type:T?"linear":"radial",x:Ca(_.x,b.x,m),y:Ca(_.y,b.y,m),colorStops:rt(_.colorStops,function(S,C){var M=b.colorStops[C];return{offset:Ca(S.offset,M.offset,m),color:Hg(Ax([],S.color,M.color,m))}}),global:b.global},T?(e[l].x2=Ca(_.x2,b.x2,m),e[l].y2=Ca(_.y2,b.y2,m)):e[l].r=Ca(_.r,b.r,m)}else if(c)Ax(y,d[r],p[r],m),i||(e[l]=Hg(y));else{var x=Ca(d[r],p[r],m);i?this._additiveValue=x:e[l]=x}i&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var n=this.valType,i=this.propName,r=this._additiveValue;n===nv?e[i]=e[i]+r:n===vd?(zs(e[i],Nh),tv(Nh,Nh,r,1),e[i]=Hg(Nh)):n===Vg?tv(e[i],e[i],r,1):n===az&&PR(e[i],e[i],r,1)},t}(),pC=function(){function t(e,n,i,r){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=n,n&&r){sC("Can' use additive animation on looped animation.");return}this._additiveAnimators=r,this._allowDiscrete=i}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,n,i){return this.whenWithKeys(e,n,cn(n),i)},t.prototype.whenWithKeys=function(e,n,i,r){for(var o=this._tracks,a=0;a<i.length;a++){var s=i[a],l=o[s];if(!l){l=o[s]=new Cne(s);var c=void 0,u=this._getAdditiveTrack(s);if(u){var f=u.keyframes,h=f[f.length-1];c=h&&h.value,u.valType===vd&&c&&(c=Hg(c))}else c=this._target[s];if(c==null)continue;e>0&&l.addKeyframe(0,$g(c),r),this._trackKeys.push(s)}l.addKeyframe(e,$g(n[s]),r)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var n=e.length,i=0;i<n;i++)e[i].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,n=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,n)for(var i=0;i<n.length;i++)n[i].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,n=this._trackKeys,i=0;i<n.length;i++)e[n[i]].setFinished()},t.prototype._getAdditiveTrack=function(e){var n,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(e);o&&(n=o)}return n},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var n=this,i=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),c=s.keyframes,u=c.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=c[u-1];f&&(n._target[s.propName]=f.rawValue),s.setFinished()}else i.push(s)}if(i.length||this._force){var h=new gne({life:r,loop:this._loop,delay:this._delay||0,onframe:function(d){n._started=2;var p=n._additiveAnimators;if(p){for(var g=!1,v=0;v<p.length;v++)if(p[v]._clip){g=!0;break}g||(n._additiveAnimators=null)}for(var v=0;v<i.length;v++)i[v].step(n._target,d);var m=n._onframeCbs;if(m)for(var v=0;v<m.length;v++)m[v](n._target,d)},ondestroy:function(){n._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var n=this._clip;e&&n.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return rt(this._trackKeys,function(n){return e._tracks[n]})},t.prototype.stopTracks=function(e,n){if(!e.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<e.length;o++){var a=i[e[o]];a&&!a.isFinished()&&(n?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}for(var s=!0,o=0;o<r.length;o++)if(!i[r[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,n,i){if(e){n=n||this._trackKeys;for(var r=0;r<n.length;r++){var o=n[r],a=this._tracks[o];if(!(!a||a.isFinished())){var s=a.keyframes,l=s[i?0:s.length-1];l&&(e[o]=$g(l.rawValue))}}}},t.prototype.__changeFinalValue=function(e,n){n=n||cn(e);for(var i=0;i<n.length;i++){var r=n[i],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,e[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},t}();function sf(){return new Date().getTime()}var Ane=function(t){Ve(e,t);function e(n){var i=t.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,n=n||{},i.stage=n.stage||{},i}return e.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},e.prototype.addAnimator=function(n){n.animation=this;var i=n.getClip();i&&this.addClip(i)},e.prototype.removeClip=function(n){if(n.animation){var i=n.prev,r=n.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,n.next=n.prev=n.animation=null}},e.prototype.removeAnimator=function(n){var i=n.getClip();i&&this.removeClip(i),n.animation=null},e.prototype.update=function(n){for(var i=sf()-this._pausedTime,r=i-this._time,o=this._head;o;){var a=o.next,s=o.step(i,r);s&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=i,n||(this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var n=this;this._running=!0;function i(){n._running&&(D0(i),!n._paused&&n.update())}D0(i)},e.prototype.start=function(){this._running||(this._time=sf(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=sf(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=sf()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var n=this._head;n;){var i=n.next;n.prev=n.next=n.animation=null,n=i}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(n,i){i=i||{},this.start();var r=new pC(n,i.loop);return this.addAnimator(r),r},e}(sa),Ene=300,Ex=pt.domSupported,Px=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=rt(t,function(r){var o=r.replace("mouse","pointer");return n.hasOwnProperty(o)?o:r});return{mouse:t,touch:e,pointer:i}}(),DR={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},OR=!1;function Nw(t){var e=t.pointerType;return e==="pen"||e==="touch"}function Pne(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function Ix(t){t&&(t.zrByTouch=!0)}function Ine(t,e){return Fr(t.dom,new Rne(t,e),!0)}function sz(t,e){for(var n=e,i=!1;n&&n.nodeType!==9&&!(i=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return i}var Rne=function(){function t(e,n){this.stopPropagation=Ji,this.stopImmediatePropagation=Ji,this.preventDefault=Ji,this.type=n.type,this.target=this.currentTarget=e.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return t}(),co={mousedown:function(t){t=Fr(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Fr(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=Fr(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=Fr(this.dom,t);var e=t.toElement||t.relatedTarget;sz(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){OR=!0,t=Fr(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){OR||(t=Fr(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=Fr(this.dom,t),Ix(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),co.mousemove.call(this,t),co.mousedown.call(this,t)},touchmove:function(t){t=Fr(this.dom,t),Ix(t),this.handler.processGesture(t,"change"),co.mousemove.call(this,t)},touchend:function(t){t=Fr(this.dom,t),Ix(t),this.handler.processGesture(t,"end"),co.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<Ene&&co.click.call(this,t)},pointerdown:function(t){co.mousedown.call(this,t)},pointermove:function(t){Nw(t)||co.mousemove.call(this,t)},pointerup:function(t){co.mouseup.call(this,t)},pointerout:function(t){Nw(t)||co.mouseout.call(this,t)}};q(["click","dblclick","contextmenu"],function(t){co[t]=function(e){e=Fr(this.dom,e),this.trigger(t,e)}});var Fw={pointermove:function(t){Nw(t)||Fw.mousemove.call(this,t)},pointerup:function(t){Fw.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Dne(t,e){var n=e.domHandlers;pt.pointerEventsSupported?q(Px.pointer,function(i){Gg(e,i,function(r){n[i].call(t,r)})}):(pt.touchEventsSupported&&q(Px.touch,function(i){Gg(e,i,function(r){n[i].call(t,r),Pne(e)})}),q(Px.mouse,function(i){Gg(e,i,function(r){r=cC(r),e.touching||n[i].call(t,r)})}))}function One(t,e){pt.pointerEventsSupported?q(DR.pointer,n):pt.touchEventsSupported||q(DR.mouse,n);function n(i){function r(o){o=cC(o),sz(t,o.target)||(o=Ine(t,o),e.domHandlers[i].call(t,o))}Gg(e,i,r,{capture:!0})}}function Gg(t,e,n,i){t.mounted[e]=n,t.listenerOpts[e]=i,Kte(t.domTarget,e,n,i)}function Rx(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&Zte(t.domTarget,n,e[n],t.listenerOpts[n]);t.mounted={}}var LR=function(){function t(e,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=n}return t}(),Lne=function(t){Ve(e,t);function e(n,i){var r=t.call(this)||this;return r.__pointerCapturing=!1,r.dom=n,r.painterRoot=i,r._localHandlerScope=new LR(n,co),Ex&&(r._globalHandlerScope=new LR(document,Fw)),Dne(r,r._localHandlerScope),r}return e.prototype.dispose=function(){Rx(this._localHandlerScope),Ex&&Rx(this._globalHandlerScope)},e.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},e.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,Ex&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var i=this._globalHandlerScope;n?One(this,i):Rx(i)}},e}(sa),lz=1;pt.hasGlobalWindow&&(lz=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var U0=lz,Bw=.4,Uw="#333",zw="#ccc",Nne="#eee",NR=uC,FR=5e-5;function bl(t){return t>FR||t<-FR}var xl=[],_u=[],Dx=Sf(),Ox=Math.abs,mC=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return bl(this.rotation)||bl(this.x)||bl(this.y)||bl(this.scaleX-1)||bl(this.scaleY-1)||bl(this.skewX)||bl(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,n=this.needLocalTransform(),i=this.transform;if(!(n||e)){i&&(NR(i),this.invTransform=null);return}i=i||Sf(),n?this.getLocalTransform(i):NR(i),e&&(n?wf(i,e,i):ene(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)},t.prototype._resolveGlobalScaleRatio=function(e){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(xl);var i=xl[0]<0?-1:1,r=xl[1]<0?-1:1,o=((xl[0]-i)*n+i)/xl[0]||0,a=((xl[1]-r)*n+r)/xl[1]||0;e[0]*=o,e[1]*=o,e[2]*=a,e[3]*=a}this.invTransform=this.invTransform||Sf(),hC(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,n=[];e;)n.push(e),e=e.parent;for(;e=n.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var n=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),o=Math.PI/2+r-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(o),n=Math.sqrt(n),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=n,this.scaleY=i,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,n=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Sf(),wf(_u,e.invTransform,n),n=_u);var i=this.originX,r=this.originY;(i||r)&&(Dx[4]=i,Dx[5]=r,wf(_u,n,Dx),_u[4]-=i,_u[5]-=r,n=_u),this.setLocalTransform(n)}},t.prototype.getGlobalScale=function(e){var n=this.transform;return e=e||[],n?(e[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),e[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(e[0]=-e[0]),n[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,n){var i=[e,n],r=this.invTransform;return r&&jr(i,i,r),i},t.prototype.transformCoordToGlobal=function(e,n){var i=[e,n],r=this.transform;return r&&jr(i,i,r),i},t.prototype.getLineScale=function(){var e=this.transform;return e&&Ox(e[0]-1)>1e-10&&Ox(e[3]-1)>1e-10?Math.sqrt(Ox(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){Fne(this,e)},t.getLocalTransform=function(e,n){n=n||[];var i=e.originX||0,r=e.originY||0,o=e.scaleX,a=e.scaleY,s=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,f=e.y,h=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(i||r||s||l){var p=i+s,g=r+l;n[4]=-p*o-h*g*a,n[5]=-g*a-d*p*o}else n[4]=n[5]=0;return n[0]=o,n[3]=a,n[1]=d*o,n[2]=h*a,c&&fC(n,n,c),n[4]+=i+u,n[5]+=r+f,n},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),Tp=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Fne(t,e){for(var n=0;n<Tp.length;n++){var i=Tp[n];t[i]=e[i]}}var BR={};function _r(t,e){e=e||kc;var n=BR[e];n||(n=BR[e]=new am(500));var i=n.get(t);return i==null&&(i=ch.measureText(t,e).width,n.put(t,i)),i}function UR(t,e,n,i){var r=_r(t,e),o=gC(e),a=gd(0,r,n),s=Qu(0,o,i),l=new zt(a,s,r,o);return l}function vC(t,e,n,i){var r=((t||"")+"").split(`
`),o=r.length;if(o===1)return UR(r[0],e,n,i);for(var a=new zt(0,0,0,0),s=0;s<r.length;s++){var l=UR(r[s],e,n,i);s===0?a.copy(l):a.union(l)}return a}function gd(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Qu(t,e,n){return n==="middle"?t-=e/2:n==="bottom"&&(t-=e),t}function gC(t){return _r("国",t)}function Xs(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function cz(t,e,n){var i=e.position||"inside",r=e.distance!=null?e.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,c=n.y,u="left",f="top";if(i instanceof Array)l+=Xs(i[0],n.width),c+=Xs(i[1],n.height),u=null,f=null;else switch(i){case"left":l-=r,c+=s,u="right",f="middle";break;case"right":l+=r+a,c+=s,f="middle";break;case"top":l+=a/2,c-=r,u="center",f="bottom";break;case"bottom":l+=a/2,c+=o+r,u="center";break;case"inside":l+=a/2,c+=s,u="center",f="middle";break;case"insideLeft":l+=r,c+=s,f="middle";break;case"insideRight":l+=a-r,c+=s,u="right",f="middle";break;case"insideTop":l+=a/2,c+=r,u="center";break;case"insideBottom":l+=a/2,c+=o-r,u="center",f="bottom";break;case"insideTopLeft":l+=r,c+=r;break;case"insideTopRight":l+=a-r,c+=r,u="right";break;case"insideBottomLeft":l+=r,c+=o-r,f="bottom";break;case"insideBottomRight":l+=a-r,c+=o-r,u="right",f="bottom";break}return t=t||{},t.x=l,t.y=c,t.align=u,t.verticalAlign=f,t}var Lx="__zr_normal__",Nx=Tp.concat(["ignore"]),Bne=Ws(Tp,function(t,e){return t[e]=!0,t},{ignore:!1}),bu={},Une=new zt(0,0,0,0),M_=function(){function t(e){this.id=HU(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,n,i){switch(this.draggable){case"horizontal":n=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=n,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var n=this._textContent;if(n&&(!n.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=n.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=r?this:null;var c=!1;if(o.copyTransform(n),i.position!=null){var u=Une;i.layoutRect?u.copy(i.layoutRect):u.copy(this.getBoundingRect()),r||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(bu,i,u):cz(bu,i,u),o.x=bu.x,o.y=bu.y,a=bu.align,s=bu.verticalAlign;var f=i.origin;if(f&&i.rotation!=null){var h=void 0,d=void 0;f==="center"?(h=u.width*.5,d=u.height*.5):(h=Xs(f[0],u.width),d=Xs(f[1],u.height)),c=!0,o.originX=-o.x+h+(r?0:u.x),o.originY=-o.y+d+(r?0:u.y)}}i.rotation!=null&&(o.rotation=i.rotation);var p=i.offset;p&&(o.x+=p[0],o.y+=p[1],c||(o.originX=-p[0],o.originY=-p[1]));var g=i.inside==null?typeof i.position=="string"&&i.position.indexOf("inside")>=0:i.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,y=void 0,_=void 0;g&&this.canBeInsideText()?(m=i.insideFill,y=i.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(m),_=!0)):(m=i.outsideFill,y=i.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(m),_=!0)),m=m||"#000",(m!==v.fill||y!==v.stroke||_!==v.autoStroke||a!==v.align||s!==v.verticalAlign)&&(l=!0,v.fill=m,v.stroke=y,v.autoStroke=_,v.align=a,v.verticalAlign=s,n.setDefaultTextStyle(v)),n.__dirty|=dr,l&&n.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?zw:Uw},t.prototype.getOutsideStroke=function(e){var n=this.__zr&&this.__zr.getBackgroundColor(),i=typeof n=="string"&&zs(n);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(o?0:255)*(1-r);return i[3]=1,dC(i,"rgba")},t.prototype.traverse=function(e,n){},t.prototype.attrKV=function(e,n){e==="textConfig"?this.setTextConfig(n):e==="textContent"?this.setTextContent(n):e==="clipPath"?this.setClipPath(n):e==="extra"?(this.extra=this.extra||{},Ie(this.extra,n)):this[e]=n},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,n){if(typeof e=="string")this.attrKV(e,n);else if(nt(e))for(var i=e,r=cn(i),o=0;o<r.length;o++){var a=r[o];this.attrKV(a,e[a])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var n=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==Lx)){var a=r.targetName,s=a?n[a]:n;r.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var n=this._normalState;n||(n=this._normalState={}),e.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(e,n,Nx)},t.prototype._savePrimaryToNormal=function(e,n,i){for(var r=0;r<i.length;r++){var o=i[r];e[o]!=null&&!(o in n)&&(n[o]=this[o])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var n=this.states;return n[e]||(n[e]={}),n[e]},t.prototype.clearStates=function(e){this.useState(Lx,!1,e)},t.prototype.useState=function(e,n,i,r){var o=e===Lx,a=this.hasState();if(!(!a&&o)){var s=this.currentStates,l=this.stateTransition;if(!(qt(s,e)>=0&&(n||s.length===1))){var c;if(this.stateProxy&&!o&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!o){sC("State "+e+" not exists.");return}o||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,n,!i&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,h=this._textGuide;return f&&f.useState(e,n,i,u),h&&h.useState(e,n,i,u),o?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~dr),c}}},t.prototype.useStates=function(e,n,i){if(!e.length)this.clearStates();else{var r=[],o=this.currentStates,a=e.length,s=a===o.length;if(s){for(var l=0;l<a;l++)if(e[l]!==o[l]){s=!1;break}}if(s)return;for(var l=0;l<a;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&r.push(u)}var f=r[a-1],h=!!(f&&f.hoverLayer||i);h&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(r),p=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!n&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,v=this._textGuide;g&&g.useStates(e,n,h),v&&v.useStates(e,n,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~dr)}},t.prototype.isSilent=function(){for(var e=this.silent,n=this.parent;!e&&n;){if(n.silent){e=!0;break}n=n.parent}return e},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var n=this.animators[e];n.targetName&&n.changeTarget(this[n.targetName])}},t.prototype.removeState=function(e){var n=qt(this.currentStates,e);if(n>=0){var i=this.currentStates.slice();i.splice(n,1),this.useStates(i)}},t.prototype.replaceState=function(e,n,i){var r=this.currentStates.slice(),o=qt(r,e),a=qt(r,n)>=0;o>=0?a?r.splice(o,1):r[o]=n:i&&!a&&r.push(n),this.useStates(r)},t.prototype.toggleState=function(e,n){n?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var n={},i,r=0;r<e.length;r++){var o=e[r];Ie(n,o),o.textConfig&&(i=i||{},Ie(i,o.textConfig))}return i&&(n.textConfig=i),n},t.prototype._applyStateObj=function(e,n,i,r,o,a){var s=!(n&&r);n&&n.textConfig?(this.textConfig=Ie({},r?this.textConfig:i.textConfig),Ie(this.textConfig,n.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var l={},c=!1,u=0;u<Nx.length;u++){var f=Nx[u],h=o&&Bne[f];n&&n[f]!=null?h?(c=!0,l[f]=n[f]):this[f]=n[f]:s&&i[f]!=null&&(h?(c=!0,l[f]=i[f]):this[f]=i[f])}if(!o)for(var u=0;u<this.animators.length;u++){var d=this.animators[u],p=d.targetName;d.getLoop()||d.__changeFinalValue(p?(n||i)[p]:n||i)}c&&this._transitionState(e,l,a)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var n=this.__zr;n&&e.addSelfToZr(n),e.__zr=n,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var n=this._textContent;n!==e&&(n&&n!==e&&this.removeTextContent(),e.innerTransformable=new mC,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Ie(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=dr;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var n=this._textContent,i=this._textGuide;n&&(n.__inHover=e),i&&(i.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var n=this.animators;if(n)for(var i=0;i<n.length;i++)e.animation.addAnimator(n[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var i=0;i<n.length;i++)e.animation.removeAnimator(n[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,n,i){var r=e?this[e]:this,o=new pC(r,n,i);return e&&(o.targetName=e),this.addAnimator(o,e),o},t.prototype.addAnimator=function(e,n){var i=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(n)}).done(function(){var o=r.animators,a=qt(o,e);a>=0&&o.splice(a,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,n){for(var i=this.animators,r=i.length,o=[],a=0;a<r;a++){var s=i[a];!e||e===s.scope?s.stop(n):o.push(s)}return this.animators=o,this},t.prototype.animateTo=function(e,n,i){Fx(this,e,n,i)},t.prototype.animateFrom=function(e,n,i){Fx(this,e,n,i,!0)},t.prototype._transitionState=function(e,n,i,r){for(var o=Fx(this,n,i,r),a=0;a<o.length;a++)o[a].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=dr;function n(i,r,o,a){Object.defineProperty(e,i,{get:function(){if(!this[r]){var l=this[r]=[];s(this,l)}return this[r]},set:function(l){this[o]=l[0],this[a]=l[1],this[r]=l,s(this,l)}});function s(l,c){Object.defineProperty(c,0,{get:function(){return l[o]},set:function(u){l[o]=u}}),Object.defineProperty(c,1,{get:function(){return l[a]},set:function(u){l[a]=u}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),t}();aa(M_,sa);aa(M_,mC);function Fx(t,e,n,i,r){n=n||{};var o=[];uz(t,"",t,e,n,i,o,r);var a=o.length,s=!1,l=n.done,c=n.aborted,u=function(){s=!0,a--,a<=0&&(s?l&&l():c&&c())},f=function(){a--,a<=0&&(s?l&&l():c&&c())};a||l&&l(),o.length>0&&n.during&&o[0].during(function(p,g){n.during(g)});for(var h=0;h<o.length;h++){var d=o[h];d.done(u),d.aborted(f),n.force&&d.duration(n.duration),d.start(n.easing)}return o}function Bx(t,e,n){for(var i=0;i<n;i++)t[i]=e[i]}function zne(t){return Qi(t[0])}function kne(t,e,n){if(Qi(e[n]))if(Qi(t[n])||(t[n]=[]),er(e[n])){var i=e[n].length;t[n].length!==i&&(t[n]=new e[n].constructor(i),Bx(t[n],e[n],i))}else{var r=e[n],o=t[n],a=r.length;if(zne(r))for(var s=r[0].length,l=0;l<a;l++)o[l]?Bx(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else Bx(o,r,a);o.length=r.length}else t[n]=e[n]}function $ne(t,e){return t===e||Qi(t)&&Qi(e)&&Hne(t,e)}function Hne(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function uz(t,e,n,i,r,o,a,s){for(var l=cn(i),c=r.duration,u=r.delay,f=r.additive,h=r.setToFinal,d=!nt(o),p=t.animators,g=[],v=0;v<l.length;v++){var m=l[v],y=i[m];if(y!=null&&n[m]!=null&&(d||o[m]))if(nt(y)&&!Qi(y)&&!S_(y)){if(e){s||(n[m]=y,t.updateDuringAnimation(e));continue}uz(t,m,n[m],y,r,o&&o[m],a,s)}else g.push(m);else s||(n[m]=y,t.updateDuringAnimation(e),g.push(m))}var _=g.length;if(!f&&_)for(var b=0;b<p.length;b++){var T=p[b];if(T.targetName===e){var x=T.stopTracks(g);if(x){var S=qt(p,T);p.splice(S,1)}}}if(r.force||(g=Gi(g,function(A){return!$ne(i[A],n[A])}),_=g.length),_>0||r.force&&!a.length){var C=void 0,M=void 0,w=void 0;if(s){M={},h&&(C={});for(var b=0;b<_;b++){var m=g[b];M[m]=n[m],h?C[m]=i[m]:n[m]=i[m]}}else if(h){w={};for(var b=0;b<_;b++){var m=g[b];w[m]=$g(n[m]),kne(n,i,m)}}var T=new pC(n,!1,!1,f?Gi(p,function(P){return P.targetName===e}):null);T.targetName=e,r.scope&&(T.scope=r.scope),h&&C&&T.whenWithKeys(0,C,g),w&&T.whenWithKeys(0,w,g),T.whenWithKeys(c??500,s?M:i,g).delay(u||0),t.addAnimator(T,e),a.push(T)}}var tr=function(t){Ve(e,t);function e(n){var i=t.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(n),i}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(n){return this._children[n]},e.prototype.childOfName=function(n){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===n)return i[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},e.prototype.addBefore=function(n,i){if(n&&n!==this&&n.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,n),this._doAdd(n))}return this},e.prototype.replace=function(n,i){var r=qt(this._children,n);return r>=0&&this.replaceAt(i,r),this},e.prototype.replaceAt=function(n,i){var r=this._children,o=r[i];if(n&&n!==this&&n.parent!==this&&n!==o){r[i]=n,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(n)}return this},e.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var i=this.__zr;i&&i!==n.__zr&&n.addSelfToZr(i),i&&i.refresh()},e.prototype.remove=function(n){var i=this.__zr,r=this._children,o=qt(r,n);return o<0?this:(r.splice(o,1),n.parent=null,i&&n.removeSelfFromZr(i),i&&i.refresh(),this)},e.prototype.removeAll=function(){for(var n=this._children,i=this.__zr,r=0;r<n.length;r++){var o=n[r];i&&o.removeSelfFromZr(i),o.parent=null}return n.length=0,this},e.prototype.eachChild=function(n,i){for(var r=this._children,o=0;o<r.length;o++){var a=r[o];n.call(i,a,o)}return this},e.prototype.traverse=function(n,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=n.call(i,o);o.isGroup&&!a&&o.traverse(n,i)}return this},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var i=0;i<this._children.length;i++){var r=this._children[i];r.addSelfToZr(n)}},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var i=0;i<this._children.length;i++){var r=this._children[i];r.removeSelfFromZr(n)}},e.prototype.getBoundingRect=function(n){for(var i=new zt(0,0,0,0),r=n||this._children,o=[],a=null,s=0;s<r.length;s++){var l=r[s];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(o);u?(zt.applyTransform(i,c,u),a=a||i.clone(),a.union(i)):(a=a||c.clone(),a.union(c))}}return a||i},e}(M_);tr.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Wg={},fz={};function Vne(t){delete fz[t]}function Gne(t){if(!t)return!1;if(typeof t=="string")return B0(t,1)<Bw;if(t.colorStops){for(var e=t.colorStops,n=0,i=e.length,r=0;r<i;r++)n+=B0(e[r].color,1);return n/=i,n<Bw}return!1}var Wne=function(){function t(e,n,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=n,this.id=e;var o=new une,a=i.renderer||"canvas";Wg[a]||(a=cn(Wg)[0]),i.useDirtyRect=i.useDirtyRect==null?!1:i.useDirtyRect;var s=new Wg[a](n,o,i,e),l=i.ssr||s.ssrOnly;this.storage=o,this.painter=s;var c=!pt.node&&!pt.worker&&!l?new Lne(s.getViewportRoot(),s.root):null,u=i.useCoarsePointer,f=u==null||u==="auto"?pt.touchEventsSupported:!!u,h=44,d;f&&(d=Tt(i.pointerSize,h)),this.handler=new KU(o,s,c,s.root,d),this.animation=new Ane({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,n),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=Gne(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var n,i=sf();this._needsRefresh&&(n=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var r=sf();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,n){if(!this._disposed)return this.handler.findHover(e,n)},t.prototype.on=function(e,n,i){return this._disposed||this.handler.on(e,n,i),this},t.prototype.off=function(e,n){this._disposed||this.handler.off(e,n)},t.prototype.trigger=function(e,n){this._disposed||this.handler.trigger(e,n)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),n=0;n<e.length;n++)e[n]instanceof tr&&e[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,Vne(this.id))},t}();function zR(t,e){var n=new Wne(HU(),t,e);return fz[n.id]=n,n}function Xne(t,e){Wg[t]=e}var kR=1e-4,hz=20;function jne(t){return t.replace(/^\s+|\s+$/g,"")}function kw(t,e,n,i){var r=e[0],o=e[1],a=n[0],s=n[1],l=o-r,c=s-a;if(l===0)return c===0?a:(a+s)/2;if(i)if(l>0){if(t<=r)return a;if(t>=o)return s}else{if(t>=r)return a;if(t<=o)return s}else{if(t===r)return a;if(t===o)return s}return(t-r)/l*c+a}function on(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return Qe(t)?jne(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function In(t,e,n){return e==null&&(e=10),e=Math.min(Math.max(0,e),hz),t=(+t).toFixed(e),n?t:+t}function La(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n}return Yne(t)}function Yne(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),i=n>0?+e.slice(n+1):0,r=n>0?n:e.length,o=e.indexOf("."),a=o<0?0:r-1-o;return Math.max(0,a-i)}function qne(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),o=Math.round(n(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function Kne(t,e){var n=Ws(t,function(d,p){return d+(isNaN(p)?0:p)},0);if(n===0)return[];for(var i=Math.pow(10,e),r=rt(t,function(d){return(isNaN(d)?0:d)/n*i*100}),o=i*100,a=rt(r,function(d){return Math.floor(d)}),s=Ws(a,function(d,p){return d+p},0),l=rt(r,function(d,p){return d-a[p]});s<o;){for(var c=Number.NEGATIVE_INFINITY,u=null,f=0,h=l.length;f<h;++f)l[f]>c&&(c=l[f],u=f);++a[u],l[u]=0,++s}return rt(a,function(d){return d/i})}function Zne(t,e){var n=Math.max(La(t),La(e)),i=t+e;return n>hz?i:In(i,n)}function dz(t){var e=Math.PI*2;return(t%e+e)%e}function z0(t){return t>-kR&&t<kR}var Jne=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ga(t){if(t instanceof Date)return t;if(Qe(t)){var e=Jne.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function Qne(t){return Math.pow(10,yC(t))}function yC(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function pz(t,e){var n=yC(t),i=Math.pow(10,n),r=t/i,o;return r<1.5?o=1:r<2.5?o=2:r<4?o=3:r<7?o=5:o=10,t=o*i,n>=-20?+t.toFixed(n<0?-n:0):t}function k0(t){var e=parseFloat(t);return e==t&&(e!==0||!Qe(t)||t.indexOf("x")<=0)?e:NaN}function eie(t){return!isNaN(k0(t))}function mz(){return Math.round(Math.random()*9)}function vz(t,e){return e===0?t:vz(e,t%e)}function $R(t,e){return t==null?e:e==null?t:t*e/vz(t,e)}function Xi(t){throw new Error(t)}function HR(t,e,n){return(e-t)*n+t}var gz="series\0",tie="\0_ec_\0";function Oi(t){return t instanceof Array?t:t==null?[]:[t]}function $w(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var VR=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function sm(t){return nt(t)&&!Ge(t)&&!(t instanceof Date)?t.value:t}function nie(t){return nt(t)&&!(t instanceof Array)}function iie(t,e,n){var i=n==="normalMerge",r=n==="replaceMerge",o=n==="replaceAll";t=t||[],e=(e||[]).slice();var a=Ct();q(e,function(l,c){if(!nt(l)){e[c]=null;return}});var s=rie(t,a,n);return(i||r)&&oie(s,t,a,e),i&&aie(s,e),i||r?sie(s,e,r):o&&lie(s,e),cie(s),s}function rie(t,e,n){var i=[];if(n==="replaceAll")return i;for(var r=0;r<t.length;r++){var o=t[r];o&&o.id!=null&&e.set(o.id,r),i.push({existing:n==="replaceMerge"||Cp(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}function oie(t,e,n,i){q(i,function(r,o){if(!(!r||r.id==null)){var a=$d(r.id),s=n.get(a);if(s!=null){var l=t[s];Va(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=r,l.existing=e[s],i[o]=null}}})}function aie(t,e){q(e,function(n,i){if(!(!n||n.name==null))for(var r=0;r<t.length;r++){var o=t[r].existing;if(!t[r].newOption&&o&&(o.id==null||n.id==null)&&!Cp(n)&&!Cp(o)&&yz("name",o,n)){t[r].newOption=n,e[i]=null;return}}})}function sie(t,e,n){q(e,function(i){if(i){for(var r,o=0;(r=t[o])&&(r.newOption||Cp(r.existing)||r.existing&&i.id!=null&&!yz("id",i,r.existing));)o++;r?(r.newOption=i,r.brandNew=n):t.push({newOption:i,brandNew:n,existing:null,keyInfo:null}),o++}})}function lie(t,e){q(e,function(n){t.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function cie(t){var e=Ct();q(t,function(n){var i=n.existing;i&&e.set(i.id,n)}),q(t,function(n){var i=n.newOption;Va(!i||i.id==null||!e.get(i.id)||e.get(i.id)===n,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&e.set(i.id,n),!n.keyInfo&&(n.keyInfo={})}),q(t,function(n,i){var r=n.existing,o=n.newOption,a=n.keyInfo;if(nt(o)){if(a.name=o.name!=null?$d(o.name):r?r.name:gz+i,r)a.id=$d(r.id);else if(o.id!=null)a.id=$d(o.id);else{var s=0;do a.id="\0"+a.name+"\0"+s++;while(e.get(a.id))}e.set(a.id,n)}})}function yz(t,e,n){var i=qo(e[t],null),r=qo(n[t],null);return i!=null&&r!=null&&i===r}function $d(t){return qo(t,"")}function qo(t,e){return t==null?e:Qe(t)?t:tn(t)||Sw(t)?t+"":e}function _z(t){var e=t.name;return!!(e&&e.indexOf(gz))}function Cp(t){return t&&t.id!=null&&$d(t.id).indexOf(tie)===0}function uie(t,e,n){q(t,function(i){var r=i.newOption;nt(r)&&(i.keyInfo.mainType=e,i.keyInfo.subType=fie(e,r,i.existing,n))})}function fie(t,e,n,i){var r=e.type?e.type:n?n.subType:i.determineSubType(t,e);return r}function $c(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Ge(e.dataIndex)?rt(e.dataIndex,function(n){return t.indexOfRawIndex(n)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Ge(e.name)?rt(e.name,function(n){return t.indexOfName(n)}):t.indexOfName(e.name)}function Mn(){var t="__ec_inner_"+hie++;return function(e){return e[t]||(e[t]={})}}var hie=mz();function Ux(t,e,n){var i=_C(e,n),r=i.mainTypeSpecified,o=i.queryOptionMap,a=i.others,s=a,l=n?n.defaultMainType:null;return!r&&l&&o.set(l,{}),o.each(function(c,u){var f=lm(t,u,c,{useDefault:l===u,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});s[u+"Models"]=f.models,s[u+"Model"]=f.models[0]}),s}function _C(t,e){var n;if(Qe(t)){var i={};i[t+"Index"]=0,n=i}else n=t;var r=Ct(),o={},a=!1;return q(n,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){o[l]=s;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],f=(c[2]||"").toLowerCase();if(!(!u||!f||e&&e.includeMainTypes&&qt(e.includeMainTypes,u)<0)){a=a||!!u;var h=r.get(u)||r.set(u,{});h[f]=s}}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var po={useDefault:!0,enableAll:!1,enableNone:!1};function lm(t,e,n,i){i=i||po;var r=n.index,o=n.id,a=n.name,s={models:null,specified:r!=null||o!=null||a!=null};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=t.getComponent(e))?[l]:[],s}return r==="none"||r===!1?(Va(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(r==="all"&&(Va(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=t.queryComponents({mainType:e,index:r,id:o,name:a}),s)}function bz(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function die(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function pie(t){return t==="auto"?pt.domSupported?"html":"richText":t||"html"}function mie(t,e,n,i,r){var o=e==null||e==="auto";if(i==null)return i;if(tn(i)){var a=HR(n||0,i,r);return In(a,o?Math.max(La(n||0),La(i)):e)}else{if(Qe(i))return r<1?n:i;for(var s=[],l=n,c=i,u=Math.max(l?l.length:0,c.length),f=0;f<u;++f){var h=t.getDimensionInfo(f);if(h&&h.type==="ordinal")s[f]=(r<1&&l?l:c)[f];else{var d=l&&l[f]?l[f]:0,p=c[f],a=HR(d,p,r);s[f]=In(a,o?Math.max(La(d),La(p)):e)}}return s}}var vie=".",Sl="___EC__COMPONENT__CONTAINER___",xz="___EC__EXTENDED_CLASS___";function Wo(t){var e={main:"",sub:""};if(t){var n=t.split(vie);e.main=n[0]||"",e.sub=n[1]||""}return e}function gie(t){Va(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function yie(t){return!!(t&&t[xz])}function bC(t,e){t.$constructor=t,t.extend=function(n){var i=this,r;return _ie(i)?r=function(o){Ve(a,o);function a(){return o.apply(this,arguments)||this}return a}(i):(r=function(){(n.$constructor||i).apply(this,arguments)},Cte(r,this)),Ie(r.prototype,n),r[xz]=!0,r.extend=this.extend,r.superCall=Sie,r.superApply=wie,r.superClass=i,r}}function _ie(t){return St(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function Sz(t,e){t.extend=e.extend}var bie=Math.round(Math.random()*10);function xie(t){var e=["__\0is_clz",bie++].join("_");t.prototype[e]=!0,t.isInstance=function(n){return!!(n&&n[e])}}function Sie(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[e].apply(t,n)}function wie(t,e,n){return this.superClass.prototype[e].apply(t,n)}function T_(t){var e={};t.registerClass=function(i){var r=i.type||i.prototype.type;if(r){gie(r),i.prototype.type=r;var o=Wo(r);if(!o.sub)e[o.main]=i;else if(o.sub!==Sl){var a=n(o);a[o.sub]=i}}return i},t.getClass=function(i,r,o){var a=e[i];if(a&&a[Sl]&&(a=r?a[r]:null),o&&!a)throw new Error(r?"Component "+i+"."+(r||"")+" is used but not imported.":i+".type should be specified.");return a},t.getClassesByMainType=function(i){var r=Wo(i),o=[],a=e[r.main];return a&&a[Sl]?q(a,function(s,l){l!==Sl&&o.push(s)}):o.push(a),o},t.hasClass=function(i){var r=Wo(i);return!!e[r.main]},t.getAllClassMainTypes=function(){var i=[];return q(e,function(r,o){i.push(o)}),i},t.hasSubTypes=function(i){var r=Wo(i),o=e[r.main];return o&&o[Sl]};function n(i){var r=e[i.main];return(!r||!r[Sl])&&(r=e[i.main]={},r[Sl]=!0),r}}function Ap(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(i,r,o){for(var a={},s=0;s<t.length;s++){var l=t[s][1];if(!(r&&qt(r,l)>=0||o&&qt(o,l)<0)){var c=i.getShallow(l,e);c!=null&&(a[t[s][0]]=c)}}return a}}var Mie=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Tie=Ap(Mie),Cie=function(){function t(){}return t.prototype.getAreaStyle=function(e,n){return Tie(this,e,n)},t}(),Hw=new am(50);function Aie(t){if(typeof t=="string"){var e=Hw.get(t);return e&&e.image}else return t}function wz(t,e,n,i,r){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!n)return e;var o=Hw.get(t),a={hostEl:n,cb:i,cbPayload:r};return o?(e=o.image,!C_(e)&&o.pending.push(a)):(e=ch.loadImage(t,GR,GR),e.__zrImageSrc=t,Hw.put(t,e.__cachedImgObj={image:e,pending:[a]})),e}else return t;else return e}function GR(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function C_(t){return t&&t.width&&t.height}var zx=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Eie(t,e,n,i,r){if(!e)return"";var o=(t+"").split(`
`);r=Mz(e,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=Tz(o[a],r);return o.join(`
`)}function Mz(t,e,n,i){i=i||{};var r=Ie({},i);r.font=e,n=Tt(n,"..."),r.maxIterations=Tt(i.maxIterations,2);var o=r.minChar=Tt(i.minChar,0);r.cnCharWidth=_r("国",e);var a=r.ascCharWidth=_r("a",e);r.placeholder=Tt(i.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<o&&s>=a;l++)s-=a;var c=_r(n,e);return c>s&&(n="",c=0),s=t-c,r.ellipsis=n,r.ellipsisWidth=c,r.contentWidth=s,r.containerWidth=t,r}function Tz(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return"";var o=_r(t,i);if(o<=n)return t;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){t+=e.ellipsis;break}var s=a===0?Pie(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;t=t.substr(0,s),o=_r(t,i)}return t===""&&(t=e.placeholder),t}function Pie(t,e,n,i){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}function Iie(t,e){t!=null&&(t+="");var n=e.overflow,i=e.padding,r=e.font,o=n==="truncate",a=gC(r),s=Tt(e.lineHeight,a),l=!!e.backgroundColor,c=e.lineOverflow==="truncate",u=e.width,f;u!=null&&(n==="break"||n==="breakAll")?f=t?Cz(t,e.font,u,n==="breakAll",0).lines:[]:f=t?t.split(`
`):[];var h=f.length*s,d=Tt(e.height,h);if(h>d&&c){var p=Math.floor(d/s);f=f.slice(0,p)}if(t&&o&&u!=null)for(var g=Mz(u,r,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),v=0;v<f.length;v++)f[v]=Tz(f[v],g);for(var m=d,y=0,v=0;v<f.length;v++)y=Math.max(_r(f[v],r),y);u==null&&(u=y);var _=y;return i&&(m+=i[0]+i[2],_+=i[1]+i[3],u+=i[1]+i[3]),l&&(_=u),{lines:f,height:d,outerWidth:_,outerHeight:m,lineHeight:s,calculatedLineHeight:a,contentWidth:y,contentHeight:h,width:u}}var Rie=function(){function t(){}return t}(),WR=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),Die=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function Oie(t,e){var n=new Die;if(t!=null&&(t+=""),!t)return n;for(var i=e.width,r=e.height,o=e.overflow,a=(o==="break"||o==="breakAll")&&i!=null?{width:i,accumWidth:0,breakAll:o==="breakAll"}:null,s=zx.lastIndex=0,l;(l=zx.exec(t))!=null;){var c=l.index;c>s&&kx(n,t.substring(s,c),e,a),kx(n,l[2],e,a,l[1]),s=zx.lastIndex}s<t.length&&kx(n,t.substring(s,t.length),e,a);var u=[],f=0,h=0,d=e.padding,p=o==="truncate",g=e.lineOverflow==="truncate";function v(H,V,Y){H.width=V,H.lineHeight=Y,f+=Y,h=Math.max(h,V)}e:for(var m=0;m<n.lines.length;m++){for(var y=n.lines[m],_=0,b=0,T=0;T<y.tokens.length;T++){var x=y.tokens[T],S=x.styleName&&e.rich[x.styleName]||{},C=x.textPadding=S.padding,M=C?C[1]+C[3]:0,w=x.font=S.font||e.font;x.contentHeight=gC(w);var A=Tt(S.height,x.contentHeight);if(x.innerHeight=A,C&&(A+=C[0]+C[2]),x.height=A,x.lineHeight=Bd(S.lineHeight,e.lineHeight,A),x.align=S&&S.align||e.align,x.verticalAlign=S&&S.verticalAlign||"middle",g&&r!=null&&f+x.lineHeight>r){T>0?(y.tokens=y.tokens.slice(0,T),v(y,b,_),n.lines=n.lines.slice(0,m+1)):n.lines=n.lines.slice(0,m);break e}var P=S.width,R=P==null||P==="auto";if(typeof P=="string"&&P.charAt(P.length-1)==="%")x.percentWidth=P,u.push(x),x.contentWidth=_r(x.text,w);else{if(R){var L=S.backgroundColor,E=L&&L.image;E&&(E=Aie(E),C_(E)&&(x.width=Math.max(x.width,E.width*A/E.height)))}var O=p&&i!=null?i-b:null;O!=null&&O<x.width?!R||O<M?(x.text="",x.width=x.contentWidth=0):(x.text=Eie(x.text,O-M,w,e.ellipsis,{minChar:e.truncateMinChar}),x.width=x.contentWidth=_r(x.text,w)):x.contentWidth=_r(x.text,w)}x.width+=M,b+=x.width,S&&(_=Math.max(_,x.lineHeight))}v(y,b,_)}n.outerWidth=n.width=Tt(i,h),n.outerHeight=n.height=Tt(r,f),n.contentHeight=f,n.contentWidth=h,d&&(n.outerWidth+=d[1]+d[3],n.outerHeight+=d[0]+d[2]);for(var m=0;m<u.length;m++){var x=u[m],$=x.percentWidth;x.width=parseInt($,10)/100*n.width}return n}function kx(t,e,n,i,r){var o=e==="",a=r&&n.rich[r]||{},s=t.lines,l=a.font||n.font,c=!1,u,f;if(i){var h=a.padding,d=h?h[1]+h[3]:0;if(a.width!=null&&a.width!=="auto"){var p=Xs(a.width,i.width)+d;s.length>0&&p+i.accumWidth>i.width&&(u=e.split(`
`),c=!0),i.accumWidth=p}else{var g=Cz(e,l,i.width,i.breakAll,i.accumWidth);i.accumWidth=g.accumWidth+d,f=g.linesWidths,u=g.lines}}else u=e.split(`
`);for(var v=0;v<u.length;v++){var m=u[v],y=new Rie;if(y.styleName=r,y.text=m,y.isLineHolder=!m&&!o,typeof a.width=="number"?y.width=a.width:y.width=f?f[v]:_r(m,l),!v&&!c){var _=(s[s.length-1]||(s[0]=new WR)).tokens,b=_.length;b===1&&_[0].isLineHolder?_[0]=y:(m||!b||o)&&_.push(y)}else s.push(new WR([y]))}}function Lie(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var Nie=Ws(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function Fie(t){return Lie(t)?!!Nie[t]:!0}function Cz(t,e,n,i,r){for(var o=[],a=[],s="",l="",c=0,u=0,f=0;f<t.length;f++){var h=t.charAt(f);if(h===`
`){l&&(s+=l,u+=c),o.push(s),a.push(u),s="",l="",c=0,u=0;continue}var d=_r(h,e),p=i?!1:!Fie(h);if(o.length?u+d>n:r+u+d>n){u?(s||l)&&(p?(s||(s=l,l="",c=0,u=c),o.push(s),a.push(u-c),l+=h,c+=d,s="",u=c):(l&&(s+=l,l="",c=0),o.push(s),a.push(u),s=h,u=d)):p?(o.push(l),a.push(c),l=h,c=d):(o.push(h),a.push(d));continue}u+=d,p?(l+=h,c+=d):(l&&(s+=l,l="",c=0),s+=h)}return!o.length&&!s&&(s=t,l="",c=0),l&&(s+=l),s&&(o.push(s),a.push(u)),o.length===1&&(u+=r),{accumWidth:u,lines:o,linesWidths:a}}var Vw="__zr_style_"+Math.round(Math.random()*10),wc={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},A_={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};wc[Vw]=!0;var XR=["z","z2","invisible"],Bie=["invisible"],cm=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype._init=function(n){for(var i=cn(n),r=0;r<i.length;r++){var o=i[r];o==="style"?this.useStyle(n[o]):t.prototype.attrKV.call(this,o,n[o])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(n,i,r,o){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Uie(this,n,i)||a&&!a[0]&&!a[3])return!1;if(r&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(o&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(n,i){return this.rectContain(n,i)},e.prototype.traverse=function(n,i){n.call(i,this)},e.prototype.rectContain=function(n,i){var r=this.transformCoordToLocal(n,i),o=this.getBoundingRect();return o.contain(r[0],r[1])},e.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,r=this.getBoundingRect(),o=this.style,a=o.shadowBlur||0,s=o.shadowOffsetX||0,l=o.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new zt(0,0,0,0)),i?zt.applyTransform(n,r,i):n.copy(r),(a||s||l)&&(n.width+=a*2+Math.abs(s),n.height+=a*2+Math.abs(l),n.x=Math.min(n.x,n.x+s-a),n.y=Math.min(n.y,n.y+l-a));var c=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-c),n.y=Math.floor(n.y-c),n.width=Math.ceil(n.width+1+c*2),n.height=Math.ceil(n.height+1+c*2))}return n},e.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new zt(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(n){return this.animate("style",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(n,i){n!=="style"?t.prototype.attrKV.call(this,n,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(n,i){return typeof n=="string"?this.style[n]=i:Ie(this.style,n),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=md,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&md)},e.prototype.styleUpdated=function(){this.__dirty&=~md},e.prototype.createStyle=function(n){return w_(wc,n)},e.prototype.useStyle=function(n){n[Vw]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},e.prototype.isStyleObject=function(n){return n[Vw]},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var i=this._normalState;n.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,i,XR)},e.prototype._applyStateObj=function(n,i,r,o,a,s){t.prototype._applyStateObj.call(this,n,i,r,o,a,s);var l=!(i&&o),c;if(i&&i.style?a?o?c=i.style:(c=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(c,i.style)):(c=this._mergeStyle(this.createStyle(),o?this.style:r.style),this._mergeStyle(c,i.style)):l&&(c=r.style),c)if(a){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var f=cn(u),h=0;h<f.length;h++){var d=f[h];d in c&&(c[d]=c[d],this.style[d]=u[d])}for(var p=cn(c),h=0;h<p.length;h++){var d=p[h];this.style[d]=this.style[d]}this._transitionState(n,{style:c},s,this.getAnimationStyleProps())}else this.useStyle(c);for(var g=this.__inHover?Bie:XR,h=0;h<g.length;h++){var d=g[h];i&&i[d]!=null?this[d]=i[d]:l&&r[d]!=null&&(this[d]=r[d])}},e.prototype._mergeStates=function(n){for(var i=t.prototype._mergeStates.call(this,n),r,o=0;o<n.length;o++){var a=n[o];a.style&&(r=r||{},this._mergeStyle(r,a.style))}return r&&(i.style=r),i},e.prototype._mergeStyle=function(n,i){return Ie(n,i),n},e.prototype.getAnimationStyleProps=function(){return A_},e.initDefaultProps=function(){var n=e.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=dr|md}(),e}(M_),$x=new zt(0,0,0,0),Hx=new zt(0,0,0,0);function Uie(t,e,n){return $x.copy(t.getBoundingRect()),t.transform&&$x.applyTransform(t.transform),Hx.width=e,Hx.height=n,!$x.intersect(Hx)}var $r=Math.min,Hr=Math.max,Vx=Math.sin,Gx=Math.cos,wl=Math.PI*2,rv=uh(),ov=uh(),av=uh();function jR(t,e,n,i,r,o){r[0]=$r(t,n),r[1]=$r(e,i),o[0]=Hr(t,n),o[1]=Hr(e,i)}var YR=[],qR=[];function zie(t,e,n,i,r,o,a,s,l,c){var u=tz,f=Zn,h=u(t,n,r,a,YR);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var d=0;d<h;d++){var p=f(t,n,r,a,YR[d]);l[0]=$r(p,l[0]),c[0]=Hr(p,c[0])}h=u(e,i,o,s,qR);for(var d=0;d<h;d++){var g=f(e,i,o,s,qR[d]);l[1]=$r(g,l[1]),c[1]=Hr(g,c[1])}l[0]=$r(t,l[0]),c[0]=Hr(t,c[0]),l[0]=$r(a,l[0]),c[0]=Hr(a,c[0]),l[1]=$r(e,l[1]),c[1]=Hr(e,c[1]),l[1]=$r(s,l[1]),c[1]=Hr(s,c[1])}function kie(t,e,n,i,r,o,a,s){var l=nz,c=Wi,u=Hr($r(l(t,n,r),1),0),f=Hr($r(l(e,i,o),1),0),h=c(t,n,r,u),d=c(e,i,o,f);a[0]=$r(t,r,h),a[1]=$r(e,o,d),s[0]=Hr(t,r,h),s[1]=Hr(e,o,d)}function $ie(t,e,n,i,r,o,a,s,l){var c=of,u=af,f=Math.abs(r-o);if(f%wl<1e-4&&f>1e-4){s[0]=t-n,s[1]=e-i,l[0]=t+n,l[1]=e+i;return}if(rv[0]=Gx(r)*n+t,rv[1]=Vx(r)*i+e,ov[0]=Gx(o)*n+t,ov[1]=Vx(o)*i+e,c(s,rv,ov),u(l,rv,ov),r=r%wl,r<0&&(r=r+wl),o=o%wl,o<0&&(o=o+wl),r>o&&!a?o+=wl:r<o&&a&&(r+=wl),a){var h=o;o=r,r=h}for(var d=0;d<o;d+=Math.PI/2)d>r&&(av[0]=Gx(d)*n+t,av[1]=Vx(d)*i+e,c(s,av,s),u(l,av,l))}var Bt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ml=[],Tl=[],Io=[],rs=[],Ro=[],Do=[],Wx=Math.min,Xx=Math.max,Cl=Math.cos,Al=Math.sin,va=Math.abs,Gw=Math.PI,Ss=Gw*2,jx=typeof Float32Array<"u",Fh=[];function Yx(t){var e=Math.round(t/Gw*1e8)/1e8;return e%2*Gw}function Az(t,e){var n=Yx(t[0]);n<0&&(n+=Ss);var i=n-t[0],r=t[1];r+=i,!e&&r-n>=Ss?r=n+Ss:e&&n-r>=Ss?r=n-Ss:!e&&n>r?r=n+(Ss-Yx(n-r)):e&&n<r&&(r=n-(Ss-Yx(r-n))),t[0]=n,t[1]=r}var Hc=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,n,i){i=i||0,i>0&&(this._ux=va(i/U0/e)||0,this._uy=va(i/U0/n)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,n){return this._drawPendingPt(),this.addData(Bt.M,e,n),this._ctx&&this._ctx.moveTo(e,n),this._x0=e,this._y0=n,this._xi=e,this._yi=n,this},t.prototype.lineTo=function(e,n){var i=va(e-this._xi),r=va(n-this._yi),o=i>this._ux||r>this._uy;if(this.addData(Bt.L,e,n),this._ctx&&o&&this._ctx.lineTo(e,n),o)this._xi=e,this._yi=n,this._pendingPtDist=0;else{var a=i*i+r*r;a>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=n,this._pendingPtDist=a)}return this},t.prototype.bezierCurveTo=function(e,n,i,r,o,a){return this._drawPendingPt(),this.addData(Bt.C,e,n,i,r,o,a),this._ctx&&this._ctx.bezierCurveTo(e,n,i,r,o,a),this._xi=o,this._yi=a,this},t.prototype.quadraticCurveTo=function(e,n,i,r){return this._drawPendingPt(),this.addData(Bt.Q,e,n,i,r),this._ctx&&this._ctx.quadraticCurveTo(e,n,i,r),this._xi=i,this._yi=r,this},t.prototype.arc=function(e,n,i,r,o,a){this._drawPendingPt(),Fh[0]=r,Fh[1]=o,Az(Fh,a),r=Fh[0],o=Fh[1];var s=o-r;return this.addData(Bt.A,e,n,i,i,r,s,0,a?0:1),this._ctx&&this._ctx.arc(e,n,i,r,o,a),this._xi=Cl(o)*i+e,this._yi=Al(o)*i+n,this},t.prototype.arcTo=function(e,n,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,n,i,r,o),this},t.prototype.rect=function(e,n,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,n,i,r),this.addData(Bt.R,e,n,i,r),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Bt.Z);var e=this._ctx,n=this._x0,i=this._y0;return e&&e.closePath(),this._xi=n,this._yi=i,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var n=e.length;!(this.data&&this.data.length===n)&&jx&&(this.data=new Float32Array(n));for(var i=0;i<n;i++)this.data[i]=e[i];this._len=n},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var n=e.length,i=0,r=this._len,o=0;o<n;o++)i+=e[o].len();jx&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i));for(var o=0;o<n;o++)for(var a=e[o].data,s=0;s<a.length;s++)this.data[r++]=a[s];this._len=r},t.prototype.addData=function(e,n,i,r,o,a,s,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var f=0;f<arguments.length;f++)u[this._len++]=arguments[f]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],n=0;n<this._len;n++)e[n]=this.data[n];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,jx&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){Io[0]=Io[1]=Ro[0]=Ro[1]=Number.MAX_VALUE,rs[0]=rs[1]=Do[0]=Do[1]=-Number.MAX_VALUE;var e=this.data,n=0,i=0,r=0,o=0,a;for(a=0;a<this._len;){var s=e[a++],l=a===1;switch(l&&(n=e[a],i=e[a+1],r=n,o=i),s){case Bt.M:n=r=e[a++],i=o=e[a++],Ro[0]=r,Ro[1]=o,Do[0]=r,Do[1]=o;break;case Bt.L:jR(n,i,e[a],e[a+1],Ro,Do),n=e[a++],i=e[a++];break;case Bt.C:zie(n,i,e[a++],e[a++],e[a++],e[a++],e[a],e[a+1],Ro,Do),n=e[a++],i=e[a++];break;case Bt.Q:kie(n,i,e[a++],e[a++],e[a],e[a+1],Ro,Do),n=e[a++],i=e[a++];break;case Bt.A:var c=e[a++],u=e[a++],f=e[a++],h=e[a++],d=e[a++],p=e[a++]+d;a+=1;var g=!e[a++];l&&(r=Cl(d)*f+c,o=Al(d)*h+u),$ie(c,u,f,h,d,p,g,Ro,Do),n=Cl(p)*f+c,i=Al(p)*h+u;break;case Bt.R:r=n=e[a++],o=i=e[a++];var v=e[a++],m=e[a++];jR(r,o,r+v,o+m,Ro,Do);break;case Bt.Z:n=r,i=o;break}of(Io,Io,Ro),af(rs,rs,Do)}return a===0&&(Io[0]=Io[1]=rs[0]=rs[1]=0),new zt(Io[0],Io[1],rs[0]-Io[0],rs[1]-Io[1])},t.prototype._calculateLength=function(){var e=this.data,n=this._len,i=this._ux,r=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,f=0,h=0;h<n;){var d=e[h++],p=h===1;p&&(o=e[h],a=e[h+1],s=o,l=a);var g=-1;switch(d){case Bt.M:o=s=e[h++],a=l=e[h++];break;case Bt.L:{var v=e[h++],m=e[h++],y=v-o,_=m-a;(va(y)>i||va(_)>r||h===n-1)&&(g=Math.sqrt(y*y+_*_),o=v,a=m);break}case Bt.C:{var b=e[h++],T=e[h++],v=e[h++],m=e[h++],x=e[h++],S=e[h++];g=hne(o,a,b,T,v,m,x,S,10),o=x,a=S;break}case Bt.Q:{var b=e[h++],T=e[h++],v=e[h++],m=e[h++];g=mne(o,a,b,T,v,m,10),o=v,a=m;break}case Bt.A:var C=e[h++],M=e[h++],w=e[h++],A=e[h++],P=e[h++],R=e[h++],L=R+P;h+=1,p&&(s=Cl(P)*w+C,l=Al(P)*A+M),g=Xx(w,A)*Wx(Ss,Math.abs(R)),o=Cl(L)*w+C,a=Al(L)*A+M;break;case Bt.R:{s=o=e[h++],l=a=e[h++];var E=e[h++],O=e[h++];g=E*2+O*2;break}case Bt.Z:{var y=s-o,_=l-a;g=Math.sqrt(y*y+_*_),o=s,a=l;break}}g>=0&&(c[f++]=g,u+=g)}return this._pathLen=u,u},t.prototype.rebuildPath=function(e,n){var i=this.data,r=this._ux,o=this._uy,a=this._len,s,l,c,u,f,h,d=n<1,p,g,v=0,m=0,y,_=0,b,T;if(!(d&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,g=this._pathLen,y=n*g,!y)))e:for(var x=0;x<a;){var S=i[x++],C=x===1;switch(C&&(c=i[x],u=i[x+1],s=c,l=u),S!==Bt.L&&_>0&&(e.lineTo(b,T),_=0),S){case Bt.M:s=c=i[x++],l=u=i[x++],e.moveTo(c,u);break;case Bt.L:{f=i[x++],h=i[x++];var M=va(f-c),w=va(h-u);if(M>r||w>o){if(d){var A=p[m++];if(v+A>y){var P=(y-v)/A;e.lineTo(c*(1-P)+f*P,u*(1-P)+h*P);break e}v+=A}e.lineTo(f,h),c=f,u=h,_=0}else{var R=M*M+w*w;R>_&&(b=f,T=h,_=R)}break}case Bt.C:{var L=i[x++],E=i[x++],O=i[x++],$=i[x++],H=i[x++],V=i[x++];if(d){var A=p[m++];if(v+A>y){var P=(y-v)/A;N0(c,L,O,H,P,Ml),N0(u,E,$,V,P,Tl),e.bezierCurveTo(Ml[1],Tl[1],Ml[2],Tl[2],Ml[3],Tl[3]);break e}v+=A}e.bezierCurveTo(L,E,O,$,H,V),c=H,u=V;break}case Bt.Q:{var L=i[x++],E=i[x++],O=i[x++],$=i[x++];if(d){var A=p[m++];if(v+A>y){var P=(y-v)/A;F0(c,L,O,P,Ml),F0(u,E,$,P,Tl),e.quadraticCurveTo(Ml[1],Tl[1],Ml[2],Tl[2]);break e}v+=A}e.quadraticCurveTo(L,E,O,$),c=O,u=$;break}case Bt.A:var Y=i[x++],ae=i[x++],oe=i[x++],xe=i[x++],Z=i[x++],ve=i[x++],ye=i[x++],ge=!i[x++],Ce=oe>xe?oe:xe,ce=va(oe-xe)>.001,J=Z+ve,Q=!1;if(d){var A=p[m++];v+A>y&&(J=Z+ve*(y-v)/A,Q=!0),v+=A}if(ce&&e.ellipse?e.ellipse(Y,ae,oe,xe,ye,Z,J,ge):e.arc(Y,ae,Ce,Z,J,ge),Q)break e;C&&(s=Cl(Z)*oe+Y,l=Al(Z)*xe+ae),c=Cl(J)*oe+Y,u=Al(J)*xe+ae;break;case Bt.R:s=c=i[x],l=u=i[x+1],f=i[x++],h=i[x++];var D=i[x++],U=i[x++];if(d){var A=p[m++];if(v+A>y){var I=y-v;e.moveTo(f,h),e.lineTo(f+Wx(I,D),h),I-=D,I>0&&e.lineTo(f+D,h+Wx(I,U)),I-=U,I>0&&e.lineTo(f+Xx(D-I,0),h+U),I-=D,I>0&&e.lineTo(f,h+Xx(U-I,0));break e}v+=A}e.rect(f,h,D,U);break;case Bt.Z:if(d){var A=p[m++];if(v+A>y){var P=(y-v)/A;e.lineTo(c*(1-P)+s*P,u*(1-P)+l*P);break e}v+=A}e.closePath(),c=s,u=l}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=Bt,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();function xu(t,e,n,i,r,o,a){if(r===0)return!1;var s=r,l=0,c=t;if(a>e+s&&a>i+s||a<e-s&&a<i-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t!==n)l=(e-i)/(t-n),c=(t*i-n*e)/(t-n);else return Math.abs(o-t)<=s/2;var u=l*o-a+c,f=u*u/(l*l+1);return f<=s/2*s/2}function Hie(t,e,n,i,r,o,a,s,l,c,u){if(l===0)return!1;var f=l;if(u>e+f&&u>i+f&&u>o+f&&u>s+f||u<e-f&&u<i-f&&u<o-f&&u<s-f||c>t+f&&c>n+f&&c>r+f&&c>a+f||c<t-f&&c<n-f&&c<r-f&&c<a-f)return!1;var h=fne(t,e,n,i,r,o,a,s,c,u);return h<=f/2}function Vie(t,e,n,i,r,o,a,s,l){if(a===0)return!1;var c=a;if(l>e+c&&l>i+c&&l>o+c||l<e-c&&l<i-c&&l<o-c||s>t+c&&s>n+c&&s>r+c||s<t-c&&s<n-c&&s<r-c)return!1;var u=pne(t,e,n,i,r,o,s,l);return u<=c/2}var KR=Math.PI*2;function sv(t){return t%=KR,t<0&&(t+=KR),t}var Bh=Math.PI*2;function Gie(t,e,n,i,r,o,a,s,l){if(a===0)return!1;var c=a;s-=t,l-=e;var u=Math.sqrt(s*s+l*l);if(u-c>n||u+c<n)return!1;if(Math.abs(i-r)%Bh<1e-4)return!0;if(o){var f=i;i=sv(r),r=sv(f)}else i=sv(i),r=sv(r);i>r&&(r+=Bh);var h=Math.atan2(l,s);return h<0&&(h+=Bh),h>=i&&h<=r||h+Bh>=i&&h+Bh<=r}function El(t,e,n,i,r,o){if(o>e&&o>i||o<e&&o<i||i===e)return 0;var a=(o-e)/(i-e),s=i<e?1:-1;(a===1||a===0)&&(s=i<e?.5:-.5);var l=a*(n-t)+t;return l===r?1/0:l>r?s:0}var os=Hc.CMD,Pl=Math.PI*2,Wie=1e-4;function Xie(t,e){return Math.abs(t-e)<Wie}var Si=[-1,-1,-1],zr=[-1,-1];function jie(){var t=zr[0];zr[0]=zr[1],zr[1]=t}function Yie(t,e,n,i,r,o,a,s,l,c){if(c>e&&c>i&&c>o&&c>s||c<e&&c<i&&c<o&&c<s)return 0;var u=L0(e,i,o,s,c,Si);if(u===0)return 0;for(var f=0,h=-1,d=void 0,p=void 0,g=0;g<u;g++){var v=Si[g],m=v===0||v===1?.5:1,y=Zn(t,n,r,a,v);y<l||(h<0&&(h=tz(e,i,o,s,zr),zr[1]<zr[0]&&h>1&&jie(),d=Zn(e,i,o,s,zr[0]),h>1&&(p=Zn(e,i,o,s,zr[1]))),h===2?v<zr[0]?f+=d<e?m:-m:v<zr[1]?f+=p<d?m:-m:f+=s<p?m:-m:v<zr[0]?f+=d<e?m:-m:f+=s<d?m:-m)}return f}function qie(t,e,n,i,r,o,a,s){if(s>e&&s>i&&s>o||s<e&&s<i&&s<o)return 0;var l=dne(e,i,o,s,Si);if(l===0)return 0;var c=nz(e,i,o);if(c>=0&&c<=1){for(var u=0,f=Wi(e,i,o,c),h=0;h<l;h++){var d=Si[h]===0||Si[h]===1?.5:1,p=Wi(t,n,r,Si[h]);p<a||(Si[h]<c?u+=f<e?d:-d:u+=o<f?d:-d)}return u}else{var d=Si[0]===0||Si[0]===1?.5:1,p=Wi(t,n,r,Si[0]);return p<a?0:o<e?d:-d}}function Kie(t,e,n,i,r,o,a,s){if(s-=e,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);Si[0]=-l,Si[1]=l;var c=Math.abs(i-r);if(c<1e-4)return 0;if(c>=Pl-1e-4){i=0,r=Pl;var u=o?1:-1;return a>=Si[0]+t&&a<=Si[1]+t?u:0}if(i>r){var f=i;i=r,r=f}i<0&&(i+=Pl,r+=Pl);for(var h=0,d=0;d<2;d++){var p=Si[d];if(p+t>a){var g=Math.atan2(s,p),u=o?1:-1;g<0&&(g=Pl+g),(g>=i&&g<=r||g+Pl>=i&&g+Pl<=r)&&(g>Math.PI/2&&g<Math.PI*1.5&&(u=-u),h+=u)}}return h}function Ez(t,e,n,i,r){for(var o=t.data,a=t.len(),s=0,l=0,c=0,u=0,f=0,h,d,p=0;p<a;){var g=o[p++],v=p===1;switch(g===os.M&&p>1&&(n||(s+=El(l,c,u,f,i,r))),v&&(l=o[p],c=o[p+1],u=l,f=c),g){case os.M:u=o[p++],f=o[p++],l=u,c=f;break;case os.L:if(n){if(xu(l,c,o[p],o[p+1],e,i,r))return!0}else s+=El(l,c,o[p],o[p+1],i,r)||0;l=o[p++],c=o[p++];break;case os.C:if(n){if(Hie(l,c,o[p++],o[p++],o[p++],o[p++],o[p],o[p+1],e,i,r))return!0}else s+=Yie(l,c,o[p++],o[p++],o[p++],o[p++],o[p],o[p+1],i,r)||0;l=o[p++],c=o[p++];break;case os.Q:if(n){if(Vie(l,c,o[p++],o[p++],o[p],o[p+1],e,i,r))return!0}else s+=qie(l,c,o[p++],o[p++],o[p],o[p+1],i,r)||0;l=o[p++],c=o[p++];break;case os.A:var m=o[p++],y=o[p++],_=o[p++],b=o[p++],T=o[p++],x=o[p++];p+=1;var S=!!(1-o[p++]);h=Math.cos(T)*_+m,d=Math.sin(T)*b+y,v?(u=h,f=d):s+=El(l,c,h,d,i,r);var C=(i-m)*b/_+m;if(n){if(Gie(m,y,b,T,T+x,S,e,C,r))return!0}else s+=Kie(m,y,b,T,T+x,S,C,r);l=Math.cos(T+x)*_+m,c=Math.sin(T+x)*b+y;break;case os.R:u=l=o[p++],f=c=o[p++];var M=o[p++],w=o[p++];if(h=u+M,d=f+w,n){if(xu(u,f,h,f,e,i,r)||xu(h,f,h,d,e,i,r)||xu(h,d,u,d,e,i,r)||xu(u,d,u,f,e,i,r))return!0}else s+=El(h,f,h,d,i,r),s+=El(u,d,u,f,i,r);break;case os.Z:if(n){if(xu(l,c,u,f,e,i,r))return!0}else s+=El(l,c,u,f,i,r);l=u,c=f;break}}return!n&&!Xie(c,f)&&(s+=El(l,c,u,f,i,r)||0),s!==0}function Zie(t,e,n){return Ez(t,0,!1,e,n)}function Jie(t,e,n,i){return Ez(t,e,!0,n,i)}var Pz=Vt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},wc),Qie={style:Vt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},A_.style)},qx=Tp.concat(["invisible","culling","z","z2","zlevel","parent"]),Zt=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype.update=function(){var n=this;t.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(l){n.buildPath(l,n.shape)}),r.silent=!0;var o=r.style;for(var a in i)o[a]!==i[a]&&(o[a]=i[a]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var s=0;s<qx.length;++s)r[qx[s]]=this[qx[s]];r.__dirty|=dr}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(n){var i=cn(n);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var o=0;o<i.length;o++){var a=i[o],s=n[a];a==="style"?this.style?Ie(this.style,s):this.useStyle(s):a==="shape"?Ie(this.shape,s):t.prototype.attrKV.call(this,a,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(Qe(n)){var i=B0(n,0);return i>.5?Uw:i>.2?Nne:zw}else if(n)return zw}return Uw},e.prototype.getInsideTextStroke=function(n){var i=this.style.fill;if(Qe(i)){var r=this.__zr,o=!!(r&&r.isDarkMode()),a=B0(n,0)<Bw;if(o===a)return i}},e.prototype.buildPath=function(n,i,r){},e.prototype.pathUpdated=function(){this.__dirty&=~Ju},e.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},e.prototype.createPathProxy=function(){this.path=new Hc(!1)},e.prototype.hasStroke=function(){var n=this.style,i=n.stroke;return!(i==null||i==="none"||!(n.lineWidth>0))},e.prototype.hasFill=function(){var n=this.style,i=n.fill;return i!=null&&i!=="none"},e.prototype.getBoundingRect=function(){var n=this._rect,i=this.style,r=!n;if(r){var o=!1;this.path||(o=!0,this.createPathProxy());var a=this.path;(o||this.__dirty&Ju)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),n=a.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||r){s.copy(n);var l=i.strokeNoScale?this.getLineScale():1,c=i.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(s.width+=c/l,s.height+=c/l,s.x-=c/l/2,s.y-=c/l/2)}return s}return n},e.prototype.contain=function(n,i){var r=this.transformCoordToLocal(n,i),o=this.getBoundingRect(),a=this.style;if(n=r[0],i=r[1],o.contain(n,i)){var s=this.path;if(this.hasStroke()){var l=a.lineWidth,c=a.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),Jie(s,l/c,n,i)))return!0}if(this.hasFill())return Zie(s,n,i)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Ju,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(n){return this.animate("shape",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(n,i){n==="shape"?this.setShape(i):t.prototype.attrKV.call(this,n,i)},e.prototype.setShape=function(n,i){var r=this.shape;return r||(r=this.shape={}),typeof n=="string"?r[n]=i:Ie(r,n),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Ju)},e.prototype.createStyle=function(n){return w_(Pz,n)},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var i=this._normalState;n.shape&&!i.shape&&(i.shape=Ie({},this.shape))},e.prototype._applyStateObj=function(n,i,r,o,a,s){t.prototype._applyStateObj.call(this,n,i,r,o,a,s);var l=!(i&&o),c;if(i&&i.shape?a?o?c=i.shape:(c=Ie({},r.shape),Ie(c,i.shape)):(c=Ie({},o?this.shape:r.shape),Ie(c,i.shape)):l&&(c=r.shape),c)if(a){this.shape=Ie({},this.shape);for(var u={},f=cn(c),h=0;h<f.length;h++){var d=f[h];typeof c[d]=="object"?this.shape[d]=c[d]:u[d]=c[d]}this._transitionState(n,{shape:u},s)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(n){for(var i=t.prototype._mergeStates.call(this,n),r,o=0;o<n.length;o++){var a=n[o];a.shape&&(r=r||{},this._mergeStyle(r,a.shape))}return r&&(i.shape=r),i},e.prototype.getAnimationStyleProps=function(){return Qie},e.prototype.isZeroArea=function(){return!1},e.extend=function(n){var i=function(o){Ve(a,o);function a(s){var l=o.call(this,s)||this;return n.init&&n.init.call(l,s),l}return a.prototype.getDefaultStyle=function(){return Dt(n.style)},a.prototype.getDefaultShape=function(){return Dt(n.shape)},a}(e);for(var r in n)typeof n[r]=="function"&&(i.prototype[r]=n[r]);return i},e.initDefaultProps=function(){var n=e.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=dr|md|Ju}(),e}(cm),ere=Vt({strokeFirst:!0,font:kc,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Pz),$0=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var n=this.style,i=n.stroke;return i!=null&&i!=="none"&&n.lineWidth>0},e.prototype.hasFill=function(){var n=this.style,i=n.fill;return i!=null&&i!=="none"},e.prototype.createStyle=function(n){return w_(ere,n)},e.prototype.setBoundingRect=function(n){this._rect=n},e.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var i=n.text;i!=null?i+="":i="";var r=vC(i,n.font,n.textAlign,n.textBaseline);if(r.x+=n.x||0,r.y+=n.y||0,this.hasStroke()){var o=n.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},e.initDefaultProps=function(){var n=e.prototype;n.dirtyRectTolerance=10}(),e}(cm);$0.prototype.type="tspan";var tre=Vt({x:0,y:0},wc),nre={style:Vt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},A_.style)};function ire(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var rl=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(n){return w_(tre,n)},e.prototype._getSize=function(n){var i=this.style,r=i[n];if(r!=null)return r;var o=ire(i.image)?i.image:this.__image;if(!o)return 0;var a=n==="width"?"height":"width",s=i[a];return s==null?o[n]:o[n]/o[a]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return nre},e.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new zt(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},e}(cm);rl.prototype.type="image";function rre(t,e){var n=e.x,i=e.y,r=e.width,o=e.height,a=e.r,s,l,c,u;r<0&&(n=n+r,r=-r),o<0&&(i=i+o,o=-o),typeof a=="number"?s=l=c=u=a:a instanceof Array?a.length===1?s=l=c=u=a[0]:a.length===2?(s=c=a[0],l=u=a[1]):a.length===3?(s=a[0],l=u=a[1],c=a[2]):(s=a[0],l=a[1],c=a[2],u=a[3]):s=l=c=u=0;var f;s+l>r&&(f=s+l,s*=r/f,l*=r/f),c+u>r&&(f=c+u,c*=r/f,u*=r/f),l+c>o&&(f=l+c,l*=o/f,c*=o/f),s+u>o&&(f=s+u,s*=o/f,u*=o/f),t.moveTo(n+s,i),t.lineTo(n+r-l,i),l!==0&&t.arc(n+r-l,i+l,l,-Math.PI/2,0),t.lineTo(n+r,i+o-c),c!==0&&t.arc(n+r-c,i+o-c,c,0,Math.PI/2),t.lineTo(n+u,i+o),u!==0&&t.arc(n+u,i+o-u,u,Math.PI/2,Math.PI),t.lineTo(n,i+s),s!==0&&t.arc(n+s,i+s,s,Math.PI,Math.PI*1.5)}var lf=Math.round;function Iz(t,e,n){if(e){var i=e.x1,r=e.x2,o=e.y1,a=e.y2;t.x1=i,t.x2=r,t.y1=o,t.y2=a;var s=n&&n.lineWidth;return s&&(lf(i*2)===lf(r*2)&&(t.x1=t.x2=cc(i,s,!0)),lf(o*2)===lf(a*2)&&(t.y1=t.y2=cc(o,s,!0))),t}}function Rz(t,e,n){if(e){var i=e.x,r=e.y,o=e.width,a=e.height;t.x=i,t.y=r,t.width=o,t.height=a;var s=n&&n.lineWidth;return s&&(t.x=cc(i,s,!0),t.y=cc(r,s,!0),t.width=Math.max(cc(i+o,s,!1)-t.x,o===0?0:1),t.height=Math.max(cc(r+a,s,!1)-t.y,a===0?0:1)),t}}function cc(t,e,n){if(!e)return t;var i=lf(t*2);return(i+lf(e))%2===0?i/2:(i+(n?1:-1))/2}var ore=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),are={},Li=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new ore},e.prototype.buildPath=function(n,i){var r,o,a,s;if(this.subPixelOptimize){var l=Rz(are,i,this.style);r=l.x,o=l.y,a=l.width,s=l.height,l.r=i.r,i=l}else r=i.x,o=i.y,a=i.width,s=i.height;i.r?rre(n,i):n.rect(r,o,a,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Zt);Li.prototype.type="rect";var ZR={fill:"#000"},JR=2,sre={style:Vt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},A_.style)},nr=function(t){Ve(e,t);function e(n){var i=t.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=ZR,i.attr(n),i}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var i=this._children[n];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(n){var i=this.innerTransformable;return i?i.getLocalTransform(n):t.prototype.getLocalTransform.call(this,n)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,hre(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var i=0;i<this._children.length;i++)this._children[i].__zr=n},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new zt(0,0,0,0),i=this._children,r=[],o=null,a=0;a<i.length;a++){var s=i[a],l=s.getBoundingRect(),c=s.getLocalTransform(r);c?(n.copy(l),n.applyTransform(c),o=o||n.clone(),o.union(n)):(o=o||l.clone(),o.union(l))}this._rect=o||n}return this._rect},e.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||ZR},e.prototype.setTextContent=function(n){},e.prototype._mergeStyle=function(n,i){if(!i)return n;var r=i.rich,o=n.rich||r&&{};return Ie(n,i),r&&o?(this._mergeRich(o,r),n.rich=o):o&&(n.rich=o),n},e.prototype._mergeRich=function(n,i){for(var r=cn(i),o=0;o<r.length;o++){var a=r[o];n[a]=n[a]||{},Ie(n[a],i[a])}},e.prototype.getAnimationStyleProps=function(){return sre},e.prototype._getOrCreateChild=function(n){var i=this._children[this._childCursor];return(!i||!(i instanceof n))&&(i=new n),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},e.prototype._updatePlainTexts=function(){var n=this.style,i=n.font||kc,r=n.padding,o=o2(n),a=Iie(o,n),s=Kx(n),l=!!n.backgroundColor,c=a.outerHeight,u=a.outerWidth,f=a.contentWidth,h=a.lines,d=a.lineHeight,p=this._defaultStyle,g=n.x||0,v=n.y||0,m=n.align||p.align||"left",y=n.verticalAlign||p.verticalAlign||"top",_=g,b=Qu(v,a.contentHeight,y);if(s||r){var T=gd(g,u,m),x=Qu(v,c,y);s&&this._renderBackground(n,n,T,x,u,c)}b+=d/2,r&&(_=r2(g,m,r),y==="top"?b+=r[0]:y==="bottom"&&(b-=r[2]));for(var S=0,C=!1,M=i2("fill"in n?n.fill:(C=!0,p.fill)),w=n2("stroke"in n?n.stroke:!l&&(!p.autoStroke||C)?(S=JR,p.stroke):null),A=n.textShadowBlur>0,P=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),R=a.calculatedLineHeight,L=0;L<h.length;L++){var E=this._getOrCreateChild($0),O=E.createStyle();E.useStyle(O),O.text=h[L],O.x=_,O.y=b,O.textAlign=m,O.textBaseline="middle",O.opacity=n.opacity,O.strokeFirst=!0,A&&(O.shadowBlur=n.textShadowBlur||0,O.shadowColor=n.textShadowColor||"transparent",O.shadowOffsetX=n.textShadowOffsetX||0,O.shadowOffsetY=n.textShadowOffsetY||0),O.stroke=w,O.fill=M,w&&(O.lineWidth=n.lineWidth||S,O.lineDash=n.lineDash,O.lineDashOffset=n.lineDashOffset||0),O.font=i,e2(O,n),b+=d,P&&E.setBoundingRect(new zt(gd(O.x,n.width,O.textAlign),Qu(O.y,R,O.textBaseline),f,R))}},e.prototype._updateRichTexts=function(){var n=this.style,i=o2(n),r=Oie(i,n),o=r.width,a=r.outerWidth,s=r.outerHeight,l=n.padding,c=n.x||0,u=n.y||0,f=this._defaultStyle,h=n.align||f.align,d=n.verticalAlign||f.verticalAlign,p=gd(c,a,h),g=Qu(u,s,d),v=p,m=g;l&&(v+=l[3],m+=l[0]);var y=v+o;Kx(n)&&this._renderBackground(n,n,p,g,a,s);for(var _=!!n.backgroundColor,b=0;b<r.lines.length;b++){for(var T=r.lines[b],x=T.tokens,S=x.length,C=T.lineHeight,M=T.width,w=0,A=v,P=y,R=S-1,L=void 0;w<S&&(L=x[w],!L.align||L.align==="left");)this._placeToken(L,n,C,m,A,"left",_),M-=L.width,A+=L.width,w++;for(;R>=0&&(L=x[R],L.align==="right");)this._placeToken(L,n,C,m,P,"right",_),M-=L.width,P-=L.width,R--;for(A+=(o-(A-v)-(y-P)-M)/2;w<=R;)L=x[w],this._placeToken(L,n,C,m,A+L.width/2,"center",_),A+=L.width,w++;m+=C}},e.prototype._placeToken=function(n,i,r,o,a,s,l){var c=i.rich[n.styleName]||{};c.text=n.text;var u=n.verticalAlign,f=o+r/2;u==="top"?f=o+n.height/2:u==="bottom"&&(f=o+r-n.height/2);var h=!n.isLineHolder&&Kx(c);h&&this._renderBackground(c,i,s==="right"?a-n.width:s==="center"?a-n.width/2:a,f-n.height/2,n.width,n.height);var d=!!c.backgroundColor,p=n.textPadding;p&&(a=r2(a,s,p),f-=n.height/2-p[0]-n.innerHeight/2);var g=this._getOrCreateChild($0),v=g.createStyle();g.useStyle(v);var m=this._defaultStyle,y=!1,_=0,b=i2("fill"in c?c.fill:"fill"in i?i.fill:(y=!0,m.fill)),T=n2("stroke"in c?c.stroke:"stroke"in i?i.stroke:!d&&!l&&(!m.autoStroke||y)?(_=JR,m.stroke):null),x=c.textShadowBlur>0||i.textShadowBlur>0;v.text=n.text,v.x=a,v.y=f,x&&(v.shadowBlur=c.textShadowBlur||i.textShadowBlur||0,v.shadowColor=c.textShadowColor||i.textShadowColor||"transparent",v.shadowOffsetX=c.textShadowOffsetX||i.textShadowOffsetX||0,v.shadowOffsetY=c.textShadowOffsetY||i.textShadowOffsetY||0),v.textAlign=s,v.textBaseline="middle",v.font=n.font||kc,v.opacity=Bd(c.opacity,i.opacity,1),e2(v,c),T&&(v.lineWidth=Bd(c.lineWidth,i.lineWidth,_),v.lineDash=Tt(c.lineDash,i.lineDash),v.lineDashOffset=i.lineDashOffset||0,v.stroke=T),b&&(v.fill=b);var S=n.contentWidth,C=n.contentHeight;g.setBoundingRect(new zt(gd(v.x,S,v.textAlign),Qu(v.y,C,v.textBaseline),S,C))},e.prototype._renderBackground=function(n,i,r,o,a,s){var l=n.backgroundColor,c=n.borderWidth,u=n.borderColor,f=l&&l.image,h=l&&!f,d=n.borderRadius,p=this,g,v;if(h||n.lineHeight||c&&u){g=this._getOrCreateChild(Li),g.useStyle(g.createStyle()),g.style.fill=null;var m=g.shape;m.x=r,m.y=o,m.width=a,m.height=s,m.r=d,g.dirtyShape()}if(h){var y=g.style;y.fill=l||null,y.fillOpacity=Tt(n.fillOpacity,1)}else if(f){v=this._getOrCreateChild(rl),v.onload=function(){p.dirtyStyle()};var _=v.style;_.image=l.image,_.x=r,_.y=o,_.width=a,_.height=s}if(c&&u){var y=g.style;y.lineWidth=c,y.stroke=u,y.strokeOpacity=Tt(n.strokeOpacity,1),y.lineDash=n.borderDash,y.lineDashOffset=n.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var b=(g||v).style;b.shadowBlur=n.shadowBlur||0,b.shadowColor=n.shadowColor||"transparent",b.shadowOffsetX=n.shadowOffsetX||0,b.shadowOffsetY=n.shadowOffsetY||0,b.opacity=Bd(n.opacity,i.opacity,1)},e.makeFont=function(n){var i="";return fre(n)&&(i=[n.fontStyle,n.fontWeight,ure(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),i&&Go(i)||n.textFont||n.font},e}(cm),lre={left:!0,right:1,center:1},cre={top:1,bottom:1,middle:1},QR=["fontStyle","fontWeight","fontSize","fontFamily"];function ure(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?rC+"px":t+"px"}function e2(t,e){for(var n=0;n<QR.length;n++){var i=QR[n],r=e[i];r!=null&&(t[i]=r)}}function fre(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function hre(t){return t2(t),q(t.rich,t2),t}function t2(t){if(t){t.font=nr.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||lre[e]?e:"left";var n=t.verticalAlign;n==="center"&&(n="middle"),t.verticalAlign=n==null||cre[n]?n:"top";var i=t.padding;i&&(t.padding=VU(t.padding))}}function n2(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function i2(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function r2(t,e,n){return e==="right"?t-n[1]:e==="center"?t+n[3]/2-n[1]/2:t+n[3]}function o2(t){var e=t.text;return e!=null&&(e+=""),e}function Kx(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Yt=Mn(),dre=function(t,e,n,i){if(i){var r=Yt(i);r.dataIndex=n,r.dataType=e,r.seriesIndex=t,r.ssrType="chart",i.type==="group"&&i.traverse(function(o){var a=Yt(o);a.seriesIndex=t,a.dataIndex=n,a.dataType=e,a.ssrType="chart"})}},a2=1,s2={},Dz=Mn(),xC=Mn(),SC=0,E_=1,P_=2,Zr=["emphasis","blur","select"],H0=["normal","emphasis","blur","select"],pre=10,mre=9,Mc="highlight",Xg="downplay",Hd="select",jg="unselect",Vd="toggleSelect";function Su(t){return t!=null&&t!=="none"}function I_(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function Oz(t){I_(t,"emphasis",P_)}function Lz(t){t.hoverState===P_&&I_(t,"normal",SC)}function wC(t){I_(t,"blur",E_)}function Nz(t){t.hoverState===E_&&I_(t,"normal",SC)}function vre(t){t.selected=!0}function gre(t){t.selected=!1}function l2(t,e,n){e(t,n)}function es(t,e,n){l2(t,e,n),t.isGroup&&t.traverse(function(i){l2(i,e,n)})}function c2(t,e){switch(e){case"emphasis":t.hoverState=P_;break;case"normal":t.hoverState=SC;break;case"blur":t.hoverState=E_;break;case"select":t.selected=!0}}function yre(t,e,n,i){for(var r=t.style,o={},a=0;a<e.length;a++){var s=e[a],l=r[s];o[s]=l??i[s]}for(var a=0;a<t.animators.length;a++){var c=t.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(n)<0&&c.targetName==="style"&&c.saveTo(o,e)}return o}function _re(t,e,n,i){var r=n&&qt(n,"select")>=0,o=!1;if(t instanceof Zt){var a=Dz(t),s=r&&a.selectFill||a.normalFill,l=r&&a.selectStroke||a.normalStroke;if(Su(s)||Su(l)){i=i||{};var c=i.style||{};c.fill==="inherit"?(o=!0,i=Ie({},i),c=Ie({},c),c.fill=s):!Su(c.fill)&&Su(s)?(o=!0,i=Ie({},i),c=Ie({},c),c.fill=ER(s)):!Su(c.stroke)&&Su(l)&&(o||(i=Ie({},i),c=Ie({},c)),c.stroke=ER(l)),i.style=c}}if(i&&i.z2==null){o||(i=Ie({},i));var u=t.z2EmphasisLift;i.z2=t.z2+(u??pre)}return i}function bre(t,e,n){if(n&&n.z2==null){n=Ie({},n);var i=t.z2SelectLift;n.z2=t.z2+(i??mre)}return n}function xre(t,e,n){var i=qt(t.currentStates,e)>=0,r=t.style.opacity,o=i?null:yre(t,["opacity"],e,{opacity:1});n=n||{};var a=n.style||{};return a.opacity==null&&(n=Ie({},n),a=Ie({opacity:i?r:o.opacity*.1},a),n.style=a),n}function Zx(t,e){var n=this.states[t];if(this.style){if(t==="emphasis")return _re(this,t,e,n);if(t==="blur")return xre(this,t,n);if(t==="select")return bre(this,t,n)}return n}function Sre(t){t.stateProxy=Zx;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=Zx),n&&(n.stateProxy=Zx)}function u2(t,e){!zz(t,e)&&!t.__highByOuter&&es(t,Oz)}function f2(t,e){!zz(t,e)&&!t.__highByOuter&&es(t,Lz)}function V0(t,e){t.__highByOuter|=1<<(e||0),es(t,Oz)}function G0(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&es(t,Lz)}function wre(t){es(t,wC)}function Fz(t){es(t,Nz)}function Bz(t){es(t,vre)}function Uz(t){es(t,gre)}function zz(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function kz(t){var e=t.getModel(),n=[],i=[];e.eachComponent(function(r,o){var a=xC(o),s=r==="series",l=s?t.getViewOfSeriesModel(o):t.getViewOfComponentModel(o);!s&&i.push(l),a.isBlured&&(l.group.traverse(function(c){Nz(c)}),s&&n.push(o)),a.isBlured=!1}),q(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(n,!1,e)})}function Ww(t,e,n,i){var r=i.getModel();n=n||"coordinateSystem";function o(c,u){for(var f=0;f<u.length;f++){var h=c.getItemGraphicEl(u[f]);h&&Fz(h)}}if(t!=null&&!(!e||e==="none")){var a=r.getSeriesByIndex(t),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(c){var u=a===c,f=c.coordinateSystem;f&&f.master&&(f=f.master);var h=f&&s?f===s:u;if(!(n==="series"&&!u||n==="coordinateSystem"&&!h||e==="series"&&u)){var d=i.getViewOfSeriesModel(c);if(d.group.traverse(function(v){v.__highByOuter&&u&&e==="self"||wC(v)}),Qi(e))o(c.getData(),e);else if(nt(e))for(var p=cn(e),g=0;g<p.length;g++)o(c.getData(p[g]),e[p[g]]);l.push(c),xC(c).isBlured=!0}}),r.eachComponent(function(c,u){if(c!=="series"){var f=i.getViewOfComponentModel(u);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,r)}})}}function Xw(t,e,n){if(!(t==null||e==null)){var i=n.getModel().getComponent(t,e);if(i){xC(i).isBlured=!0;var r=n.getViewOfComponentModel(i);!r||!r.focusBlurEnabled||r.group.traverse(function(o){wC(o)})}}}function Mre(t,e,n){var i=t.seriesIndex,r=t.getData(e.dataType);if(r){var o=$c(r,e);o=(Ge(o)?o[0]:o)||0;var a=r.getItemGraphicEl(o);if(!a)for(var s=r.count(),l=0;!a&&l<s;)a=r.getItemGraphicEl(l++);if(a){var c=Yt(a);Ww(i,c.focus,c.blurScope,n)}else{var u=t.get(["emphasis","focus"]),f=t.get(["emphasis","blurScope"]);u!=null&&Ww(i,u,f,n)}}}function MC(t,e,n,i){var r={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||n==null)return r;var o=i.getModel().getComponent(t,e);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s=a.findHighDownDispatchers(n),l,c=0;c<s.length;c++)if(Yt(s[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function Tre(t,e,n){var i=Yt(t),r=MC(i.componentMainType,i.componentIndex,i.componentHighDownName,n),o=r.dispatchers,a=r.focusSelf;o?(a&&Xw(i.componentMainType,i.componentIndex,n),q(o,function(s){return u2(s,e)})):(Ww(i.seriesIndex,i.focus,i.blurScope,n),i.focus==="self"&&Xw(i.componentMainType,i.componentIndex,n),u2(t,e))}function Cre(t,e,n){kz(n);var i=Yt(t),r=MC(i.componentMainType,i.componentIndex,i.componentHighDownName,n).dispatchers;r?q(r,function(o){return f2(o,e)}):f2(t,e)}function Are(t,e,n){if(qw(e)){var i=e.dataType,r=t.getData(i),o=$c(r,e);Ge(o)||(o=[o]),t[e.type===Vd?"toggleSelect":e.type===Hd?"select":"unselect"](o,i)}}function h2(t){var e=t.getAllData();q(e,function(n){var i=n.data,r=n.type;i.eachItemGraphicEl(function(o,a){t.isSelected(a,r)?Bz(o):Uz(o)})})}function Ere(t){var e=[];return t.eachSeries(function(n){var i=n.getAllData();q(i,function(r){r.data;var o=r.type,a=n.getSelectedDataIndices();if(a.length>0){var s={dataIndex:a,seriesIndex:n.seriesIndex};o!=null&&(s.dataType=o),e.push(s)}})}),e}function Pre(t,e,n){$z(t,!0),es(t,Sre),Rre(t,e,n)}function Ire(t){$z(t,!1)}function W0(t,e,n,i){i?Ire(t):Pre(t,e,n)}function Rre(t,e,n){var i=Yt(t);e!=null?(i.focus=e,i.blurScope=n):i.focus&&(i.focus=null)}var d2=["emphasis","blur","select"],Dre={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function jw(t,e,n,i){n=n||"itemStyle";for(var r=0;r<d2.length;r++){var o=d2[r],a=e.getModel([o,n]),s=t.ensureState(o);s.style=a[Dre[n]]()}}function $z(t,e){var n=e===!1,i=t;t.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!n||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!n)}function Yw(t){return!!(t&&t.__highDownDispatcher)}function Ore(t){var e=s2[t];return e==null&&a2<=32&&(e=s2[t]=a2++),e}function qw(t){var e=t.type;return e===Hd||e===jg||e===Vd}function p2(t){var e=t.type;return e===Mc||e===Xg}function Lre(t){var e=Dz(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}var wu=Hc.CMD,Nre=[[],[],[]],m2=Math.sqrt,Fre=Math.atan2;function Bre(t,e){if(e){var n=t.data,i=t.len(),r,o,a,s,l,c,u=wu.M,f=wu.C,h=wu.L,d=wu.R,p=wu.A,g=wu.Q;for(a=0,s=0;a<i;){switch(r=n[a++],s=a,o=0,r){case u:o=1;break;case h:o=1;break;case f:o=3;break;case g:o=2;break;case p:var v=e[4],m=e[5],y=m2(e[0]*e[0]+e[1]*e[1]),_=m2(e[2]*e[2]+e[3]*e[3]),b=Fre(-e[1]/_,e[0]/y);n[a]*=y,n[a++]+=v,n[a]*=_,n[a++]+=m,n[a++]*=y,n[a++]*=_,n[a++]+=b,n[a++]+=b,a+=2,s=a;break;case d:c[0]=n[a++],c[1]=n[a++],jr(c,c,e),n[s++]=c[0],n[s++]=c[1],c[0]+=n[a++],c[1]+=n[a++],jr(c,c,e),n[s++]=c[0],n[s++]=c[1]}for(l=0;l<o;l++){var T=Nre[l];T[0]=n[a++],T[1]=n[a++],jr(T,T,e),n[s++]=T[0],n[s++]=T[1]}}t.increaseVersion()}}var Jx=Math.sqrt,lv=Math.sin,cv=Math.cos,Uh=Math.PI;function v2(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Kw(t,e){return(t[0]*e[0]+t[1]*e[1])/(v2(t)*v2(e))}function g2(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Kw(t,e))}function y2(t,e,n,i,r,o,a,s,l,c,u){var f=l*(Uh/180),h=cv(f)*(t-n)/2+lv(f)*(e-i)/2,d=-1*lv(f)*(t-n)/2+cv(f)*(e-i)/2,p=h*h/(a*a)+d*d/(s*s);p>1&&(a*=Jx(p),s*=Jx(p));var g=(r===o?-1:1)*Jx((a*a*(s*s)-a*a*(d*d)-s*s*(h*h))/(a*a*(d*d)+s*s*(h*h)))||0,v=g*a*d/s,m=g*-s*h/a,y=(t+n)/2+cv(f)*v-lv(f)*m,_=(e+i)/2+lv(f)*v+cv(f)*m,b=g2([1,0],[(h-v)/a,(d-m)/s]),T=[(h-v)/a,(d-m)/s],x=[(-1*h-v)/a,(-1*d-m)/s],S=g2(T,x);if(Kw(T,x)<=-1&&(S=Uh),Kw(T,x)>=1&&(S=0),S<0){var C=Math.round(S/Uh*1e6)/1e6;S=Uh*2+C%2*Uh}u.addData(c,y,_,a,s,b,S,f,o)}var Ure=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,zre=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function kre(t){var e=new Hc;if(!t)return e;var n=0,i=0,r=n,o=i,a,s=Hc.CMD,l=t.match(Ure);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],f=u.charAt(0),h=void 0,d=u.match(zre)||[],p=d.length,g=0;g<p;g++)d[g]=parseFloat(d[g]);for(var v=0;v<p;){var m=void 0,y=void 0,_=void 0,b=void 0,T=void 0,x=void 0,S=void 0,C=n,M=i,w=void 0,A=void 0;switch(f){case"l":n+=d[v++],i+=d[v++],h=s.L,e.addData(h,n,i);break;case"L":n=d[v++],i=d[v++],h=s.L,e.addData(h,n,i);break;case"m":n+=d[v++],i+=d[v++],h=s.M,e.addData(h,n,i),r=n,o=i,f="l";break;case"M":n=d[v++],i=d[v++],h=s.M,e.addData(h,n,i),r=n,o=i,f="L";break;case"h":n+=d[v++],h=s.L,e.addData(h,n,i);break;case"H":n=d[v++],h=s.L,e.addData(h,n,i);break;case"v":i+=d[v++],h=s.L,e.addData(h,n,i);break;case"V":i=d[v++],h=s.L,e.addData(h,n,i);break;case"C":h=s.C,e.addData(h,d[v++],d[v++],d[v++],d[v++],d[v++],d[v++]),n=d[v-2],i=d[v-1];break;case"c":h=s.C,e.addData(h,d[v++]+n,d[v++]+i,d[v++]+n,d[v++]+i,d[v++]+n,d[v++]+i),n+=d[v-2],i+=d[v-1];break;case"S":m=n,y=i,w=e.len(),A=e.data,a===s.C&&(m+=n-A[w-4],y+=i-A[w-3]),h=s.C,C=d[v++],M=d[v++],n=d[v++],i=d[v++],e.addData(h,m,y,C,M,n,i);break;case"s":m=n,y=i,w=e.len(),A=e.data,a===s.C&&(m+=n-A[w-4],y+=i-A[w-3]),h=s.C,C=n+d[v++],M=i+d[v++],n+=d[v++],i+=d[v++],e.addData(h,m,y,C,M,n,i);break;case"Q":C=d[v++],M=d[v++],n=d[v++],i=d[v++],h=s.Q,e.addData(h,C,M,n,i);break;case"q":C=d[v++]+n,M=d[v++]+i,n+=d[v++],i+=d[v++],h=s.Q,e.addData(h,C,M,n,i);break;case"T":m=n,y=i,w=e.len(),A=e.data,a===s.Q&&(m+=n-A[w-4],y+=i-A[w-3]),n=d[v++],i=d[v++],h=s.Q,e.addData(h,m,y,n,i);break;case"t":m=n,y=i,w=e.len(),A=e.data,a===s.Q&&(m+=n-A[w-4],y+=i-A[w-3]),n+=d[v++],i+=d[v++],h=s.Q,e.addData(h,m,y,n,i);break;case"A":_=d[v++],b=d[v++],T=d[v++],x=d[v++],S=d[v++],C=n,M=i,n=d[v++],i=d[v++],h=s.A,y2(C,M,n,i,x,S,_,b,T,h,e);break;case"a":_=d[v++],b=d[v++],T=d[v++],x=d[v++],S=d[v++],C=n,M=i,n+=d[v++],i+=d[v++],h=s.A,y2(C,M,n,i,x,S,_,b,T,h,e);break}}(f==="z"||f==="Z")&&(h=s.Z,e.addData(h),n=r,i=o),a=h}return e.toStatic(),e}var Hz=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(n){},e}(Zt);function Vz(t){return t.setData!=null}function Gz(t,e){var n=kre(t),i=Ie({},e);return i.buildPath=function(r){if(Vz(r)){r.setData(n.data);var o=r.getContext();o&&r.rebuildPath(o,1)}else{var o=r;n.rebuildPath(o,1)}},i.applyTransform=function(r){Bre(n,r),this.dirtyShape()},i}function $re(t,e){return new Hz(Gz(t,e))}function Hre(t,e){var n=Gz(t,e),i=function(r){Ve(o,r);function o(a){var s=r.call(this,a)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return o}(Hz);return i}function Vre(t,e){for(var n=[],i=t.length,r=0;r<i;r++){var o=t[r];n.push(o.getUpdatedPathProxy(!0))}var a=new Zt(e);return a.createPathProxy(),a.buildPath=function(s){if(Vz(s)){s.appendPath(n);var l=s.getContext();l&&s.rebuildPath(l,1)}},a}var Gre=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),R_=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new Gre},e.prototype.buildPath=function(n,i){n.moveTo(i.cx+i.r,i.cy),n.arc(i.cx,i.cy,i.r,0,Math.PI*2)},e}(Zt);R_.prototype.type="circle";var Wre=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),TC=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new Wre},e.prototype.buildPath=function(n,i){var r=.5522848,o=i.cx,a=i.cy,s=i.rx,l=i.ry,c=s*r,u=l*r;n.moveTo(o-s,a),n.bezierCurveTo(o-s,a-u,o-c,a-l,o,a-l),n.bezierCurveTo(o+c,a-l,o+s,a-u,o+s,a),n.bezierCurveTo(o+s,a+u,o+c,a+l,o,a+l),n.bezierCurveTo(o-c,a+l,o-s,a+u,o-s,a),n.closePath()},e}(Zt);TC.prototype.type="ellipse";var Wz=Math.PI,Qx=Wz*2,Il=Math.sin,Mu=Math.cos,Xre=Math.acos,ri=Math.atan2,_2=Math.abs,Gd=Math.sqrt,yd=Math.max,Oo=Math.min,lo=1e-4;function jre(t,e,n,i,r,o,a,s){var l=n-t,c=i-e,u=a-r,f=s-o,h=f*l-u*c;if(!(h*h<lo))return h=(u*(e-o)-f*(t-r))/h,[t+h*l,e+h*c]}function uv(t,e,n,i,r,o,a){var s=t-n,l=e-i,c=(a?o:-o)/Gd(s*s+l*l),u=c*l,f=-c*s,h=t+u,d=e+f,p=n+u,g=i+f,v=(h+p)/2,m=(d+g)/2,y=p-h,_=g-d,b=y*y+_*_,T=r-o,x=h*g-p*d,S=(_<0?-1:1)*Gd(yd(0,T*T*b-x*x)),C=(x*_-y*S)/b,M=(-x*y-_*S)/b,w=(x*_+y*S)/b,A=(-x*y+_*S)/b,P=C-v,R=M-m,L=w-v,E=A-m;return P*P+R*R>L*L+E*E&&(C=w,M=A),{cx:C,cy:M,x0:-u,y0:-f,x1:C*(r/T-1),y1:M*(r/T-1)}}function Yre(t){var e;if(Ge(t)){var n=t.length;if(!n)return t;n===1?e=[t[0],t[0],0,0]:n===2?e=[t[0],t[0],t[1],t[1]]:n===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function qre(t,e){var n,i=yd(e.r,0),r=yd(e.r0||0,0),o=i>0,a=r>0;if(!(!o&&!a)){if(o||(i=r,r=0),r>i){var s=i;i=r,r=s}var l=e.startAngle,c=e.endAngle;if(!(isNaN(l)||isNaN(c))){var u=e.cx,f=e.cy,h=!!e.clockwise,d=_2(c-l),p=d>Qx&&d%Qx;if(p>lo&&(d=p),!(i>lo))t.moveTo(u,f);else if(d>Qx-lo)t.moveTo(u+i*Mu(l),f+i*Il(l)),t.arc(u,f,i,l,c,!h),r>lo&&(t.moveTo(u+r*Mu(c),f+r*Il(c)),t.arc(u,f,r,c,l,h));else{var g=void 0,v=void 0,m=void 0,y=void 0,_=void 0,b=void 0,T=void 0,x=void 0,S=void 0,C=void 0,M=void 0,w=void 0,A=void 0,P=void 0,R=void 0,L=void 0,E=i*Mu(l),O=i*Il(l),$=r*Mu(c),H=r*Il(c),V=d>lo;if(V){var Y=e.cornerRadius;Y&&(n=Yre(Y),g=n[0],v=n[1],m=n[2],y=n[3]);var ae=_2(i-r)/2;if(_=Oo(ae,m),b=Oo(ae,y),T=Oo(ae,g),x=Oo(ae,v),M=S=yd(_,b),w=C=yd(T,x),(S>lo||C>lo)&&(A=i*Mu(c),P=i*Il(c),R=r*Mu(l),L=r*Il(l),d<Wz)){var oe=jre(E,O,R,L,A,P,$,H);if(oe){var xe=E-oe[0],Z=O-oe[1],ve=A-oe[0],ye=P-oe[1],ge=1/Il(Xre((xe*ve+Z*ye)/(Gd(xe*xe+Z*Z)*Gd(ve*ve+ye*ye)))/2),Ce=Gd(oe[0]*oe[0]+oe[1]*oe[1]);M=Oo(S,(i-Ce)/(ge+1)),w=Oo(C,(r-Ce)/(ge-1))}}}if(!V)t.moveTo(u+E,f+O);else if(M>lo){var ce=Oo(m,M),J=Oo(y,M),Q=uv(R,L,E,O,i,ce,h),D=uv(A,P,$,H,i,J,h);t.moveTo(u+Q.cx+Q.x0,f+Q.cy+Q.y0),M<S&&ce===J?t.arc(u+Q.cx,f+Q.cy,M,ri(Q.y0,Q.x0),ri(D.y0,D.x0),!h):(ce>0&&t.arc(u+Q.cx,f+Q.cy,ce,ri(Q.y0,Q.x0),ri(Q.y1,Q.x1),!h),t.arc(u,f,i,ri(Q.cy+Q.y1,Q.cx+Q.x1),ri(D.cy+D.y1,D.cx+D.x1),!h),J>0&&t.arc(u+D.cx,f+D.cy,J,ri(D.y1,D.x1),ri(D.y0,D.x0),!h))}else t.moveTo(u+E,f+O),t.arc(u,f,i,l,c,!h);if(!(r>lo)||!V)t.lineTo(u+$,f+H);else if(w>lo){var ce=Oo(g,w),J=Oo(v,w),Q=uv($,H,A,P,r,-J,h),D=uv(E,O,R,L,r,-ce,h);t.lineTo(u+Q.cx+Q.x0,f+Q.cy+Q.y0),w<C&&ce===J?t.arc(u+Q.cx,f+Q.cy,w,ri(Q.y0,Q.x0),ri(D.y0,D.x0),!h):(J>0&&t.arc(u+Q.cx,f+Q.cy,J,ri(Q.y0,Q.x0),ri(Q.y1,Q.x1),!h),t.arc(u,f,r,ri(Q.cy+Q.y1,Q.cx+Q.x1),ri(D.cy+D.y1,D.cx+D.x1),h),ce>0&&t.arc(u+D.cx,f+D.cy,ce,ri(D.y1,D.x1),ri(D.y0,D.x0),!h))}else t.lineTo(u+$,f+H),t.arc(u,f,r,c,l,h)}t.closePath()}}}var Kre=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),fh=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new Kre},e.prototype.buildPath=function(n,i){qre(n,i)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Zt);fh.prototype.type="sector";var Zre=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),CC=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new Zre},e.prototype.buildPath=function(n,i){var r=i.cx,o=i.cy,a=Math.PI*2;n.moveTo(r+i.r,o),n.arc(r,o,i.r,0,a,!1),n.moveTo(r+i.r0,o),n.arc(r,o,i.r0,0,a,!0)},e}(Zt);CC.prototype.type="ring";function Jre(t,e,n,i){var r=[],o=[],a=[],s=[],l,c,u,f;if(i){u=[1/0,1/0],f=[-1/0,-1/0];for(var h=0,d=t.length;h<d;h++)of(u,u,t[h]),af(f,f,t[h]);of(u,u,i[0]),af(f,f,i[1])}for(var h=0,d=t.length;h<d;h++){var p=t[h];if(n)l=t[h?h-1:d-1],c=t[(h+1)%d];else if(h===0||h===d-1){r.push(Lte(t[h]));continue}else l=t[h-1],c=t[h+1];Nte(o,c,l),mx(o,o,e);var g=Mw(p,l),v=Mw(p,c),m=g+v;m!==0&&(g/=m,v/=m),mx(a,o,-g),mx(s,o,v);var y=fR([],p,a),_=fR([],p,s);i&&(af(y,y,u),of(y,y,f),af(_,_,u),of(_,_,f)),r.push(y),r.push(_)}return n&&r.push(r.shift()),r}function Xz(t,e,n){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i){var o=Jre(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(n?a:a-1);s++){var l=o[s*2],c=o[s*2+1],u=r[(s+1)%a];t.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{t.moveTo(r[0][0],r[0][1]);for(var s=1,f=r.length;s<f;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}}var Qre=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),AC=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new Qre},e.prototype.buildPath=function(n,i){Xz(n,i,!0)},e}(Zt);AC.prototype.type="polygon";var eoe=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),um=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new eoe},e.prototype.buildPath=function(n,i){Xz(n,i,!1)},e}(Zt);um.prototype.type="polyline";var toe={},noe=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),js=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new noe},e.prototype.buildPath=function(n,i){var r,o,a,s;if(this.subPixelOptimize){var l=Iz(toe,i,this.style);r=l.x1,o=l.y1,a=l.x2,s=l.y2}else r=i.x1,o=i.y1,a=i.x2,s=i.y2;var c=i.percent;c!==0&&(n.moveTo(r,o),c<1&&(a=r*(1-c)+a*c,s=o*(1-c)+s*c),n.lineTo(a,s))},e.prototype.pointAt=function(n){var i=this.shape;return[i.x1*(1-n)+i.x2*n,i.y1*(1-n)+i.y2*n]},e}(Zt);js.prototype.type="line";var zi=[],ioe=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function b2(t,e,n){var i=t.cpx2,r=t.cpy2;return i!=null||r!=null?[(n?SR:Zn)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?SR:Zn)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?wR:Wi)(t.x1,t.cpx1,t.x2,e),(n?wR:Wi)(t.y1,t.cpy1,t.y2,e)]}var EC=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ioe},e.prototype.buildPath=function(n,i){var r=i.x1,o=i.y1,a=i.x2,s=i.y2,l=i.cpx1,c=i.cpy1,u=i.cpx2,f=i.cpy2,h=i.percent;h!==0&&(n.moveTo(r,o),u==null||f==null?(h<1&&(F0(r,l,a,h,zi),l=zi[1],a=zi[2],F0(o,c,s,h,zi),c=zi[1],s=zi[2]),n.quadraticCurveTo(l,c,a,s)):(h<1&&(N0(r,l,u,a,h,zi),l=zi[1],u=zi[2],a=zi[3],N0(o,c,f,s,h,zi),c=zi[1],f=zi[2],s=zi[3]),n.bezierCurveTo(l,c,u,f,a,s)))},e.prototype.pointAt=function(n){return b2(this.shape,n,!1)},e.prototype.tangentAt=function(n){var i=b2(this.shape,n,!0);return Ute(i,i)},e}(Zt);EC.prototype.type="bezier-curve";var roe=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),D_=function(t){Ve(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new roe},e.prototype.buildPath=function(n,i){var r=i.cx,o=i.cy,a=Math.max(i.r,0),s=i.startAngle,l=i.endAngle,c=i.clockwise,u=Math.cos(s),f=Math.sin(s);n.moveTo(u*a+r,f*a+o),n.arc(r,o,a,s,l,!c)},e}(Zt);D_.prototype.type="arc";var ooe=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="compound",n}return e.prototype._updatePathDirty=function(){for(var n=this.shape.paths,i=this.shapeChanged(),r=0;r<n.length;r++)i=i||n[r].shapeChanged();i&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<n.length;r++)n[r].path||n[r].createPathProxy(),n[r].path.setScale(i[0],i[1],n[r].segmentIgnoreThreshold)},e.prototype.buildPath=function(n,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(n,r[o].shape,!0)},e.prototype.afterBrush=function(){for(var n=this.shape.paths||[],i=0;i<n.length;i++)n[i].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Zt.prototype.getBoundingRect.call(this)},e}(Zt),jz=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,n){this.colorStops.push({offset:e,color:n})},t}(),Yz=function(t){Ve(e,t);function e(n,i,r,o,a,s){var l=t.call(this,a)||this;return l.x=n??0,l.y=i??0,l.x2=r??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return e}(jz),aoe=function(t){Ve(e,t);function e(n,i,r,o,a){var s=t.call(this,o)||this;return s.x=n??.5,s.y=i??.5,s.r=r??.5,s.type="radial",s.global=a||!1,s}return e}(jz),Rl=[0,0],Dl=[0,0],fv=new ft,hv=new ft,X0=function(){function t(e,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new ft;for(var i=0;i<2;i++)this._axes[i]=new ft;e&&this.fromBoundingRect(e,n)}return t.prototype.fromBoundingRect=function(e,n){var i=this._corners,r=this._axes,o=e.x,a=e.y,s=o+e.width,l=a+e.height;if(i[0].set(o,a),i[1].set(s,a),i[2].set(s,l),i[3].set(o,l),n)for(var c=0;c<4;c++)i[c].transform(n);ft.sub(r[0],i[1],i[0]),ft.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize();for(var c=0;c<2;c++)this._origin[c]=r[c].dot(i[0])},t.prototype.intersect=function(e,n){var i=!0,r=!n;return fv.set(1/0,1/0),hv.set(0,0),!this._intersectCheckOneSide(this,e,fv,hv,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(e,this,fv,hv,r,-1)&&(i=!1,r)||r||ft.copy(n,i?fv:hv),i},t.prototype._intersectCheckOneSide=function(e,n,i,r,o,a){for(var s=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,Rl),this._getProjMinMaxOnAxis(l,n._corners,Dl),Rl[1]<Dl[0]||Rl[0]>Dl[1]){if(s=!1,o)return s;var u=Math.abs(Dl[0]-Rl[1]),f=Math.abs(Rl[0]-Dl[1]);Math.min(u,f)>r.len()&&(u<f?ft.scale(r,c,-u*a):ft.scale(r,c,f*a))}else if(i){var u=Math.abs(Dl[0]-Rl[1]),f=Math.abs(Rl[0]-Dl[1]);Math.min(u,f)<i.len()&&(u<f?ft.scale(i,c,u*a):ft.scale(i,c,-f*a))}}return s},t.prototype._getProjMinMaxOnAxis=function(e,n,i){for(var r=this._axes[e],o=this._origin,a=n[0].dot(r)+o[e],s=a,l=a,c=1;c<n.length;c++){var u=n[c].dot(r)+o[e];s=Math.min(u,s),l=Math.max(u,l)}i[0]=s,i[1]=l},t}(),soe=[],loe=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return e.prototype.traverse=function(n,i){n.call(i,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(n,i){i?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},e.prototype.addDisplayables=function(n,i){i=i||!1;for(var r=0;r<n.length;r++)this.addDisplayable(n[r],i)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(n){for(var i=this._cursor;i<this._displayables.length;i++)n&&n(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)n&&n(this._temporaryDisplayables[i])},e.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var i=this._displayables[n];i.parent=this,i.update(),i.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var i=this._temporaryDisplayables[n];i.parent=this,i.update(),i.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new zt(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(soe)),n.union(o)}this._rect=n}return this._rect},e.prototype.contain=function(n,i){var r=this.transformCoordToLocal(n,i),o=this.getBoundingRect();if(o.contain(r[0],r[1]))for(var a=0;a<this._displayables.length;a++){var s=this._displayables[a];if(s.contain(n,i))return!0}return!1},e}(cm),coe=Mn();function uoe(t,e,n,i,r){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var s=e&&e.isAnimationEnabled(),l=t==="update";if(s){var c=void 0,u=void 0,f=void 0;i?(c=Tt(i.duration,200),u=Tt(i.easing,"cubicOut"),f=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(c=o.duration),o.easing!=null&&(u=o.easing),o.delay!=null&&(f=o.delay)),St(f)&&(f=f(n,r)),St(c)&&(c=c(n));var h={duration:c||0,delay:f,easing:u};return h}else return null}function PC(t,e,n,i,r,o,a){var s=!1,l;St(r)?(a=o,o=r,r=null):nt(r)&&(o=r.cb,a=r.during,s=r.isFrom,l=r.removeOpt,r=r.dataIndex);var c=t==="leave";c||e.stopAnimation("leave");var u=uoe(t,i,r,c?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(u&&u.duration>0){var f=u.duration,h=u.delay,d=u.easing,p={duration:f,delay:h||0,easing:d,done:o,force:!!o||!!a,setToFinal:!c,scope:t,during:a};s?e.animateFrom(n,p):e.animateTo(n,p)}else e.stopAnimation(),!s&&e.attr(n),a&&a(1),o&&o()}function Wa(t,e,n,i,r,o){PC("update",t,e,n,i,r,o)}function ks(t,e,n,i,r,o){PC("enter",t,e,n,i,r,o)}function Wd(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var n=t.animators[e];if(n.scope==="leave")return!0}return!1}function j0(t,e,n,i,r,o){Wd(t)||PC("leave",t,e,n,i,r,o)}function x2(t,e,n,i){t.removeTextContent(),t.removeTextGuideLine(),j0(t,{style:{opacity:0}},e,n,i)}function qz(t,e,n){function i(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(r){r.isGroup||x2(r,e,n,i)}):x2(t,e,n,i)}function Kz(t){coe(t).oldStyle=t.style}var Y0=Math.max,q0=Math.min,Zw={};function foe(t){return Zt.extend(t)}var hoe=Hre;function doe(t,e){return hoe(t,e)}function To(t,e){Zw[t]=e}function poe(t){if(Zw.hasOwnProperty(t))return Zw[t]}function IC(t,e,n,i){var r=$re(t,e);return n&&(i==="center"&&(n=Jz(n,r.getBoundingRect())),Qz(r,n)),r}function Zz(t,e,n){var i=new rl({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(r){if(n==="center"){var o={width:r.width,height:r.height};i.setStyle(Jz(e,o))}}});return i}function Jz(t,e){var n=e.width/e.height,i=t.height*n,r;i<=t.width?r=t.height:(i=t.width,r=i/n);var o=t.x+t.width/2,a=t.y+t.height/2;return{x:o-i/2,y:a-r/2,width:i,height:r}}var moe=Vre;function Qz(t,e){if(t.applyTransform){var n=t.getBoundingRect(),i=n.calculateTransform(e);t.applyTransform(i)}}function Ep(t,e){return Iz(t,t,{lineWidth:e}),t}function voe(t){return Rz(t.shape,t.shape,t.style),t}var goe=cc;function yoe(t,e){for(var n=uC([]);t&&t!==e;)wf(n,t.getLocalTransform(),n),t=t.parent;return n}function RC(t,e,n){return e&&!Qi(e)&&(e=mC.getLocalTransform(e)),n&&(e=hC([],e)),jr([],t,e)}function _oe(t,e,n){var i=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),r=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),o=[t==="left"?-i:t==="right"?i:0,t==="top"?-r:t==="bottom"?r:0];return o=RC(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function S2(t){return!t.isGroup}function boe(t){return t.shape!=null}function ek(t,e,n){if(!t||!e)return;function i(a){var s={};return a.traverse(function(l){S2(l)&&l.anid&&(s[l.anid]=l)}),s}function r(a){var s={x:a.x,y:a.y,rotation:a.rotation};return boe(a)&&(s.shape=Ie({},a.shape)),s}var o=i(t);e.traverse(function(a){if(S2(a)&&a.anid){var s=o[a.anid];if(s){var l=r(a);a.attr(r(s)),Wa(a,l,n,Yt(a).dataIndex)}}})}function xoe(t,e){return rt(t,function(n){var i=n[0];i=Y0(i,e.x),i=q0(i,e.x+e.width);var r=n[1];return r=Y0(r,e.y),r=q0(r,e.y+e.height),[i,r]})}function Soe(t,e){var n=Y0(t.x,e.x),i=q0(t.x+t.width,e.x+e.width),r=Y0(t.y,e.y),o=q0(t.y+t.height,e.y+e.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}}function tk(t,e,n){var i=Ie({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(r.image=t.slice(8),Vt(r,n),new rl(i)):IC(t.replace("path://",""),i,n,"center")}function woe(t,e,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(nk(t,e,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function nk(t,e,n,i,r,o,a,s){var l=n-t,c=i-e,u=a-r,f=s-o,h=eS(u,f,l,c);if(Moe(h))return!1;var d=t-r,p=e-o,g=eS(d,p,l,c)/h;if(g<0||g>1)return!1;var v=eS(d,p,u,f)/h;return!(v<0||v>1)}function eS(t,e,n,i){return t*i-n*e}function Moe(t){return t<=1e-6&&t>=-1e-6}function ik(t){var e=t.itemTooltipOption,n=t.componentModel,i=t.itemName,r=Qe(e)?{formatter:e}:e,o=n.mainType,a=n.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=t.formatterParamsExtra;l&&q(cn(l),function(u){Xf(s,u)||(s[u]=l[u],s.$vars.push(u))});var c=Yt(t.el);c.componentMainType=o,c.componentIndex=a,c.tooltipConfig={name:i,option:Vt({content:i,encodeHTMLContent:!0,formatterParams:s},r)}}function w2(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function DC(t,e){if(t)if(Ge(t))for(var n=0;n<t.length;n++)w2(t[n],e);else w2(t,e)}To("circle",R_);To("ellipse",TC);To("sector",fh);To("ring",CC);To("polygon",AC);To("polyline",um);To("rect",Li);To("line",js);To("bezierCurve",EC);To("arc",D_);const Toe=Object.freeze(Object.defineProperty({__proto__:null,Arc:D_,BezierCurve:EC,BoundingRect:zt,Circle:R_,CompoundPath:ooe,Ellipse:TC,Group:tr,Image:rl,IncrementalDisplayable:loe,Line:js,LinearGradient:Yz,OrientedBoundingRect:X0,Path:Zt,Point:ft,Polygon:AC,Polyline:um,RadialGradient:aoe,Rect:Li,Ring:CC,Sector:fh,Text:nr,applyTransform:RC,clipPointsByRect:xoe,clipRectByRect:Soe,createIcon:tk,extendPath:doe,extendShape:foe,getShapeClass:poe,getTransform:yoe,groupTransition:ek,initProps:ks,isElementRemoved:Wd,lineLineIntersect:nk,linePolygonIntersect:woe,makeImage:Zz,makePath:IC,mergePath:moe,registerShape:To,removeElement:j0,removeElementWithFadeOut:qz,resizePath:Qz,setTooltipConfig:ik,subPixelOptimize:goe,subPixelOptimizeLine:Ep,subPixelOptimizeRect:voe,transformDirection:_oe,traverseElements:DC,updateProps:Wa},Symbol.toStringTag,{value:"Module"}));var O_={};function Coe(t,e){for(var n=0;n<Zr.length;n++){var i=Zr[n],r=e[i],o=t.ensureState(i);o.style=o.style||{},o.style.text=r}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function M2(t,e,n){var i=t.labelFetcher,r=t.labelDataIndex,o=t.labelDimIndex,a=e.normal,s;i&&(s=i.getFormattedLabel(r,"normal",null,o,a&&a.get("formatter"),n!=null?{interpolatedValue:n}:null)),s==null&&(s=St(t.defaultText)?t.defaultText(r,t,n):t.defaultText);for(var l={normal:s},c=0;c<Zr.length;c++){var u=Zr[c],f=e[u];l[u]=Tt(i?i.getFormattedLabel(r,u,null,o,f&&f.get("formatter")):null,s)}return l}function OC(t,e,n,i){n=n||O_;for(var r=t instanceof nr,o=!1,a=0;a<H0.length;a++){var s=e[H0[a]];if(s&&s.getShallow("show")){o=!0;break}}var l=r?t:t.getTextContent();if(o){r||(l||(l=new nr,t.setTextContent(l)),t.stateProxy&&(l.stateProxy=t.stateProxy));var c=M2(n,e),u=e.normal,f=!!u.getShallow("show"),h=Vc(u,i&&i.normal,n,!1,!r);h.text=c.normal,r||t.setTextConfig(T2(u,n,!1));for(var a=0;a<Zr.length;a++){var d=Zr[a],s=e[d];if(s){var p=l.ensureState(d),g=!!Tt(s.getShallow("show"),f);if(g!==f&&(p.ignore=!g),p.style=Vc(s,i&&i[d],n,!0,!r),p.style.text=c[d],!r){var v=t.ensureState(d);v.textConfig=T2(s,n,!0)}}}l.silent=!!u.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!f,l.useStyle(h),l.dirty(),n.enableTextSetter&&(rk(l).setLabelText=function(m){var y=M2(n,e,m);Coe(l,y)})}else l&&(l.ignore=!0);t.dirty()}function L_(t,e){e=e||"label";for(var n={normal:t.getModel(e)},i=0;i<Zr.length;i++){var r=Zr[i];n[r]=t.getModel([r,e])}return n}function Vc(t,e,n,i,r){var o={};return Aoe(o,t,n,i,r),e&&Ie(o,e),o}function T2(t,e,n){e=e||{};var i={},r,o=t.getShallow("rotate"),a=Tt(t.getShallow("distance"),n?null:5),s=t.getShallow("offset");return r=t.getShallow("position")||(n?null:"inside"),r==="outside"&&(r=e.defaultOutsidePosition||"top"),r!=null&&(i.position=r),s!=null&&(i.offset=s),o!=null&&(o*=Math.PI/180,i.rotation=o),a!=null&&(i.distance=a),i.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",i}function Aoe(t,e,n,i,r){n=n||O_;var o=e.ecModel,a=o&&o.option.textStyle,s=Eoe(e),l;if(s){l={};for(var c in s)if(s.hasOwnProperty(c)){var u=e.getModel(["rich",c]);P2(l[c]={},u,a,n,i,r,!1,!0)}}l&&(t.rich=l);var f=e.get("overflow");f&&(t.overflow=f);var h=e.get("minMargin");h!=null&&(t.margin=h),P2(t,e,a,n,i,r,!0,!1)}function Eoe(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||O_).rich;if(n){e=e||{};for(var i=cn(n),r=0;r<i.length;r++){var o=i[r];e[o]=1}}t=t.parentModel}return e}var C2=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],A2=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],E2=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function P2(t,e,n,i,r,o,a,s){n=!r&&n||O_;var l=i&&i.inheritColor,c=e.getShallow("color"),u=e.getShallow("textBorderColor"),f=Tt(e.getShallow("opacity"),n.opacity);(c==="inherit"||c==="auto")&&(l?c=l:c=null),(u==="inherit"||u==="auto")&&(l?u=l:u=null),o||(c=c||n.color,u=u||n.textBorderColor),c!=null&&(t.fill=c),u!=null&&(t.stroke=u);var h=Tt(e.getShallow("textBorderWidth"),n.textBorderWidth);h!=null&&(t.lineWidth=h);var d=Tt(e.getShallow("textBorderType"),n.textBorderType);d!=null&&(t.lineDash=d);var p=Tt(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);p!=null&&(t.lineDashOffset=p),!r&&f==null&&!s&&(f=i&&i.defaultOpacity),f!=null&&(t.opacity=f),!r&&!o&&t.fill==null&&i.inheritColor&&(t.fill=i.inheritColor);for(var g=0;g<C2.length;g++){var v=C2[g],m=Tt(e.getShallow(v),n[v]);m!=null&&(t[v]=m)}for(var g=0;g<A2.length;g++){var v=A2[g],m=e.getShallow(v);m!=null&&(t[v]=m)}if(t.verticalAlign==null){var y=e.getShallow("baseline");y!=null&&(t.verticalAlign=y)}if(!a||!i.disableBox){for(var g=0;g<E2.length;g++){var v=E2[g],m=e.getShallow(v);m!=null&&(t[v]=m)}var _=e.getShallow("borderType");_!=null&&(t.borderDash=_),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&l&&(t.backgroundColor=l),(t.borderColor==="auto"||t.borderColor==="inherit")&&l&&(t.borderColor=l)}}function Poe(t,e){var n=e&&e.getModel("textStyle");return Go([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var rk=Mn(),Ioe=["textStyle","color"],tS=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],nS=new nr,Roe=function(){function t(){}return t.prototype.getTextColor=function(e){var n=this.ecModel;return this.getShallow("color")||(!e&&n?n.get(Ioe):null)},t.prototype.getFont=function(){return Poe({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var n={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<tS.length;i++)n[tS[i]]=this.getShallow(tS[i]);return nS.useStyle(n),nS.update(),nS.getBoundingRect()},t}(),ok=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Doe=Ap(ok),Ooe=function(){function t(){}return t.prototype.getLineStyle=function(e){return Doe(this,e)},t}(),ak=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Loe=Ap(ak),Noe=function(){function t(){}return t.prototype.getItemStyle=function(e,n){return Loe(this,e,n)},t}(),wn=function(){function t(e,n,i){this.parentModel=n,this.ecModel=i,this.option=e}return t.prototype.init=function(e,n,i){},t.prototype.mergeOption=function(e,n){Kt(this.option,e,!0)},t.prototype.get=function(e,n){return e==null?this.option:this._doGet(this.parsePath(e),!n&&this.parentModel)},t.prototype.getShallow=function(e,n){var i=this.option,r=i==null?i:i[e];if(r==null&&!n){var o=this.parentModel;o&&(r=o.getShallow(e))}return r},t.prototype.getModel=function(e,n){var i=e!=null,r=i?this.parsePath(e):null,o=i?this._doGet(r):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),new t(o,n,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(Dt(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!pt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,n){var i=this.option;if(!e)return i;for(var r=0;r<e.length&&!(e[r]&&(i=i&&typeof i=="object"?i[e[r]]:null,i==null));r++);return i==null&&n&&(i=n._doGet(this.resolveParentPath(e),n.parentModel)),i},t}();bC(wn);xie(wn);aa(wn,Ooe);aa(wn,Noe);aa(wn,Cie);aa(wn,Roe);var Foe=Math.round(Math.random()*10);function N_(t){return[t||"",Foe++].join("_")}function Boe(t){var e={};t.registerSubTypeDefaulter=function(n,i){var r=Wo(n);e[r.main]=i},t.determineSubType=function(n,i){var r=i.type;if(!r){var o=Wo(n).main;t.hasSubTypes(n)&&e[o]&&(r=e[o](i))}return r}}function Uoe(t,e){t.topologicalTravel=function(o,a,s,l){if(!o.length)return;var c=n(a),u=c.graph,f=c.noEntryList,h={};for(q(o,function(y){h[y]=!0});f.length;){var d=f.pop(),p=u[d],g=!!h[d];g&&(s.call(l,d,p.originalDeps.slice()),delete h[d]),q(p.successor,g?m:v)}q(h,function(){var y="";throw new Error(y)});function v(y){u[y].entryCount--,u[y].entryCount===0&&f.push(y)}function m(y){h[y]=!0,v(y)}};function n(o){var a={},s=[];return q(o,function(l){var c=i(a,l),u=c.originalDeps=e(l),f=r(u,o);c.entryCount=f.length,c.entryCount===0&&s.push(l),q(f,function(h){qt(c.predecessor,h)<0&&c.predecessor.push(h);var d=i(a,h);qt(d.successor,h)<0&&d.successor.push(l)})}),{graph:a,noEntryList:s}}function i(o,a){return o[a]||(o[a]={predecessor:[],successor:[]}),o[a]}function r(o,a){var s=[];return q(o,function(l){qt(a,l)>=0&&s.push(l)}),s}}const zoe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},koe={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var K0="ZH",LC="EN",Tf=LC,Yg={},NC={},sk=pt.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Tf).toUpperCase();return t.indexOf(K0)>-1?K0:Tf}():Tf;function lk(t,e){t=t.toUpperCase(),NC[t]=new wn(e),Yg[t]=e}function $oe(t){if(Qe(t)){var e=Yg[t.toUpperCase()]||{};return t===K0||t===LC?Dt(e):Kt(Dt(e),Dt(Yg[Tf]),!1)}else return Kt(Dt(t),Dt(Yg[Tf]),!1)}function Hoe(t){return NC[t]}function Voe(){return NC[Tf]}lk(LC,zoe);lk(K0,koe);var FC=1e3,BC=FC*60,Xd=BC*60,Vr=Xd*24,I2=Vr*365,_d={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},dv="{yyyy}-{MM}-{dd}",R2={year:"{yyyy}",month:"{yyyy}-{MM}",day:dv,hour:dv+" "+_d.hour,minute:dv+" "+_d.minute,second:dv+" "+_d.second,millisecond:_d.none},iS=["year","month","day","hour","minute","second","millisecond"],ck=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function as(t,e){return t+="","0000".substr(0,e-t.length)+t}function Cf(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Goe(t){return t===Cf(t)}function Woe(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function F_(t,e,n,i){var r=Ga(t),o=r[UC(n)](),a=r[Af(n)]()+1,s=Math.floor((a-1)/3)+1,l=r[B_(n)](),c=r["get"+(n?"UTC":"")+"Day"](),u=r[Pp(n)](),f=(u-1)%12+1,h=r[U_(n)](),d=r[z_(n)](),p=r[k_(n)](),g=u>=12?"pm":"am",v=g.toUpperCase(),m=i instanceof wn?i:Hoe(i||sk)||Voe(),y=m.getModel("time"),_=y.get("month"),b=y.get("monthAbbr"),T=y.get("dayOfWeek"),x=y.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,g+"").replace(/{A}/g,v+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,as(o%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,_[a-1]).replace(/{MMM}/g,b[a-1]).replace(/{MM}/g,as(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,as(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,T[c]).replace(/{ee}/g,x[c]).replace(/{e}/g,c+"").replace(/{HH}/g,as(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,as(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,as(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,as(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,as(p,3)).replace(/{S}/g,p+"")}function Xoe(t,e,n,i,r){var o=null;if(Qe(n))o=n;else if(St(n))o=n(t.value,e,{level:t.level});else{var a=Ie({},_d);if(t.level>0)for(var s=0;s<iS.length;++s)a[iS[s]]="{primary|"+a[iS[s]]+"}";var l=n?n.inherit===!1?n:Vt(n,a):a,c=uk(t.value,r);if(l[c])o=l[c];else if(l.inherit){for(var u=ck.indexOf(c),s=u-1;s>=0;--s)if(l[c]){o=l[c];break}o=o||a.none}if(Ge(o)){var f=t.level==null?0:t.level>=0?t.level:o.length+t.level;f=Math.min(f,o.length-1),o=o[f]}}return F_(new Date(t.value),o,r,i)}function uk(t,e){var n=Ga(t),i=n[Af(e)]()+1,r=n[B_(e)](),o=n[Pp(e)](),a=n[U_(e)](),s=n[z_(e)](),l=n[k_(e)](),c=l===0,u=c&&s===0,f=u&&a===0,h=f&&o===0,d=h&&r===1,p=d&&i===1;return p?"year":d?"month":h?"day":f?"hour":u?"minute":c?"second":"millisecond"}function D2(t,e,n){var i=tn(t)?Ga(t):t;switch(e=e||uk(t,n),e){case"year":return i[UC(n)]();case"half-year":return i[Af(n)]()>=6?1:0;case"quarter":return Math.floor((i[Af(n)]()+1)/4);case"month":return i[Af(n)]();case"day":return i[B_(n)]();case"half-day":return i[Pp(n)]()/24;case"hour":return i[Pp(n)]();case"minute":return i[U_(n)]();case"second":return i[z_(n)]();case"millisecond":return i[k_(n)]()}}function UC(t){return t?"getUTCFullYear":"getFullYear"}function Af(t){return t?"getUTCMonth":"getMonth"}function B_(t){return t?"getUTCDate":"getDate"}function Pp(t){return t?"getUTCHours":"getHours"}function U_(t){return t?"getUTCMinutes":"getMinutes"}function z_(t){return t?"getUTCSeconds":"getSeconds"}function k_(t){return t?"getUTCMilliseconds":"getMilliseconds"}function joe(t){return t?"setUTCFullYear":"setFullYear"}function fk(t){return t?"setUTCMonth":"setMonth"}function hk(t){return t?"setUTCDate":"setDate"}function dk(t){return t?"setUTCHours":"setHours"}function pk(t){return t?"setUTCMinutes":"setMinutes"}function mk(t){return t?"setUTCSeconds":"setSeconds"}function vk(t){return t?"setUTCMilliseconds":"setMilliseconds"}function gk(t){if(!eie(t))return Qe(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function yk(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(n,i){return i.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var zC=VU;function Jw(t,e,n){var i="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function r(u){return u&&Go(u)?u:"-"}function o(u){return!!(u!=null&&!isNaN(u)&&isFinite(u))}var a=e==="time",s=t instanceof Date;if(a||s){var l=a?Ga(t):t;if(isNaN(+l)){if(s)return"-"}else return F_(l,i,n)}if(e==="ordinal")return Sw(t)?r(t):tn(t)&&o(t)?t+"":"-";var c=k0(t);return o(c)?gk(c):Sw(t)?r(t):typeof t=="boolean"?t+"":"-"}var O2=["a","b","c","d","e","f","g"],rS=function(t,e){return"{"+t+(e??"")+"}"};function _k(t,e,n){Ge(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=O2[o];t=t.replace(rS(a),rS(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var c=e[s][r[l]];t=t.replace(rS(O2[l],s),n?hr(c):c)}return t}function Yoe(t,e){var n=Qe(t)?{color:t,extraCssText:e}:t||{},i=n.color,r=n.type;e=n.extraCssText;var o=n.renderMode||"html";if(!i)return"";if(o==="html")return r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+hr(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+hr(i)+";"+(e||"")+'"></span>';var a=n.markerId||"markerX";return{renderMode:o,content:"{"+a+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}function Gc(t,e){return e=e||"transparent",Qe(t)?t:nt(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function L2(t,e){if(e==="_blank"||e==="blank"){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}var qg=q,qoe=["left","right","top","bottom","width","height"],pv=[["width","left","right"],["height","top","bottom"]];function bk(t,e,n,i,r){var o=0,a=0;i==null&&(i=1/0),r==null&&(r=1/0);var s=0;e.eachChild(function(l,c){var u=l.getBoundingRect(),f=e.childAt(c+1),h=f&&f.getBoundingRect(),d,p;if(t==="horizontal"){var g=u.width+(h?-h.x+u.x:0);d=o+g,d>i||l.newline?(o=0,d=g,a+=s+n,s=u.height):s=Math.max(s,u.height)}else{var v=u.height+(h?-h.y+u.y:0);p=a+v,p>r||l.newline?(o+=s+n,a=0,p=v,s=u.width):s=Math.max(s,u.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),t==="horizontal"?o=d+n:a=p+n)})}Zi(bk,"vertical");Zi(bk,"horizontal");function $_(t,e,n){n=zC(n||0);var i=e.width,r=e.height,o=on(t.left,i),a=on(t.top,r),s=on(t.right,i),l=on(t.bottom,r),c=on(t.width,i),u=on(t.height,r),f=n[2]+n[0],h=n[1]+n[3],d=t.aspect;switch(isNaN(c)&&(c=i-s-h-o),isNaN(u)&&(u=r-l-f-a),d!=null&&(isNaN(c)&&isNaN(u)&&(d>i/r?c=i*.8:u=r*.8),isNaN(c)&&(c=d*u),isNaN(u)&&(u=c/d)),isNaN(o)&&(o=i-s-c-h),isNaN(a)&&(a=r-l-u-f),t.left||t.right){case"center":o=i/2-c/2-n[3];break;case"right":o=i-c-h;break}switch(t.top||t.bottom){case"middle":case"center":a=r/2-u/2-n[0];break;case"bottom":a=r-u-f;break}o=o||0,a=a||0,isNaN(c)&&(c=i-h-o-(s||0)),isNaN(u)&&(u=r-f-a-(l||0));var p=new zt(o+n[3],a+n[0],c,u);return p.margin=n,p}function Ip(t){var e=t.layoutMode||t.constructor.layoutMode;return nt(e)?e:e?{type:e}:null}function Rp(t,e,n){var i=n&&n.ignoreSize;!Ge(i)&&(i=[i,i]);var r=a(pv[0],0),o=a(pv[1],1);c(pv[0],t,r),c(pv[1],t,o);function a(u,f){var h={},d=0,p={},g=0,v=2;if(qg(u,function(_){p[_]=t[_]}),qg(u,function(_){s(e,_)&&(h[_]=p[_]=e[_]),l(h,_)&&d++,l(p,_)&&g++}),i[f])return l(e,u[1])?p[u[2]]=null:l(e,u[2])&&(p[u[1]]=null),p;if(g===v||!d)return p;if(d>=v)return h;for(var m=0;m<u.length;m++){var y=u[m];if(!s(h,y)&&s(t,y)){h[y]=t[y];break}}return h}function s(u,f){return u.hasOwnProperty(f)}function l(u,f){return u[f]!=null&&u[f]!=="auto"}function c(u,f,h){qg(u,function(d){f[d]=h[d]})}}function kC(t){return Koe({},t)}function Koe(t,e){return e&&t&&qg(qoe,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var Zoe=Mn(),Wt=function(t){Ve(e,t);function e(n,i,r){var o=t.call(this,n,i,r)||this;return o.uid=N_("ec_cpt_model"),o}return e.prototype.init=function(n,i,r){this.mergeDefaultAndTheme(n,r)},e.prototype.mergeDefaultAndTheme=function(n,i){var r=Ip(this),o=r?kC(n):{},a=i.getTheme();Kt(n,a.get(this.mainType)),Kt(n,this.getDefaultOption()),r&&Rp(n,o,r)},e.prototype.mergeOption=function(n,i){Kt(this.option,n,!0);var r=Ip(this);r&&Rp(this.option,n,r)},e.prototype.optionUpdated=function(n,i){},e.prototype.getDefaultOption=function(){var n=this.constructor;if(!yie(n))return n.defaultOption;var i=Zoe(this);if(!i.defaultOption){for(var r=[],o=n;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var s={},l=r.length-1;l>=0;l--)s=Kt(s,r[l],!0);i.defaultOption=s}return i.defaultOption},e.prototype.getReferringComponents=function(n,i){var r=n+"Index",o=n+"Id";return lm(this.ecModel,n,{index:this.get(r,!0),id:this.get(o,!0)},i)},e.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(n){this.option.zlevel=n},e.protoInitialize=function(){var n=e.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),e}(wn);Sz(Wt,wn);T_(Wt);Boe(Wt);Uoe(Wt,Joe);function Joe(t){var e=[];return q(Wt.getClassesByMainType(t),function(n){e=e.concat(n.dependencies||n.prototype.dependencies||[])}),e=rt(e,function(n){return Wo(n).main}),t!=="dataset"&&qt(e,"dataset")<=0&&e.unshift("dataset"),e}var xk="";typeof navigator<"u"&&(xk=navigator.platform||"");var Tu="rgba(0, 0, 0, 0.2)";const Qoe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Tu,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Tu,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Tu,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Tu,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Tu,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Tu,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:xk.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Sk=Ct(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Jr="original",ir="arrayRows",Co="objectRows",la="keyedColumns",$s="typedArray",wk="unknown",za="column",hh="row",qn={Must:1,Might:2,Not:3},Mk=Mn();function eae(t){Mk(t).datasetMap=Ct()}function tae(t,e,n){var i={},r=$C(e);if(!r||!t)return i;var o=[],a=[],s=e.ecModel,l=Mk(s).datasetMap,c=r.uid+"_"+n.seriesLayoutBy,u,f;t=t.slice(),q(t,function(g,v){var m=nt(g)?g:t[v]={name:g};m.type==="ordinal"&&u==null&&(u=v,f=p(m)),i[m.name]=[]});var h=l.get(c)||l.set(c,{categoryWayDim:f,valueWayDim:0});q(t,function(g,v){var m=g.name,y=p(g);if(u==null){var _=h.valueWayDim;d(i[m],_,y),d(a,_,y),h.valueWayDim+=y}else if(u===v)d(i[m],0,y),d(o,0,y);else{var _=h.categoryWayDim;d(i[m],_,y),d(a,_,y),h.categoryWayDim+=y}});function d(g,v,m){for(var y=0;y<m;y++)g.push(v+y)}function p(g){var v=g.dimsDef;return v?v.length:1}return o.length&&(i.itemName=o),a.length&&(i.seriesName=a),i}function nae(t,e,n){var i={},r=$C(t);if(!r)return i;var o=e.sourceFormat,a=e.dimensionsDefine,s;(o===Co||o===la)&&q(a,function(u,f){(nt(u)?u.name:u)==="name"&&(s=f)});var l=function(){for(var u={},f={},h=[],d=0,p=Math.min(5,n);d<p;d++){var g=Ck(e.data,o,e.seriesLayoutBy,a,e.startIndex,d);h.push(g);var v=g===qn.Not;if(v&&u.v==null&&d!==s&&(u.v=d),(u.n==null||u.n===u.v||!v&&h[u.n]===qn.Not)&&(u.n=d),m(u)&&h[u.n]!==qn.Not)return u;v||(g===qn.Might&&f.v==null&&d!==s&&(f.v=d),(f.n==null||f.n===f.v)&&(f.n=d))}function m(y){return y.v!=null&&y.n!=null}return m(u)?u:m(f)?f:null}();if(l){i.value=[l.v];var c=s??l.n;i.itemName=[c],i.seriesName=[c]}return i}function $C(t){var e=t.get("data",!0);if(!e)return lm(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},po).models[0]}function iae(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:lm(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},po).models}function Tk(t,e){return Ck(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Ck(t,e,n,i,r,o){var a,s=5;if(er(t))return qn.Not;var l,c;if(i){var u=i[o];nt(u)?(l=u.name,c=u.type):Qe(u)&&(l=u)}if(c!=null)return c==="ordinal"?qn.Must:qn.Not;if(e===ir){var f=t;if(n===hh){for(var h=f[o],d=0;d<(h||[]).length&&d<s;d++)if((a=b(h[r+d]))!=null)return a}else for(var d=0;d<f.length&&d<s;d++){var p=f[r+d];if(p&&(a=b(p[o]))!=null)return a}}else if(e===Co){var g=t;if(!l)return qn.Not;for(var d=0;d<g.length&&d<s;d++){var v=g[d];if(v&&(a=b(v[l]))!=null)return a}}else if(e===la){var m=t;if(!l)return qn.Not;var h=m[l];if(!h||er(h))return qn.Not;for(var d=0;d<h.length&&d<s;d++)if((a=b(h[d]))!=null)return a}else if(e===Jr)for(var y=t,d=0;d<y.length&&d<s;d++){var v=y[d],_=sm(v);if(!Ge(_))return qn.Not;if((a=b(_[o]))!=null)return a}function b(T){var x=Qe(T);if(T!=null&&Number.isFinite(Number(T))&&T!=="")return x?qn.Might:qn.Not;if(x&&T!=="-")return qn.Must}return qn.Not}var rae=Ct();function oae(t,e,n){var i=rae.get(e);if(!i)return n;var r=i(t);return r?n.concat(r):n}var N2=Mn();Mn();var HC=function(){function t(){}return t.prototype.getColorFromPalette=function(e,n,i){var r=Oi(this.get("color",!0)),o=this.get("colorLayer",!0);return sae(this,N2,r,o,e,n,i)},t.prototype.clearColorPalette=function(){lae(this,N2)},t}();function aae(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}function sae(t,e,n,i,r,o,a){o=o||t;var s=e(o),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(r))return c[r];var u=a==null||!i?n:aae(i,a);if(u=u||n,!(!u||!u.length)){var f=u[l];return r&&(c[r]=f),s.paletteIdx=(l+1)%u.length,f}}function lae(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var mv,zh,F2,B2="\0_ec_inner",cae=1,VC=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n,i,r,o,a,s){o=o||{},this.option=null,this._theme=new wn(o),this._locale=new wn(a),this._optionManager=s},e.prototype.setOption=function(n,i,r){var o=k2(i);this._optionManager.setOption(n,r,o),this._resetOption(null,o)},e.prototype.resetOption=function(n,i){return this._resetOption(n,k2(i))},e.prototype._resetOption=function(n,i){var r=!1,o=this._optionManager;if(!n||n==="recreate"){var a=o.mountOption(n==="recreate");!this.option||n==="recreate"?F2(this,a):(this.restoreData(),this._mergeOption(a,i)),r=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var s=o.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,i))}if(!n||n==="recreate"||n==="media"){var l=o.getMediaOption(this);l.length&&q(l,function(c){r=!0,this._mergeOption(c,i)},this)}return r},e.prototype.mergeOption=function(n){this._mergeOption(n,null)},e.prototype._mergeOption=function(n,i){var r=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=Ct(),c=i&&i.replaceMergeMainTypeMap;eae(this),q(n,function(f,h){f!=null&&(Wt.hasClass(h)?h&&(s.push(h),l.set(h,!0)):r[h]=r[h]==null?Dt(f):Kt(r[h],f,!0))}),c&&c.each(function(f,h){Wt.hasClass(h)&&!l.get(h)&&(s.push(h),l.set(h,!0))}),Wt.topologicalTravel(s,Wt.getAllClassMainTypes(),u,this);function u(f){var h=oae(this,f,Oi(n[f])),d=o.get(f),p=d?c&&c.get(f)?"replaceMerge":"normalMerge":"replaceAll",g=iie(d,h,p);uie(g,f,Wt),r[f]=null,o.set(f,null),a.set(f,0);var v=[],m=[],y=0,_;q(g,function(b,T){var x=b.existing,S=b.newOption;if(!S)x&&(x.mergeOption({},this),x.optionUpdated({},!1));else{var C=f==="series",M=Wt.getClass(f,b.keyInfo.subType,!C);if(!M)return;if(f==="tooltip"){if(_)return;_=!0}if(x&&x.constructor===M)x.name=b.keyInfo.name,x.mergeOption(S,this),x.optionUpdated(S,!1);else{var w=Ie({componentIndex:T},b.keyInfo);x=new M(S,this,this,w),Ie(x,w),b.brandNew&&(x.__requireNewView=!0),x.init(S,this,this),x.optionUpdated(null,!0)}}x?(v.push(x.option),m.push(x),y++):(v.push(void 0),m.push(void 0))},this),r[f]=v,o.set(f,m),a.set(f,y),f==="series"&&mv(this)}this._seriesIndices||mv(this)},e.prototype.getOption=function(){var n=Dt(this.option);return q(n,function(i,r){if(Wt.hasClass(r)){for(var o=Oi(i),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!Cp(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,n[r]=o}}),delete n[B2],n},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(n){this._payload=n},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(n,i){var r=this._componentsMap.get(n);if(r){var o=r[i||0];if(o)return o;if(i==null){for(var a=0;a<r.length;a++)if(r[a])return r[a]}}},e.prototype.queryComponents=function(n){var i=n.mainType;if(!i)return[];var r=n.index,o=n.id,a=n.name,s=this._componentsMap.get(i);if(!s||!s.length)return[];var l;return r!=null?(l=[],q(Oi(r),function(c){s[c]&&l.push(s[c])})):o!=null?l=U2("id",o,s):a!=null?l=U2("name",a,s):l=Gi(s,function(c){return!!c}),z2(l,n)},e.prototype.findComponents=function(n){var i=n.query,r=n.mainType,o=s(i),a=o?this.queryComponents(o):Gi(this._componentsMap.get(r),function(c){return!!c});return l(z2(a,n));function s(c){var u=r+"Index",f=r+"Id",h=r+"Name";return c&&(c[u]!=null||c[f]!=null||c[h]!=null)?{mainType:r,index:c[u],id:c[f],name:c[h]}:null}function l(c){return n.filter?Gi(c,n.filter):c}},e.prototype.eachComponent=function(n,i,r){var o=this._componentsMap;if(St(n)){var a=i,s=n;o.each(function(f,h){for(var d=0;f&&d<f.length;d++){var p=f[d];p&&s.call(a,h,p,p.componentIndex)}})}else for(var l=Qe(n)?o.get(n):nt(n)?this.findComponents(n):null,c=0;l&&c<l.length;c++){var u=l[c];u&&i.call(r,u,u.componentIndex)}},e.prototype.getSeriesByName=function(n){var i=qo(n,null);return Gi(this._componentsMap.get("series"),function(r){return!!r&&i!=null&&r.name===i})},e.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},e.prototype.getSeriesByType=function(n){return Gi(this._componentsMap.get("series"),function(i){return!!i&&i.subType===n})},e.prototype.getSeries=function(){return Gi(this._componentsMap.get("series"),function(n){return!!n})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(n,i){zh(this),q(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];n.call(i,o,r)},this)},e.prototype.eachRawSeries=function(n,i){q(this._componentsMap.get("series"),function(r){r&&n.call(i,r,r.componentIndex)})},e.prototype.eachSeriesByType=function(n,i,r){zh(this),q(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===n&&i.call(r,a,o)},this)},e.prototype.eachRawSeriesByType=function(n,i,r){return q(this.getSeriesByType(n),i,r)},e.prototype.isSeriesFiltered=function(n){return zh(this),this._seriesIndicesMap.get(n.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(n,i){zh(this);var r=[];q(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];n.call(i,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=Ct(r)},e.prototype.restoreData=function(n){mv(this);var i=this._componentsMap,r=[];i.each(function(o,a){Wt.hasClass(a)&&r.push(a)}),Wt.topologicalTravel(r,Wt.getAllClassMainTypes(),function(o){q(i.get(o),function(a){a&&(o!=="series"||!uae(a,n))&&a.restoreData()})})},e.internalField=function(){mv=function(n){var i=n._seriesIndices=[];q(n._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),n._seriesIndicesMap=Ct(i)},zh=function(n){},F2=function(n,i){n.option={},n.option[B2]=cae,n._componentsMap=Ct({series:[]}),n._componentsCount=Ct();var r=i.aria;nt(r)&&r.enabled==null&&(r.enabled=!0),fae(i,n._theme.option),Kt(i,Qoe,!1),n._mergeOption(i,null)}}(),e}(wn);function uae(t,e){if(e){var n=e.seriesIndex,i=e.seriesId,r=e.seriesName;return n!=null&&t.componentIndex!==n||i!=null&&t.id!==i||r!=null&&t.name!==r}}function fae(t,e){var n=t.color&&!t.colorLayer;q(e,function(i,r){r==="colorLayer"&&n||Wt.hasClass(r)||(typeof i=="object"?t[r]=t[r]?Kt(t[r],i,!1):Dt(i):t[r]==null&&(t[r]=i))})}function U2(t,e,n){if(Ge(e)){var i=Ct();return q(e,function(o){if(o!=null){var a=qo(o,null);a!=null&&i.set(o,!0)}}),Gi(n,function(o){return o&&i.get(o[t])})}else{var r=qo(e,null);return Gi(n,function(o){return o&&r!=null&&o[t]===r})}}function z2(t,e){return e.hasOwnProperty("subType")?Gi(t,function(n){return n&&n.subType===e.subType}):t}function k2(t){var e=Ct();return t&&q(Oi(t.replaceMerge),function(n){e.set(n,!0)}),{replaceMergeMainTypeMap:e}}aa(VC,HC);var hae=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Ak=function(){function t(e){q(hae,function(n){this[n]=an(e[n],e)},this)}return t}(),oS={},GC=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,n){var i=[];q(oS,function(r,o){var a=r.create(e,n);i=i.concat(a||[])}),this._coordinateSystems=i},t.prototype.update=function(e,n){q(this._coordinateSystems,function(i){i.update&&i.update(e,n)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,n){oS[e]=n},t.get=function(e){return oS[e]},t}(),dae=/^(min|max)?(.+)$/,pae=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,n,i){e&&(q(Oi(e.series),function(a){a&&a.data&&er(a.data)&&ww(a.data)}),q(Oi(e.dataset),function(a){a&&a.source&&er(a.source)&&ww(a.source)})),e=Dt(e);var r=this._optionBackup,o=mae(e,n,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},t.prototype.mountOption=function(e){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],Dt(e?n.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var n,i=this._timelineOptions;if(i.length){var r=e.getComponent("timeline");r&&(n=Dt(i[r.getCurrentIndex()]))}return n},t.prototype.getMediaOption=function(e){var n=this._api.getWidth(),i=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!r.length&&!o)return s;for(var l=0,c=r.length;l<c;l++)vae(r[l].query,n,i)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&!yae(a,this._currentMediaIndices)&&(s=rt(a,function(u){return Dt(u===-1?o.option:r[u].option)})),this._currentMediaIndices=a,s},t}();function mae(t,e,n){var i=[],r,o,a=t.baseOption,s=t.timeline,l=t.options,c=t.media,u=!!t.media,f=!!(l||s||a&&a.timeline);a?(o=a,o.timeline||(o.timeline=s)):((f||u)&&(t.options=t.media=null),o=t),u&&Ge(c)&&q(c,function(d){d&&d.option&&(d.query?i.push(d):r||(r=d))}),h(o),q(l,function(d){return h(d)}),q(i,function(d){return h(d.option)});function h(d){q(e,function(p){p(d,n)})}return{baseOption:o,timelineOptions:l||[],mediaDefault:r,mediaList:i}}function vae(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return q(t,function(o,a){var s=a.match(dae);if(!(!s||!s[1]||!s[2])){var l=s[1],c=s[2].toLowerCase();gae(i[c],o,l)||(r=!1)}}),r}function gae(t,e,n){return n==="min"?t>=e:n==="max"?t<=e:t===e}function yae(t,e){return t.join(",")===e.join(",")}var no=q,Dp=nt,$2=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function aS(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=$2.length;n<i;n++){var r=$2[n],o=e.normal,a=e.emphasis;o&&o[r]&&(t[r]=t[r]||{},t[r].normal?Kt(t[r].normal,o[r]):t[r].normal=o[r],o[r]=null),a&&a[r]&&(t[r]=t[r]||{},t[r].emphasis?Kt(t[r].emphasis,a[r]):t[r].emphasis=a[r],a[r]=null)}}function ui(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,r=t[e].emphasis;i&&(n?(t[e].normal=t[e].emphasis=null,Vt(t[e],i)):t[e]=i),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r,r.focus&&(t.emphasis.focus=r.focus),r.blurScope&&(t.emphasis.blurScope=r.blurScope))}}function bd(t){ui(t,"itemStyle"),ui(t,"lineStyle"),ui(t,"areaStyle"),ui(t,"label"),ui(t,"labelLine"),ui(t,"upperLabel"),ui(t,"edgeLabel")}function Sn(t,e){var n=Dp(t)&&t[e],i=Dp(n)&&n.textStyle;if(i)for(var r=0,o=VR.length;r<o;r++){var a=VR[r];i.hasOwnProperty(a)&&(n[a]=i[a])}}function Br(t){t&&(bd(t),Sn(t,"label"),t.emphasis&&Sn(t.emphasis,"label"))}function _ae(t){if(Dp(t)){aS(t),bd(t),Sn(t,"label"),Sn(t,"upperLabel"),Sn(t,"edgeLabel"),t.emphasis&&(Sn(t.emphasis,"label"),Sn(t.emphasis,"upperLabel"),Sn(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(aS(e),Br(e));var n=t.markLine;n&&(aS(n),Br(n));var i=t.markArea;i&&Br(i);var r=t.data;if(t.type==="graph"){r=r||t.nodes;var o=t.links||t.edges;if(o&&!er(o))for(var a=0;a<o.length;a++)Br(o[a]);q(t.categories,function(c){bd(c)})}if(r&&!er(r))for(var a=0;a<r.length;a++)Br(r[a]);if(e=t.markPoint,e&&e.data)for(var s=e.data,a=0;a<s.length;a++)Br(s[a]);if(n=t.markLine,n&&n.data)for(var l=n.data,a=0;a<l.length;a++)Ge(l[a])?(Br(l[a][0]),Br(l[a][1])):Br(l[a]);t.type==="gauge"?(Sn(t,"axisLabel"),Sn(t,"title"),Sn(t,"detail")):t.type==="treemap"?(ui(t.breadcrumb,"itemStyle"),q(t.levels,function(c){bd(c)})):t.type==="tree"&&bd(t.leaves)}}function ga(t){return Ge(t)?t:t?[t]:[]}function H2(t){return(Ge(t)?t[0]:t)||{}}function bae(t,e){no(ga(t.series),function(i){Dp(i)&&_ae(i)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),no(n,function(i){no(ga(t[i]),function(r){r&&(Sn(r,"axisLabel"),Sn(r.axisPointer,"label"))})}),no(ga(t.parallel),function(i){var r=i&&i.parallelAxisDefault;Sn(r,"axisLabel"),Sn(r&&r.axisPointer,"label")}),no(ga(t.calendar),function(i){ui(i,"itemStyle"),Sn(i,"dayLabel"),Sn(i,"monthLabel"),Sn(i,"yearLabel")}),no(ga(t.radar),function(i){Sn(i,"name"),i.name&&i.axisName==null&&(i.axisName=i.name,delete i.name),i.nameGap!=null&&i.axisNameGap==null&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),no(ga(t.geo),function(i){Dp(i)&&(Br(i),no(ga(i.regions),function(r){Br(r)}))}),no(ga(t.timeline),function(i){Br(i),ui(i,"label"),ui(i,"itemStyle"),ui(i,"controlStyle",!0);var r=i.data;Ge(r)&&q(r,function(o){nt(o)&&(ui(o,"label"),ui(o,"itemStyle"))})}),no(ga(t.toolbox),function(i){ui(i,"iconStyle"),no(i.feature,function(r){ui(r,"iconStyle")})}),Sn(H2(t.axisPointer),"label"),Sn(H2(t.tooltip).axisPointer,"label")}function xae(t,e){for(var n=e.split(","),i=t,r=0;r<n.length&&(i=i&&i[n[r]],i!=null);r++);return i}function Sae(t,e,n,i){for(var r=e.split(","),o=t,a,s=0;s<r.length-1;s++)a=r[s],o[a]==null&&(o[a]={}),o=o[a];o[r[s]]==null&&(o[r[s]]=n)}function V2(t){t&&q(wae,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var wae=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Mae=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],sS=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function kh(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<sS.length;n++){var i=sS[n][1],r=sS[n][0];e[i]!=null&&(e[r]=e[i])}}function G2(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function W2(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function Tae(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function Ek(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&Ek(t[n].children,e)}function Pk(t,e){bae(t,e),t.series=Oi(t.series),q(t.series,function(n){if(nt(n)){var i=n.type;if(i==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(i==="pie"||i==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),G2(n.label);var r=n.data;if(r&&!er(r))for(var o=0;o<r.length;o++)G2(r[o]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(i==="gauge"){var a=xae(n,"pointer.color");a!=null&&Sae(n,"itemStyle.color",a)}else if(i==="bar"){kh(n),kh(n.backgroundStyle),kh(n.emphasis);var r=n.data;if(r&&!er(r))for(var o=0;o<r.length;o++)typeof r[o]=="object"&&(kh(r[o]),kh(r[o]&&r[o].emphasis))}else if(i==="sunburst"){var s=n.highlightPolicy;s&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=s)),W2(n),Ek(n.data,W2)}else i==="graph"||i==="sankey"?Tae(n):i==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&Vt(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),V2(n)}}),t.dataRange&&(t.visualMap=t.dataRange),q(Mae,function(n){var i=t[n];i&&(Ge(i)||(i=[i]),q(i,function(r){V2(r)}))})}function Cae(t){var e=Ct();t.eachSeries(function(n){var i=n.get("stack");if(i){var r=e.get(i)||e.set(i,[]),o=n.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:n};if(!a.stackedDimension||!(a.isStackedByIndex||a.stackedByDimension))return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),e.each(Aae)}function Aae(t){q(t,function(e,n){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(c,u,f){var h=a.get(e.stackedDimension,f);if(isNaN(h))return r;var d,p;s?p=a.getRawIndex(f):d=a.get(e.stackedByDimension,f);for(var g=NaN,v=n-1;v>=0;v--){var m=t[v];if(s||(p=m.data.rawIndexOf(m.stackedByDimension,d)),p>=0){var y=m.data.getByRawIndex(m.stackResultDimension,p);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&h>=0&&y>0||l==="samesign"&&h<=0&&y<0){h=Zne(h,y),g=y;break}}}return i[0]=h,i[1]=g,i})})}var H_=function(){function t(e){this.data=e.data||(e.sourceFormat===la?{}:[]),this.sourceFormat=e.sourceFormat||wk,this.seriesLayoutBy=e.seriesLayoutBy||za,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var n=this.dimensionsDefine=e.dimensionsDefine;if(n)for(var i=0;i<n.length;i++){var r=n[i];r.type==null&&Tk(this,i)===qn.Must&&(r.type="ordinal")}}return t}();function WC(t){return t instanceof H_}function Qw(t,e,n){n=n||Rk(t);var i=e.seriesLayoutBy,r=Pae(t,n,i,e.sourceHeader,e.dimensions),o=new H_({data:t,sourceFormat:n,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Dt(e)});return o}function Ik(t){return new H_({data:t,sourceFormat:er(t)?$s:Jr})}function Eae(t){return new H_({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:Dt(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function Rk(t){var e=wk;if(er(t))e=$s;else if(Ge(t)){t.length===0&&(e=ir);for(var n=0,i=t.length;n<i;n++){var r=t[n];if(r!=null){if(Ge(r)||er(r)){e=ir;break}else if(nt(r)){e=Co;break}}}}else if(nt(t)){for(var o in t)if(Xf(t,o)&&Qi(t[o])){e=la;break}}return e}function Pae(t,e,n,i,r){var o,a;if(!t)return{dimensionsDefine:X2(r),startIndex:a,dimensionsDetectedCount:o};if(e===ir){var s=t;i==="auto"||i==null?j2(function(c){c!=null&&c!=="-"&&(Qe(c)?a==null&&(a=1):a=0)},n,s,10):a=tn(i)?i:i?1:0,!r&&a===1&&(r=[],j2(function(c,u){r[u]=c!=null?c+"":""},n,s,1/0)),o=r?r.length:n===hh?s.length:s[0]?s[0].length:null}else if(e===Co)r||(r=Iae(t));else if(e===la)r||(r=[],q(t,function(c,u){r.push(u)}));else if(e===Jr){var l=sm(t[0]);o=Ge(l)&&l.length||1}return{startIndex:a,dimensionsDefine:X2(r),dimensionsDetectedCount:o}}function Iae(t){for(var e=0,n;e<t.length&&!(n=t[e++]););if(n)return cn(n)}function X2(t){if(t){var e=Ct();return rt(t,function(n,i){n=nt(n)?n:{name:n};var r={name:n.name,displayName:n.displayName,type:n.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var o=e.get(r.name);return o?r.name+="-"+o.count++:e.set(r.name,{count:1}),r})}}function j2(t,e,n,i){if(e===hh)for(var r=0;r<n.length&&r<i;r++)t(n[r]?n[r][0]:null,r);else for(var o=n[0]||[],r=0;r<o.length&&r<i;r++)t(o[r],r)}function Dk(t){var e=t.sourceFormat;return e===Co||e===la}var Ol,Ll,Nl,Y2,q2,Ok=function(){function t(e,n){var i=WC(e)?e:Ik(e);this._source=i;var r=this._data=i.data;i.sourceFormat===$s&&(this._offset=0,this._dimSize=n,this._data=r),q2(this,r,i)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,n){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;q2=function(a,s,l){var c=l.sourceFormat,u=l.seriesLayoutBy,f=l.startIndex,h=l.dimensionsDefine,d=Y2[XC(c,u)];if(Ie(a,d),c===$s)a.getItem=n,a.count=r,a.fillStorage=i;else{var p=Lk(c,u);a.getItem=an(p,null,s,f,h);var g=Nk(c,u);a.count=an(g,null,s,f,h)}};var n=function(a,s){a=a-this._offset,s=s||[];for(var l=this._data,c=this._dimSize,u=c*a,f=0;f<c;f++)s[f]=l[u+f];return s},i=function(a,s,l,c){for(var u=this._data,f=this._dimSize,h=0;h<f;h++){for(var d=c[h],p=d[0]==null?1/0:d[0],g=d[1]==null?-1/0:d[1],v=s-a,m=l[h],y=0;y<v;y++){var _=u[y*f+h];m[a+y]=_,_<p&&(p=_),_>g&&(g=_)}d[0]=p,d[1]=g}},r=function(){return this._data?this._data.length/this._dimSize:0};Y2=(e={},e[ir+"_"+za]={pure:!0,appendData:o},e[ir+"_"+hh]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Co]={pure:!0,appendData:o},e[la]={pure:!0,appendData:function(a){var s=this._data;q(a,function(l,c){for(var u=s[c]||(s[c]=[]),f=0;f<(l||[]).length;f++)u.push(l[f])})}},e[Jr]={appendData:o},e[$s]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},e);function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}}(),t}(),K2=function(t,e,n,i){return t[i]},Rae=(Ol={},Ol[ir+"_"+za]=function(t,e,n,i){return t[i+e]},Ol[ir+"_"+hh]=function(t,e,n,i,r){i+=e;for(var o=r||[],a=t,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},Ol[Co]=K2,Ol[la]=function(t,e,n,i,r){for(var o=r||[],a=0;a<n.length;a++){var s=n[a].name,l=t[s];o[a]=l?l[i]:null}return o},Ol[Jr]=K2,Ol);function Lk(t,e){var n=Rae[XC(t,e)];return n}var Z2=function(t,e,n){return t.length},Dae=(Ll={},Ll[ir+"_"+za]=function(t,e,n){return Math.max(0,t.length-e)},Ll[ir+"_"+hh]=function(t,e,n){var i=t[0];return i?Math.max(0,i.length-e):0},Ll[Co]=Z2,Ll[la]=function(t,e,n){var i=n[0].name,r=t[i];return r?r.length:0},Ll[Jr]=Z2,Ll);function Nk(t,e){var n=Dae[XC(t,e)];return n}var lS=function(t,e,n){return t[e]},Oae=(Nl={},Nl[ir]=lS,Nl[Co]=function(t,e,n){return t[n]},Nl[la]=lS,Nl[Jr]=function(t,e,n){var i=sm(t);return i instanceof Array?i[e]:i},Nl[$s]=lS,Nl);function Fk(t){var e=Oae[t];return e}function XC(t,e){return t===ir?t+"_"+e:t}function jf(t,e,n){if(t){var i=t.getRawDataItem(e);if(i!=null){var r=t.getStore(),o=r.getSource().sourceFormat;if(n!=null){var a=t.getDimensionIndex(n),s=r.getDimensionProperty(a);return Fk(o)(i,a,s)}else{var l=i;return o===Jr&&(l=sm(i)),l}}}}var Lae=/\{@(.+?)\}/g,Nae=function(){function t(){}return t.prototype.getDataParams=function(e,n){var i=this.getData(n),r=this.getRawValue(e,n),o=i.getRawIndex(e),a=i.getName(e),s=i.getRawDataItem(e),l=i.getItemVisual(e,"style"),c=l&&l[i.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,f=this.mainType,h=f==="series",d=i.userOutput&&i.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:a,dataIndex:o,data:s,dataType:n,value:r,color:c,borderColor:u,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,n,i,r,o,a){n=n||"normal";var s=this.getData(i),l=this.getDataParams(e,i);if(a&&(l.value=a.interpolatedValue),r!=null&&Ge(l.value)&&(l.value=l.value[r]),!o){var c=s.getItemModel(e);o=c.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(St(o))return l.status=n,l.dimensionIndex=r,o(l);if(Qe(o)){var u=_k(o,l);return u.replace(Lae,function(f,h){var d=h.length,p=h;p.charAt(0)==="["&&p.charAt(d-1)==="]"&&(p=+p.slice(1,d-1));var g=jf(s,e,p);if(a&&Ge(a.interpolatedValue)){var v=s.getDimensionIndex(p);v>=0&&(g=a.interpolatedValue[v])}return g!=null?g+"":""})}},t.prototype.getRawValue=function(e,n){return jf(this.getData(n),e)},t.prototype.formatTooltip=function(e,n,i){},t}();function J2(t){var e,n;return nt(t)?t.type&&(n=t):e=t,{text:e,frag:n}}function jd(t){return new Fae(t)}var Fae=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var n=this._upstream,i=e&&e.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!i&&(o=this._plan(this.context));var a=u(this._modBy),s=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;(a!==l||s!==c)&&(o="reset");function u(y){return!(y>=1)&&(y=1),y}var f;(this._dirty||o==="reset")&&(this._dirty=!1,f=this._doReset(i)),this._modBy=l,this._modDataCount=c;var h=e&&e.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,p=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(f||d<p)){var g=this._progress;if(Ge(g))for(var v=0;v<g.length;v++)this._doProgress(g[v],d,p,l,c);else this._doProgress(g,d,p,l,c)}this._dueIndex=p;var m=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,n,i,r,o){Q2.reset(n,i,r,o),this._callingProgress=e,this._callingProgress({start:n,end:i,count:i-n,next:Q2.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,i;!e&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(i=n.forceFirstProgress,n=n.progress),Ge(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),Q2=function(){var t,e,n,i,r,o={reset:function(l,c,u,f){e=l,t=c,n=u,i=f,r=Math.ceil(i/n),o.next=n>1&&i>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var l=e%r*n+Math.ceil(e/r),c=e>=t?null:l<i?l:e;return e++,c}}();function Kg(t,e){var n=e&&e.type;return n==="ordinal"?t:(n==="time"&&!tn(t)&&t!=null&&t!=="-"&&(t=+Ga(t)),t==null||t===""?NaN:Number(t))}Ct({number:function(t){return parseFloat(t)},time:function(t){return+Ga(t)},trim:function(t){return Qe(t)?Go(t):t}});var Bae=function(){function t(e,n){var i=e==="desc";this._resultLT=i?1:-1,n==null&&(n=i?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,n){var i=tn(e)?e:k0(e),r=tn(n)?n:k0(n),o=isNaN(i),a=isNaN(r);if(o&&(i=this._incomparable),a&&(r=this._incomparable),o&&a){var s=Qe(e),l=Qe(n);s&&(i=l?e:0),l&&(r=s?n:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},t}(),Uae=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,n){},t.prototype.retrieveValueFromItem=function(e,n){},t.prototype.convertValue=function(e,n){return Kg(e,n)},t}();function zae(t,e){var n=new Uae,i=t.data,r=n.sourceFormat=t.sourceFormat,o=t.startIndex,a="";t.seriesLayoutBy!==za&&Xi(a);var s=[],l={},c=t.dimensionsDefine;if(c)q(c,function(g,v){var m=g.name,y={index:v,name:m,displayName:g.displayName};if(s.push(y),m!=null){var _="";Xf(l,m)&&Xi(_),l[m]=y}});else for(var u=0;u<t.dimensionsDetectedCount;u++)s.push({index:u});var f=Lk(r,za);e.__isBuiltIn&&(n.getRawDataItem=function(g){return f(i,o,s,g)},n.getRawData=an(kae,null,t)),n.cloneRawData=an($ae,null,t);var h=Nk(r,za);n.count=an(h,null,i,o,s);var d=Fk(r);n.retrieveValue=function(g,v){var m=f(i,o,s,g);return p(m,v)};var p=n.retrieveValueFromItem=function(g,v){if(g!=null){var m=s[v];if(m)return d(g,v,m.name)}};return n.getDimensionInfo=an(Hae,null,s,l),n.cloneAllDimensionInfo=an(Vae,null,s),n}function kae(t){var e=t.sourceFormat;if(!jC(e)){var n="";Xi(n)}return t.data}function $ae(t){var e=t.sourceFormat,n=t.data;if(!jC(e)){var i="";Xi(i)}if(e===ir){for(var r=[],o=0,a=n.length;o<a;o++)r.push(n[o].slice());return r}else if(e===Co){for(var r=[],o=0,a=n.length;o<a;o++)r.push(Ie({},n[o]));return r}}function Hae(t,e,n){if(n!=null){if(tn(n)||!isNaN(n)&&!Xf(e,n))return t[n];if(Xf(e,n))return e[n]}}function Vae(t){return Dt(t)}var Bk=Ct();function Gae(t){t=Dt(t);var e=t.type,n="";e||Xi(n);var i=e.split(":");i.length!==2&&Xi(n);var r=!1;i[0]==="echarts"&&(e=i[1],r=!0),t.__isBuiltIn=r,Bk.set(e,t)}function Wae(t,e,n){var i=Oi(t),r=i.length,o="";r||Xi(o);for(var a=0,s=r;a<s;a++){var l=i[a];e=Xae(l,e),a!==s-1&&(e.length=Math.max(e.length,1))}return e}function Xae(t,e,n,i){var r="";e.length||Xi(r),nt(t)||Xi(r);var o=t.type,a=Bk.get(o);a||Xi(r);var s=rt(e,function(c){return zae(c,a)}),l=Oi(a.transform({upstream:s[0],upstreamList:s,config:Dt(t.config)}));return rt(l,function(c,u){var f="";nt(c)||Xi(f),c.data||Xi(f);var h=Rk(c.data);jC(h)||Xi(f);var d,p=e[0];if(p&&u===0&&!c.dimensions){var g=p.startIndex;g&&(c.data=p.data.slice(0,g).concat(c.data)),d={seriesLayoutBy:za,sourceHeader:g,dimensions:p.metaRawOption.dimensions}}else d={seriesLayoutBy:za,sourceHeader:0,dimensions:c.dimensions};return Qw(c.data,d,null)})}function jC(t){return t===ir||t===Co}var V_="undefined",jae=typeof Uint32Array===V_?Array:Uint32Array,Yae=typeof Uint16Array===V_?Array:Uint16Array,Uk=typeof Int32Array===V_?Array:Int32Array,eD=typeof Float64Array===V_?Array:Float64Array,zk={float:eD,int:Uk,ordinal:Array,number:Array,time:eD},cS;function $h(t){return t>65535?jae:Yae}function Cu(){return[1/0,-1/0]}function qae(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function tD(t,e,n,i,r){var o=zk[n||"float"];if(r){var a=t[e],s=a&&a.length;if(s!==i){for(var l=new o(i),c=0;c<s;c++)l[c]=a[c];t[e]=l}}else t[e]=new o(i)}var eM=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Ct()}return t.prototype.initData=function(e,n,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),o=this.defaultDimValueGetter=cS[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],Dk(r),this._dimensions=rt(n,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,n){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(e);if(o!=null){if(r[o].type===n)return o}else o=r.length;return r[o]={type:n},i.set(e,o),this._chunks[o]=new zk[n||"float"](this._rawCount),this._rawExtent[o]=Cu(),o},t.prototype.collectOrdinalMeta=function(e,n){var i=this._chunks[e],r=this._dimensions[e],o=this._rawExtent,a=r.ordinalOffset||0,s=i.length;a===0&&(o[e]=Cu());for(var l=o[e],c=a;c<s;c++){var u=i[c]=n.parseAndCollect(i[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}r.ordinalMeta=n,r.ordinalOffset=s,r.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var n=this._dimensions[e],i=n.ordinalMeta;return i},t.prototype.getDimensionProperty=function(e){var n=this._dimensions[e];return n&&n.property},t.prototype.appendData=function(e){var n=this._provider,i=this.count();n.appendData(e);var r=n.count();return n.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},t.prototype.appendValues=function(e,n){for(var i=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(e.length,n||0),c=0;c<o;c++){var u=r[c];tD(i,c,u.type,l,!0)}for(var f=[],h=s;h<l;h++)for(var d=h-s,p=0;p<o;p++){var u=r[p],g=cS.arrayRows.call(this,e[d]||f,u.property,d,p);i[p][h]=g;var v=a[p];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},t.prototype._initDataFromProvider=function(e,n,i){for(var r=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,c=rt(a,function(y){return y.property}),u=0;u<s;u++){var f=a[u];l[u]||(l[u]=Cu()),tD(o,u,f.type,n,i)}if(r.fillStorage)r.fillStorage(e,n,o,l);else for(var h=[],d=e;d<n;d++){h=r.getItem(d,h);for(var p=0;p<s;p++){var g=o[p],v=this._dimValueGetter(h,c[p],d,p);g[d]=v;var m=l[p];v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=n,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,n){if(!(n>=0&&n<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(n)]:NaN},t.prototype.getValues=function(e,n){var i=[],r=[];if(n==null){n=e,e=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=e;for(var o=0,a=r.length;o<a;o++)i.push(this.get(r[o],n));return i},t.prototype.getByRawIndex=function(e,n){if(!(n>=0&&n<this._rawCount))return NaN;var i=this._chunks[e];return i?i[n]:NaN},t.prototype.getSum=function(e){var n=this._chunks[e],i=0;if(n)for(var r=0,o=this.count();r<o;r++){var a=this.get(e,r);isNaN(a)||(i+=a)}return i},t.prototype.getMedian=function(e){var n=[];this.each([e],function(o){isNaN(o)||n.push(o)});var i=n.sort(function(o,a){return o-a}),r=this.count();return r===0?0:r%2===1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var n=this._indices,i=n[e];if(i!=null&&i<this._count&&i===e)return e;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(n[a]<e)r=a+1;else if(n[a]>e)o=a-1;else return a}return-1},t.prototype.indicesOfNearest=function(e,n,i){var r=this._chunks,o=r[e],a=[];if(!o)return a;i==null&&(i=1/0);for(var s=1/0,l=-1,c=0,u=0,f=this.count();u<f;u++){var h=this.getRawIndex(u),d=n-o[h],p=Math.abs(d);p<=i&&((p<s||p===s&&d>=0&&l<0)&&(s=p,l=d,c=0),d===l&&(a[c++]=u))}return a.length=c,a},t.prototype.getIndices=function(){var e,n=this._indices;if(n){var i=n.constructor,r=this._count;if(i===Array){e=new i(r);for(var o=0;o<r;o++)e[o]=n[o]}else e=new i(n.buffer,0,r)}else{var i=$h(this._rawCount);e=new i(this.count());for(var o=0;o<e.length;o++)e[o]=o}return e},t.prototype.filter=function(e,n){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=$h(i._rawCount),a=new o(r),s=[],l=e.length,c=0,u=e[0],f=i._chunks,h=0;h<r;h++){var d=void 0,p=i.getRawIndex(h);if(l===0)d=n(h);else if(l===1){var g=f[u][p];d=n(g,h)}else{for(var v=0;v<l;v++)s[v]=f[e[v]][p];s[v]=h,d=n.apply(null,s)}d&&(a[c++]=p)}return c<r&&(i._indices=a),i._count=c,i._extent=[],i._updateGetRawIdx(),i},t.prototype.selectRange=function(e){var n=this.clone(),i=n._count;if(!i)return this;var r=cn(e),o=r.length;if(!o)return this;var a=n.count(),s=$h(n._rawCount),l=new s(a),c=0,u=r[0],f=e[u][0],h=e[u][1],d=n._chunks,p=!1;if(!n._indices){var g=0;if(o===1){for(var v=d[r[0]],m=0;m<i;m++){var y=v[m];(y>=f&&y<=h||isNaN(y))&&(l[c++]=g),g++}p=!0}else if(o===2){for(var v=d[r[0]],_=d[r[1]],b=e[r[1]][0],T=e[r[1]][1],m=0;m<i;m++){var y=v[m],x=_[m];(y>=f&&y<=h||isNaN(y))&&(x>=b&&x<=T||isNaN(x))&&(l[c++]=g),g++}p=!0}}if(!p)if(o===1)for(var m=0;m<a;m++){var S=n.getRawIndex(m),y=d[r[0]][S];(y>=f&&y<=h||isNaN(y))&&(l[c++]=S)}else for(var m=0;m<a;m++){for(var C=!0,S=n.getRawIndex(m),M=0;M<o;M++){var w=r[M],y=d[w][S];(y<e[w][0]||y>e[w][1])&&(C=!1)}C&&(l[c++]=n.getRawIndex(m))}return c<a&&(n._indices=l),n._count=c,n._extent=[],n._updateGetRawIdx(),n},t.prototype.map=function(e,n){var i=this.clone(e);return this._updateDims(i,e,n),i},t.prototype.modify=function(e,n){this._updateDims(this,e,n)},t.prototype._updateDims=function(e,n,i){for(var r=e._chunks,o=[],a=n.length,s=e.count(),l=[],c=e._rawExtent,u=0;u<n.length;u++)c[n[u]]=Cu();for(var f=0;f<s;f++){for(var h=e.getRawIndex(f),d=0;d<a;d++)l[d]=r[n[d]][h];l[a]=f;var p=i&&i.apply(null,l);if(p!=null){typeof p!="object"&&(o[0]=p,p=o);for(var u=0;u<p.length;u++){var g=n[u],v=p[u],m=c[g],y=r[g];y&&(y[h]=v),v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}}}},t.prototype.lttbDownSample=function(e,n){var i=this.clone([e],!0),r=i._chunks,o=r[e],a=this.count(),s=0,l=Math.floor(1/n),c=this.getRawIndex(0),u,f,h,d=new($h(this._rawCount))(Math.min((Math.ceil(a/l)+2)*2,a));d[s++]=c;for(var p=1;p<a-1;p+=l){for(var g=Math.min(p+l,a-1),v=Math.min(p+l*2,a),m=(v+g)/2,y=0,_=g;_<v;_++){var b=this.getRawIndex(_),T=o[b];isNaN(T)||(y+=T)}y/=v-g;var x=p,S=Math.min(p+l,a),C=p-1,M=o[c];u=-1,h=x;for(var w=-1,A=0,_=x;_<S;_++){var b=this.getRawIndex(_),T=o[b];if(isNaN(T)){A++,w<0&&(w=b);continue}f=Math.abs((C-m)*(T-M)-(C-_)*(y-M)),f>u&&(u=f,h=b)}A>0&&A<S-x&&(d[s++]=Math.min(w,h),h=Math.max(w,h)),d[s++]=h,c=h}return d[s++]=this.getRawIndex(a-1),i._count=s,i._indices=d,i.getRawIndex=this._getRawIdx,i},t.prototype.downSample=function(e,n,i,r){for(var o=this.clone([e],!0),a=o._chunks,s=[],l=Math.floor(1/n),c=a[e],u=this.count(),f=o._rawExtent[e]=Cu(),h=new($h(this._rawCount))(Math.ceil(u/l)),d=0,p=0;p<u;p+=l){l>u-p&&(l=u-p,s.length=l);for(var g=0;g<l;g++){var v=this.getRawIndex(p+g);s[g]=c[v]}var m=i(s),y=this.getRawIndex(Math.min(p+r(s,m)||0,u-1));c[y]=m,m<f[0]&&(f[0]=m),m>f[1]&&(f[1]=m),h[d++]=y}return o._count=d,o._indices=h,o._updateGetRawIdx(),o},t.prototype.each=function(e,n){if(this._count)for(var i=e.length,r=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(i){case 0:n(o);break;case 1:n(r[e[0]][s],o);break;case 2:n(r[e[0]][s],r[e[1]][s],o);break;default:for(var l=0,c=[];l<i;l++)c[l]=r[e[l]][s];c[l]=o,n.apply(null,c)}}},t.prototype.getDataExtent=function(e){var n=this._chunks[e],i=Cu();if(!n)return i;var r=this.count(),o=!this._indices,a;if(o)return this._rawExtent[e].slice();if(a=this._extent[e],a)return a.slice();a=i;for(var s=a[0],l=a[1],c=0;c<r;c++){var u=this.getRawIndex(c),f=n[u];f<s&&(s=f),f>l&&(l=f)}return a=[s,l],this._extent[e]=a,a},t.prototype.getRawDataItem=function(e){var n=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(n);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][n]);return i},t.prototype.clone=function(e,n){var i=new t,r=this._chunks,o=e&&Ws(e,function(s,l){return s[l]=!0,s},{});if(o)for(var a=0;a<r.length;a++)i._chunks[a]=o[a]?qae(r[a]):r[a];else i._chunks=r;return this._copyCommonProps(i),n||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Dt(this._extent),e._rawExtent=Dt(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,n=void 0;if(e===Array){var i=this._indices.length;n=new e(i);for(var r=0;r<i;r++)n[r]=this._indices[r]}else n=new e(this._indices);return n}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(n,i,r,o){return Kg(n[o],this._dimensions[o])}cS={arrayRows:e,objectRows:function(n,i,r,o){return Kg(n[i],this._dimensions[o])},keyedColumns:e,original:function(n,i,r,o){var a=n&&(n.value==null?n:n.value);return Kg(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(n,i,r,o){return n[o]}}}(),t}(),Kae=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,n){this._sourceList=e,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,n=this._getUpstreamSourceManagers(),i=!!n.length,r,o;if(vv(e)){var a=e,s=void 0,l=void 0,c=void 0;if(i){var u=n[0];u.prepareSource(),c=u.getSource(),s=c.data,l=c.sourceFormat,o=[u._getVersionSign()]}else s=a.get("data",!0),l=er(s)?$s:Jr,o=[];var f=this._getSourceMetaRawOption()||{},h=c&&c.metaRawOption||{},d=Tt(f.seriesLayoutBy,h.seriesLayoutBy)||null,p=Tt(f.sourceHeader,h.sourceHeader),g=Tt(f.dimensions,h.dimensions),v=d!==h.seriesLayoutBy||!!p!=!!h.sourceHeader||g;r=v?[Qw(s,{seriesLayoutBy:d,sourceHeader:p,dimensions:g},l)]:[]}else{var m=e;if(i){var y=this._applyTransform(n);r=y.sourceList,o=y.upstreamSignList}else{var _=m.get("source",!0);r=[Qw(_,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(r,o)},t.prototype._applyTransform=function(e){var n=this._sourceHost,i=n.get("transform",!0),r=n.get("fromTransformResult",!0);if(r!=null){var o="";e.length!==1&&nD(o)}var a,s=[],l=[];return q(e,function(c){c.prepareSource();var u=c.getSource(r||0),f="";r!=null&&!u&&nD(f),s.push(u),l.push(c._getVersionSign())}),i?a=Wae(i,s,{datasetIndex:n.componentIndex}):r!=null&&(a=[Eae(s[0])]),{sourceList:a,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),n=0;n<e.length;n++){var i=e[n];if(i._isDirty()||this._upstreamSignList[n]!==i._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var n=this._sourceList[e];if(!n){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return n},t.prototype.getSharedDataStore=function(e){var n=e.makeStoreSchema();return this._innerGetDataStore(n.dimensions,e.source,n.hash)},t.prototype._innerGetDataStore=function(e,n,i){var r=0,o=this._storeList,a=o[r];a||(a=o[r]={});var s=a[i];if(!s){var l=this._getUpstreamSourceManagers()[0];vv(this._sourceHost)&&l?s=l._innerGetDataStore(e,n,i):(s=new eM,s.initData(new Ok(n,e.length),e)),a[i]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(vv(e)){var n=$C(e);return n?[n.getSourceManager()]:[]}else return rt(iae(e),function(i){return i.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,n,i,r;if(vv(e))n=e.get("seriesLayoutBy",!0),i=e.get("sourceHeader",!0),r=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=e;n=o.get("seriesLayoutBy",!0),i=o.get("sourceHeader",!0),r=o.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:i,dimensions:r}},t}();function vv(t){return t.mainType==="series"}function nD(t){throw new Error(t)}var kk="line-height:1";function $k(t,e){var n=t.color||"#6e7079",i=t.fontSize||12,r=t.fontWeight||"400",o=t.color||"#464646",a=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+hr(i+"")+"px;color:"+hr(n)+";font-weight:"+hr(r+""),valueStyle:"font-size:"+hr(a+"")+"px;color:"+hr(o)+";font-weight:"+hr(s+"")}:{nameStyle:{fontSize:i,fill:n,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var Zae=[0,10,20,30],Jae=["",`
`,`

`,`


`];function Op(t,e){return e.type=t,e}function tM(t){return t.type==="section"}function Hk(t){return tM(t)?Qae:ese}function Vk(t){if(tM(t)){var e=0,n=t.blocks.length,i=n>1||n>0&&!t.noHeader;return q(t.blocks,function(r){var o=Vk(r);o>=e&&(e=o+ +(i&&(!o||tM(r)&&!r.noHeader)))}),e}return 0}function Qae(t,e,n,i){var r=e.noHeader,o=tse(Vk(e)),a=[],s=e.blocks||[];Va(!s||Ge(s)),s=s||[];var l=t.orderMode;if(e.sortBlocks&&l){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Xf(c,l)){var u=new Bae(c[l],null);s.sort(function(p,g){return u.evaluate(p.sortParam,g.sortParam)})}else l==="seriesDesc"&&s.reverse()}q(s,function(p,g){var v=e.valueFormatter,m=Hk(p)(v?Ie(Ie({},t),{valueFormatter:v}):t,p,g>0?o.html:0,i);m!=null&&a.push(m)});var f=t.renderMode==="richText"?a.join(o.richText):nM(a.join(""),r?n:o.html);if(r)return f;var h=Jw(e.header,"ordinal",t.useUTC),d=$k(i,t.renderMode).nameStyle;return t.renderMode==="richText"?Gk(t,h,d)+o.richText+f:nM('<div style="'+d+";"+kk+';">'+hr(h)+"</div>"+f,n)}function ese(t,e,n,i){var r=t.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,l=e.name,c=t.useUTC,u=e.valueFormatter||t.valueFormatter||function(b){return b=Ge(b)?b:[b],rt(b,function(T,x){return Jw(T,Ge(d)?d[x]:d,c)})};if(!(o&&a)){var f=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),h=o?"":Jw(l,"ordinal",c),d=e.valueType,p=a?[]:u(e.value,e.dataIndex),g=!s||!o,v=!s&&o,m=$k(i,r),y=m.nameStyle,_=m.valueStyle;return r==="richText"?(s?"":f)+(o?"":Gk(t,h,y))+(a?"":rse(t,p,g,v,_)):nM((s?"":f)+(o?"":nse(h,!s,y))+(a?"":ise(p,g,v,_)),n)}}function iD(t,e,n,i,r,o){if(t){var a=Hk(t),s={useUTC:r,renderMode:n,orderMode:i,markupStyleCreator:e,valueFormatter:t.valueFormatter};return a(s,t,0,o)}}function tse(t){return{html:Zae[t],richText:Jae[t]}}function nM(t,e){var n='<div style="clear:both"></div>',i="margin: "+e+"px 0 0";return'<div style="'+i+";"+kk+';">'+t+n+"</div>"}function nse(t,e,n){var i=e?"margin-left:2px":"";return'<span style="'+n+";"+i+'">'+hr(t)+"</span>"}function ise(t,e,n,i){var r=n?"10px":"20px",o=e?"float:right;margin-left:"+r:"";return t=Ge(t)?t:[t],'<span style="'+o+";"+i+'">'+rt(t,function(a){return hr(a)}).join("&nbsp;&nbsp;")+"</span>"}function Gk(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function rse(t,e,n,i,r){var o=[r],a=i?10:20;return n&&o.push({padding:[0,0,0,a],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(Ge(e)?e.join("  "):e,o)}function ose(t,e){var n=t.getData().getItemVisual(e,"style"),i=n[t.visualDrawType];return Gc(i)}function Wk(t,e){var n=t.get("padding");return n??(e==="richText"?[8,10]:10)}var uS=function(){function t(){this.richTextStyles={},this._nextStyleNameId=mz()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,n,i){var r=i==="richText"?this._generateStyleName():null,o=Yoe({color:n,type:e,renderMode:i,markerId:r});return Qe(o)?o:(this.richTextStyles[r]=o.style,o.content)},t.prototype.wrapRichTextStyle=function(e,n){var i={};Ge(n)?q(n,function(o){return Ie(i,o)}):Ie(i,n);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+e+"}"},t}();function ase(t){var e=t.series,n=t.dataIndex,i=t.multipleSeries,r=e.getData(),o=r.mapDimensionsAll("defaultedTooltip"),a=o.length,s=e.getRawValue(n),l=Ge(s),c=ose(e,n),u,f,h,d;if(a>1||l&&!a){var p=sse(s,e,n,o,c);u=p.inlineValues,f=p.inlineValueTypes,h=p.blocks,d=p.inlineValues[0]}else if(a){var g=r.getDimensionInfo(o[0]);d=u=jf(r,n,o[0]),f=g.type}else d=u=l?s[0]:s;var v=_z(e),m=v&&e.name||"",y=r.getName(n),_=i?m:y;return Op("section",{header:m,noHeader:i||!v,sortParam:d,blocks:[Op("nameValue",{markerType:"item",markerColor:c,name:_,noName:!Go(_),value:u,valueType:f,dataIndex:n})].concat(h||[])})}function sse(t,e,n,i,r){var o=e.getData(),a=Ws(t,function(f,h,d){var p=o.getDimensionInfo(d);return f=f||p&&p.tooltip!==!1&&p.displayName!=null},!1),s=[],l=[],c=[];i.length?q(i,function(f){u(jf(o,n,f),f)}):q(t,u);function u(f,h){var d=o.getDimensionInfo(h);!d||d.otherDims.tooltip===!1||(a?c.push(Op("nameValue",{markerType:"subItem",markerColor:r,name:d.displayName,value:f,valueType:d.type})):(s.push(f),l.push(d.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:c}}var ss=Mn();function gv(t,e){return t.getName(e)||t.getId(e)}var lse="__universalTransitionEnabled",Xa=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return e.prototype.init=function(n,i,r){this.seriesIndex=this.componentIndex,this.dataTask=jd({count:use,reset:fse}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,r);var o=ss(this).sourceManager=new Kae(this);o.prepareSource();var a=this.getInitialData(n,r);oD(a,this),this.dataTask.context.data=a,ss(this).dataBeforeProcessed=a,rD(this),this._initSelectedMapFromData(a)},e.prototype.mergeDefaultAndTheme=function(n,i){var r=Ip(this),o=r?kC(n):{},a=this.subType;Wt.hasClass(a)&&(a+="Series"),Kt(n,i.getTheme().get(this.subType)),Kt(n,this.getDefaultOption()),$w(n,"label",["show"]),this.fillDataTextStyle(n.data),r&&Rp(n,o,r)},e.prototype.mergeOption=function(n,i){n=Kt(this.option,n,!0),this.fillDataTextStyle(n.data);var r=Ip(this);r&&Rp(this.option,n,r);var o=ss(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(n,i);oD(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,ss(this).dataBeforeProcessed=a,rD(this),this._initSelectedMapFromData(a)},e.prototype.fillDataTextStyle=function(n){if(n&&!er(n))for(var i=["show"],r=0;r<n.length;r++)n[r]&&n[r].label&&$w(n[r],"label",i)},e.prototype.getInitialData=function(n,i){},e.prototype.appendData=function(n){var i=this.getRawData();i.appendData(n.data)},e.prototype.getData=function(n){var i=iM(this);if(i){var r=i.context.data;return n==null||!r.getLinkedData?r:r.getLinkedData(n)}else return ss(this).data},e.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},e.prototype.setData=function(n){var i=iM(this);if(i){var r=i.context;r.outputData=n,i!==this.dataTask&&(r.data=n)}ss(this).data=n},e.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return Ct(n)},e.prototype.getSourceManager=function(){return ss(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return ss(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},e.prototype.formatTooltip=function(n,i,r){return ase({series:this,dataIndex:n,multipleSeries:i})},e.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(pt.node&&!(n&&n.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(n,i,r){var o=this.ecModel,a=HC.prototype.getColorFromPalette.call(this,n,i,r);return a||(a=o.getColorFromPalette(n,i,r)),a},e.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(n,i){this._innerSelect(this.getData(i),n)},e.prototype.unselect=function(n,i){var r=this.option.selectedMap;if(r){var o=this.option.selectedMode,a=this.getData(i);if(o==="series"||r==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<n.length;s++){var l=n[s],c=gv(a,l);r[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(n,i){for(var r=[],o=0;o<n.length;o++)r[0]=n[o],this.isSelected(n[o],i)?this.unselect(r,i):this.select(r,i)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,i=cn(n),r=[],o=0;o<i.length;o++){var a=n[i[o]];a>=0&&r.push(a)}return r},e.prototype.isSelected=function(n,i){var r=this.option.selectedMap;if(!r)return!1;var o=this.getData(i);return(r==="all"||r[gv(o,n)])&&!o.getItemModel(n).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[lse])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},e.prototype._innerSelect=function(n,i){var r,o,a=this.option,s=a.selectedMode,l=i.length;if(!(!s||!l)){if(s==="series")a.selectedMap="all";else if(s==="multiple"){nt(a.selectedMap)||(a.selectedMap={});for(var c=a.selectedMap,u=0;u<l;u++){var f=i[u],h=gv(n,f);c[h]=!0,this._selectedDataIndicesMap[h]=n.getRawIndex(f)}}else if(s==="single"||s===!0){var d=i[l-1],h=gv(n,d);a.selectedMap=(r={},r[h]=!0,r),this._selectedDataIndicesMap=(o={},o[h]=n.getRawIndex(d),o)}}},e.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var i=[];n.hasItemOption&&n.each(function(r){var o=n.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(n,i)}},e.registerClass=function(n){return Wt.registerClass(n)},e.protoInitialize=function(){var n=e.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),e}(Wt);aa(Xa,Nae);aa(Xa,HC);Sz(Xa,Wt);function rD(t){var e=t.name;_z(t)||(t.name=cse(t)||e)}function cse(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),i=[];return q(n,function(r){var o=e.getDimensionInfo(r);o.displayName&&i.push(o.displayName)}),i.join(" ")}function use(t){return t.model.getRawData().count()}function fse(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),hse}function hse(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function oD(t,e){q(Dte(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(n){t.wrapMethod(n,Zi(dse,e))})}function dse(t,e){var n=iM(t);return n&&n.setOutputEnd((e||this).count()),e}function iM(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(t.uid))}return i}}var ea=function(){function t(){this.group=new tr,this.uid=N_("viewComponent")}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,i,r){},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,i,r){},t.prototype.updateLayout=function(e,n,i,r){},t.prototype.updateVisual=function(e,n,i,r){},t.prototype.toggleBlurSeries=function(e,n,i){},t.prototype.eachRendered=function(e){var n=this.group;n&&n.traverse(e)},t}();bC(ea);T_(ea);function Xk(){var t=Mn();return function(e){var n=t(e),i=e.pipelineContext,r=!!n.large,o=!!n.progressiveRender,a=n.large=!!(i&&i.large),s=n.progressiveRender=!!(i&&i.progressiveRender);return(r!==a||o!==s)&&"reset"}}var jk=Mn(),pse=Xk(),_o=function(){function t(){this.group=new tr,this.uid=N_("viewChart"),this.renderTask=jd({plan:mse,reset:vse}),this.renderTask.context={view:this}}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,i,r){},t.prototype.highlight=function(e,n,i,r){var o=e.getData(r&&r.dataType);o&&sD(o,r,"emphasis")},t.prototype.downplay=function(e,n,i,r){var o=e.getData(r&&r.dataType);o&&sD(o,r,"normal")},t.prototype.remove=function(e,n){this.group.removeAll()},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,i,r){this.render(e,n,i,r)},t.prototype.updateLayout=function(e,n,i,r){this.render(e,n,i,r)},t.prototype.updateVisual=function(e,n,i,r){this.render(e,n,i,r)},t.prototype.eachRendered=function(e){DC(this.group,e)},t.markUpdateMethod=function(e,n){jk(e).updateMethod=n},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function aD(t,e,n){t&&Yw(t)&&(e==="emphasis"?V0:G0)(t,n)}function sD(t,e,n){var i=$c(t,e),r=e&&e.highlightKey!=null?Ore(e.highlightKey):null;i!=null?q(Oi(i),function(o){aD(t.getItemGraphicEl(o),n,r)}):t.eachItemGraphicEl(function(o){aD(o,n,r)})}bC(_o);T_(_o);function mse(t){return pse(t.model)}function vse(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=r&&jk(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return l!=="render"&&a[l](e,n,i,r),gse[l]}var gse={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Z0="\0__throttleOriginMethod",lD="\0__throttleRate",cD="\0__throttleType";function YC(t,e,n){var i,r=0,o=0,a=null,s,l,c,u;e=e||0;function f(){o=new Date().getTime(),a=null,t.apply(l,c||[])}var h=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];i=new Date().getTime(),l=this,c=d;var g=u||e,v=u||n;u=null,s=i-(v?r:o)-g,clearTimeout(a),v?a=setTimeout(f,g):s>=0?f():a=setTimeout(f,-s),r=i};return h.clear=function(){a&&(clearTimeout(a),a=null)},h.debounceNextCall=function(d){u=d},h}function Yk(t,e,n,i){var r=t[e];if(r){var o=r[Z0]||r,a=r[cD],s=r[lD];if(s!==n||a!==i){if(n==null||!i)return t[e]=o;r=t[e]=YC(o,n,i==="debounce"),r[Z0]=o,r[cD]=i,r[lD]=n}return r}}function rM(t,e){var n=t[e];n&&n[Z0]&&(n.clear&&n.clear(),t[e]=n[Z0])}var uD=Mn(),fD={itemStyle:Ap(ak,!0),lineStyle:Ap(ok,!0)},yse={lineStyle:"stroke",itemStyle:"fill"};function qk(t,e){var n=t.visualStyleMapper||fD[e];return n||(console.warn("Unknown style type '"+e+"'."),fD.itemStyle)}function Kk(t,e){var n=t.visualDrawType||yse[e];return n||(console.warn("Unknown style type '"+e+"'."),"fill")}var _se={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),i=t.visualStyleAccessPath||"itemStyle",r=t.getModel(i),o=qk(t,i),a=o(r),s=r.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=Kk(t,i),c=a[l],u=St(c)?c:null,f=a.fill==="auto"||a.stroke==="auto";if(!a[l]||u||f){var h=t.getColorFromPalette(t.name,null,e.getSeriesCount());a[l]||(a[l]=h,n.setVisual("colorFromPalette",!0)),a.fill=a.fill==="auto"||St(a.fill)?h:a.fill,a.stroke=a.stroke==="auto"||St(a.stroke)?h:a.stroke}if(n.setVisual("style",a),n.setVisual("drawType",l),!e.isSeriesFiltered(t)&&u)return n.setVisual("colorFromPalette",!1),{dataEach:function(d,p){var g=t.getDataParams(p),v=Ie({},a);v[l]=u(g),d.setItemVisual(p,"style",v)}}}},Hh=new wn,bse={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var n=t.getData(),i=t.visualStyleAccessPath||"itemStyle",r=qk(t,i),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[i]){Hh.option=l[i];var c=r(Hh),u=a.ensureUniqueItemVisual(s,"style");Ie(u,c),Hh.option.decal&&(a.setItemVisual(s,"decal",Hh.option.decal),Hh.option.decal.dirty=!0),o in c&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},xse={performRawSeries:!0,overallReset:function(t){var e=Ct();t.eachSeries(function(n){var i=n.getColorBy();if(!n.isColorBySeries()){var r=n.type+"-"+i,o=e.get(r);o||(o={},e.set(r,o)),uD(n).scope=o}}),t.eachSeries(function(n){if(!(n.isColorBySeries()||t.isSeriesFiltered(n))){var i=n.getRawData(),r={},o=n.getData(),a=uD(n).scope,s=n.visualStyleAccessPath||"itemStyle",l=Kk(n,s);o.each(function(c){var u=o.getRawIndex(c);r[u]=c}),i.each(function(c){var u=r[c],f=o.getItemVisual(u,"colorFromPalette");if(f){var h=o.ensureUniqueItemVisual(u,"style"),d=i.getName(c)||c+"",p=i.count();h[l]=n.getColorFromPalette(d,a,p)}})}})}},yv=Math.PI;function Sse(t,e){e=e||{},Vt(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new tr,i=new Li({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(i);var r=new nr({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),o=new Li({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});n.add(o);var a;return e.showSpinner&&(a=new D_({shape:{startAngle:-yv/2,endAngle:-yv/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),a.animateShape(!0).when(1e3,{endAngle:yv*3/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:yv*3/2}).delay(300).start("circularInOut"),n.add(a)),n.resize=function(){var s=r.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,c=(t.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),u=t.getHeight()/2;e.showSpinner&&a.setShape({cx:c,cy:u}),o.setShape({x:c-l,y:u-l,width:l*2,height:l*2}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}var Zk=function(){function t(e,n,i,r){this._stageTaskMap=Ct(),this.ecInstance=e,this.api=n,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return t.prototype.restoreData=function(e,n){e.restoreData(n),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},t.prototype.getPerformArgs=function(e,n){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),r=i.context,o=!n&&i.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>i.blockIndex,a=o?i.step:null,s=r&&r.modDataCount,l=s!=null?Math.ceil(s/a):null;return{step:a,modBy:l,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,n){var i=this._pipelineMap.get(e.uid),r=e.getData(),o=r.count(),a=i.progressiveEnabled&&n.incrementalPrepareRender&&o>=i.threshold,s=e.get("large")&&o>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?o:null;e.pipelineContext=i.context={progressiveRender:a,modDataCount:l,large:s}},t.prototype.restorePipelines=function(e){var n=this,i=n._pipelineMap=Ct();e.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),n._pipe(r,r.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,n=this.api.getModel(),i=this.api;q(this._allHandlers,function(r){var o=e.get(r.uid)||e.set(r.uid,{}),a="";Va(!(r.reset&&r.overallReset),a),r.reset&&this._createSeriesStageTask(r,o,n,i),r.overallReset&&this._createOverallStageTask(r,o,n,i)},this)},t.prototype.prepareView=function(e,n,i,r){var o=e.renderTask,a=o.context;a.model=n,a.ecModel=i,a.api=r,o.__block=!e.incrementalPrepareRender,this._pipe(n,o)},t.prototype.performDataProcessorTasks=function(e,n){this._performStageTasks(this._dataProcessorHandlers,e,n,{block:!0})},t.prototype.performVisualTasks=function(e,n,i){this._performStageTasks(this._visualHandlers,e,n,i)},t.prototype._performStageTasks=function(e,n,i,r){r=r||{};var o=!1,a=this;q(e,function(l,c){if(!(r.visualType&&r.visualType!==l.visualType)){var u=a._stageTaskMap.get(l.uid),f=u.seriesTaskMap,h=u.overallTask;if(h){var d,p=h.agentStubMap;p.each(function(v){s(r,v)&&(v.dirty(),d=!0)}),d&&h.dirty(),a.updatePayload(h,i);var g=a.getPerformArgs(h,r.block);p.each(function(v){v.perform(g)}),h.perform(g)&&(o=!0)}else f&&f.each(function(v,m){s(r,v)&&v.dirty();var y=a.getPerformArgs(v,r.block);y.skip=!l.performRawSeries&&n.isSeriesFiltered(v.context.model),a.updatePayload(v,i),v.perform(y)&&(o=!0)})}});function s(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=o||this.unfinished},t.prototype.performSeriesTasks=function(e){var n;e.eachSeries(function(i){n=i.dataTask.perform()||n}),this.unfinished=n||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var n=e.tail;do{if(n.__block){e.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},t.prototype.updatePayload=function(e,n){n!=="remain"&&(e.context.payload=n)},t.prototype._createSeriesStageTask=function(e,n,i,r){var o=this,a=n.seriesTaskMap,s=n.seriesTaskMap=Ct(),l=e.seriesType,c=e.getTargetSeries;e.createOnAllSeries?i.eachRawSeries(u):l?i.eachRawSeriesByType(l,u):c&&c(i,r).each(u);function u(f){var h=f.uid,d=s.set(h,a&&a.get(h)||jd({plan:Ase,reset:Ese,count:Ise}));d.context={model:f,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(f,d)}},t.prototype._createOverallStageTask=function(e,n,i,r){var o=this,a=n.overallTask=n.overallTask||jd({reset:wse});a.context={ecModel:i,api:r,overallReset:e.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=Ct(),c=e.seriesType,u=e.getTargetSeries,f=!0,h=!1,d="";Va(!e.createOnAllSeries,d),c?i.eachRawSeriesByType(c,p):u?u(i,r).each(p):(f=!1,q(i.getSeries(),p));function p(g){var v=g.uid,m=l.set(v,s&&s.get(v)||(h=!0,jd({reset:Mse,onDirty:Cse})));m.context={model:g,overallProgress:f},m.agent=a,m.__block=f,o._pipe(g,m)}h&&a.dirty()},t.prototype._pipe=function(e,n){var i=e.uid,r=this._pipelineMap.get(i);!r.head&&(r.head=n),r.tail&&r.tail.pipe(n),r.tail=n,n.__idxInPipeline=r.count++,n.__pipeline=r},t.wrapStageHandler=function(e,n){return St(e)&&(e={overallReset:e,seriesType:Rse(e)}),e.uid=N_("stageHandler"),n&&(e.visualType=n),e},t}();function wse(t){t.overallReset(t.ecModel,t.api,t.payload)}function Mse(t){return t.overallProgress&&Tse}function Tse(){this.agent.dirty(),this.getDownstream().dirty()}function Cse(){this.agent&&this.agent.dirty()}function Ase(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Ese(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Oi(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?rt(e,function(n,i){return Jk(i)}):Pse}var Pse=Jk(0);function Jk(t){return function(e,n){var i=n.data,r=n.resetDefines[t];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function Ise(t){return t.data.count()}function Rse(t){J0=null;try{t(Lp,Qk)}catch{}return J0}var Lp={},Qk={},J0;e$(Lp,VC);e$(Qk,Ak);Lp.eachSeriesByType=Lp.eachRawSeriesByType=function(t){J0=t};Lp.eachComponent=function(t){t.mainType==="series"&&t.subType&&(J0=t.subType)};function e$(t,e){for(var n in e.prototype)t[n]=Ji}var hD=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const Dse={color:hD,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],hD]};var yi="#B9B8CE",dD="#100C2A",_v=function(){return{axisLine:{lineStyle:{color:yi}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},pD=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],t$={darkMode:!0,color:pD,backgroundColor:dD,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:yi}},textStyle:{color:yi},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:yi}},dataZoom:{borderColor:"#71708A",textStyle:{color:yi},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:yi}},timeline:{lineStyle:{color:yi},label:{color:yi},controlStyle:{color:yi,borderColor:yi}},calendar:{itemStyle:{color:dD},dayLabel:{color:yi},monthLabel:{color:yi},yearLabel:{color:yi}},timeAxis:_v(),logAxis:_v(),valueAxis:_v(),categoryAxis:_v(),line:{symbol:"circle"},graph:{color:pD},gauge:{title:{color:yi},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:yi},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};t$.categoryAxis.splitLine.show=!1;var Ose=function(){function t(){}return t.prototype.normalizeQuery=function(e){var n={},i={},r={};if(Qe(e)){var o=Wo(e);n.mainType=o.main||null,n.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};q(e,function(l,c){for(var u=!1,f=0;f<a.length;f++){var h=a[f],d=c.lastIndexOf(h);if(d>0&&d===c.length-h.length){var p=c.slice(0,d);p!=="data"&&(n.mainType=p,n[h.toLowerCase()]=l,u=!0)}}s.hasOwnProperty(c)&&(i[c]=l,u=!0),u||(r[c]=l)})}return{cptQuery:n,dataQuery:i,otherQuery:r}},t.prototype.filter=function(e,n){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,s=i.view;if(!a||!s)return!0;var l=n.cptQuery,c=n.dataQuery;return u(l,a,"mainType")&&u(l,a,"subType")&&u(l,a,"index","componentIndex")&&u(l,a,"name")&&u(l,a,"id")&&u(c,o,"name")&&u(c,o,"dataIndex")&&u(c,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,n.otherQuery,r,o));function u(f,h,d,p){return f[d]==null||h[p||d]===f[d]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),oM=["symbol","symbolSize","symbolRotate","symbolOffset"],mD=oM.concat(["symbolKeepAspect"]),Lse={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var i={},r={},o=!1,a=0;a<oM.length;a++){var s=oM[a],l=t.get(s);St(l)?(o=!0,r[s]=l):i[s]=l}if(i.symbol=i.symbol||t.defaultSymbol,n.setVisual(Ie({legendIcon:t.legendIcon||i.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},i)),e.isSeriesFiltered(t))return;var c=cn(r);function u(f,h){for(var d=t.getRawValue(h),p=t.getDataParams(h),g=0;g<c.length;g++){var v=c[g];f.setItemVisual(h,v,r[v](d,p))}}return{dataEach:o?u:null}}},Nse={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var n=t.getData();function i(r,o){for(var a=r.getItemModel(o),s=0;s<mD.length;s++){var l=mD[s],c=a.getShallow(l,!0);c!=null&&r.setItemVisual(o,l,c)}}return{dataEach:n.hasItemOption?i:null}}};function Fse(t,e,n){switch(n){case"color":var i=t.getItemVisual(e,"style");return i[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n)}}function Bse(t,e){switch(e){case"color":var n=t.getVisual("style");return n[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function Use(t,e){function n(i,r){var o=[];return i.eachComponent({mainType:"series",subType:t,query:r},function(a){o.push(a.seriesIndex)}),o}q([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(i){e(i[0],function(r,o,a){r=Ie({},r),a.dispatchAction(Ie(r,{type:i[1],seriesIndex:n(o,r)}))})})}function Au(t,e,n,i,r){var o=t+e;n.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,c=r.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===s){var f=a.getData(),h=$c(f,r.fromActionPayload);n.trigger(o,{type:o,seriesId:a.id,name:Ge(h)?f.getName(h[0]):f.getName(h),selected:Qe(l)?l:Ie({},l)})}})}function zse(t,e,n){t.on("selectchanged",function(i){var r=n.getModel();i.isFromClick?(Au("map","selectchanged",e,r,i),Au("pie","selectchanged",e,r,i)):i.fromAction==="select"?(Au("map","selected",e,r,i),Au("pie","selected",e,r,i)):i.fromAction==="unselect"&&(Au("map","unselected",e,r,i),Au("pie","unselected",e,r,i))})}function xd(t,e,n){for(var i;t&&!(e(t)&&(i=t,n));)t=t.__hostTarget||t.parent;return i}var kse=Math.round(Math.random()*9),$se=typeof Object.defineProperty=="function",Hse=function(){function t(){this._id="__ec_inner_"+kse++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,n){var i=this._guard(e);return $se?Object.defineProperty(i,this._id,{value:n,enumerable:!1,configurable:!0}):i[this._id]=n,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}(),Vse=Zt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i+o),t.lineTo(n-r,i+o),t.closePath()}}),Gse=Zt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i),t.lineTo(n,i+o),t.lineTo(n-r,i),t.closePath()}}),Wse=Zt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,c=Math.asin(s/a),u=Math.cos(c)*a,f=Math.sin(c),h=Math.cos(c),d=a*.6,p=a*.7;t.moveTo(n-u,l+s),t.arc(n,l,a,Math.PI-c,Math.PI*2+c),t.bezierCurveTo(n+u-f*d,l+s+h*d,n,i-p,n,i),t.bezierCurveTo(n,i-p,n-u+f*d,l+s+h*d,n-u,l+s),t.closePath()}}),Xse=Zt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,o=e.y,a=i/3*2;t.moveTo(r,o),t.lineTo(r+a,o+n),t.lineTo(r,o+n/4*3),t.lineTo(r-a,o+n),t.lineTo(r,o),t.closePath()}}),jse={line:js,rect:Li,roundRect:Li,square:Li,circle:R_,diamond:Gse,pin:Wse,arrow:Xse,triangle:Vse},Yse={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var o=Math.min(n,i);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},aM={};q(jse,function(t,e){aM[e]=new t});var qse=Zt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var i=cz(t,e,n),r=this.shape;return r&&r.symbolType==="pin"&&e.position==="inside"&&(i.y=n.y+n.height*.4),i},buildPath:function(t,e,n){var i=e.symbolType;if(i!=="none"){var r=aM[i];r||(i="rect",r=aM[i]),Yse[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n)}}});function Kse(t,e){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=t:n.fill=t,this.markRedraw()}}function Np(t,e,n,i,r,o,a){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return t.indexOf("image://")===0?l=Zz(t.slice(8),new zt(e,n,i,r),a?"center":"cover"):t.indexOf("path://")===0?l=IC(t.slice(7),{},new zt(e,n,i,r),a?"center":"cover"):l=new qse({shape:{symbolType:t,x:e,y:n,width:i,height:r}}),l.__isEmptyBrush=s,l.setColor=Kse,o&&l.setColor(o),l}function Zse(t){return Ge(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function n$(t,e){if(t!=null)return Ge(t)||(t=[t,t]),[on(t[0],e[0])||0,on(Tt(t[1],t[0]),e[1])||0]}function uc(t){return isFinite(t)}function Jse(t,e,n){var i=e.x==null?0:e.x,r=e.x2==null?1:e.x2,o=e.y==null?0:e.y,a=e.y2==null?0:e.y2;e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),i=uc(i)?i:0,r=uc(r)?r:1,o=uc(o)?o:0,a=uc(a)?a:0;var s=t.createLinearGradient(i,o,r,a);return s}function Qse(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(a=a*i+n.x,s=s*r+n.y,l=l*o),a=uc(a)?a:.5,s=uc(s)?s:.5,l=l>=0&&uc(l)?l:.5;var c=t.createRadialGradient(a,s,0,a,s,l);return c}function sM(t,e,n){for(var i=e.type==="radial"?Qse(t,e,n):Jse(t,e,n),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function ele(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function bv(t){return parseInt(t,10)}function xv(t,e,n){var i=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(n[i]!=null&&n[i]!=="auto")return parseFloat(n[i]);var s=document.defaultView.getComputedStyle(t);return(t[r]||bv(s[i])||bv(t.style[i]))-(bv(s[o])||0)-(bv(s[a])||0)|0}function tle(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:tn(t)?[t]:Ge(t)?t:null}function i$(t){var e=t.style,n=e.lineDash&&e.lineWidth>0&&tle(e.lineDash,e.lineWidth),i=e.lineDashOffset;if(n){var r=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;r&&r!==1&&(n=rt(n,function(o){return o/r}),i/=r)}return[n,i]}var nle=new Hc(!0);function Q0(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function vD(t){return typeof t=="string"&&t!=="none"}function ey(t){var e=t.fill;return e!=null&&e!=="none"}function gD(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function yD(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function lM(t,e,n){var i=wz(e.image,e.__image,n);if(C_(i)){var r=t.createPattern(i,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*Ote),o.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(o)}return r}}function ile(t,e,n,i){var r,o=Q0(n),a=ey(n),s=n.strokePercent,l=s<1,c=!e.path;(!e.silent||l)&&c&&e.createPathProxy();var u=e.path||nle,f=e.__dirty;if(!i){var h=n.fill,d=n.stroke,p=a&&!!h.colorStops,g=o&&!!d.colorStops,v=a&&!!h.image,m=o&&!!d.image,y=void 0,_=void 0,b=void 0,T=void 0,x=void 0;(p||g)&&(x=e.getBoundingRect()),p&&(y=f?sM(t,h,x):e.__canvasFillGradient,e.__canvasFillGradient=y),g&&(_=f?sM(t,d,x):e.__canvasStrokeGradient,e.__canvasStrokeGradient=_),v&&(b=f||!e.__canvasFillPattern?lM(t,h,e):e.__canvasFillPattern,e.__canvasFillPattern=b),m&&(T=f||!e.__canvasStrokePattern?lM(t,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=b),p?t.fillStyle=y:v&&(b?t.fillStyle=b:a=!1),g?t.strokeStyle=_:m&&(T?t.strokeStyle=T:o=!1)}var S=e.getGlobalScale();u.setScale(S[0],S[1],e.segmentIgnoreThreshold);var C,M;t.setLineDash&&n.lineDash&&(r=i$(e),C=r[0],M=r[1]);var w=!0;(c||f&Ju)&&(u.setDPR(t.dpr),l?u.setContext(null):(u.setContext(t),w=!1),u.reset(),e.buildPath(u,e.shape,i),u.toStatic(),e.pathUpdated()),w&&u.rebuildPath(t,l?s:1),C&&(t.setLineDash(C),t.lineDashOffset=M),i||(n.strokeFirst?(o&&yD(t,n),a&&gD(t,n)):(a&&gD(t,n),o&&yD(t,n))),C&&t.setLineDash([])}function rle(t,e,n){var i=e.__image=wz(n.image,e.__image,e,e.onload);if(!(!i||!C_(i))){var r=n.x||0,o=n.y||0,a=e.getWidth(),s=e.getHeight(),l=i.width/i.height;if(a==null&&s!=null?a=s*l:s==null&&a!=null?s=a/l:a==null&&s==null&&(a=i.width,s=i.height),n.sWidth&&n.sHeight){var c=n.sx||0,u=n.sy||0;t.drawImage(i,c,u,n.sWidth,n.sHeight,r,o,a,s)}else if(n.sx&&n.sy){var c=n.sx,u=n.sy,f=a-c,h=s-u;t.drawImage(i,c,u,f,h,r,o,a,s)}else t.drawImage(i,r,o,a,s)}}function ole(t,e,n){var i,r=n.text;if(r!=null&&(r+=""),r){t.font=n.font||kc,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var o=void 0,a=void 0;t.setLineDash&&n.lineDash&&(i=i$(e),o=i[0],a=i[1]),o&&(t.setLineDash(o),t.lineDashOffset=a),n.strokeFirst?(Q0(n)&&t.strokeText(r,n.x,n.y),ey(n)&&t.fillText(r,n.x,n.y)):(ey(n)&&t.fillText(r,n.x,n.y),Q0(n)&&t.strokeText(r,n.x,n.y)),o&&t.setLineDash([])}}var _D=["shadowBlur","shadowOffsetX","shadowOffsetY"],bD=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function r$(t,e,n,i,r){var o=!1;if(!i&&(n=n||{},e===n))return!1;if(i||e.opacity!==n.opacity){Yi(t,r),o=!0;var a=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(a)?wc.opacity:a}(i||e.blend!==n.blend)&&(o||(Yi(t,r),o=!0),t.globalCompositeOperation=e.blend||wc.blend);for(var s=0;s<_D.length;s++){var l=_D[s];(i||e[l]!==n[l])&&(o||(Yi(t,r),o=!0),t[l]=t.dpr*(e[l]||0))}return(i||e.shadowColor!==n.shadowColor)&&(o||(Yi(t,r),o=!0),t.shadowColor=e.shadowColor||wc.shadowColor),o}function xD(t,e,n,i,r){var o=Fp(e,r.inHover),a=i?null:n&&Fp(n,r.inHover)||{};if(o===a)return!1;var s=r$(t,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(Yi(t,r),s=!0),vD(o.fill)&&(t.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(Yi(t,r),s=!0),vD(o.stroke)&&(t.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(Yi(t,r),s=!0),t.globalAlpha=o.opacity==null?1:o.opacity),e.hasStroke()){var l=o.lineWidth,c=l/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==c&&(s||(Yi(t,r),s=!0),t.lineWidth=c)}for(var u=0;u<bD.length;u++){var f=bD[u],h=f[0];(i||o[h]!==a[h])&&(s||(Yi(t,r),s=!0),t[h]=o[h]||f[1])}return s}function ale(t,e,n,i,r){return r$(t,Fp(e,r.inHover),n&&Fp(n,r.inHover),i,r)}function o$(t,e){var n=e.transform,i=t.dpr||1;n?t.setTransform(i*n[0],i*n[1],i*n[2],i*n[3],i*n[4],i*n[5]):t.setTransform(i,0,0,i,0,0)}function sle(t,e,n){for(var i=!1,r=0;r<t.length;r++){var o=t[r];i=i||o.isZeroArea(),o$(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=i}function lle(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var SD=1,wD=2,MD=3,TD=4;function cle(t){var e=ey(t),n=Q0(t);return!(t.lineDash||!(+e^+n)||e&&typeof t.fill!="string"||n&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function Yi(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function Fp(t,e){return e&&t.__hoverStyle||t.style}function a$(t,e){fc(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function fc(t,e,n,i){var r=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){e.__dirty&=~dr,e.__isRendered=!1;return}var o=e.__clipPaths,a=n.prevElClipPaths,s=!1,l=!1;if((!a||ele(o,a))&&(a&&a.length&&(Yi(t,n),t.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(Yi(t,n),t.save(),sle(o,t,n),s=!0),n.prevElClipPaths=o),n.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=n.prevEl;c||(l=s=!0);var u=e instanceof Zt&&e.autoBatch&&cle(e.style);s||lle(r,c.transform)?(Yi(t,n),o$(t,e)):u||Yi(t,n);var f=Fp(e,n.inHover);e instanceof Zt?(n.lastDrawType!==SD&&(l=!0,n.lastDrawType=SD),xD(t,e,c,l,n),(!u||!n.batchFill&&!n.batchStroke)&&t.beginPath(),ile(t,e,f,u),u&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):e instanceof $0?(n.lastDrawType!==MD&&(l=!0,n.lastDrawType=MD),xD(t,e,c,l,n),ole(t,e,f)):e instanceof rl?(n.lastDrawType!==wD&&(l=!0,n.lastDrawType=wD),ale(t,e,c,l,n),rle(t,e,f)):e.getTemporalDisplayables&&(n.lastDrawType!==TD&&(l=!0,n.lastDrawType=TD),ule(t,e,n)),u&&i&&Yi(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}function ule(t,e,n){var i=e.getDisplayables(),r=e.getTemporalDisplayables();t.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},a,s;for(a=e.getCursor(),s=i.length;a<s;a++){var l=i[a];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),fc(t,l,o,a===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}for(var c=0,u=r.length;c<u;c++){var l=r[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),fc(t,l,o,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var fS=new Hse,CD=new am(100),AD=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function ED(t,e){if(t==="none")return null;var n=e.getDevicePixelRatio(),i=e.getZr(),r=i.painter.type==="svg";t.dirty&&fS.delete(t);var o=fS.get(t);if(o)return o;var a=Vt(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});a.backgroundColor==="none"&&(a.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/n,fS.set(t,s),t.dirty=!1,s;function l(c){for(var u=[n],f=!0,h=0;h<AD.length;++h){var d=a[AD[h]];if(d!=null&&!Ge(d)&&!Qe(d)&&!tn(d)&&typeof d!="boolean"){f=!1;break}u.push(d)}var p;if(f){p=u.join(",")+(r?"-svg":"");var g=CD.get(p);g&&(r?c.svgElement=g:c.image=g)}var v=l$(a.dashArrayX),m=fle(a.dashArrayY),y=s$(a.symbol),_=hle(v),b=c$(m),T=!r&&ch.createCanvas(),x=r&&{tag:"g",attrs:{},key:"dcl",children:[]},S=M(),C;T&&(T.width=S.width*n,T.height=S.height*n,C=T.getContext("2d")),w(),f&&CD.put(p,T||x),c.image=T,c.svgElement=x,c.svgWidth=S.width,c.svgHeight=S.height;function M(){for(var A=1,P=0,R=_.length;P<R;++P)A=$R(A,_[P]);for(var L=1,P=0,R=y.length;P<R;++P)L=$R(L,y[P].length);A*=L;var E=b*_.length*y.length;return{width:Math.max(1,Math.min(A,a.maxTileWidth)),height:Math.max(1,Math.min(E,a.maxTileHeight))}}function w(){C&&(C.clearRect(0,0,T.width,T.height),a.backgroundColor&&(C.fillStyle=a.backgroundColor,C.fillRect(0,0,T.width,T.height)));for(var A=0,P=0;P<m.length;++P)A+=m[P];if(A<=0)return;for(var R=-b,L=0,E=0,O=0;R<S.height;){if(L%2===0){for(var $=E/2%y.length,H=0,V=0,Y=0;H<S.width*2;){for(var ae=0,P=0;P<v[O].length;++P)ae+=v[O][P];if(ae<=0)break;if(V%2===0){var oe=(1-a.symbolSize)*.5,xe=H+v[O][V]*oe,Z=R+m[L]*oe,ve=v[O][V]*a.symbolSize,ye=m[L]*a.symbolSize,ge=Y/2%y[$].length;Ce(xe,Z,ve,ye,y[$][ge])}H+=v[O][V],++Y,++V,V===v[O].length&&(V=0)}++O,O===v.length&&(O=0)}R+=m[L],++E,++L,L===m.length&&(L=0)}function Ce(ce,J,Q,D,U){var I=r?1:n,K=Np(U,ce*I,J*I,Q*I,D*I,a.color,a.symbolKeepAspect);if(r){var X=i.painter.renderOneToVNode(K);X&&x.children.push(X)}else a$(C,K)}}}}function s$(t){if(!t||t.length===0)return[["rect"]];if(Qe(t))return[[t]];for(var e=!0,n=0;n<t.length;++n)if(!Qe(t[n])){e=!1;break}if(e)return s$([t]);for(var i=[],n=0;n<t.length;++n)Qe(t[n])?i.push([t[n]]):i.push(t[n]);return i}function l$(t){if(!t||t.length===0)return[[0,0]];if(tn(t)){var e=Math.ceil(t);return[[e,e]]}for(var n=!0,i=0;i<t.length;++i)if(!tn(t[i])){n=!1;break}if(n)return l$([t]);for(var r=[],i=0;i<t.length;++i)if(tn(t[i])){var e=Math.ceil(t[i]);r.push([e,e])}else{var e=rt(t[i],function(s){return Math.ceil(s)});e.length%2===1?r.push(e.concat(e)):r.push(e)}return r}function fle(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(tn(t)){var e=Math.ceil(t);return[e,e]}var n=rt(t,function(i){return Math.ceil(i)});return t.length%2?n.concat(n):n}function hle(t){return rt(t,function(e){return c$(e)})}function c$(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2===1?e*2:e}function dle(t,e){t.eachRawSeries(function(n){if(!t.isSeriesFiltered(n)){var i=n.getData();i.hasItemVisual()&&i.each(function(a){var s=i.getItemVisual(a,"decal");if(s){var l=i.ensureUniqueItemVisual(a,"style");l.decal=ED(s,e)}});var r=i.getVisual("decal");if(r){var o=i.getVisual("style");o.decal=ED(r,e)}}})}var uo=new sa,u$={};function ple(t,e){u$[t]=e}function mle(t){return u$[t]}var vle=1,gle=800,yle=900,_le=1e3,ble=2e3,xle=5e3,f$=1e3,Sle=1100,qC=2e3,h$=3e3,wle=4e3,G_=4500,Mle=4600,Tle=5e3,Cle=6e3,d$=7e3,Ale={PROCESSOR:{FILTER:_le,SERIES_FILTER:gle,STATISTIC:xle},VISUAL:{LAYOUT:f$,PROGRESSIVE_LAYOUT:Sle,GLOBAL:qC,CHART:h$,POST_CHART_LAYOUT:Mle,COMPONENT:wle,BRUSH:Tle,CHART_ITEM:G_,ARIA:Cle,DECAL:d$}},oi="__flagInMainProcess",ki="__pendingUpdate",hS="__needsUpdateStatus",PD=/^[a-zA-Z0-9_]+$/,dS="__connectUpdateStatus",ID=0,Ele=1,Ple=2;function p$(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.isDisposed()){this.id;return}return v$(this,t,e)}}function m$(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return v$(this,t,e)}}function v$(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),sa.prototype[e].apply(t,n)}var g$=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(sa),y$=g$.prototype;y$.on=m$("on");y$.off=m$("off");var Eu,pS,Sv,ls,mS,vS,gS,Vh,Gh,RD,DD,yS,OD,wv,LD,_$,Dr,ND,b$=function(t){Ve(e,t);function e(n,i,r){var o=t.call(this,new Ose)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},Qe(i)&&(i=x$[i]),o._dom=n;var a="canvas",s="auto",l=!1;r.ssr;var c=o._zr=zR(n,{renderer:r.renderer||a,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:Tt(r.useDirtyRect,l),useCoarsePointer:Tt(r.useCoarsePointer,s),pointerSize:r.pointerSize});o._ssr=r.ssr,o._throttledZrFlush=YC(an(c.flush,c),17),i=Dt(i),i&&Pk(i,!0),o._theme=i,o._locale=$oe(r.locale||sk),o._coordSysMgr=new GC;var u=o._api=LD(o);function f(h,d){return h.__prio-d.__prio}return kg(ny,f),kg(cM,f),o._scheduler=new Zk(o,u,cM,ny),o._messageCenter=new g$,o._initEvents(),o.resize=an(o.resize,o),c.animation.on("frame",o._onframe,o),RD(c,o),DD(c,o),ww(o),o}return e.prototype._onframe=function(){if(!this._disposed){ND(this);var n=this._scheduler;if(this[ki]){var i=this[ki].silent;this[oi]=!0;try{Eu(this),ls.update.call(this,null,this[ki].updateParams)}catch(l){throw this[oi]=!1,this[ki]=null,l}this._zr.flush(),this[oi]=!1,this[ki]=null,Vh.call(this,i),Gh.call(this,i)}else if(n.unfinished){var r=vle,o=this._model,a=this._api;n.unfinished=!1;do{var s=+new Date;n.performSeriesTasks(o),n.performDataProcessorTasks(o),vS(this,o),n.performVisualTasks(o),wv(this,this._model,a,"remain",{}),r-=+new Date-s}while(r>0&&n.unfinished);n.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(n,i,r){if(!this[oi]){if(this._disposed){this.id;return}var o,a,s;if(nt(i)&&(r=i.lazyUpdate,o=i.silent,a=i.replaceMerge,s=i.transition,i=i.notMerge),this[oi]=!0,!this._model||i){var l=new pae(this._api),c=this._theme,u=this._model=new VC;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(n,{replaceMerge:a},uM);var f={seriesTransition:s,optionChanged:!0};if(r)this[ki]={silent:o,updateParams:f},this[oi]=!1,this.getZr().wakeUp();else{try{Eu(this),ls.update.call(this,null,f)}catch(h){throw this[ki]=null,this[oi]=!1,h}this._ssr||this._zr.flush(),this[ki]=null,this[oi]=!1,Vh.call(this,o),Gh.call(this,o)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||pt.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},e.prototype.renderToCanvas=function(n){n=n||{};var i=this._zr.painter;return i.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(n){n=n||{};var i=this._zr.painter;return i.renderToString({useViewBox:n.useViewBox})},e.prototype.getSvgDataURL=function(){if(pt.svgSupported){var n=this._zr,i=n.storage.getDisplayList();return q(i,function(r){r.stopAnimation(null,!0)}),n.painter.toDataURL()}},e.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var i=n.excludeComponents,r=this._model,o=[],a=this;q(i,function(l){r.eachComponent({mainType:l},function(c){var u=a._componentsMap[c.__viewId];u.group.ignore||(o.push(u),u.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return q(o,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var i=n.type==="svg",r=this.group,o=Math.min,a=Math.max,s=1/0;if(FD[r]){var l=s,c=s,u=-s,f=-s,h=[],d=n&&n.pixelRatio||this.getDevicePixelRatio();q(qd,function(_,b){if(_.group===r){var T=i?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(Dt(n)),x=_.getDom().getBoundingClientRect();l=o(x.left,l),c=o(x.top,c),u=a(x.right,u),f=a(x.bottom,f),h.push({dom:T,left:x.left,top:x.top})}}),l*=d,c*=d,u*=d,f*=d;var p=u-l,g=f-c,v=ch.createCanvas(),m=zR(v,{renderer:i?"svg":"canvas"});if(m.resize({width:p,height:g}),i){var y="";return q(h,function(_){var b=_.left-l,T=_.top-c;y+='<g transform="translate('+b+","+T+')">'+_.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=y,n.connectedBackgroundColor&&m.painter.setBackgroundColor(n.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return n.connectedBackgroundColor&&m.add(new Li({shape:{x:0,y:0,width:p,height:g},style:{fill:n.connectedBackgroundColor}})),q(h,function(_){var b=new rl({style:{x:_.left*d-l,y:_.top*d-c,image:_.dom}});m.add(b)}),m.refreshImmediately(),v.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},e.prototype.convertToPixel=function(n,i){return mS(this,"convertToPixel",n,i)},e.prototype.convertFromPixel=function(n,i){return mS(this,"convertFromPixel",n,i)},e.prototype.containPixel=function(n,i){if(this._disposed){this.id;return}var r=this._model,o,a=Ux(r,n);return q(a,function(s,l){l.indexOf("Models")>=0&&q(s,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)o=o||!!u.containPoint(i);else if(l==="seriesModels"){var f=this._chartsMap[c.__viewId];f&&f.containPoint&&(o=o||f.containPoint(i,c))}},this)},this),!!o},e.prototype.getVisual=function(n,i){var r=this._model,o=Ux(r,n,{defaultMainType:"series"}),a=o.seriesModel,s=a.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?s.indexOfRawIndex(o.dataIndex):null;return l!=null?Fse(s,l,i):Bse(s,i)},e.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},e.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},e.prototype._initEvents=function(){var n=this;q(Ile,function(i){var r=function(o){var a=n.getModel(),s=o.target,l,c=i==="globalout";if(c?l={}:s&&xd(s,function(p){var g=Yt(p);if(g&&g.dataIndex!=null){var v=g.dataModel||a.getSeriesByIndex(g.seriesIndex);return l=v&&v.getDataParams(g.dataIndex,g.dataType,s)||{},!0}else if(g.eventData)return l=Ie({},g.eventData),!0},!0),l){var u=l.componentType,f=l.componentIndex;(u==="markLine"||u==="markPoint"||u==="markArea")&&(u="series",f=l.seriesIndex);var h=u&&f!=null&&a.getComponent(u,f),d=h&&n[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];l.event=o,l.type=i,n._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:h,view:d},n.trigger(i,l)}};r.zrEventfulCallAtLast=!0,n._zr.on(i,r,n)}),q(Yd,function(i,r){n._messageCenter.on(r,function(o){this.trigger(r,o)},n)}),q(["selectchanged"],function(i){n._messageCenter.on(i,function(r){this.trigger(i,r)},n)}),zse(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&bz(this.getDom(),ZC,"");var i=this,r=i._api,o=i._model;q(i._componentsViews,function(a){a.dispose(o,r)}),q(i._chartsViews,function(a){a.dispose(o,r)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete qd[i.id]},e.prototype.resize=function(n){if(!this[oi]){if(this._disposed){this.id;return}this._zr.resize(n);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!i){var r=i.resetOption("media"),o=n&&n.silent;this[ki]&&(o==null&&(o=this[ki].silent),r=!0,this[ki]=null),this[oi]=!0;try{r&&Eu(this),ls.update.call(this,{type:"resize",animation:Ie({duration:0},n&&n.animation)})}catch(a){throw this[oi]=!1,a}this[oi]=!1,Vh.call(this,o),Gh.call(this,o)}}},e.prototype.showLoading=function(n,i){if(this._disposed){this.id;return}if(nt(n)&&(i=n,n=""),n=n||"default",this.hideLoading(),!!fM[n]){var r=fM[n](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(n){var i=Ie({},n);return i.type=Yd[n.type],i},e.prototype.dispatchAction=function(n,i){if(this._disposed){this.id;return}if(nt(i)||(i={silent:!!i}),!!ty[n.type]&&this._model){if(this[oi]){this._pendingActions.push(n);return}var r=i.silent;gS.call(this,n,r);var o=i.flush;o?this._zr.flush():o!==!1&&pt.browser.weChat&&this._throttledZrFlush(),Vh.call(this,r),Gh.call(this,r)}},e.prototype.updateLabelLayout=function(){uo.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(n){if(this._disposed){this.id;return}var i=n.seriesIndex,r=this.getModel(),o=r.getSeriesByIndex(i);o.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){Eu=function(f){var h=f._scheduler;h.restorePipelines(f._model),h.prepareStageTasks(),pS(f,!0),pS(f,!1),h.plan()},pS=function(f,h){for(var d=f._model,p=f._scheduler,g=h?f._componentsViews:f._chartsViews,v=h?f._componentsMap:f._chartsMap,m=f._zr,y=f._api,_=0;_<g.length;_++)g[_].__alive=!1;h?d.eachComponent(function(x,S){x!=="series"&&b(S)}):d.eachSeries(b);function b(x){var S=x.__requireNewView;x.__requireNewView=!1;var C="_ec_"+x.id+"_"+x.type,M=!S&&v[C];if(!M){var w=Wo(x.type),A=h?ea.getClass(w.main,w.sub):_o.getClass(w.sub);M=new A,M.init(d,y),v[C]=M,g.push(M),m.add(M.group)}x.__viewId=M.__id=C,M.__alive=!0,M.__model=x,M.group.__ecComponentInfo={mainType:x.mainType,index:x.componentIndex},!h&&p.prepareView(M,x,d,y)}for(var _=0;_<g.length;){var T=g[_];T.__alive?_++:(!h&&T.renderTask.dispose(),m.remove(T.group),T.dispose(d,y),g.splice(_,1),v[T.__id]===T&&delete v[T.__id],T.__id=T.group.__ecComponentInfo=null)}},Sv=function(f,h,d,p,g){var v=f._model;if(v.setUpdatePayload(d),!p){q([].concat(f._componentsViews).concat(f._chartsViews),T);return}var m={};m[p+"Id"]=d[p+"Id"],m[p+"Index"]=d[p+"Index"],m[p+"Name"]=d[p+"Name"];var y={mainType:p,query:m};g&&(y.subType=g);var _=d.excludeSeriesId,b;_!=null&&(b=Ct(),q(Oi(_),function(x){var S=qo(x,null);S!=null&&b.set(S,!0)})),v&&v.eachComponent(y,function(x){var S=b&&b.get(x.id)!=null;if(!S)if(p2(d))if(x instanceof Xa)d.type===Mc&&!d.notBlur&&!x.get(["emphasis","disabled"])&&Mre(x,d,f._api);else{var C=MC(x.mainType,x.componentIndex,d.name,f._api),M=C.focusSelf,w=C.dispatchers;d.type===Mc&&M&&!d.notBlur&&Xw(x.mainType,x.componentIndex,f._api),w&&q(w,function(A){d.type===Mc?V0(A):G0(A)})}else qw(d)&&x instanceof Xa&&(Are(x,d,f._api),h2(x),Dr(f))},f),v&&v.eachComponent(y,function(x){var S=b&&b.get(x.id)!=null;S||T(f[p==="series"?"_chartsMap":"_componentsMap"][x.__viewId])},f);function T(x){x&&x.__alive&&x[h]&&x[h](x.__model,v,f._api,d)}},ls={prepareAndUpdate:function(f){Eu(this),ls.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,h){var d=this._model,p=this._api,g=this._zr,v=this._coordSysMgr,m=this._scheduler;if(d){d.setUpdatePayload(f),m.restoreData(d,f),m.performSeriesTasks(d),v.create(d,p),m.performDataProcessorTasks(d,f),vS(this,d),v.update(d,p),n(d),m.performVisualTasks(d,f),yS(this,d,p,f,h);var y=d.get("backgroundColor")||"transparent",_=d.get("darkMode");g.setBackgroundColor(y),_!=null&&_!=="auto"&&g.setDarkMode(_),uo.trigger("afterupdate",d,p)}},updateTransform:function(f){var h=this,d=this._model,p=this._api;if(d){d.setUpdatePayload(f);var g=[];d.eachComponent(function(m,y){if(m!=="series"){var _=h.getViewOfComponentModel(y);if(_&&_.__alive)if(_.updateTransform){var b=_.updateTransform(y,d,p,f);b&&b.update&&g.push(_)}else g.push(_)}});var v=Ct();d.eachSeries(function(m){var y=h._chartsMap[m.__viewId];if(y.updateTransform){var _=y.updateTransform(m,d,p,f);_&&_.update&&v.set(m.uid,1)}else v.set(m.uid,1)}),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0,dirtyMap:v}),wv(this,d,p,f,{},v),uo.trigger("afterupdate",d,p)}},updateView:function(f){var h=this._model;h&&(h.setUpdatePayload(f),_o.markUpdateMethod(f,"updateView"),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0}),yS(this,h,this._api,f,{}),uo.trigger("afterupdate",h,this._api))},updateVisual:function(f){var h=this,d=this._model;d&&(d.setUpdatePayload(f),d.eachSeries(function(p){p.getData().clearAllVisual()}),_o.markUpdateMethod(f,"updateVisual"),n(d),this._scheduler.performVisualTasks(d,f,{visualType:"visual",setDirty:!0}),d.eachComponent(function(p,g){if(p!=="series"){var v=h.getViewOfComponentModel(g);v&&v.__alive&&v.updateVisual(g,d,h._api,f)}}),d.eachSeries(function(p){var g=h._chartsMap[p.__viewId];g.updateVisual(p,d,h._api,f)}),uo.trigger("afterupdate",d,this._api))},updateLayout:function(f){ls.update.call(this,f)}},mS=function(f,h,d,p){if(f._disposed){f.id;return}for(var g=f._model,v=f._coordSysMgr.getCoordinateSystems(),m,y=Ux(g,d),_=0;_<v.length;_++){var b=v[_];if(b[h]&&(m=b[h](g,y,p))!=null)return m}},vS=function(f,h){var d=f._chartsMap,p=f._scheduler;h.eachSeries(function(g){p.updateStreamModes(g,d[g.__viewId])})},gS=function(f,h){var d=this,p=this.getModel(),g=f.type,v=f.escapeConnect,m=ty[g],y=m.actionInfo,_=(y.update||"update").split(":"),b=_.pop(),T=_[0]!=null&&Wo(_[0]);this[oi]=!0;var x=[f],S=!1;f.batch&&(S=!0,x=rt(f.batch,function(L){return L=Vt(Ie({},L),f),L.batch=null,L}));var C=[],M,w=qw(f),A=p2(f);if(A&&kz(this._api),q(x,function(L){if(M=m.action(L,d._model,d._api),M=M||Ie({},L),M.type=y.event||M.type,C.push(M),A){var E=_C(f),O=E.queryOptionMap,$=E.mainTypeSpecified,H=$?O.keys()[0]:"series";Sv(d,b,L,H),Dr(d)}else w?(Sv(d,b,L,"series"),Dr(d)):T&&Sv(d,b,L,T.main,T.sub)}),b!=="none"&&!A&&!w&&!T)try{this[ki]?(Eu(this),ls.update.call(this,f),this[ki]=null):ls[b].call(this,f)}catch(L){throw this[oi]=!1,L}if(S?M={type:y.event||g,escapeConnect:v,batch:C}:M=C[0],this[oi]=!1,!h){var P=this._messageCenter;if(P.trigger(M.type,M),w){var R={type:"selectchanged",escapeConnect:v,selected:Ere(p),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};P.trigger(R.type,R)}}},Vh=function(f){for(var h=this._pendingActions;h.length;){var d=h.shift();gS.call(this,d,f)}},Gh=function(f){!f&&this.trigger("updated")},RD=function(f,h){f.on("rendered",function(d){h.trigger("rendered",d),f.animation.isFinished()&&!h[ki]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},DD=function(f,h){f.on("mouseover",function(d){var p=d.target,g=xd(p,Yw);g&&(Tre(g,d,h._api),Dr(h))}).on("mouseout",function(d){var p=d.target,g=xd(p,Yw);g&&(Cre(g,d,h._api),Dr(h))}).on("click",function(d){var p=d.target,g=xd(p,function(y){return Yt(y).dataIndex!=null},!0);if(g){var v=g.selected?"unselect":"select",m=Yt(g);h._api.dispatchAction({type:v,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(h){h.clearColorPalette()})}function i(f){var h=[],d=[],p=!1;if(f.eachComponent(function(y,_){var b=_.get("zlevel")||0,T=_.get("z")||0,x=_.getZLevelKey();p=p||!!x,(y==="series"?d:h).push({zlevel:b,z:T,idx:_.componentIndex,type:y,key:x})}),p){var g=h.concat(d),v,m;kg(g,function(y,_){return y.zlevel===_.zlevel?y.z-_.z:y.zlevel-_.zlevel}),q(g,function(y){var _=f.getComponent(y.type,y.idx),b=y.zlevel,T=y.key;v!=null&&(b=Math.max(v,b)),T?(b===v&&T!==m&&b++,m=T):m&&(b===v&&b++,m=""),v=b,_.setZLevel(b)})}}yS=function(f,h,d,p,g){i(h),OD(f,h,d,p,g),q(f._chartsViews,function(v){v.__alive=!1}),wv(f,h,d,p,g),q(f._chartsViews,function(v){v.__alive||v.remove(h,d)})},OD=function(f,h,d,p,g,v){q(v||f._componentsViews,function(m){var y=m.__model;c(y,m),m.render(y,h,d,p),s(y,m),u(y,m)})},wv=function(f,h,d,p,g,v){var m=f._scheduler;g=Ie(g||{},{updatedSeries:h.getSeries()}),uo.trigger("series:beforeupdate",h,d,g);var y=!1;h.eachSeries(function(_){var b=f._chartsMap[_.__viewId];b.__alive=!0;var T=b.renderTask;m.updatePayload(T,p),c(_,b),v&&v.get(_.uid)&&T.dirty(),T.perform(m.getPerformArgs(T))&&(y=!0),b.group.silent=!!_.get("silent"),a(_,b),h2(_)}),m.unfinished=y||m.unfinished,uo.trigger("series:layoutlabels",h,d,g),uo.trigger("series:transition",h,d,g),h.eachSeries(function(_){var b=f._chartsMap[_.__viewId];s(_,b),u(_,b)}),o(f,h),uo.trigger("series:afterupdate",h,d,g)},Dr=function(f){f[hS]=!0,f.getZr().wakeUp()},ND=function(f){f[hS]&&(f.getZr().storage.traverse(function(h){Wd(h)||r(h)}),f[hS]=!1)};function r(f){for(var h=[],d=f.currentStates,p=0;p<d.length;p++){var g=d[p];g==="emphasis"||g==="blur"||g==="select"||h.push(g)}f.selected&&f.states.select&&h.push("select"),f.hoverState===P_&&f.states.emphasis?h.push("emphasis"):f.hoverState===E_&&f.states.blur&&h.push("blur"),f.useStates(h)}function o(f,h){var d=f._zr,p=d.storage,g=0;p.traverse(function(v){v.isGroup||g++}),g>h.get("hoverLayerThreshold")&&!pt.node&&!pt.worker&&h.eachSeries(function(v){if(!v.preventUsingHoverLayer){var m=f._chartsMap[v.__viewId];m.__alive&&m.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function a(f,h){var d=f.get("blendMode")||null;h.eachRendered(function(p){p.isGroup||(p.style.blend=d)})}function s(f,h){if(!f.preventAutoZ){var d=f.get("z")||0,p=f.get("zlevel")||0;h.eachRendered(function(g){return l(g,d,p,-1/0),!0})}}function l(f,h,d,p){var g=f.getTextContent(),v=f.getTextGuideLine(),m=f.isGroup;if(m)for(var y=f.childrenRef(),_=0;_<y.length;_++)p=Math.max(l(y[_],h,d,p),p);else f.z=h,f.zlevel=d,p=Math.max(f.z2,p);if(g&&(g.z=h,g.zlevel=d,isFinite(p)&&(g.z2=p+2)),v){var b=f.textGuideLineConfig;v.z=h,v.zlevel=d,isFinite(p)&&(v.z2=p+(b&&b.showAbove?1:-1))}return p}function c(f,h){h.eachRendered(function(d){if(!Wd(d)){var p=d.getTextContent(),g=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function u(f,h){var d=f.getModel("stateAnimation"),p=f.isAnimationEnabled(),g=d.get("duration"),v=g>0?{duration:g,delay:d.get("delay"),easing:d.get("easing")}:null;h.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Wd(m))return;if(m instanceof Zt&&Lre(m),m.__dirty){var y=m.prevStates;y&&m.useStates(y)}if(p){m.stateTransition=v;var _=m.getTextContent(),b=m.getTextGuideLine();_&&(_.stateTransition=v),b&&(b.stateTransition=v)}m.__dirty&&r(m)}})}LD=function(f){return new(function(h){Ve(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(p){for(;p;){var g=p.__ecComponentInfo;if(g!=null)return f._model.getComponent(g.mainType,g.index);p=p.parent}},d.prototype.enterEmphasis=function(p,g){V0(p,g),Dr(f)},d.prototype.leaveEmphasis=function(p,g){G0(p,g),Dr(f)},d.prototype.enterBlur=function(p){wre(p),Dr(f)},d.prototype.leaveBlur=function(p){Fz(p),Dr(f)},d.prototype.enterSelect=function(p){Bz(p),Dr(f)},d.prototype.leaveSelect=function(p){Uz(p),Dr(f)},d.prototype.getModel=function(){return f.getModel()},d.prototype.getViewOfComponentModel=function(p){return f.getViewOfComponentModel(p)},d.prototype.getViewOfSeriesModel=function(p){return f.getViewOfSeriesModel(p)},d}(Ak))(f)},_$=function(f){function h(d,p){for(var g=0;g<d.length;g++){var v=d[g];v[dS]=p}}q(Yd,function(d,p){f._messageCenter.on(p,function(g){if(FD[f.group]&&f[dS]!==ID){if(g&&g.escapeConnect)return;var v=f.makeActionFromEvent(g),m=[];q(qd,function(y){y!==f&&y.group===f.group&&m.push(y)}),h(m,ID),q(m,function(y){y[dS]!==Ele&&y.dispatchAction(v)}),h(m,Ple)}})})}}(),e}(sa),KC=b$.prototype;KC.on=p$("on");KC.off=p$("off");KC.one=function(t,e,n){var i=this;function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];e&&e.apply&&e.apply(this,o),i.off(t,r)}this.on.call(this,t,r,n)};var Ile=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],ty={},Yd={},cM=[],uM=[],ny=[],x$={},fM={},qd={},FD={},Rle=+new Date-0,ZC="_echarts_instance_";function Dle(t,e,n){var i=!(n&&n.ssr);if(i){var r=Ole(t);if(r)return r}var o=new b$(t,e,n);return o.id="ec_"+Rle++,qd[o.id]=o,i&&bz(t,ZC,o.id),_$(o),uo.trigger("afterinit",o),o}function Ole(t){return qd[die(t,ZC)]}function S$(t,e){x$[t]=e}function w$(t){qt(uM,t)<0&&uM.push(t)}function M$(t,e){QC(cM,t,e,ble)}function Lle(t){JC("afterinit",t)}function Nle(t){JC("afterupdate",t)}function JC(t,e){uo.on(t,e)}function dh(t,e,n){St(e)&&(n=e,e="");var i=nt(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,!Yd[e]&&(Va(PD.test(i)&&PD.test(e)),ty[i]||(ty[i]={action:n,actionInfo:t}),Yd[e]=i)}function Fle(t,e){GC.register(t,e)}function Ble(t,e){QC(ny,t,e,f$,"layout")}function su(t,e){QC(ny,t,e,h$,"visual")}var BD=[];function QC(t,e,n,i,r){if((St(e)||nt(e))&&(n=e,e=i),!(qt(BD,n)>=0)){BD.push(n);var o=Zk.wrapStageHandler(n,r);o.__prio=e,o.__raw=n,t.push(o)}}function T$(t,e){fM[t]=e}function Ule(t,e,n){var i=mle("registerMap");i&&i(t,e,n)}var zle=Gae;su(qC,_se);su(G_,bse);su(G_,xse);su(qC,Lse);su(G_,Nse);su(d$,dle);w$(Pk);M$(yle,Cae);T$("default",Sse);dh({type:Mc,event:Mc,update:Mc},Ji);dh({type:Xg,event:Xg,update:Xg},Ji);dh({type:Hd,event:Hd,update:Hd},Ji);dh({type:jg,event:jg,update:jg},Ji);dh({type:Vd,event:Vd,update:Vd},Ji);S$("light",Dse);S$("dark",t$);function Wh(t){return t==null?0:t.length||1}function UD(t){return t}var kle=function(){function t(e,n,i,r,o,a){this._old=e,this._new=n,this._oldKeyGetter=i||UD,this._newKeyGetter=r||UD,this.context=o,this._diffModeMultiple=a==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,n=this._new,i={},r=new Array(e.length),o=new Array(n.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(n,i,o,"_newKeyGetter");for(var a=0;a<e.length;a++){var s=r[a],l=i[s],c=Wh(l);if(c>1){var u=l.shift();l.length===1&&(i[s]=l[0]),this._update&&this._update(u,a)}else c===1?(i[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},t.prototype._executeMultiple=function(){var e=this._old,n=this._new,i={},r={},o=[],a=[];this._initIndexMap(e,i,o,"_oldKeyGetter"),this._initIndexMap(n,r,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],c=i[l],u=r[l],f=Wh(c),h=Wh(u);if(f>1&&h===1)this._updateManyToOne&&this._updateManyToOne(u,c),r[l]=null;else if(f===1&&h>1)this._updateOneToMany&&this._updateOneToMany(u,c),r[l]=null;else if(f===1&&h===1)this._update&&this._update(u,c),r[l]=null;else if(f>1&&h>1)this._updateManyToMany&&this._updateManyToMany(u,c),r[l]=null;else if(f>1)for(var d=0;d<f;d++)this._remove&&this._remove(c[d]);else this._remove&&this._remove(c)}this._performRestAdd(a,r)},t.prototype._performRestAdd=function(e,n){for(var i=0;i<e.length;i++){var r=e[i],o=n[r],a=Wh(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else a===1&&this._add&&this._add(o);n[r]=null}},t.prototype._initIndexMap=function(e,n,i,r){for(var o=this._diffModeMultiple,a=0;a<e.length;a++){var s="_ec_"+this[r](e[a],a);if(o||(i[a]=s),!!n){var l=n[s],c=Wh(l);c===0?(n[s]=a,o&&i.push(s)):c===1?n[s]=[l,a]:l.push(a)}}},t}(),$le=function(){function t(e,n){this._encode=e,this._schema=n}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function Hle(t,e){var n={},i=n.encode={},r=Ct(),o=[],a=[],s={};q(t.dimensions,function(h){var d=t.getDimensionInfo(h),p=d.coordDim;if(p){var g=d.coordDimIndex;_S(i,p)[g]=h,d.isExtraCoord||(r.set(p,1),Gle(d.type)&&(o[0]=h),_S(s,p)[g]=t.getDimensionIndex(d.name)),d.defaultTooltip&&a.push(h)}Sk.each(function(v,m){var y=_S(i,m),_=d.otherDims[m];_!=null&&_!==!1&&(y[_]=d.name)})});var l=[],c={};r.each(function(h,d){var p=i[d];c[d]=p[0],l=l.concat(p)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=rt(l,function(h){return t.getDimensionInfo(h).storeDimIndex}),n.encodeFirstDimNotExtra=c;var u=i.label;u&&u.length&&(o=u.slice());var f=i.tooltip;return f&&f.length?a=f.slice():a.length||(a=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=a,n.userOutput=new $le(s,e),n}function _S(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function Vle(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function Gle(t){return!(t==="ordinal"||t==="time")}var Zg=function(){function t(e){this.otherDims={},e!=null&&Ie(this,e)}return t}(),Wle=Mn(),Xle={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},C$=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=P$(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return Tt(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var n=this.source.dimensionsDefine;if(n)return n[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,n=Dk(this.source),i=!I$(e),r="",o=[],a=0,s=0;a<e;a++){var l=void 0,c=void 0,u=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===a)l=n?f.name:null,c=f.type,u=f.ordinalMeta,s++;else{var h=this.getSourceDimension(a);h&&(l=n?h.name:null,c=h.type)}o.push({property:l,type:c,ordinalMeta:u}),n&&l!=null&&(!f||!f.isCalculationCoord)&&(r+=i?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=Xle[c]||"f",u&&(r+=u.uid),r+="$"}var d=this.source,p=[d.seriesLayoutBy,d.startIndex,r].join("$$");return{dimensions:o,hash:p}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],n=0,i=0;n<this._fullDimCount;n++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===n)o.isCalculationCoord||(r=o.name),i++;else{var a=this.getSourceDimension(n);a&&(r=a.name)}e.push(r)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function A$(t){return t instanceof C$}function E$(t){for(var e=Ct(),n=0;n<(t||[]).length;n++){var i=t[n],r=nt(i)?i.name:i;r!=null&&e.get(r)==null&&e.set(r,n)}return e}function P$(t){var e=Wle(t);return e.dimNameMap||(e.dimNameMap=E$(t.dimensionsDefine))}function I$(t){return t>30}var Xh=nt,cs=rt,jle=typeof Int32Array>"u"?Array:Int32Array,Yle="e\0\0",zD=-1,qle=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Kle=["_approximateExtent"],kD,Mv,jh,Yh,bS,Tv,xS,R$=function(){function t(e,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i,r=!1;A$(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,i=e),i=i||["x","y"];for(var o={},a=[],s={},l=!1,c={},u=0;u<i.length;u++){var f=i[u],h=Qe(f)?new Zg({name:f}):f instanceof Zg?f:new Zg(f),d=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=d,h.coordDimIndex=0);var p=h.otherDims=h.otherDims||{};a.push(d),o[d]=h,c[d]!=null&&(l=!0),h.createInvertedIndices&&(s[d]=[]),p.itemName===0&&(this._nameDimIdx=u),p.itemId===0&&(this._idDimIdx=u),r&&(h.storeDimIndex=u)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=s,this._dimOmitted){var g=this._dimIdxToName=Ct();q(a,function(v){g.set(o[v].storeDimIndex,v)})}}return t.prototype.getDimension=function(e){var n=this._recognizeDimIndex(e);if(n==null)return e;if(n=e,!this._dimOmitted)return this.dimensions[n];var i=this._dimIdxToName.get(n);if(i!=null)return i;var r=this._schema.getSourceDimension(n);if(r)return r.name},t.prototype.getDimensionIndex=function(e){var n=this._recognizeDimIndex(e);if(n!=null)return n;if(e==null)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(tn(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var n=this.getDimensionIndex(e);return n},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var n=this._dimInfos;this._getDimInfo=e?function(i){return n.hasOwnProperty(i)?n[i]:void 0}:function(i){return n[i]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,n){var i=this._dimSummary;if(n==null)return i.encodeFirstDimNotExtra[e];var r=i.encode[e];return r?r[n]:null},t.prototype.mapDimensionsAll=function(e){var n=this._dimSummary,i=n.encode[e];return(i||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,n,i){var r=this,o;if(e instanceof eM&&(o=e),!o){var a=this.dimensions,s=WC(e)||Qi(e)?new Ok(e,a.length):e;o=new eM;var l=cs(a,function(c){return{type:r._dimInfos[c].type,property:c}});o.initData(s,l,i)}this._store=o,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=Hle(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var n=this._store.appendData(e);this._doInit(n[0],n[1])},t.prototype.appendValues=function(e,n){var i=this._store.appendValues(e,n.length),r=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var s=r;s<o;s++){var l=s-r;this._nameList[s]=n[l],a&&xS(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,n=this.dimensions,i=0;i<n.length;i++){var r=this._dimInfos[n[i]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==$s&&!e.fillStorage},t.prototype._doInit=function(e,n){if(!(e>=n)){var i=this._store,r=i.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList,s=r.getSource().sourceFormat,l=s===Jr;if(l&&!r.pure)for(var c=[],u=e;u<n;u++){var f=r.getItem(u,c);if(!this.hasItemOption&&nie(f)&&(this.hasItemOption=!0),f){var h=f.name;o[u]==null&&h!=null&&(o[u]=qo(h,null));var d=f.id;a[u]==null&&d!=null&&(a[u]=qo(d,null))}}if(this._shouldMakeIdFromName())for(var u=e;u<n;u++)xS(this,u);kD(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,n){n=this.getDimension(n),this._approximateExtent[n]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,n){Xh(e)?Ie(this._calculationInfo,e):this._calculationInfo[e]=n},t.prototype.getName=function(e){var n=this.getRawIndex(e),i=this._nameList[n];return i==null&&this._nameDimIdx!=null&&(i=jh(this,this._nameDimIdx,n)),i==null&&(i=""),i},t.prototype._getCategory=function(e,n){var i=this._store.get(e,n),r=this._store.getOrdinalMeta(e);return r?r.categories[i]:i},t.prototype.getId=function(e){return Mv(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,n){var i=this._store,r=this._dimInfos[e];if(r)return i.get(r.storeDimIndex,n)},t.prototype.getByRawIndex=function(e,n){var i=this._store,r=this._dimInfos[e];if(r)return i.getByRawIndex(r.storeDimIndex,n)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,n){var i=this,r=this._store;return Ge(e)?r.getValues(cs(e,function(o){return i._getStoreDimIndex(o)}),n):r.getValues(e)},t.prototype.hasValue=function(e){for(var n=this._dimSummary.dataDimIndicesOnCoord,i=0,r=n.length;i<r;i++)if(isNaN(this._store.get(n[i],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var n=0,i=this._store.count();n<i;n++)if(this.getName(n)===e)return n;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,n){var i=e&&this._invertedIndicesMap[e],r=i[n];return r==null||isNaN(r)?zD:r},t.prototype.indicesOfNearest=function(e,n,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),n,i)},t.prototype.each=function(e,n,i){St(e)&&(i=n,n=e,e=[]);var r=i||this,o=cs(Yh(e),this._getStoreDimIndex,this);this._store.each(o,r?an(n,r):n)},t.prototype.filterSelf=function(e,n,i){St(e)&&(i=n,n=e,e=[]);var r=i||this,o=cs(Yh(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?an(n,r):n),this},t.prototype.selectRange=function(e){var n=this,i={},r=cn(e);return q(r,function(o){var a=n._getStoreDimIndex(o);i[a]=e[o]}),this._store=this._store.selectRange(i),this},t.prototype.mapArray=function(e,n,i){St(e)&&(i=n,n=e,e=[]),i=i||this;var r=[];return this.each(e,function(){r.push(n&&n.apply(this,arguments))},i),r},t.prototype.map=function(e,n,i,r){var o=i||r||this,a=cs(Yh(e),this._getStoreDimIndex,this),s=Tv(this);return s._store=this._store.map(a,o?an(n,o):n),s},t.prototype.modify=function(e,n,i,r){var o=i||r||this,a=cs(Yh(e),this._getStoreDimIndex,this);this._store.modify(a,o?an(n,o):n)},t.prototype.downSample=function(e,n,i,r){var o=Tv(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),n,i,r),o},t.prototype.lttbDownSample=function(e,n){var i=Tv(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),n),i},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var n=this.hostModel,i=this.getRawDataItem(e);return new wn(i,n,n&&n.ecModel)},t.prototype.diff=function(e){var n=this;return new kle(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(i){return Mv(e,i)},function(i){return Mv(n,i)})},t.prototype.getVisual=function(e){var n=this._visual;return n&&n[e]},t.prototype.setVisual=function(e,n){this._visual=this._visual||{},Xh(e)?Ie(this._visual,e):this._visual[e]=n},t.prototype.getItemVisual=function(e,n){var i=this._itemVisuals[e],r=i&&i[n];return r??this.getVisual(n)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,n){var i=this._itemVisuals,r=i[e];r||(r=i[e]={});var o=r[n];return o==null&&(o=this.getVisual(n),Ge(o)?o=o.slice():Xh(o)&&(o=Ie({},o)),r[n]=o),o},t.prototype.setItemVisual=function(e,n,i){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,Xh(n)?Ie(r,n):r[n]=i},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,n){Xh(e)?Ie(this._layout,e):this._layout[e]=n},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,n,i){this._itemLayouts[e]=i?Ie(this._itemLayouts[e]||{},n):n},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,n){var i=this.hostModel&&this.hostModel.seriesIndex;dre(i,this.dataType,e,n),this._graphicEls[e]=n},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,n){q(this._graphicEls,function(i,r){i&&e&&e.call(n,i,r)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:cs(this.dimensions,this._getDimInfo,this),this.hostModel)),bS(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,n){var i=this[e];St(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var r=i.apply(this,arguments);return n.apply(this,[r].concat(lC(arguments)))})},t.internalField=function(){kD=function(e){var n=e._invertedIndicesMap;q(n,function(i,r){var o=e._dimInfos[r],a=o.ordinalMeta,s=e._store;if(a){i=n[r]=new jle(a.categories.length);for(var l=0;l<i.length;l++)i[l]=zD;for(var l=0;l<s.count();l++)i[s.get(o.storeDimIndex,l)]=l}})},jh=function(e,n,i){return qo(e._getCategory(n,i),null)},Mv=function(e,n){var i=e._idList[n];return i==null&&e._idDimIdx!=null&&(i=jh(e,e._idDimIdx,n)),i==null&&(i=Yle+n),i},Yh=function(e){return Ge(e)||(e=e!=null?[e]:[]),e},Tv=function(e){var n=new t(e._schema?e._schema:cs(e.dimensions,e._getDimInfo,e),e.hostModel);return bS(n,e),n},bS=function(e,n){q(qle.concat(n.__wrappedMethods||[]),function(i){n.hasOwnProperty(i)&&(e[i]=n[i])}),e.__wrappedMethods=n.__wrappedMethods,q(Kle,function(i){e[i]=Dt(n[i])}),e._calculationInfo=Ie({},n._calculationInfo)},xS=function(e,n){var i=e._nameList,r=e._idList,o=e._nameDimIdx,a=e._idDimIdx,s=i[n],l=r[n];if(s==null&&o!=null&&(i[n]=s=jh(e,o,n)),l==null&&a!=null&&(r[n]=l=jh(e,a,n)),l==null&&s!=null){var c=e._nameRepeatCount,u=c[s]=(c[s]||0)+1;l=s,u>1&&(l+="__ec__"+u),r[n]=l}}}(),t}();function D$(t,e){WC(t)||(t=Ik(t)),e=e||{};var n=e.coordDimensions||[],i=e.dimensionsDefine||t.dimensionsDefine||[],r=Ct(),o=[],a=Jle(t,n,i,e.dimensionsCount),s=e.canOmitUnusedDimensions&&I$(a),l=i===t.dimensionsDefine,c=l?P$(t):E$(i),u=e.encodeDefine;!u&&e.encodeDefaulter&&(u=e.encodeDefaulter(t,a));for(var f=Ct(u),h=new Uk(a),d=0;d<h.length;d++)h[d]=-1;function p(M){var w=h[M];if(w<0){var A=i[M],P=nt(A)?A:{name:A},R=new Zg,L=P.name;L!=null&&c.get(L)!=null&&(R.name=R.displayName=L),P.type!=null&&(R.type=P.type),P.displayName!=null&&(R.displayName=P.displayName);var E=o.length;return h[M]=E,R.storeDimIndex=M,o.push(R),R}return o[w]}if(!s)for(var d=0;d<a;d++)p(d);f.each(function(M,w){var A=Oi(M).slice();if(A.length===1&&!Qe(A[0])&&A[0]<0){f.set(w,!1);return}var P=f.set(w,[]);q(A,function(R,L){var E=Qe(R)?c.get(R):R;E!=null&&E<a&&(P[L]=E,v(p(E),w,L))})});var g=0;q(n,function(M){var w,A,P,R;if(Qe(M))w=M,R={};else{R=M,w=R.name;var L=R.ordinalMeta;R.ordinalMeta=null,R=Ie({},R),R.ordinalMeta=L,A=R.dimsDef,P=R.otherDims,R.name=R.coordDim=R.coordDimIndex=R.dimsDef=R.otherDims=null}var E=f.get(w);if(E!==!1){if(E=Oi(E),!E.length)for(var O=0;O<(A&&A.length||1);O++){for(;g<a&&p(g).coordDim!=null;)g++;g<a&&E.push(g++)}q(E,function($,H){var V=p($);if(l&&R.type!=null&&(V.type=R.type),v(Vt(V,R),w,H),V.name==null&&A){var Y=A[H];!nt(Y)&&(Y={name:Y}),V.name=V.displayName=Y.name,V.defaultTooltip=Y.defaultTooltip}P&&Vt(V.otherDims,P)})}});function v(M,w,A){Sk.get(w)!=null?M.otherDims[w]=A:(M.coordDim=w,M.coordDimIndex=A,r.set(w,!0))}var m=e.generateCoord,y=e.generateCoordCount,_=y!=null;y=m?y||1:0;var b=m||"value";function T(M){M.name==null&&(M.name=M.coordDim)}if(s)q(o,function(M){T(M)}),o.sort(function(M,w){return M.storeDimIndex-w.storeDimIndex});else for(var x=0;x<a;x++){var S=p(x),C=S.coordDim;C==null&&(S.coordDim=Qle(b,r,_),S.coordDimIndex=0,(!m||y<=0)&&(S.isExtraCoord=!0),y--),T(S),S.type==null&&(Tk(t,x)===qn.Must||S.isExtraCoord&&(S.otherDims.itemName!=null||S.otherDims.seriesName!=null))&&(S.type="ordinal")}return Zle(o),new C$({source:t,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function Zle(t){for(var e=Ct(),n=0;n<t.length;n++){var i=t[n],r=i.name,o=e.get(r)||0;o>0&&(i.name=r+(o-1)),o++,e.set(r,o)}}function Jle(t,e,n,i){var r=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,i||0);return q(e,function(o){var a;nt(o)&&(a=o.dimsDef)&&(r=Math.max(r,a.length))}),r}function Qle(t,e,n){if(n||e.hasKey(t)){for(var i=0;e.hasKey(t+i);)i++;t+=i}return e.set(t,!0),t}var ece=function(){function t(e){this.coordSysDims=[],this.axisMap=Ct(),this.categoryAxisMap=Ct(),this.coordSysName=e}return t}();function tce(t){var e=t.get("coordinateSystem"),n=new ece(e),i=nce[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}var nce={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents("xAxis",po).models[0],o=t.getReferringComponents("yAxis",po).models[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),Pu(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),Pu(o)&&(i.set("y",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,i){var r=t.getReferringComponents("singleAxis",po).models[0];e.coordSysDims=["single"],n.set("single",r),Pu(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents("polar",po).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),Pu(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),Pu(a)&&(i.set("angle",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var r=t.ecModel,o=r.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();q(o.parallelAxisIndex,function(s,l){var c=r.getComponent("parallelAxis",s),u=a[l];n.set(u,c),Pu(c)&&(i.set(u,c),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function Pu(t){return t.get("type")==="category"}function ice(t,e,n){n=n||{};var i=n.byIndex,r=n.stackedCoordDimension,o,a,s;rce(e)?o=e:(a=e.schema,o=a.dimensions,s=e.store);var l=!!(t&&t.get("stack")),c,u,f,h;if(q(o,function(y,_){Qe(y)&&(o[_]=y={name:y}),l&&!y.isExtraCoord&&(!i&&!c&&y.ordinalMeta&&(c=y),!u&&y.type!=="ordinal"&&y.type!=="time"&&(!r||r===y.coordDim)&&(u=y))}),u&&!i&&!c&&(i=!0),u){f="__\0ecstackresult_"+t.id,h="__\0ecstackedover_"+t.id,c&&(c.createInvertedIndices=!0);var d=u.coordDim,p=u.type,g=0;q(o,function(y){y.coordDim===d&&g++});var v={name:f,coordDim:d,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},m={name:h,coordDim:h,coordDimIndex:g+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(s&&(v.storeDimIndex=s.ensureCalculationDimension(h,p),m.storeDimIndex=s.ensureCalculationDimension(f,p)),a.appendCalculationDimension(v),a.appendCalculationDimension(m)):(o.push(v),o.push(m))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:i,stackedOverDimension:h,stackResultDimension:f}}function rce(t){return!A$(t.schema)}function Bp(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function oce(t,e){return Bp(t,e)?t.getCalculationInfo("stackResultDimension"):e}function ace(t,e){var n=t.get("coordinateSystem"),i=GC.get(n),r;return e&&e.coordSysDims&&(r=rt(e.coordSysDims,function(o){var a={name:o},s=e.axisMap.get(o);if(s){var l=s.get("type");a.type=Vle(l)}return a})),r||(r=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),r}function sce(t,e,n){var i,r;return n&&q(t,function(o,a){var s=o.coordDim,l=n.categoryAxisMap.get(s);l&&(i==null&&(i=a),o.ordinalMeta=l.getOrdinalMeta(),e&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(r=!0)}),!r&&i!=null&&(t[i].otherDims.itemName=0),i}function lce(t,e,n){n=n||{};var i=e.getSourceManager(),r,o=!1;r=i.getSource(),o=r.sourceFormat===Jr;var a=tce(e),s=ace(e,a),l=n.useEncodeDefaulter,c=St(l)?l:l?Zi(tae,s,e):null,u={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!o},f=D$(r,u),h=sce(f.dimensions,n.createInvertedIndices,a),d=o?null:i.getSharedDataStore(f),p=ice(e,{schema:f,store:d}),g=new R$(f,e);g.setCalculationInfo(p);var v=h!=null&&cce(r)?function(m,y,_,b){return b===h?_:this.defaultDimValueGetter(m,y,_,b)}:null;return g.hasItemOption=!1,g.initData(o?r:d,null,v),g}function cce(t){if(t.sourceFormat===Jr){var e=uce(t.data||[]);return!Ge(sm(e))}}function uce(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var ca=function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var n=this._extent;e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,n){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(n)||(i[1]=n)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t}();T_(ca);var fce=0,hM=function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++fce}return t.createByAxisModel=function(e){var n=e.option,i=n.data,r=i&&rt(i,hce);return new t({categories:r,needCollect:!r,deduplication:n.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var n,i=this._needCollect;if(!Qe(e)&&!i)return e;if(i&&!this._deduplication)return n=this.categories.length,this.categories[n]=e,n;var r=this._getOrCreateMap();return n=r.get(e),n==null&&(i?(n=this.categories.length,this.categories[n]=e,r.set(e,n)):n=NaN),n},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Ct(this.categories))},t}();function hce(t){return nt(t)&&t.value!=null?t.value:t+""}function dM(t){return t.type==="interval"||t.type==="log"}function dce(t,e,n,i){var r={},o=t[1]-t[0],a=r.interval=pz(o/e);n!=null&&a<n&&(a=r.interval=n),i!=null&&a>i&&(a=r.interval=i);var s=r.intervalPrecision=O$(a),l=r.niceTickExtent=[In(Math.ceil(t[0]/a)*a,s),In(Math.floor(t[1]/a)*a,s)];return pce(l,t),r}function SS(t){var e=Math.pow(10,yC(t)),n=t/e;return n?n===2?n=3:n===3?n=5:n*=2:n=1,In(n*e)}function O$(t){return La(t)+2}function $D(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function pce(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),$D(t,0,e),$D(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function W_(t,e){return t>=e[0]&&t<=e[1]}function X_(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function j_(t,e){return t*(e[1]-e[0])+e[0]}var eA=function(t){Ve(e,t);function e(n){var i=t.call(this,n)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new hM({})),Ge(r)&&(r=new hM({categories:rt(r,function(o){return nt(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return e.prototype.parse=function(n){return n==null?NaN:Qe(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},e.prototype.contain=function(n){return n=this.parse(n),W_(n,this._extent)&&this._ordinalMeta.categories[n]!=null},e.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),X_(n,this._extent)},e.prototype.scale=function(n){return n=Math.round(j_(n,this._extent)),this.getRawOrdinalNumber(n)},e.prototype.getTicks=function(){for(var n=[],i=this._extent,r=i[0];r<=i[1];)n.push({value:r}),r++;return n},e.prototype.getMinorTicks=function(n){},e.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var i=n.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,i.length);a<l;++a){var c=i[a];r[a]=c,o[c]=a}for(var u=0;a<s;++a){for(;o[u]!=null;)u++;r.push(u),o[u]=a}},e.prototype._getTickNumber=function(n){var i=this._ticksByOrdinalNumber;return i&&n>=0&&n<i.length?i[n]:n},e.prototype.getRawOrdinalNumber=function(n){var i=this._ordinalNumbersByTick;return i&&n>=0&&n<i.length?i[n]:n},e.prototype.getLabel=function(n){if(!this.isBlank()){var i=this.getRawOrdinalNumber(n.value),r=this._ordinalMeta.categories[i];return r==null?"":r+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(n,i){this.unionExtent(n.getApproximateExtent(i))},e.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(ca);ca.registerClass(eA);var Fl=In,ph=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return e.prototype.parse=function(n){return n},e.prototype.contain=function(n){return W_(n,this._extent)},e.prototype.normalize=function(n){return X_(n,this._extent)},e.prototype.scale=function(n){return j_(n,this._extent)},e.prototype.setExtent=function(n,i){var r=this._extent;isNaN(n)||(r[0]=parseFloat(n)),isNaN(i)||(r[1]=parseFloat(i))},e.prototype.unionExtent=function(n){var i=this._extent;n[0]<i[0]&&(i[0]=n[0]),n[1]>i[1]&&(i[1]=n[1]),this.setExtent(i[0],i[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=O$(n)},e.prototype.getTicks=function(n){var i=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!i)return s;var l=1e4;r[0]<o[0]&&(n?s.push({value:Fl(o[0]-i,a)}):s.push({value:r[0]}));for(var c=o[0];c<=o[1]&&(s.push({value:c}),c=Fl(c+i,a),c!==s[s.length-1].value);)if(s.length>l)return[];var u=s.length?s[s.length-1].value:o[1];return r[1]>u&&(n?s.push({value:Fl(u+i,a)}):s.push({value:r[1]})),s},e.prototype.getMinorTicks=function(n){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<i.length;a++){for(var s=i[a],l=i[a-1],c=0,u=[],f=s.value-l.value,h=f/n;c<n-1;){var d=Fl(l.value+(c+1)*h);d>o[0]&&d<o[1]&&u.push(d),c++}r.push(u)}return r},e.prototype.getLabel=function(n,i){if(n==null)return"";var r=i&&i.precision;r==null?r=La(n.value)||0:r==="auto"&&(r=this._intervalPrecision);var o=Fl(n.value,r,!0);return gk(o)},e.prototype.calcNiceTicks=function(n,i,r){n=n||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=dce(o,n,i,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(n){var i=this._extent;if(i[0]===i[1])if(i[0]!==0){var r=Math.abs(i[0]);n.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;var o=i[1]-i[0];isFinite(o)||(i[0]=0,i[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var a=this._interval;n.fixMin||(i[0]=Fl(Math.floor(i[0]/a)*a)),n.fixMax||(i[1]=Fl(Math.ceil(i[1]/a)*a))},e.prototype.setNiceExtent=function(n,i){this._niceExtent=[n,i]},e.type="interval",e}(ca);ca.registerClass(ph);var L$=typeof Float32Array<"u",mce=L$?Float32Array:Array;function cf(t){return Ge(t)?L$?new Float32Array(t):t:new mce(t)}var vce="__ec_stack_";function gce(t){return t.get("stack")||vce+t.seriesIndex}function N$(t){return t.dim+t.index}function yce(t,e){var n=[];return e.eachSeriesByType(t,function(i){wce(i)&&n.push(i)}),n}function _ce(t){var e={};q(t,function(l){var c=l.coordinateSystem,u=c.getBaseAxis();if(!(u.type!=="time"&&u.type!=="value"))for(var f=l.getData(),h=u.dim+"_"+u.index,d=f.getDimensionIndex(f.mapDimension(u.dim)),p=f.getStore(),g=0,v=p.count();g<v;++g){var m=p.get(d,g);e[h]?e[h].push(m):e[h]=[m]}});var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){r.sort(function(l,c){return l-c});for(var o=null,a=1;a<r.length;++a){var s=r[a]-r[a-1];s>0&&(o=o===null?s:Math.min(o,s))}n[i]=o}}return n}function bce(t){var e=_ce(t),n=[];return q(t,function(i){var r=i.coordinateSystem,o=r.getBaseAxis(),a=o.getExtent(),s;if(o.type==="category")s=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var l=o.dim+"_"+o.index,c=e[l],u=Math.abs(a[1]-a[0]),f=o.scale.getExtent(),h=Math.abs(f[1]-f[0]);s=c?u/h*c:u}else{var d=i.getData();s=Math.abs(a[1]-a[0])/d.count()}var p=on(i.get("barWidth"),s),g=on(i.get("barMaxWidth"),s),v=on(i.get("barMinWidth")||(Mce(i)?.5:1),s),m=i.get("barGap"),y=i.get("barCategoryGap");n.push({bandWidth:s,barWidth:p,barMaxWidth:g,barMinWidth:v,barGap:m,barCategoryGap:y,axisKey:N$(o),stackId:gce(i)})}),xce(n)}function xce(t){var e={};q(t,function(i,r){var o=i.axisKey,a=i.bandWidth,s=e[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[o]=s;var c=i.stackId;l[c]||s.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=i.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(s.remainedWidth,u),s.remainedWidth-=u);var f=i.barMaxWidth;f&&(l[c].maxWidth=f);var h=i.barMinWidth;h&&(l[c].minWidth=h);var d=i.barGap;d!=null&&(s.gap=d);var p=i.barCategoryGap;p!=null&&(s.categoryGap=p)});var n={};return q(e,function(i,r){n[r]={};var o=i.stacks,a=i.bandWidth,s=i.categoryGap;if(s==null){var l=cn(o).length;s=Math.max(35-l*4,15)+"%"}var c=on(s,a),u=on(i.gap,1),f=i.remainedWidth,h=i.autoWidthCount,d=(f-c)/(h+(h-1)*u);d=Math.max(d,0),q(o,function(m){var y=m.maxWidth,_=m.minWidth;if(m.width){var b=m.width;y&&(b=Math.min(b,y)),_&&(b=Math.max(b,_)),m.width=b,f-=b+u*b,h--}else{var b=d;y&&y<b&&(b=Math.min(y,f)),_&&_>b&&(b=_),b!==d&&(m.width=b,f-=b+u*b,h--)}}),d=(f-c)/(h+(h-1)*u),d=Math.max(d,0);var p=0,g;q(o,function(m,y){m.width||(m.width=d),g=m,p+=m.width*(1+u)}),g&&(p-=g.width*u);var v=-p/2;q(o,function(m,y){n[r][y]=n[r][y]||{bandWidth:a,offset:v,width:m.width},v+=m.width*(1+u)})}),n}function Sce(t,e,n){if(t&&e){var i=t[N$(e)];return i}}function wce(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function Mce(t){return t.pipelineContext&&t.pipelineContext.large}var Tce=function(t,e,n,i){for(;n<i;){var r=n+i>>>1;t[r][1]<e?n=r+1:i=r}return n},F$=function(t){Ve(e,t);function e(n){var i=t.call(this,n)||this;return i.type="time",i}return e.prototype.getLabel=function(n){var i=this.getSetting("useUTC");return F_(n.value,R2[Woe(Cf(this._minLevelUnit))]||R2.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(n,i,r){var o=this.getSetting("useUTC"),a=this.getSetting("locale");return Xoe(n,i,r,a,o)},e.prototype.getTicks=function(){var n=this._interval,i=this._extent,r=[];if(!n)return r;r.push({value:i[0],level:0});var o=this.getSetting("useUTC"),a=Dce(this._minLevelUnit,this._approxInterval,o,i);return r=r.concat(a),r.push({value:i[1],level:0}),r},e.prototype.calcNiceExtent=function(n){var i=this._extent;if(i[0]===i[1]&&(i[0]-=Vr,i[1]+=Vr),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-Vr}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},e.prototype.calcNiceTicks=function(n,i,r){n=n||10;var o=this._extent,a=o[1]-o[0];this._approxInterval=a/n,i!=null&&this._approxInterval<i&&(this._approxInterval=i),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var s=Cv.length,l=Math.min(Tce(Cv,this._approxInterval,0,s),s-1);this._interval=Cv[l][1],this._minLevelUnit=Cv[Math.max(l-1,0)][0]},e.prototype.parse=function(n){return tn(n)?n:+Ga(n)},e.prototype.contain=function(n){return W_(this.parse(n),this._extent)},e.prototype.normalize=function(n){return X_(this.parse(n),this._extent)},e.prototype.scale=function(n){return j_(n,this._extent)},e.type="time",e}(ph),Cv=[["second",FC],["minute",BC],["hour",Xd],["quarter-day",Xd*6],["half-day",Xd*12],["day",Vr*1.2],["half-week",Vr*3.5],["week",Vr*7],["month",Vr*31],["quarter",Vr*95],["half-year",I2/2],["year",I2]];function Cce(t,e,n,i){var r=Ga(e),o=Ga(n),a=function(p){return D2(r,p,i)===D2(o,p,i)},s=function(){return a("year")},l=function(){return s()&&a("month")},c=function(){return l()&&a("day")},u=function(){return c()&&a("hour")},f=function(){return u()&&a("minute")},h=function(){return f()&&a("second")},d=function(){return h()&&a("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return c();case"hour":return u();case"minute":return f();case"second":return h();case"millisecond":return d()}}function Ace(t,e){return t/=Vr,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function Ece(t){var e=30*Vr;return t/=e,t>6?6:t>3?3:t>2?2:1}function Pce(t){return t/=Xd,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function HD(t,e){return t/=e?BC:FC,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function Ice(t){return pz(t)}function Rce(t,e,n){var i=new Date(t);switch(Cf(e)){case"year":case"month":i[fk(n)](0);case"day":i[hk(n)](1);case"hour":i[dk(n)](0);case"minute":i[pk(n)](0);case"second":i[mk(n)](0),i[vk(n)](0)}return i.getTime()}function Dce(t,e,n,i){var r=1e4,o=ck,a=0;function s(w,A,P,R,L,E,O){for(var $=new Date(A),H=A,V=$[R]();H<P&&H<=i[1];)O.push({value:H}),V+=w,$[L](V),H=$.getTime();O.push({value:H,notAdd:!0})}function l(w,A,P){var R=[],L=!A.length;if(!Cce(Cf(w),i[0],i[1],n)){L&&(A=[{value:Rce(new Date(i[0]),w,n)},{value:i[1]}]);for(var E=0;E<A.length-1;E++){var O=A[E].value,$=A[E+1].value;if(O!==$){var H=void 0,V=void 0,Y=void 0,ae=!1;switch(w){case"year":H=Math.max(1,Math.round(e/Vr/365)),V=UC(n),Y=joe(n);break;case"half-year":case"quarter":case"month":H=Ece(e),V=Af(n),Y=fk(n);break;case"week":case"half-week":case"day":H=Ace(e),V=B_(n),Y=hk(n),ae=!0;break;case"half-day":case"quarter-day":case"hour":H=Pce(e),V=Pp(n),Y=dk(n);break;case"minute":H=HD(e,!0),V=U_(n),Y=pk(n);break;case"second":H=HD(e,!1),V=z_(n),Y=mk(n);break;case"millisecond":H=Ice(e),V=k_(n),Y=vk(n);break}s(H,O,$,V,Y,ae,R),w==="year"&&P.length>1&&E===0&&P.unshift({value:P[0].value-H})}}for(var E=0;E<R.length;E++)P.push(R[E]);return R}}for(var c=[],u=[],f=0,h=0,d=0;d<o.length&&a++<r;++d){var p=Cf(o[d]);if(Goe(o[d])){l(o[d],c[c.length-1]||[],u);var g=o[d+1]?Cf(o[d+1]):null;if(p!==g){if(u.length){h=f,u.sort(function(w,A){return w.value-A.value});for(var v=[],m=0;m<u.length;++m){var y=u[m].value;(m===0||u[m-1].value!==y)&&(v.push(u[m]),y>=i[0]&&y<=i[1]&&f++)}var _=(i[1]-i[0])/e;if(f>_*1.5&&h>_/1.5||(c.push(v),f>_||t===o[d]))break}u=[]}}}for(var b=Gi(rt(c,function(w){return Gi(w,function(A){return A.value>=i[0]&&A.value<=i[1]&&!A.notAdd})}),function(w){return w.length>0}),T=[],x=b.length-1,d=0;d<b.length;++d)for(var S=b[d],C=0;C<S.length;++C)T.push({value:S[C].value,level:x-d});T.sort(function(w,A){return w.value-A.value});for(var M=[],d=0;d<T.length;++d)(d===0||T[d].value!==T[d-1].value)&&M.push(T[d]);return M}ca.registerClass(F$);var VD=ca.prototype,Kd=ph.prototype,Oce=In,Lce=Math.floor,Nce=Math.ceil,Av=Math.pow,io=Math.log,tA=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new ph,n._interval=0,n}return e.prototype.getTicks=function(n){var i=this._originalScale,r=this._extent,o=i.getExtent(),a=Kd.getTicks.call(this,n);return rt(a,function(s){var l=s.value,c=In(Av(this.base,l));return c=l===r[0]&&this._fixMin?Ev(c,o[0]):c,c=l===r[1]&&this._fixMax?Ev(c,o[1]):c,{value:c}},this)},e.prototype.setExtent=function(n,i){var r=io(this.base);n=io(Math.max(0,n))/r,i=io(Math.max(0,i))/r,Kd.setExtent.call(this,n,i)},e.prototype.getExtent=function(){var n=this.base,i=VD.getExtent.call(this);i[0]=Av(n,i[0]),i[1]=Av(n,i[1]);var r=this._originalScale,o=r.getExtent();return this._fixMin&&(i[0]=Ev(i[0],o[0])),this._fixMax&&(i[1]=Ev(i[1],o[1])),i},e.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var i=this.base;n[0]=io(n[0])/io(i),n[1]=io(n[1])/io(i),VD.unionExtent.call(this,n)},e.prototype.unionExtentFromData=function(n,i){this.unionExtent(n.getApproximateExtent(i))},e.prototype.calcNiceTicks=function(n){n=n||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=Qne(r),a=n/r*o;for(a<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var s=[In(Nce(i[0]/o)*o),In(Lce(i[1]/o)*o)];this._interval=o,this._niceExtent=s}},e.prototype.calcNiceExtent=function(n){Kd.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},e.prototype.parse=function(n){return n},e.prototype.contain=function(n){return n=io(n)/io(this.base),W_(n,this._extent)},e.prototype.normalize=function(n){return n=io(n)/io(this.base),X_(n,this._extent)},e.prototype.scale=function(n){return n=j_(n,this._extent),Av(this.base,n)},e.type="log",e}(ca),B$=tA.prototype;B$.getMinorTicks=Kd.getMinorTicks;B$.getLabel=Kd.getLabel;function Ev(t,e){return Oce(t,La(e))}ca.registerClass(tA);var Fce=function(){function t(e,n,i){this._prepareParams(e,n,i)}return t.prototype._prepareParams=function(e,n,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var o=n.get("min",!0);o==null&&(o=n.get("startValue",!0));var a=this._modelMinRaw=o;St(a)?this._modelMinNum=Pv(e,a({min:i[0],max:i[1]})):a!=="dataMin"&&(this._modelMinNum=Pv(e,a));var s=this._modelMaxRaw=n.get("max",!0);if(St(s)?this._modelMaxNum=Pv(e,s({min:i[0],max:i[1]})):s!=="dataMax"&&(this._modelMaxNum=Pv(e,s)),r)this._axisDataLen=n.getCategories().length;else{var l=n.get("boundaryGap"),c=Ge(l)?l:[l||0,l||0];typeof c[0]=="boolean"||typeof c[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Xs(c[0],1),Xs(c[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,n=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=e?null:i-n||Math.abs(n),s=this._modelMinRaw==="dataMin"?n:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,c=s!=null,u=l!=null;s==null&&(s=e?r?0:NaN:n-o[0]*a),l==null&&(l=e?r?r-1:NaN:i+o[1]*a),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=R0(s)||R0(l)||e&&!r;this._needCrossZero&&(s>0&&l>0&&!c&&(s=0),s<0&&l<0&&!u&&(l=0));var h=this._determinedMin,d=this._determinedMax;return h!=null&&(s=h,c=!0),d!=null&&(l=d,u=!0),{min:s,max:l,minFixed:c,maxFixed:u,isBlank:f}},t.prototype.modifyDataMinMax=function(e,n){this[Uce[e]]=n},t.prototype.setDeterminedMinMax=function(e,n){var i=Bce[e];this[i]=n},t.prototype.freeze=function(){this.frozen=!0},t}(),Bce={min:"_determinedMin",max:"_determinedMax"},Uce={min:"_dataMin",max:"_dataMax"};function zce(t,e,n){var i=t.rawExtentInfo;return i||(i=new Fce(t,e,n),t.rawExtentInfo=i,i)}function Pv(t,e){return e==null?null:R0(e)?NaN:t.parse(e)}function U$(t,e){var n=t.type,i=zce(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var r=i.min,o=i.max,a=e.ecModel;if(a&&n==="time"){var s=yce("bar",a),l=!1;if(q(s,function(f){l=l||f.getBaseAxis()===e.axis}),l){var c=bce(s),u=kce(r,o,e,c);r=u.min,o=u.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function kce(t,e,n,i){var r=n.axis.getExtent(),o=r[1]-r[0],a=Sce(i,n.axis);if(a===void 0)return{min:t,max:e};var s=1/0;q(a,function(d){s=Math.min(d.offset,s)});var l=-1/0;q(a,function(d){l=Math.max(d.offset+d.width,l)}),s=Math.abs(s),l=Math.abs(l);var c=s+l,u=e-t,f=1-(s+l)/o,h=u/f-u;return e+=h*(l/c),t-=h*(s/c),{min:t,max:e}}function GD(t,e){var n=e,i=U$(t,n),r=i.extent,o=n.get("splitNumber");t instanceof tA&&(t.base=n.get("logBase"));var a=t.type,s=n.get("interval"),l=a==="interval"||a==="time";t.setExtent(r[0],r[1]),t.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function $ce(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new eA({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new F$({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(ca.getClass(e)||ph)}}function Hce(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)}function mh(t){var e=t.getLabelModel().get("formatter"),n=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(i){return function(r,o){return t.scale.getFormattedLabel(r,o,i)}}(e):Qe(e)?function(i){return function(r){var o=t.scale.getLabel(r),a=i.replace("{value}",o??"");return a}}(e):St(e)?function(i){return function(r,o){return n!=null&&(o=r.value-n),i(nA(t,r),o,r.level!=null?{level:r.level}:null)}}(e):function(i){return t.scale.getLabel(i)}}function nA(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function Vce(t){var e=t.model,n=t.scale;if(!(!e.get(["axisLabel","show"])||n.isBlank())){var i,r,o=n.getExtent();n instanceof eA?r=n.count():(i=n.getTicks(),r=i.length);var a=t.getLabelModel(),s=mh(t),l,c=1;r>40&&(c=Math.ceil(r/40));for(var u=0;u<r;u+=c){var f=i?i[u]:{value:o[0]+u},h=s(f,u),d=a.getTextRect(h),p=Gce(d,a.get("rotate")||0);l?l.union(p):l=p}return l}}function Gce(t,e){var n=e*Math.PI/180,i=t.width,r=t.height,o=i*Math.abs(Math.cos(n))+Math.abs(r*Math.sin(n)),a=i*Math.abs(Math.sin(n))+Math.abs(r*Math.cos(n)),s=new zt(t.x,t.y,o,a);return s}function iA(t){var e=t.get("interval");return e??"auto"}function z$(t){return t.type==="category"&&iA(t.getLabelModel())===0}function Wce(t,e){var n={};return q(t.mapDimensionsAll(e),function(i){n[oce(t,i)]=!0}),cn(n)}var Xce=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}(),WD=[],jce={registerPreprocessor:w$,registerProcessor:M$,registerPostInit:Lle,registerPostUpdate:Nle,registerUpdateLifecycle:JC,registerAction:dh,registerCoordinateSystem:Fle,registerLayout:Ble,registerVisual:su,registerTransform:zle,registerLoading:T$,registerMap:Ule,registerImpl:ple,PRIORITY:Ale,ComponentModel:Wt,ComponentView:ea,SeriesModel:Xa,ChartView:_o,registerComponentModel:function(t){Wt.registerClass(t)},registerComponentView:function(t){ea.registerClass(t)},registerSeriesModel:function(t){Xa.registerClass(t)},registerChartView:function(t){_o.registerClass(t)},registerSubTypeDefaulter:function(t,e){Wt.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Xne(t,e)}};function Up(t){if(Ge(t)){q(t,function(e){Up(e)});return}qt(WD,t)>=0||(WD.push(t),St(t)&&(t={install:t}),t.install(jce))}var zp=Mn();function k$(t,e){var n=rt(e,function(i){return t.scale.parse(i)});return t.type==="time"&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function Yce(t){var e=t.getLabelModel().get("customValues");if(e){var n=mh(t);return{labels:k$(t,e).map(function(i){var r={value:i};return{formattedLabel:n(r),rawLabel:t.scale.getLabel(r),tickValue:i}})}}return t.type==="category"?Kce(t):Jce(t)}function qce(t,e){var n=t.getTickModel().get("customValues");return n?{ticks:k$(t,n)}:t.type==="category"?Zce(t,e):{ticks:rt(t.scale.getTicks(),function(i){return i.value})}}function Kce(t){var e=t.getLabelModel(),n=$$(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function $$(t,e){var n=H$(t,"labels"),i=iA(e),r=V$(n,i);if(r)return r;var o,a;return St(i)?o=X$(t,i):(a=i==="auto"?Qce(t):i,o=W$(t,a)),G$(n,i,{labels:o,labelCategoryInterval:a})}function Zce(t,e){var n=H$(t,"ticks"),i=iA(e),r=V$(n,i);if(r)return r;var o,a;if((!e.get("show")||t.scale.isBlank())&&(o=[]),St(i))o=X$(t,i,!0);else if(i==="auto"){var s=$$(t,t.getLabelModel());a=s.labelCategoryInterval,o=rt(s.labels,function(l){return l.tickValue})}else a=i,o=W$(t,a,!0);return G$(n,i,{ticks:o,tickCategoryInterval:a})}function Jce(t){var e=t.scale.getTicks(),n=mh(t);return{labels:rt(e,function(i,r){return{level:i.level,formattedLabel:n(i,r),rawLabel:t.scale.getLabel(i),tickValue:i.value}})}}function H$(t,e){return zp(t)[e]||(zp(t)[e]=[])}function V$(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function G$(t,e,n){return t.push({key:e,value:n}),n}function Qce(t){var e=zp(t).autoInterval;return e??(zp(t).autoInterval=t.calculateCategoryInterval())}function eue(t){var e=tue(t),n=mh(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=t.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],c=t.dataToCoord(l+1)-t.dataToCoord(l),u=Math.abs(c*Math.cos(i)),f=Math.abs(c*Math.sin(i)),h=0,d=0;l<=o[1];l+=s){var p=0,g=0,v=vC(n({value:l}),e.font,"center","top");p=v.width*1.3,g=v.height*1.3,h=Math.max(h,p,7),d=Math.max(d,g,7)}var m=h/u,y=d/f;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(m,y))),b=zp(t.model),T=t.getExtent(),x=b.lastAutoInterval,S=b.lastTickCount;return x!=null&&S!=null&&Math.abs(x-_)<=1&&Math.abs(S-a)<=1&&x>_&&b.axisExtent0===T[0]&&b.axisExtent1===T[1]?_=x:(b.lastTickCount=a,b.lastAutoInterval=_,b.axisExtent0=T[0],b.axisExtent1=T[1]),_}function tue(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function W$(t,e,n){var i=mh(t),r=t.scale,o=r.getExtent(),a=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),c=o[0],u=r.count();c!==0&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var f=z$(t),h=a.get("showMinLabel")||f,d=a.get("showMaxLabel")||f;h&&c!==o[0]&&g(o[0]);for(var p=c;p<=o[1];p+=l)g(p);d&&p-l!==o[1]&&g(o[1]);function g(v){var m={value:v};s.push(n?v:{formattedLabel:i(m),rawLabel:r.getLabel(m),tickValue:v})}return s}function X$(t,e,n){var i=t.scale,r=mh(t),o=[];return q(i.getTicks(),function(a){var s=i.getLabel(a),l=a.value;e(a.value,s)&&o.push(n?l:{formattedLabel:r(a),rawLabel:s,tickValue:l})}),o}var XD=[0,1],nue=function(){function t(e,n,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=n,this._extent=i||[0,0]}return t.prototype.contain=function(e){var n=this._extent,i=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return e>=i&&e<=r},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return qne(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,n){var i=this._extent;i[0]=e,i[1]=n},t.prototype.dataToCoord=function(e,n){var i=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&r.type==="ordinal"&&(i=i.slice(),jD(i,r.count())),kw(e,XD,i,n)},t.prototype.coordToData=function(e,n){var i=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(i=i.slice(),jD(i,r.count()));var o=kw(e,i,XD,n);return this.scale.scale(o)},t.prototype.pointToData=function(e,n){},t.prototype.getTicksCoords=function(e){e=e||{};var n=e.tickModel||this.getTickModel(),i=qce(this,n),r=i.ticks,o=rt(r,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),a=n.get("alignWithLabel");return iue(this,o,a,e.clamp),o},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),n=e.get("splitNumber");n>0&&n<100||(n=5);var i=this.scale.getMinorTicks(n),r=rt(i,function(o){return rt(o,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this);return r},t.prototype.getViewLabels=function(){return Yce(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,n=this.scale.getExtent(),i=n[1]-n[0]+(this.onBand?1:0);i===0&&(i=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/i},t.prototype.calculateCategoryInterval=function(){return eue(this)},t}();function jD(t,e){var n=t[1]-t[0],i=e,r=n/i/2;t[0]+=r,t[1]-=r}function iue(t,e,n,i){var r=e.length;if(!t.onBand||n||!r)return;var o=t.getExtent(),a,s;if(r===1)e[0].coord=o[0],a=e[1]={coord:o[1]};else{var l=e[r-1].tickValue-e[0].tickValue,c=(e[r-1].coord-e[0].coord)/l;q(e,function(d){d.coord-=c/2});var u=t.scale.getExtent();s=1+u[1]-e[r-1].tickValue,a={coord:e[r-1].coord+c*s},e.push(a)}var f=o[0]>o[1];h(e[0].coord,o[0])&&(i?e[0].coord=o[0]:e.shift()),i&&h(o[0],e[0].coord)&&e.unshift({coord:o[0]}),h(o[1],a.coord)&&(i?a.coord=o[1]:e.pop()),i&&h(a.coord,o[1])&&e.push({coord:o[1]});function h(d,p){return d=In(d),p=In(p),f?d>p:d<p}}function j$(t,e,n,i,r,o,a,s){var l=r-t,c=o-e,u=n-t,f=i-e,h=Math.sqrt(u*u+f*f);u/=h,f/=h;var d=l*u+c*f,p=d/h;p*=h;var g=a[0]=t+p*u,v=a[1]=e+p*f;return Math.sqrt((g-r)*(g-r)+(v-o)*(v-o))}var Ds=new ft,vn=new ft,Kn=new ft,Os=new ft,Ho=new ft,iy=[],wi=new ft;function rue(t,e){if(e<=180&&e>0){e=e/180*Math.PI,Ds.fromArray(t[0]),vn.fromArray(t[1]),Kn.fromArray(t[2]),ft.sub(Os,Ds,vn),ft.sub(Ho,Kn,vn);var n=Os.len(),i=Ho.len();if(!(n<.001||i<.001)){Os.scale(1/n),Ho.scale(1/i);var r=Os.dot(Ho),o=Math.cos(e);if(o<r){var a=j$(vn.x,vn.y,Kn.x,Kn.y,Ds.x,Ds.y,iy);wi.fromArray(iy),wi.scaleAndAdd(Ho,a/Math.tan(Math.PI-e));var s=Kn.x!==vn.x?(wi.x-vn.x)/(Kn.x-vn.x):(wi.y-vn.y)/(Kn.y-vn.y);if(isNaN(s))return;s<0?ft.copy(wi,vn):s>1&&ft.copy(wi,Kn),wi.toArray(t[1])}}}}function oue(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,Ds.fromArray(t[0]),vn.fromArray(t[1]),Kn.fromArray(t[2]),ft.sub(Os,vn,Ds),ft.sub(Ho,Kn,vn);var i=Os.len(),r=Ho.len();if(!(i<.001||r<.001)){Os.scale(1/i),Ho.scale(1/r);var o=Os.dot(e),a=Math.cos(n);if(o<a){var s=j$(vn.x,vn.y,Kn.x,Kn.y,Ds.x,Ds.y,iy);wi.fromArray(iy);var l=Math.PI/2,c=Math.acos(Ho.dot(e)),u=l+c-n;if(u>=l)ft.copy(wi,Kn);else{wi.scaleAndAdd(Ho,s/Math.tan(Math.PI/2-u));var f=Kn.x!==vn.x?(wi.x-vn.x)/(Kn.x-vn.x):(wi.y-vn.y)/(Kn.y-vn.y);if(isNaN(f))return;f<0?ft.copy(wi,vn):f>1&&ft.copy(wi,Kn)}wi.toArray(t[1])}}}}function wS(t,e,n,i){var r=n==="normal",o=r?t:t.ensureState(n);o.ignore=e;var a=i.get("smooth");a&&a===!0&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel("lineStyle").getLineStyle();r?t.useStyle(s):o.style=s}function aue(t,e){var n=e.smooth,i=e.points;if(i)if(t.moveTo(i[0][0],i[0][1]),n>0&&i.length>=3){var r=Tw(i[0],i[1]),o=Tw(i[1],i[2]);if(!r||!o){t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]);return}var a=Math.min(r,o)*n,s=vx([],i[1],i[0],a/r),l=vx([],i[1],i[2],a/o),c=vx([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var u=1;u<i.length;u++)t.lineTo(i[u][0],i[u][1])}function sue(t,e,n){var i=t.getTextGuideLine(),r=t.getTextContent();if(!r){i&&t.removeTextGuideLine();return}for(var o=e.normal,a=o.get("show"),s=r.ignore,l=0;l<H0.length;l++){var c=H0[l],u=e[c],f=c==="normal";if(u){var h=u.get("show"),d=f?s:Tt(r.states[c]&&r.states[c].ignore,s);if(d||!Tt(h,a)){var p=f?i:i&&i.states[c];p&&(p.ignore=!0),i&&wS(i,!0,c,u);continue}i||(i=new um,t.setTextGuideLine(i),!f&&(s||!a)&&wS(i,!0,"normal",e.normal),t.stateProxy&&(i.stateProxy=t.stateProxy)),wS(i,!1,c,u)}}if(i){Vt(i.style,n),i.style.fill=null;var g=o.get("showAbove"),v=t.textGuideLineConfig=t.textGuideLineConfig||{};v.showAbove=g||!1,i.buildPath=aue}}function lue(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},i=0;i<Zr.length;i++){var r=Zr[i];n[r]=t.getModel([r,e])}return n}function cue(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,c=a.clone();c.applyTransform(o),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=s?new X0(a,o):null;e.push({label:r,labelLine:i.labelLine,rect:c,localRect:a,obb:u,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return e}function uue(t,e,n,i,r,o){var a=t.length;if(a<2)return;t.sort(function(x,S){return x.rect[e]-S.rect[e]});for(var s=0,l,c=!1,u=0;u<a;u++){var f=t[u],h=f.rect;l=h[e]-s,l<0&&(h[e]-=l,f.label[e]-=l,c=!0),s=h[e]+h[n]}var d=t[0],p=t[a-1],g,v;m(),g<0&&b(-g,.8),v<0&&b(v,.8),m(),y(g,v,1),y(v,g,-1),m(),g<0&&T(-g),v<0&&T(v);function m(){g=d.rect[e]-i,v=r-p.rect[e]-p.rect[n]}function y(x,S,C){if(x<0){var M=Math.min(S,-x);if(M>0){_(M*C,0,a);var w=M+x;w<0&&b(-w*C,1)}else b(-x*C,1)}}function _(x,S,C){x!==0&&(c=!0);for(var M=S;M<C;M++){var w=t[M],A=w.rect;A[e]+=x,w.label[e]+=x}}function b(x,S){for(var C=[],M=0,w=1;w<a;w++){var A=t[w-1].rect,P=Math.max(t[w].rect[e]-A[e]-A[n],0);C.push(P),M+=P}if(M){var R=Math.min(Math.abs(x)/M,S);if(x>0)for(var w=0;w<a-1;w++){var L=C[w]*R;_(L,0,w+1)}else for(var w=a-1;w>0;w--){var L=C[w-1]*R;_(-L,w,a)}}}function T(x){var S=x<0?-1:1;x=Math.abs(x);for(var C=Math.ceil(x/(a-1)),M=0;M<a-1;M++)if(S>0?_(C,0,M+1):_(-C,a-M-1,a),x-=C,x<=0)return}return c}function fue(t,e,n,i){return uue(t,"y","height",e,n)}function hue(t){var e=[];t.sort(function(g,v){return v.priority-g.priority});var n=new zt(0,0,0,0);function i(g){if(!g.ignore){var v=g.ensureState("emphasis");v.ignore==null&&(v.ignore=!1)}g.ignore=!0}for(var r=0;r<t.length;r++){var o=t[r],a=o.axisAligned,s=o.localRect,l=o.transform,c=o.label,u=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=o.obb,h=!1,d=0;d<e.length;d++){var p=e[d];if(n.intersect(p.rect)){if(a&&p.axisAligned){h=!0;break}if(p.obb||(p.obb=new X0(p.localRect,p.transform)),f||(f=new X0(s,l)),f.intersect(p.obb)){h=!0;break}}}h?(i(c),u&&i(u)):(c.attr("ignore",o.defaultAttr.ignore),u&&u.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function YD(t,e,n){var i=ch.createCanvas(),r=e.getWidth(),o=e.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",t)),i.width=r*n,i.height=o*n,i}var MS=function(t){Ve(e,t);function e(n,i,r){var o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var a;r=r||U0,typeof n=="string"?a=YD(n,i,r):nt(n)&&(a=n,n=a.id),o.id=n,o.dom=a;var s=a.style;return s&&(XU(a),a.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=i,o.dpr=r,o}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=YD("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},e.prototype.createRepaintRects=function(n,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a=[],s=this.maxRepaintRectCount,l=!1,c=new zt(0,0,0,0);function u(y){if(!(!y.isFinite()||y.isZero()))if(a.length===0){var _=new zt(0,0,0,0);_.copy(y),a.push(_)}else{for(var b=!1,T=1/0,x=0,S=0;S<a.length;++S){var C=a[S];if(C.intersect(y)){var M=new zt(0,0,0,0);M.copy(C),M.union(y),a[S]=M,b=!0;break}else if(l){c.copy(y),c.union(C);var w=y.width*y.height,A=C.width*C.height,P=c.width*c.height,R=P-w-A;R<T&&(T=R,x=S)}}if(l&&(a[x].union(y),b=!0),!b){var _=new zt(0,0,0,0);_.copy(y),a.push(_)}l||(l=a.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var h=n[f];if(h){var d=h.shouldBePainted(r,o,!0,!0),p=h.__isRendered&&(h.__dirty&dr||!d)?h.getPrevPaintRect():null;p&&u(p);var g=d&&(h.__dirty&dr||!h.__isRendered)?h.getPaintRect():null;g&&u(g)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var h=i[f],d=h&&h.shouldBePainted(r,o,!0,!0);if(h&&(!d||!h.__zr)&&h.__isRendered){var p=h.getPrevPaintRect();p&&u(p)}}var v;do{v=!1;for(var f=0;f<a.length;){if(a[f].isZero()){a.splice(f,1);continue}for(var m=f+1;m<a.length;)a[f].intersect(a[m])?(v=!0,a[f].union(a[m]),a.splice(m,1)):m++;f++}}while(v);return this._paintRects=a,a},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(n,i){var r=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=n+"px",a.height=i+"px"),o.width=n*r,o.height=i*r,s&&(s.width=n*r,s.height=i*r,r!==1&&this.ctxBack.scale(r,r))},e.prototype.clear=function(n,i,r){var o=this.dom,a=this.ctx,s=o.width,l=o.height;i=i||this.clearColor;var c=this.motionBlur&&!n,u=this.lastFrameAlpha,f=this.dpr,h=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/f,l/f));var d=this.domBack;function p(g,v,m,y){if(a.clearRect(g,v,m,y),i&&i!=="transparent"){var _=void 0;if(S_(i)){var b=i.global||i.__width===m&&i.__height===y;_=b&&i.__canvasGradient||sM(a,i,{x:0,y:0,width:m,height:y}),i.__canvasGradient=_,i.__width=m,i.__height=y}else Ete(i)&&(i.scaleX=i.scaleX||f,i.scaleY=i.scaleY||f,_=lM(a,i,{dirty:function(){h.setUnpainted(),h.painter.refresh()}}));a.save(),a.fillStyle=_||i,a.fillRect(g,v,m,y),a.restore()}c&&(a.save(),a.globalAlpha=u,a.drawImage(d,g,v,m,y),a.restore())}!r||c?p(0,0,s,l):r.length&&q(r,function(g){p(g.x*f,g.y*f,g.width*f,g.height*f)})},e}(sa),qD=1e5,Bl=314159,Iv=.01,due=.001;function pue(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function mue(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var vue=function(){function t(e,n,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=i=Ie({},i||{}),this.dpr=i.devicePixelRatio||U0,this._singleCanvas=o,this.root=e;var a=e.style;a&&(XU(e),e.innerHTML=""),this.storage=n;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var u=e,f=u.width,h=u.height;i.width!=null&&(f=i.width),i.height!=null&&(h=i.height),this.dpr=i.devicePixelRatio||1,u.width=f*this.dpr,u.height=h*this.dpr,this._width=f,this._height=h;var d=new MS(u,this,this.dpr);d.__builtin__=!0,d.initContext(),l[Bl]=d,d.zlevel=Bl,s.push(Bl),this._domRoot=e}else{this._width=xv(e,0,i),this._height=xv(e,1,i);var c=this._domRoot=mue(this._width,this._height);e.appendChild(c)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var n=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,i,e,this._redrawId);for(var o=0;o<r.length;o++){var a=r[o],s=this._layers[a];if(!s.__builtin__&&s.refresh){var l=o===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var n=e.length,i=this._hoverlayer;if(i&&i.clear(),!!n){for(var r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,a=0;a<n;a++){var s=e[a];s.__inHover&&(i||(i=this._hoverlayer=this.getLayer(qD)),o||(o=i.ctx,o.save()),fc(o,s,r,a===n-1))}o&&o.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(qD)},t.prototype.paintOne=function(e,n){a$(e,n)},t.prototype._paintList=function(e,n,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,n,i),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),a)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;D0(function(){l._paintList(e,n,i,r)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(Bl).ctx,n=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,n,i),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,n,i)})},t.prototype._doPaintList=function(e,n,i){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||i)&&o.push(c)}for(var u=!0,f=!1,h=function(g){var v=o[g],m=v.ctx,y=a&&v.createRepaintRects(e,n,d._width,d._height),_=i?v.__startIndex:v.__drawIndex,b=!i&&v.incremental&&Date.now,T=b&&Date.now(),x=v.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(v.__startIndex===v.__endIndex)v.clear(!1,x,y);else if(_===v.__startIndex){var S=e[_];(!S.incremental||!S.notClear||i)&&v.clear(!1,x,y)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=v.__startIndex);var C,M=function(R){var L={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(C=_;C<v.__endIndex;C++){var E=e[C];if(E.__inHover&&(f=!0),r._doPaintEl(E,v,a,R,L,C===v.__endIndex-1),b){var O=Date.now()-T;if(O>15)break}}L.prevElClipPaths&&m.restore()};if(y)if(y.length===0)C=v.__endIndex;else for(var w=d.dpr,A=0;A<y.length;++A){var P=y[A];m.save(),m.beginPath(),m.rect(P.x*w,P.y*w,P.width*w,P.height*w),m.clip(),M(P),m.restore()}else m.save(),M(),m.restore();v.__drawIndex=C,v.__drawIndex<v.__endIndex&&(u=!1)},d=this,p=0;p<o.length;p++)h(p);return pt.wxa&&q(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:u,needsRefreshHover:f}},t.prototype._doPaintEl=function(e,n,i,r,o,a){var s=n.ctx;if(i){var l=e.getPaintRect();(!r||l&&l.intersect(r))&&(fc(s,e,o,a),e.setPrevPaintRect(l))}else fc(s,e,o,a)},t.prototype.getLayer=function(e,n){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Bl);var i=this._layers[e];return i||(i=new MS("zr_"+e,this,this.dpr),i.zlevel=e,i.__builtin__=!0,this._layerConfig[e]?Kt(i,this._layerConfig[e],!0):this._layerConfig[e-Iv]&&Kt(i,this._layerConfig[e-Iv],!0),n&&(i.virtual=n),this.insertLayer(e,i),i.initContext()),i},t.prototype.insertLayer=function(e,n){var i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,l=-1;if(!i[e]&&pue(n)){if(o>0&&e>r[0]){for(l=0;l<o-1&&!(r[l]<e&&r[l+1]>e);l++);s=i[r[l]]}if(r.splice(l+1,0,e),i[e]=n,!n.virtual)if(s){var c=s.dom;c.nextSibling?a.insertBefore(n.dom,c.nextSibling):a.appendChild(n.dom)}else a.firstChild?a.insertBefore(n.dom,a.firstChild):a.appendChild(n.dom);n.painter||(n.painter=this)}},t.prototype.eachLayer=function(e,n){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];e.call(n,this._layers[o],o)}},t.prototype.eachBuiltinLayer=function(e,n){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__&&e.call(n,a,o)}},t.prototype.eachOtherLayer=function(e,n){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__||e.call(n,a,o)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,h){f.__dirty=f.__used=!1});function n(f){o&&(o.__endIndex!==f&&(o.__dirty=!0),o.__endIndex=f)}if(this._singleCanvas)for(var i=1;i<e.length;i++){var r=e[i];if(r.zlevel!==e[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var o=null,a=0,s,l;for(l=0;l<e.length;l++){var r=e[l],c=r.zlevel,u=void 0;s!==c&&(s=c,a=0),r.incremental?(u=this.getLayer(c+due,this._needsManuallyCompositing),u.incremental=!0,a=1):u=this.getLayer(c+(a>0?Iv:0),this._needsManuallyCompositing),u.__builtin__||sC("ZLevel "+c+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.incremental?u.__drawIndex=-1:u.__drawIndex=l,n(l),o=u),r.__dirty&dr&&!r.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}n(l),this.eachBuiltinLayer(function(f,h){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,q(this._layers,function(n){n.setUnpainted()})},t.prototype.configLayer=function(e,n){if(n){var i=this._layerConfig;i[e]?Kt(i[e],n,!0):i[e]=n;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];if(o===e||o===e+Iv){var a=this._layers[o];Kt(a,i[e],!0)}}}},t.prototype.delLayer=function(e){var n=this._layers,i=this._zlevelList,r=n[e];r&&(r.dom.parentNode.removeChild(r.dom),delete n[e],i.splice(qt(i,e),1))},t.prototype.resize=function(e,n){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,o=this.root;if(e!=null&&(r.width=e),n!=null&&(r.height=n),e=xv(o,0,r),n=xv(o,1,r),i.style.display="",this._width!==e||n!==this._height){i.style.width=e+"px",i.style.height=n+"px";for(var a in this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,n);this.refresh(!0)}this._width=e,this._height=n}else{if(e==null||n==null)return;this._width=e,this._height=n,this.getLayer(Bl).resize(e,n)}return this},t.prototype.clearLayer=function(e){var n=this._layers[e];n&&n.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Bl].dom;var n=new MS("image",this,e.pixelRatio||this.dpr);n.initContext(),n.clear(!1,e.backgroundColor||this._backgroundColor);var i=n.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=n.dom.width,o=n.dom.height;this.eachLayer(function(f){f.__builtin__?i.drawImage(f.dom,0,0,r,o):f.renderToCanvas&&(i.save(),f.renderToCanvas(i),i.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,c=s.length;l<c;l++){var u=s[l];fc(i,u,a,l===c-1)}return n.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();function gue(t){t.registerPainter("canvas",vue)}var yue=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.getInitialData=function(n){return lce(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(n){var i=new tr,r=Np("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);i.add(r),r.setStyle(n.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s=o==="none"?"circle":o,l=n.itemHeight*.8,c=Np(s,(n.itemWidth-l)/2,(n.itemHeight-l)/2,l,l,n.itemStyle.fill);i.add(c),c.setStyle(n.itemStyle);var u=n.iconRotate==="inherit"?a:n.iconRotate||0;return c.rotation=u*Math.PI/180,c.setOrigin([n.itemWidth/2,n.itemHeight/2]),s.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),i},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Xa);function Y$(t,e){var n=t.mapDimensionsAll("defaultedLabel"),i=n.length;if(i===1){var r=jf(t,e,n[0]);return r!=null?r+"":null}else if(i){for(var o=[],a=0;a<n.length;a++)o.push(jf(t,e,n[a]));return o.join(" ")}}function _ue(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!Ge(e))return e+"";for(var i=[],r=0;r<n.length;r++){var o=t.getDimensionIndex(n[r]);o>=0&&i.push(e[o])}return i.join(" ")}var rA=function(t){Ve(e,t);function e(n,i,r,o){var a=t.call(this)||this;return a.updateData(n,i,r,o),a}return e.prototype._createSymbol=function(n,i,r,o,a){this.removeAll();var s=Np(n,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=bue,this._symbolType=n,this.add(s)},e.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){V0(this.childAt(0))},e.prototype.downplay=function(){G0(this.childAt(0))},e.prototype.setZ=function(n,i){var r=this.childAt(0);r.zlevel=n,r.z=i},e.prototype.setDraggable=function(n,i){var r=this.childAt(0);r.draggable=n,r.cursor=!i&&n?"move":r.cursor},e.prototype.updateData=function(n,i,r,o){this.silent=!1;var a=n.getItemVisual(i,"symbol")||"circle",s=n.hostModel,l=e.getSymbolSize(n,i),c=a!==this._symbolType,u=o&&o.disableAnimation;if(c){var f=n.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,n,i,l,f)}else{var h=this.childAt(0);h.silent=!1;var d={scaleX:l[0]/2,scaleY:l[1]/2};u?h.attr(d):Wa(h,d,s,i),Kz(h)}if(this._updateCommon(n,i,l,r,o),c){var h=this.childAt(0);if(!u){var d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,ks(h,d,s,i)}}u&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(n,i,r,o,a){var s=this.childAt(0),l=n.hostModel,c,u,f,h,d,p,g,v,m;if(o&&(c=o.emphasisItemStyle,u=o.blurItemStyle,f=o.selectItemStyle,h=o.focus,d=o.blurScope,g=o.labelStatesModels,v=o.hoverScale,m=o.cursorStyle,p=o.emphasisDisabled),!o||n.hasItemOption){var y=o&&o.itemModel?o.itemModel:n.getItemModel(i),_=y.getModel("emphasis");c=_.getModel("itemStyle").getItemStyle(),f=y.getModel(["select","itemStyle"]).getItemStyle(),u=y.getModel(["blur","itemStyle"]).getItemStyle(),h=_.get("focus"),d=_.get("blurScope"),p=_.get("disabled"),g=L_(y),v=_.getShallow("scale"),m=y.getShallow("cursor")}var b=n.getItemVisual(i,"symbolRotate");s.attr("rotation",(b||0)*Math.PI/180||0);var T=n$(n.getItemVisual(i,"symbolOffset"),r);T&&(s.x=T[0],s.y=T[1]),m&&s.attr("cursor",m);var x=n.getItemVisual(i,"style"),S=x.fill;if(s instanceof rl){var C=s.style;s.useStyle(Ie({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},x))}else s.__isEmptyBrush?s.useStyle(Ie({},x)):s.useStyle(x),s.style.decal=null,s.setColor(S,a&&a.symbolInnerColor),s.style.strokeNoScale=!0;var M=n.getItemVisual(i,"liftZ"),w=this._z2;M!=null?w==null&&(this._z2=s.z2,s.z2+=M):w!=null&&(s.z2=w,this._z2=null);var A=a&&a.useNameLabel;OC(s,g,{labelFetcher:l,labelDataIndex:i,defaultText:P,inheritColor:S,defaultOpacity:x.opacity});function P(E){return A?n.getName(E):Y$(n,E)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var R=s.ensureState("emphasis");R.style=c,s.ensureState("select").style=f,s.ensureState("blur").style=u;var L=v==null||v===!0?Math.max(1.1,3/this._sizeY):isFinite(v)&&v>0?+v:1;R.scaleX=this._sizeX*L,R.scaleY=this._sizeY*L,this.setSymbolScale(1),W0(this,h,d,p)},e.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},e.prototype.fadeOut=function(n,i,r){var o=this.childAt(0),a=Yt(this).dataIndex,s=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var l=o.getTextContent();l&&j0(l,{style:{opacity:0}},i,{dataIndex:a,removeOpt:s,cb:function(){o.removeTextContent()}})}else o.removeTextContent();j0(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:a,cb:n,removeOpt:s})},e.getSymbolSize=function(n,i){return Zse(n.getItemVisual(i,"symbolSize"))},e}(tr);function bue(t,e){this.parent.drift(t,e)}function TS(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&t.getItemVisual(n,"symbol")!=="none"}function KD(t){return t!=null&&!nt(t)&&(t={isIgnore:t}),t||{}}function ZD(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:L_(e),cursorStyle:e.get("cursor")}}var xue=function(){function t(e){this.group=new tr,this._SymbolCtor=e||rA}return t.prototype.updateData=function(e,n){this._progressiveEls=null,n=KD(n);var i=this.group,r=e.hostModel,o=this._data,a=this._SymbolCtor,s=n.disableAnimation,l=ZD(e),c={disableAnimation:s},u=n.getSymbolPoint||function(f){return e.getItemLayout(f)};o||i.removeAll(),e.diff(o).add(function(f){var h=u(f);if(TS(e,h,f,n)){var d=new a(e,f,l,c);d.setPosition(h),e.setItemGraphicEl(f,d),i.add(d)}}).update(function(f,h){var d=o.getItemGraphicEl(h),p=u(f);if(!TS(e,p,f,n)){i.remove(d);return}var g=e.getItemVisual(f,"symbol")||"circle",v=d&&d.getSymbolType&&d.getSymbolType();if(!d||v&&v!==g)i.remove(d),d=new a(e,f,l,c),d.setPosition(p);else{d.updateData(e,f,l,c);var m={x:p[0],y:p[1]};s?d.attr(m):Wa(d,m,r)}i.add(d),e.setItemGraphicEl(f,d)}).remove(function(f){var h=o.getItemGraphicEl(f);h&&h.fadeOut(function(){i.remove(h)},r)}).execute(),this._getSymbolPoint=u,this._data=e},t.prototype.updateLayout=function(){var e=this,n=this._data;n&&n.eachItemGraphicEl(function(i,r){var o=e._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=ZD(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,n,i){this._progressiveEls=[],i=KD(i);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var o=e.start;o<e.end;o++){var a=n.getItemLayout(o);if(TS(n,a,o,i)){var s=new this._SymbolCtor(n,o,this._seriesScope);s.traverse(r),s.setPosition(a),this.group.add(s),n.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(e){DC(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var n=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(r){r.fadeOut(function(){n.remove(r)},i.hostModel)}):n.removeAll()},t}();function q$(t,e,n){var i=t.getBaseAxis(),r=t.getOtherAxis(i),o=Sue(r,n),a=i.dim,s=r.dim,l=e.mapDimension(s),c=e.mapDimension(a),u=s==="x"||s==="radius"?1:0,f=rt(t.dimensions,function(p){return e.mapDimension(p)}),h=!1,d=e.getCalculationInfo("stackResultDimension");return Bp(e,f[0])&&(h=!0,f[0]=d),Bp(e,f[1])&&(h=!0,f[1]=d),{dataDimsForPoint:f,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!h,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Sue(t,e){var n=0,i=t.scale.getExtent();return e==="start"?n=i[0]:e==="end"?n=i[1]:tn(e)&&!isNaN(e)?n=e:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]),n}function K$(t,e,n,i){var r=NaN;t.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,i),a[1-o]=r,e.dataToPoint(a)}function wue(t,e){var n=[];return e.diff(t).add(function(i){n.push({cmd:"+",idx:i})}).update(function(i,r){n.push({cmd:"=",idx:r,idx1:i})}).remove(function(i){n.push({cmd:"-",idx:i})}).execute(),n}function Mue(t,e,n,i,r,o,a,s){for(var l=wue(t,e),c=[],u=[],f=[],h=[],d=[],p=[],g=[],v=q$(r,e,a),m=t.getLayout("points")||[],y=e.getLayout("points")||[],_=0;_<l.length;_++){var b=l[_],T=!0,x=void 0,S=void 0;switch(b.cmd){case"=":x=b.idx*2,S=b.idx1*2;var C=m[x],M=m[x+1],w=y[S],A=y[S+1];(isNaN(C)||isNaN(M))&&(C=w,M=A),c.push(C,M),u.push(w,A),f.push(n[x],n[x+1]),h.push(i[S],i[S+1]),g.push(e.getRawIndex(b.idx1));break;case"+":var P=b.idx,R=v.dataDimsForPoint,L=r.dataToPoint([e.get(R[0],P),e.get(R[1],P)]);S=P*2,c.push(L[0],L[1]),u.push(y[S],y[S+1]);var E=K$(v,r,e,P);f.push(E[0],E[1]),h.push(i[S],i[S+1]),g.push(e.getRawIndex(P));break;case"-":T=!1}T&&(d.push(b),p.push(p.length))}p.sort(function(ve,ye){return g[ve]-g[ye]});for(var O=c.length,$=cf(O),H=cf(O),V=cf(O),Y=cf(O),ae=[],_=0;_<p.length;_++){var oe=p[_],xe=_*2,Z=oe*2;$[xe]=c[Z],$[xe+1]=c[Z+1],H[xe]=u[Z],H[xe+1]=u[Z+1],V[xe]=f[Z],V[xe+1]=f[Z+1],Y[xe]=h[Z],Y[xe+1]=h[Z+1],ae[_]=d[oe]}return{current:$,next:H,stackedOnCurrent:V,stackedOnNext:Y,status:ae}}var us=Math.min,fs=Math.max;function Tc(t,e){return isNaN(t)||isNaN(e)}function pM(t,e,n,i,r,o,a,s,l){for(var c,u,f,h,d,p,g=n,v=0;v<i;v++){var m=e[g*2],y=e[g*2+1];if(g>=r||g<0)break;if(Tc(m,y)){if(l){g+=o;continue}break}if(g===n)t[o>0?"moveTo":"lineTo"](m,y),f=m,h=y;else{var _=m-c,b=y-u;if(_*_+b*b<.5){g+=o;continue}if(a>0){for(var T=g+o,x=e[T*2],S=e[T*2+1];x===m&&S===y&&v<i;)v++,T+=o,g+=o,x=e[T*2],S=e[T*2+1],m=e[g*2],y=e[g*2+1],_=m-c,b=y-u;var C=v+1;if(l)for(;Tc(x,S)&&C<i;)C++,T+=o,x=e[T*2],S=e[T*2+1];var M=.5,w=0,A=0,P=void 0,R=void 0;if(C>=i||Tc(x,S))d=m,p=y;else{w=x-c,A=S-u;var L=m-c,E=x-m,O=y-u,$=S-y,H=void 0,V=void 0;if(s==="x"){H=Math.abs(L),V=Math.abs(E);var Y=w>0?1:-1;d=m-Y*H*a,p=y,P=m+Y*V*a,R=y}else if(s==="y"){H=Math.abs(O),V=Math.abs($);var ae=A>0?1:-1;d=m,p=y-ae*H*a,P=m,R=y+ae*V*a}else H=Math.sqrt(L*L+O*O),V=Math.sqrt(E*E+$*$),M=V/(V+H),d=m-w*a*(1-M),p=y-A*a*(1-M),P=m+w*a*M,R=y+A*a*M,P=us(P,fs(x,m)),R=us(R,fs(S,y)),P=fs(P,us(x,m)),R=fs(R,us(S,y)),w=P-m,A=R-y,d=m-w*H/V,p=y-A*H/V,d=us(d,fs(c,m)),p=us(p,fs(u,y)),d=fs(d,us(c,m)),p=fs(p,us(u,y)),w=m-d,A=y-p,P=m+w*V/H,R=y+A*V/H}t.bezierCurveTo(f,h,d,p,m,y),f=P,h=R}else t.lineTo(m,y)}c=m,u=y,g+=o}return v}var Z$=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),Tue=function(t){Ve(e,t);function e(n){var i=t.call(this,n)||this;return i.type="ec-polyline",i}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Z$},e.prototype.buildPath=function(n,i){var r=i.points,o=0,a=r.length/2;if(i.connectNulls){for(;a>0&&Tc(r[a*2-2],r[a*2-1]);a--);for(;o<a&&Tc(r[o*2],r[o*2+1]);o++);}for(;o<a;)o+=pM(n,r,o,a,a,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},e.prototype.getPointOn=function(n,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,o=r.data,a=Hc.CMD,s,l,c=i==="x",u=[],f=0;f<o.length;){var h=o[f++],d=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,_=void 0;switch(h){case a.M:s=o[f++],l=o[f++];break;case a.L:if(d=o[f++],p=o[f++],_=c?(n-s)/(d-s):(n-l)/(p-l),_<=1&&_>=0){var b=c?(p-l)*_+l:(d-s)*_+s;return c?[n,b]:[b,n]}s=d,l=p;break;case a.C:d=o[f++],p=o[f++],g=o[f++],v=o[f++],m=o[f++],y=o[f++];var T=c?L0(s,d,g,m,n,u):L0(l,p,v,y,n,u);if(T>0)for(var x=0;x<T;x++){var S=u[x];if(S<=1&&S>=0){var b=c?Zn(l,p,v,y,S):Zn(s,d,g,m,S);return c?[n,b]:[b,n]}}s=m,l=y;break}}},e}(Zt),Cue=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Z$),Aue=function(t){Ve(e,t);function e(n){var i=t.call(this,n)||this;return i.type="ec-polygon",i}return e.prototype.getDefaultShape=function(){return new Cue},e.prototype.buildPath=function(n,i){var r=i.points,o=i.stackedOnPoints,a=0,s=r.length/2,l=i.smoothMonotone;if(i.connectNulls){for(;s>0&&Tc(r[s*2-2],r[s*2-1]);s--);for(;a<s&&Tc(r[a*2],r[a*2+1]);a++);}for(;a<s;){var c=pM(n,r,a,s,s,1,i.smooth,l,i.connectNulls);pM(n,o,a+c-1,c,s,-1,i.stackedOnSmooth,l,i.connectNulls),a+=c+1,n.closePath()}},e}(Zt);function Eue(t,e,n,i,r){var o=t.getArea(),a=o.x,s=o.y,l=o.width,c=o.height,u=n.get(["lineStyle","width"])||2;a-=u/2,s-=u/2,l+=u,c+=u,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++);var f=new Li({shape:{x:a,y:s,width:l,height:c}});if(e){var h=t.getBaseAxis(),d=h.isHorizontal(),p=h.inverse;d?(p&&(f.shape.x+=l),f.shape.width=0):(p||(f.shape.y+=c),f.shape.height=0);var g=St(r)?function(v){r(v,f)}:null;ks(f,{shape:{width:l,height:c,x:a,y:s}},n,null,i,g)}return f}function Pue(t,e,n){var i=t.getArea(),r=In(i.r0,1),o=In(i.r,1),a=new fh({shape:{cx:In(t.cx,1),cy:In(t.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";s?a.shape.endAngle=i.startAngle:a.shape.r=r,ks(a,{shape:{endAngle:i.endAngle,r:o}},n)}return a}function Iue(t,e){return t.type===e}function JD(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function QD(t){for(var e=1/0,n=1/0,i=-1/0,r=-1/0,o=0;o<t.length;){var a=t[o++],s=t[o++];isNaN(a)||(e=Math.min(a,e),i=Math.max(a,i)),isNaN(s)||(n=Math.min(s,n),r=Math.max(s,r))}return[[e,n],[i,r]]}function eO(t,e){var n=QD(t),i=n[0],r=n[1],o=QD(e),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function tO(t){return tn(t)?t:t?.5:0}function Rue(t,e,n){if(!n.valueDim)return[];for(var i=e.count(),r=cf(i*2),o=0;o<i;o++){var a=K$(n,t,e,o);r[o*2]=a[0],r[o*2+1]=a[1]}return r}function hs(t,e,n,i){var r=e.getBaseAxis(),o=r.dim==="x"||r.dim==="radius"?0:1,a=[],s=0,l=[],c=[],u=[],f=[];if(i){for(s=0;s<t.length;s+=2)!isNaN(t[s])&&!isNaN(t[s+1])&&f.push(t[s],t[s+1]);t=f}for(s=0;s<t.length-2;s+=2)switch(u[0]=t[s+2],u[1]=t[s+3],c[0]=t[s],c[1]=t[s+1],a.push(c[0],c[1]),n){case"end":l[o]=u[o],l[1-o]=c[1-o],a.push(l[0],l[1]);break;case"middle":var h=(c[o]+u[o])/2,d=[];l[o]=d[o]=h,l[1-o]=c[1-o],d[1-o]=u[1-o],a.push(l[0],l[1]),a.push(d[0],d[1]);break;default:l[o]=c[o],l[1-o]=u[1-o],a.push(l[0],l[1])}return a.push(t[s++],t[s++]),a}function Due(t,e){var n=[],i=t.length,r,o;function a(u,f,h){var d=u.coord,p=(h-d)/(f.coord-d),g=_ne(p,[u.color,f.color]);return{coord:h,color:g}}for(var s=0;s<i;s++){var l=t[s],c=l.coord;if(c<0)r=l;else if(c>e){o?n.push(a(o,l,e)):r&&n.push(a(r,l,0),a(r,l,e));break}else r&&(n.push(a(r,l,0)),r=null),n.push(l),o=l}return n}function Oue(t,e,n){var i=t.getVisual("visualMeta");if(!(!i||!i.length||!t.count())&&e.type==="cartesian2d"){for(var r,o,a=i.length-1;a>=0;a--){var s=t.getDimensionInfo(i[a].dimension);if(r=s&&s.coordDim,r==="x"||r==="y"){o=i[a];break}}if(o){var l=e.getAxis(r),c=rt(o.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),u=c.length,f=o.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),f.reverse());var h=Due(c,r==="x"?n.getWidth():n.getHeight()),d=h.length;if(!d&&u)return c[0].coord<0?f[1]?f[1]:c[u-1].color:f[0]?f[0]:c[0].color;var p=10,g=h[0].coord-p,v=h[d-1].coord+p,m=v-g;if(m<.001)return"transparent";q(h,function(_){_.offset=(_.coord-g)/m}),h.push({offset:d?h[d-1].offset:.5,color:f[1]||"transparent"}),h.unshift({offset:d?h[0].offset:.5,color:f[0]||"transparent"});var y=new Yz(0,0,0,0,h,!0);return y[r]=g,y[r+"2"]=v,y}}}function Lue(t,e,n){var i=t.get("showAllSymbol"),r=i==="auto";if(!(i&&!r)){var o=n.getAxesByScale("ordinal")[0];if(o&&!(r&&Nue(o,e))){var a=e.mapDimension(o.dim),s={};return q(o.getViewLabels(),function(l){var c=o.scale.getRawOrdinalNumber(l.tickValue);s[c]=1}),function(l){return!s.hasOwnProperty(e.get(a,l))}}}}function Nue(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(rA.getSymbolSize(e,a)[t.isHorizontal()?1:0]*1.5>i)return!1;return!0}function Fue(t,e){return isNaN(t)||isNaN(e)}function Bue(t){for(var e=t.length/2;e>0&&Fue(t[e*2-2],t[e*2-1]);e--);return e-1}function nO(t,e){return[t[e*2],t[e*2+1]]}function Uue(t,e,n){for(var i=t.length/2,r=n==="x"?0:1,o,a,s=0,l=-1,c=0;c<i;c++)if(a=t[c*2+r],!(isNaN(a)||isNaN(t[c*2+1-r]))){if(c===0){o=a;continue}if(o<=e&&a>=e||o>=e&&a<=e){l=c;break}s=c,o=a}return{range:[s,l],t:(e-o)/(a-o)}}function J$(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<Zr.length;e++)if(t.get([Zr[e],"endLabel","show"]))return!0;return!1}function CS(t,e,n,i){if(Iue(e,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=J$(i)?function(d,p){t._endLabelOnDuring(d,p,a,s,o,r,e)}:null,c=e.getBaseAxis().isHorizontal(),u=Eue(e,n,i,function(){var d=t._endLabel;d&&n&&s.originalX!=null&&d.attr({x:s.originalX,y:s.originalY})},l);if(!i.get("clip",!0)){var f=u.shape,h=Math.max(f.width,f.height);c?(f.y-=h,f.height+=h*2):(f.x-=h,f.width+=h*2)}return l&&l(1,u),u}else return Pue(e,n,i)}function zue(t,e){var n=e.getBaseAxis(),i=n.isHorizontal(),r=n.inverse,o=i?r?"right":"left":"center",a=i?"middle":r?"top":"bottom";return{normal:{align:t.get("align")||o,verticalAlign:t.get("verticalAlign")||a}}}var kue=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var n=new tr,i=new xue;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=n},e.prototype.render=function(n,i,r){var o=this,a=n.coordinateSystem,s=this.group,l=n.getData(),c=n.getModel("lineStyle"),u=n.getModel("areaStyle"),f=l.getLayout("points")||[],h=a.type==="polar",d=this._coordSys,p=this._symbolDraw,g=this._polyline,v=this._polygon,m=this._lineGroup,y=!i.ssr&&n.get("animation"),_=!u.isEmpty(),b=u.get("origin"),T=q$(a,l,b),x=_&&Rue(a,l,T),S=n.get("showSymbol"),C=n.get("connectNulls"),M=S&&!h&&Lue(n,l,a),w=this._data;w&&w.eachItemGraphicEl(function(ye,ge){ye.__temp&&(s.remove(ye),w.setItemGraphicEl(ge,null))}),S||p.remove(),s.add(m);var A=h?!1:n.get("step"),P;a&&a.getArea&&n.get("clip",!0)&&(P=a.getArea(),P.width!=null?(P.x-=.1,P.y-=.1,P.width+=.2,P.height+=.2):P.r0&&(P.r0-=.5,P.r+=.5)),this._clipShapeForSymbol=P;var R=Oue(l,a,r)||l.getVisual("style")[l.getVisual("drawType")];if(!(g&&d.type===a.type&&A===this._step))S&&p.updateData(l,{isIgnore:M,clipShape:P,disableAnimation:!0,getSymbolPoint:function(ye){return[f[ye*2],f[ye*2+1]]}}),y&&this._initSymbolLabelAnimation(l,a,P),A&&(f=hs(f,a,A,C),x&&(x=hs(x,a,A,C))),g=this._newPolyline(f),_?v=this._newPolygon(f,x):v&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(n,a,Gc(R)),m.setClipPath(CS(this,a,!0,n));else{_&&!v?v=this._newPolygon(f,x):v&&!_&&(m.remove(v),v=this._polygon=null),h||this._initOrUpdateEndLabel(n,a,Gc(R));var L=m.getClipPath();if(L){var E=CS(this,a,!1,n);ks(L,{shape:E.shape},n)}else m.setClipPath(CS(this,a,!0,n));S&&p.updateData(l,{isIgnore:M,clipShape:P,disableAnimation:!0,getSymbolPoint:function(ye){return[f[ye*2],f[ye*2+1]]}}),(!JD(this._stackedOnPoints,x)||!JD(this._points,f))&&(y?this._doUpdateAnimation(l,x,a,r,A,b,C):(A&&(f=hs(f,a,A,C),x&&(x=hs(x,a,A,C))),g.setShape({points:f}),v&&v.setShape({points:f,stackedOnPoints:x})))}var O=n.getModel("emphasis"),$=O.get("focus"),H=O.get("blurScope"),V=O.get("disabled");if(g.useStyle(Vt(c.getLineStyle(),{fill:"none",stroke:R,lineJoin:"bevel"})),jw(g,n,"lineStyle"),g.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var Y=g.getState("emphasis").style;Y.lineWidth=+g.style.lineWidth+1}Yt(g).seriesIndex=n.seriesIndex,W0(g,$,H,V);var ae=tO(n.get("smooth")),oe=n.get("smoothMonotone");if(g.setShape({smooth:ae,smoothMonotone:oe,connectNulls:C}),v){var xe=l.getCalculationInfo("stackedOnSeries"),Z=0;v.useStyle(Vt(u.getAreaStyle(),{fill:R,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),xe&&(Z=tO(xe.get("smooth"))),v.setShape({smooth:ae,stackedOnSmooth:Z,smoothMonotone:oe,connectNulls:C}),jw(v,n,"areaStyle"),Yt(v).seriesIndex=n.seriesIndex,W0(v,$,H,V)}var ve=function(ye){o._changePolyState(ye)};l.eachItemGraphicEl(function(ye){ye&&(ye.onHoverStateChange=ve)}),this._polyline.onHoverStateChange=ve,this._data=l,this._coordSys=a,this._stackedOnPoints=x,this._points=f,this._step=A,this._valueOrigin=b,n.get("triggerLineEvent")&&(this.packEventData(n,g),v&&this.packEventData(n,v))},e.prototype.packEventData=function(n,i){Yt(i).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},e.prototype.highlight=function(n,i,r,o){var a=n.getData(),s=$c(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=a.getLayout("points"),c=a.getItemGraphicEl(s);if(!c){var u=l[s*2],f=l[s*2+1];if(isNaN(u)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,f))return;var h=n.get("zlevel")||0,d=n.get("z")||0;c=new rA(a,s),c.x=u,c.y=f,c.setZ(h,d);var p=c.getSymbolPath().getTextContent();p&&(p.zlevel=h,p.z=d,p.z2=this._polyline.z2+1),c.__temp=!0,a.setItemGraphicEl(s,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else _o.prototype.highlight.call(this,n,i,r,o)},e.prototype.downplay=function(n,i,r,o){var a=n.getData(),s=$c(a,o);if(this._changePolyState("normal"),s!=null&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else _o.prototype.downplay.call(this,n,i,r,o)},e.prototype._changePolyState=function(n){var i=this._polygon;c2(this._polyline,n),i&&c2(i,n)},e.prototype._newPolyline=function(n){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new Tue({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},e.prototype._newPolygon=function(n,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new Aue({shape:{points:n,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(n,i,r){var o,a,s=i.getBaseAxis(),l=s.inverse;i.type==="cartesian2d"?(o=s.isHorizontal(),a=!1):i.type==="polar"&&(o=s.dim==="angle",a=!0);var c=n.hostModel,u=c.get("animationDuration");St(u)&&(u=u(null));var f=c.get("animationDelay")||0,h=St(f)?f(null):f;n.eachItemGraphicEl(function(d,p){var g=d;if(g){var v=[d.x,d.y],m=void 0,y=void 0,_=void 0;if(r)if(a){var b=r,T=i.pointToCoord(v);o?(m=b.startAngle,y=b.endAngle,_=-T[1]/180*Math.PI):(m=b.r0,y=b.r,_=T[0])}else{var x=r;o?(m=x.x,y=x.x+x.width,_=d.x):(m=x.y+x.height,y=x.y,_=d.y)}var S=y===m?0:(_-m)/(y-m);l&&(S=1-S);var C=St(f)?f(p):u*S+h,M=g.getSymbolPath(),w=M.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:C}),w&&w.animateFrom({style:{opacity:0}},{duration:300,delay:C}),M.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(n,i,r){var o=n.getModel("endLabel");if(J$(n)){var a=n.getData(),s=this._polyline,l=a.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var c=this._endLabel;c||(c=this._endLabel=new nr({z2:200}),c.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var u=Bue(l);u>=0&&(OC(s,L_(n,"endLabel"),{inheritColor:r,labelFetcher:n,labelDataIndex:u,defaultText:function(f,h,d){return d!=null?_ue(a,d):Y$(a,f)},enableTextSetter:!0},zue(o,i)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(n,i,r,o,a,s,l){var c=this._endLabel,u=this._polyline;if(c){n<1&&o.originalX==null&&(o.originalX=c.x,o.originalY=c.y);var f=r.getLayout("points"),h=r.hostModel,d=h.get("connectNulls"),p=s.get("precision"),g=s.get("distance")||0,v=l.getBaseAxis(),m=v.isHorizontal(),y=v.inverse,_=i.shape,b=y?m?_.x:_.y+_.height:m?_.x+_.width:_.y,T=(m?g:0)*(y?-1:1),x=(m?0:-g)*(y?-1:1),S=m?"x":"y",C=Uue(f,b,S),M=C.range,w=M[1]-M[0],A=void 0;if(w>=1){if(w>1&&!d){var P=nO(f,M[0]);c.attr({x:P[0]+T,y:P[1]+x}),a&&(A=h.getRawValue(M[0]))}else{var P=u.getPointOn(b,S);P&&c.attr({x:P[0]+T,y:P[1]+x});var R=h.getRawValue(M[0]),L=h.getRawValue(M[1]);a&&(A=mie(r,p,R,L,C.t))}o.lastFrameIndex=M[0]}else{var E=n===1||o.lastFrameIndex>0?M[0]:0,P=nO(f,E);a&&(A=h.getRawValue(E)),c.attr({x:P[0]+T,y:P[1]+x})}if(a){var O=rk(c);typeof O.setLabelText=="function"&&O.setLabelText(A)}}},e.prototype._doUpdateAnimation=function(n,i,r,o,a,s,l){var c=this._polyline,u=this._polygon,f=n.hostModel,h=Mue(this._data,n,this._stackedOnPoints,i,this._coordSys,r,this._valueOrigin),d=h.current,p=h.stackedOnCurrent,g=h.next,v=h.stackedOnNext;if(a&&(d=hs(h.current,r,a,l),p=hs(h.stackedOnCurrent,r,a,l),g=hs(h.next,r,a,l),v=hs(h.stackedOnNext,r,a,l)),eO(d,g)>3e3||u&&eO(p,v)>3e3){c.stopAnimation(),c.setShape({points:g}),u&&(u.stopAnimation(),u.setShape({points:g,stackedOnPoints:v}));return}c.shape.__points=h.current,c.shape.points=d;var m={shape:{points:g}};h.current!==d&&(m.shape.__points=h.next),c.stopAnimation(),Wa(c,m,f),u&&(u.setShape({points:d,stackedOnPoints:p}),u.stopAnimation(),Wa(u,{shape:{stackedOnPoints:v}},f),c.shape.points!==u.shape.points&&(u.shape.points=c.shape.points));for(var y=[],_=h.status,b=0;b<_.length;b++){var T=_[b].cmd;if(T==="="){var x=n.getItemGraphicEl(_[b].idx1);x&&y.push({el:x,ptIdx:b})}}c.animators&&c.animators.length&&c.animators[0].during(function(){u&&u.dirtyShape();for(var S=c.shape.__points,C=0;C<y.length;C++){var M=y[C].el,w=y[C].ptIdx*2;M.x=S[w],M.y=S[w+1],M.markRedraw()}})},e.prototype.remove=function(n){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(i.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(_o);function $ue(t,e){return{seriesType:t,plan:Xk(),reset:function(n){var i=n.getData(),r=n.coordinateSystem;if(n.pipelineContext,!!r){var o=rt(r.dimensions,function(f){return i.mapDimension(f)}).slice(0,2),a=o.length,s=i.getCalculationInfo("stackResultDimension");Bp(i,o[0])&&(o[0]=s),Bp(i,o[1])&&(o[1]=s);var l=i.getStore(),c=i.getDimensionIndex(o[0]),u=i.getDimensionIndex(o[1]);return a&&{progress:function(f,h){for(var d=f.end-f.start,p=cf(d*a),g=[],v=[],m=f.start,y=0;m<f.end;m++){var _=void 0;if(a===1){var b=l.get(c,m);_=r.dataToPoint(b,null,v)}else g[0]=l.get(c,m),g[1]=l.get(u,m),_=r.dataToPoint(g,null,v);p[y++]=_[0],p[y++]=_[1]}h.setLayout("points",p)}}}}}}var Hue={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return n===0?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},minmax:function(t){for(var e=-1/0,n=-1/0,i=0;i<t.length;i++){var r=t[i],o=Math.abs(r);o>e&&(e=o,n=r)}return isFinite(n)?n:NaN},nearest:function(t){return t[0]}},Vue=function(t){return Math.round(t.length/2)};function Gue(t){return{seriesType:t,reset:function(e,n,i){var r=e.getData(),o=e.get("sampling"),a=e.coordinateSystem,s=r.count();if(s>10&&a.type==="cartesian2d"&&o){var l=a.getBaseAxis(),c=a.getOtherAxis(l),u=l.getExtent(),f=i.getDevicePixelRatio(),h=Math.abs(u[1]-u[0])*(f||1),d=Math.round(s/h);if(isFinite(d)&&d>1){o==="lttb"&&e.setData(r.lttbDownSample(r.mapDimension(c.dim),1/d));var p=void 0;Qe(o)?p=Hue[o]:St(o)&&(p=o),p&&e.setData(r.downSample(r.mapDimension(c.dim),1/d,p,Vue))}}}}}function Wue(t){t.registerChartView(kue),t.registerSeriesModel(yue),t.registerLayout($ue("line")),t.registerVisual({seriesType:"line",reset:function(e){var n=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",i)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Gue("line"))}function Rv(t,e,n){var i=t.get("borderRadius");if(i==null)return n?{cornerRadius:0}:null;Ge(i)||(i=[i,i,i,i]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:rt(i,function(o){return Xs(o,r)})}}var iO=Math.PI*2,Dv=Math.PI/180;function Q$(t,e){return $_(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function eH(t,e){var n=Q$(t,e),i=t.get("center"),r=t.get("radius");Ge(r)||(r=[0,r]);var o=on(n.width,e.getWidth()),a=on(n.height,e.getHeight()),s=Math.min(o,a),l=on(r[0],s/2),c=on(r[1],s/2),u,f,h=t.coordinateSystem;if(h){var d=h.dataToPoint(i);u=d[0]||0,f=d[1]||0}else Ge(i)||(i=[i,i]),u=on(i[0],o)+n.x,f=on(i[1],a)+n.y;return{cx:u,cy:f,r0:l,r:c}}function Xue(t,e,n){e.eachSeriesByType(t,function(i){var r=i.getData(),o=r.mapDimension("value"),a=Q$(i,n),s=eH(i,n),l=s.cx,c=s.cy,u=s.r,f=s.r0,h=-i.get("startAngle")*Dv,d=i.get("endAngle"),p=i.get("padAngle")*Dv;d=d==="auto"?h-iO:-d*Dv;var g=i.get("minAngle")*Dv,v=g+p,m=0;r.each(o,function($){!isNaN($)&&m++});var y=r.getSum(o),_=Math.PI/(y||m)*2,b=i.get("clockwise"),T=i.get("roseType"),x=i.get("stillShowZeroSum"),S=r.getDataExtent(o);S[0]=0;var C=b?1:-1,M=[h,d],w=C*p/2;Az(M,!b),h=M[0],d=M[1];var A=tH(i);A.startAngle=h,A.endAngle=d,A.clockwise=b;var P=Math.abs(d-h),R=P,L=0,E=h;if(r.setLayout({viewRect:a,r:u}),r.each(o,function($,H){var V;if(isNaN($)){r.setItemLayout(H,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:c,r0:f,r:T?NaN:u});return}T!=="area"?V=y===0&&x?_:$*_:V=P/m,V<v?(V=v,R-=v):L+=$;var Y=E+C*V,ae=0,oe=0;p>V?(ae=E+C*V/2,oe=ae):(ae=E+w,oe=Y-w),r.setItemLayout(H,{angle:V,startAngle:ae,endAngle:oe,clockwise:b,cx:l,cy:c,r0:f,r:T?kw($,S,[f,u]):u}),E=Y}),R<iO&&m)if(R<=.001){var O=P/m;r.each(o,function($,H){if(!isNaN($)){var V=r.getItemLayout(H);V.angle=O;var Y=0,ae=0;O<p?(Y=h+C*(H+1/2)*O,ae=Y):(Y=h+C*H*O+w,ae=h+C*(H+1)*O-w),V.startAngle=Y,V.endAngle=ae}})}else _=R/L,E=h,r.each(o,function($,H){if(!isNaN($)){var V=r.getItemLayout(H),Y=V.angle===v?v:$*_,ae=0,oe=0;Y<p?(ae=E+C*Y/2,oe=ae):(ae=E+w,oe=E+C*Y-w),V.startAngle=ae,V.endAngle=oe,E+=C*Y}})})}var tH=Mn();function jue(t){return{seriesType:t,reset:function(e,n){var i=n.findComponents({mainType:"legend"});if(!(!i||!i.length)){var r=e.getData();r.filterSelf(function(o){for(var a=r.getName(o),s=0;s<i.length;s++)if(!i[s].isSelected(a))return!1;return!0})}}}}var Yue=Math.PI/180;function rO(t,e,n,i,r,o,a,s,l,c){if(t.length<2)return;function u(g){for(var v=g.rB,m=v*v,y=0;y<g.list.length;y++){var _=g.list[y],b=Math.abs(_.label.y-n),T=i+_.len,x=T*T,S=Math.sqrt((1-Math.abs(b*b/m))*x),C=e+(S+_.len2)*r,M=C-_.label.x,w=_.targetTextWidth-M*r;nH(_,w,!0),_.label.x=C}}function f(g){for(var v={list:[],maxY:0},m={list:[],maxY:0},y=0;y<g.length;y++)if(g[y].labelAlignTo==="none"){var _=g[y],b=_.label.y>n?m:v,T=Math.abs(_.label.y-n);if(T>=b.maxY){var x=_.label.x-e-_.len2*r,S=i+_.len,C=Math.abs(x)<S?Math.sqrt(T*T/(1-x*x/S/S)):S;b.rB=C,b.maxY=T}b.list.push(_)}u(v),u(m)}for(var h=t.length,d=0;d<h;d++)if(t[d].position==="outer"&&t[d].labelAlignTo==="labelLine"){var p=t[d].label.x-c;t[d].linePoints[1][0]+=p,t[d].label.x=c}fue(t,l,l+a)&&f(t)}function que(t,e,n,i,r,o,a,s){for(var l=[],c=[],u=Number.MAX_VALUE,f=-Number.MAX_VALUE,h=0;h<t.length;h++){var d=t[h].label;AS(t[h])||(d.x<e?(u=Math.min(u,d.x),l.push(t[h])):(f=Math.max(f,d.x),c.push(t[h])))}for(var h=0;h<t.length;h++){var p=t[h];if(!AS(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var d=p.label,g=p.linePoints,v=void 0;p.labelAlignTo==="edge"?d.x<e?v=g[2][0]-p.labelDistance-a-p.edgeDistance:v=a+r-p.edgeDistance-g[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?d.x<e?v=u-a-p.bleedMargin:v=a+r-f-p.bleedMargin:d.x<e?v=d.x-a-p.bleedMargin:v=a+r-d.x-p.bleedMargin,p.targetTextWidth=v,nH(p,v)}}rO(c,e,n,i,1,r,o,a,s,f),rO(l,e,n,i,-1,r,o,a,s,u);for(var h=0;h<t.length;h++){var p=t[h];if(!AS(p)&&p.linePoints){var d=p.label,g=p.linePoints,m=p.labelAlignTo==="edge",y=d.style.padding,_=y?y[1]+y[3]:0,b=d.style.backgroundColor?0:_,T=p.rect.width+b,x=g[1][0]-g[2][0];m?d.x<e?g[2][0]=a+p.edgeDistance+T+p.labelDistance:g[2][0]=a+r-p.edgeDistance-T-p.labelDistance:(d.x<e?g[2][0]=d.x+p.labelDistance:g[2][0]=d.x-p.labelDistance,g[1][0]=g[2][0]+x),g[1][1]=g[2][1]=d.y}}}function nH(t,e,n){if(n===void 0&&(n=!1),t.labelStyleWidth==null){var i=t.label,r=i.style,o=t.rect,a=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,c=r.overflow,u=o.width+(a?0:l);if(e<u||n){var f=o.height;if(c&&c.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-l);var h=i.getBoundingRect();i.setStyle("width",Math.ceil(h.width)),i.setStyle("backgroundColor",a)}else{var d=e-l,p=e<u?d:n?d>t.unconstrainedWidth?null:d:null;i.setStyle("width",p)}var g=i.getBoundingRect();o.width=g.width;var v=(i.style.margin||0)+2.1;o.height=g.height+v,o.y-=(o.height-f)/2}}}function AS(t){return t.position==="center"}function Kue(t){var e=t.getData(),n=[],i,r,o=!1,a=(t.get("minShowLabelAngle")||0)*Yue,s=e.getLayout("viewRect"),l=e.getLayout("r"),c=s.width,u=s.x,f=s.y,h=s.height;function d(x){x.ignore=!0}function p(x){if(!x.ignore)return!0;for(var S in x.states)if(x.states[S].ignore===!1)return!0;return!1}e.each(function(x){var S=e.getItemGraphicEl(x),C=S.shape,M=S.getTextContent(),w=S.getTextGuideLine(),A=e.getItemModel(x),P=A.getModel("label"),R=P.get("position")||A.get(["emphasis","label","position"]),L=P.get("distanceToLabelLine"),E=P.get("alignTo"),O=on(P.get("edgeDistance"),c),$=P.get("bleedMargin"),H=A.getModel("labelLine"),V=H.get("length");V=on(V,c);var Y=H.get("length2");if(Y=on(Y,c),Math.abs(C.endAngle-C.startAngle)<a){q(M.states,d),M.ignore=!0,w&&(q(w.states,d),w.ignore=!0);return}if(p(M)){var ae=(C.startAngle+C.endAngle)/2,oe=Math.cos(ae),xe=Math.sin(ae),Z,ve,ye,ge;i=C.cx,r=C.cy;var Ce=R==="inside"||R==="inner";if(R==="center")Z=C.cx,ve=C.cy,ge="center";else{var ce=(Ce?(C.r+C.r0)/2*oe:C.r*oe)+i,J=(Ce?(C.r+C.r0)/2*xe:C.r*xe)+r;if(Z=ce+oe*3,ve=J+xe*3,!Ce){var Q=ce+oe*(V+l-C.r),D=J+xe*(V+l-C.r),U=Q+(oe<0?-1:1)*Y,I=D;E==="edge"?Z=oe<0?u+O:u+c-O:Z=U+(oe<0?-L:L),ve=I,ye=[[ce,J],[Q,D],[U,I]]}ge=Ce?"center":E==="edge"?oe>0?"right":"left":oe>0?"left":"right"}var K=Math.PI,X=0,te=P.get("rotate");if(tn(te))X=te*(K/180);else if(R==="center")X=0;else if(te==="radial"||te===!0){var ee=oe<0?-ae+K:-ae;X=ee}else if(te==="tangential"&&R!=="outside"&&R!=="outer"){var fe=Math.atan2(oe,xe);fe<0&&(fe=K*2+fe);var le=xe>0;le&&(fe=K+fe),X=fe-K}if(o=!!X,M.x=Z,M.y=ve,M.rotation=X,M.setStyle({verticalAlign:"middle"}),Ce){M.setStyle({align:ge});var j=M.states.select;j&&(j.x+=M.x,j.y+=M.y)}else{var F=M.getBoundingRect().clone();F.applyTransform(M.getComputedTransform());var N=(M.style.margin||0)+2.1;F.y-=N/2,F.height+=N,n.push({label:M,labelLine:w,position:R,len:V,len2:Y,minTurnAngle:H.get("minTurnAngle"),maxSurfaceAngle:H.get("maxSurfaceAngle"),surfaceNormal:new ft(oe,xe),linePoints:ye,textAlign:ge,labelDistance:L,labelAlignTo:E,edgeDistance:O,bleedMargin:$,rect:F,unconstrainedWidth:F.width,labelStyleWidth:M.style.width})}S.setTextConfig({inside:Ce})}}),!o&&t.get("avoidLabelOverlap")&&que(n,i,r,l,c,h,u,f);for(var g=0;g<n.length;g++){var v=n[g],m=v.label,y=v.labelLine,_=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:v.textAlign}),_&&(q(m.states,d),m.ignore=!0);var b=m.states.select;b&&(b.x+=m.x,b.y+=m.y)}if(y){var T=v.linePoints;_||!T?(q(y.states,d),y.ignore=!0):(rue(T,v.minTurnAngle),oue(T,v.surfaceNormal,v.maxSurfaceAngle),y.setShape({points:T}),m.__hostTarget.textGuideLineConfig={anchor:new ft(T[0][0],T[0][1])})}}}var Zue=function(t){Ve(e,t);function e(n,i,r){var o=t.call(this)||this;o.z2=2;var a=new nr;return o.setTextContent(a),o.updateData(n,i,r,!0),o}return e.prototype.updateData=function(n,i,r,o){var a=this,s=n.hostModel,l=n.getItemModel(i),c=l.getModel("emphasis"),u=n.getItemLayout(i),f=Ie(Rv(l.getModel("itemStyle"),u,!0),u);if(isNaN(f.startAngle)){a.setShape(f);return}if(o){a.setShape(f);var h=s.getShallow("animationType");s.ecModel.ssr?(ks(a,{scaleX:0,scaleY:0},s,{dataIndex:i,isFrom:!0}),a.originX=f.cx,a.originY=f.cy):h==="scale"?(a.shape.r=u.r0,ks(a,{shape:{r:u.r}},s,i)):r!=null?(a.setShape({startAngle:r,endAngle:r}),ks(a,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},s,i)):(a.shape.endAngle=u.startAngle,Wa(a,{shape:{endAngle:u.endAngle}},s,i))}else Kz(a),Wa(a,{shape:f},s,i);a.useStyle(n.getItemVisual(i,"style")),jw(a,l);var d=(u.startAngle+u.endAngle)/2,p=s.get("selectedOffset"),g=Math.cos(d)*p,v=Math.sin(d)*p,m=l.getShallow("cursor");m&&a.attr("cursor",m),this._updateLabel(s,n,i),a.ensureState("emphasis").shape=Ie({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},Rv(c.getModel("itemStyle"),u)),Ie(a.ensureState("select"),{x:g,y:v,shape:Rv(l.getModel(["select","itemStyle"]),u)}),Ie(a.ensureState("blur"),{shape:Rv(l.getModel(["blur","itemStyle"]),u)});var y=a.getTextGuideLine(),_=a.getTextContent();y&&Ie(y.ensureState("select"),{x:g,y:v}),Ie(_.ensureState("select"),{x:g,y:v}),W0(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(n,i,r){var o=this,a=i.getItemModel(r),s=a.getModel("labelLine"),l=i.getItemVisual(r,"style"),c=l&&l.fill,u=l&&l.opacity;OC(o,L_(a),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:c,defaultOpacity:u,defaultText:n.getFormattedLabel(r,"normal")||i.getName(r)});var f=o.getTextContent();o.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var h=n.get(["label","position"]);if(h!=="outside"&&h!=="outer")o.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new um,this.setTextGuideLine(d)),sue(this,lue(a),{stroke:c,opacity:Bd(s.get(["lineStyle","opacity"]),u,1)})}},e}(fh),Jue=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return e.prototype.render=function(n,i,r,o){var a=n.getData(),s=this._data,l=this.group,c;if(!s&&a.count()>0){for(var u=a.getItemLayout(0),f=1;isNaN(u&&u.startAngle)&&f<a.count();++f)u=a.getItemLayout(f);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),a.count()===0&&n.get("showEmptyCircle")){var h=tH(n),d=new fh({shape:Ie(eH(n,r),h)});d.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}a.diff(s).add(function(p){var g=new Zue(a,p,c);a.setItemGraphicEl(p,g),l.add(g)}).update(function(p,g){var v=s.getItemGraphicEl(g);v.updateData(a,p,c),v.off("click"),l.add(v),a.setItemGraphicEl(p,v)}).remove(function(p){var g=s.getItemGraphicEl(p);qz(g,n,p)}).execute(),Kue(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=a)},e.prototype.dispose=function(){},e.prototype.containPoint=function(n,i){var r=i.getData(),o=r.getItemLayout(0);if(o){var a=n[0]-o.cx,s=n[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},e.type="pie",e}(_o);function Que(t,e,n){e=Ge(e)&&{coordDimensions:e}||Ie({encodeDefine:t.getEncode()},e);var i=t.getSource(),r=D$(i,e).dimensions,o=new R$(r,t);return o.initData(i,n),o}var efe=function(){function t(e,n){this._getDataWithEncodedVisual=e,this._getRawData=n}return t.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},t.prototype.containName=function(e){var n=this._getRawData();return n.indexOfName(e)>=0},t.prototype.indexOfName=function(e){var n=this._getDataWithEncodedVisual();return n.indexOfName(e)},t.prototype.getItemVisual=function(e,n){var i=this._getDataWithEncodedVisual();return i.getItemVisual(e,n)},t}(),tfe=Mn(),nfe=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new efe(an(this.getData,this),an(this.getRawData,this)),this._defaultLabelLine(n)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Que(this,{coordDimensions:["value"],encodeDefaulter:Zi(nae,this)})},e.prototype.getDataParams=function(n){var i=this.getData(),r=tfe(i),o=r.seats;if(!o){var a=[];i.each(i.mapDimension("value"),function(l){a.push(l)}),o=r.seats=Kne(a,i.hostModel.get("percentPrecision"))}var s=t.prototype.getDataParams.call(this,n);return s.percent=o[n]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(n){$w(n,"labelLine",["show"]);var i=n.labelLine,r=n.emphasis.labelLine;i.show=i.show&&n.label.show,r.show=r.show&&n.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Xa);function ife(t){return{seriesType:t,reset:function(e,n){var i=e.getData();i.filterSelf(function(r){var o=i.mapDimension("value"),a=i.get(o,r);return!(tn(a)&&!isNaN(a)&&a<0)})}}}function rfe(t){t.registerChartView(Jue),t.registerSeriesModel(nfe),Use("pie",t.registerAction),t.registerLayout(Zi(Xue,"pie")),t.registerProcessor(jue("pie")),t.registerProcessor(ife("pie"))}var ofe=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Wt),mM=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",po).models[0]},e.type="cartesian2dAxis",e}(Wt);aa(mM,Xce);var iH={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},afe=Kt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},iH),oA=Kt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},iH),sfe=Kt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},oA),lfe=Vt({logBase:10},oA);const cfe={category:afe,value:oA,time:sfe,log:lfe};var ufe={value:1,category:1,time:1,log:1};function oO(t,e,n,i){q(ufe,function(r,o){var a=Kt(Kt({},cfe[o],!0),i,!0),s=function(l){Ve(c,l);function c(){var u=l!==null&&l.apply(this,arguments)||this;return u.type=e+"Axis."+o,u}return c.prototype.mergeDefaultAndTheme=function(u,f){var h=Ip(this),d=h?kC(u):{},p=f.getTheme();Kt(u,p.get(o+"Axis")),Kt(u,this.getDefaultOption()),u.type=aO(u),h&&Rp(u,d,h)},c.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=hM.createByAxisModel(this))},c.prototype.getCategories=function(u){var f=this.option;if(f.type==="category")return u?f.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=e+"Axis."+o,c.defaultOption=a,c}(n);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",aO)}function aO(t){return t.type||(t.data?"category":"value")}var ffe=function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return rt(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Gi(this.getAxes(),function(n){return n.scale.type===e})},t.prototype.addAxis=function(e){var n=e.dim;this._axes[n]=e,this._dimList.push(n)},t}(),vM=["x","y"];function sO(t){return t.type==="interval"||t.type==="time"}var hfe=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=vM,n}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,i=this.getAxis("y").scale;if(!(!sO(n)||!sO(i))){var r=n.getExtent(),o=i.getExtent(),a=this.dataToPoint([r[0],o[0]]),s=this.dataToPoint([r[1],o[1]]),l=r[1]-r[0],c=o[1]-o[0];if(!(!l||!c)){var u=(s[0]-a[0])/l,f=(s[1]-a[1])/c,h=a[0]-r[0]*u,d=a[1]-o[0]*f,p=this._transform=[u,0,0,f,h,d];this._invTransform=hC([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(n){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(n[0]))&&r.contain(r.toLocalCoord(n[1]))},e.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},e.prototype.containZone=function(n,i){var r=this.dataToPoint(n),o=this.dataToPoint(i),a=this.getArea(),s=new zt(r[0],r[1],o[0]-r[0],o[1]-r[1]);return a.intersect(s)},e.prototype.dataToPoint=function(n,i,r){r=r||[];var o=n[0],a=n[1];if(this._transform&&o!=null&&isFinite(o)&&a!=null&&isFinite(a))return jr(r,n,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(o,i)),r[1]=l.toGlobalCoord(l.dataToCoord(a,i)),r},e.prototype.clampData=function(n,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),s=o.getExtent(),l=r.parse(n[0]),c=o.parse(n[1]);return i=i||[],i[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),i[1]=Math.min(Math.max(Math.min(s[0],s[1]),c),Math.max(s[0],s[1])),i},e.prototype.pointToData=function(n,i){var r=[];if(this._invTransform)return jr(r,n,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(n[0]),i),r[1]=a.coordToData(a.toLocalCoord(n[1]),i),r},e.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},e.prototype.getArea=function(n){n=n||0;var i=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),o=Math.min(i[0],i[1])-n,a=Math.min(r[0],r[1])-n,s=Math.max(i[0],i[1])-o+n,l=Math.max(r[0],r[1])-a+n;return new zt(o,a,s,l)},e}(ffe),dfe=function(t){Ve(e,t);function e(n,i,r,o,a){var s=t.call(this,n,i,r)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return e.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},e.prototype.getGlobalExtent=function(n){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),n&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(n,i){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),i)},e.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},e}(nue);function gM(t,e,n){n=n||{};var i=t.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,c=r.dim,u=i.getRect(),f=[u.x,u.x+u.width,u.y,u.y+u.height],h={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,p=c==="x"?[f[2]-d,f[3]+d]:[f[0]-d,f[1]+d];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[h.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=[c==="y"?p[h[l]]:f[0],c==="x"?p[h[l]]:f[3]],o.rotation=Math.PI/2*(c==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=v[s],o.labelOffset=a?p[h[s]]-p[h.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Mp(n.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var m=e.get(["axisLabel","rotate"]);return o.labelRotate=l==="top"?-m:m,o.z2=1,o}function lO(t){return t.get("coordinateSystem")==="cartesian2d"}function cO(t){var e={xAxisModel:null,yAxisModel:null};return q(e,function(n,i){var r=i.replace(/Model$/,""),o=t.getReferringComponents(r,po).models[0];e[i]=o}),e}var ES=Math.log;function pfe(t,e,n){var i=ph.prototype,r=i.getTicks.call(n),o=i.getTicks.call(n,!0),a=r.length-1,s=i.getInterval.call(n),l=U$(t,e),c=l.extent,u=l.fixMin,f=l.fixMax;if(t.type==="log"){var h=ES(t.base);c=[ES(c[0])/h,ES(c[1])/h]}t.setExtent(c[0],c[1]),t.calcNiceExtent({splitNumber:a,fixMin:u,fixMax:f});var d=i.getExtent.call(t);u&&(c[0]=d[0]),f&&(c[1]=d[1]);var p=i.getInterval.call(t),g=c[0],v=c[1];if(u&&f)p=(v-g)/a;else if(u)for(v=c[0]+p*a;v<c[1]&&isFinite(v)&&isFinite(c[1]);)p=SS(p),v=c[0]+p*a;else if(f)for(g=c[1]-p*a;g>c[0]&&isFinite(g)&&isFinite(c[0]);)p=SS(p),g=c[1]-p*a;else{var m=t.getTicks().length-1;m>a&&(p=SS(p));var y=p*a;v=Math.ceil(c[1]/p)*p,g=In(v-y),g<0&&c[0]>=0?(g=0,v=In(y)):v>0&&c[1]<=0&&(v=0,g=-In(y))}var _=(r[0].value-o[0].value)/s,b=(r[a].value-o[a].value)/s;i.setExtent.call(t,g+p*_,v+p*b),i.setInterval.call(t,p),(_||b)&&i.setNiceExtent.call(t,g+p,v-p)}var mfe=function(){function t(e,n,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=vM,this._initCartesian(e,n,i),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,n){var i=this._axesMap;this._updateScale(e,this.model);function r(a){var s,l=cn(a),c=l.length;if(c){for(var u=[],f=c-1;f>=0;f--){var h=+l[f],d=a[h],p=d.model,g=d.scale;dM(g)&&p.get("alignTicks")&&p.get("interval")==null?u.push(d):(GD(g,p),dM(g)&&(s=d))}u.length&&(s||(s=u.pop(),GD(s.scale,s.model)),q(u,function(v){pfe(v.scale,v.model,s.scale)}))}}r(i.x),r(i.y);var o={};q(i.x,function(a){uO(i,"y",a,o)}),q(i.y,function(a){uO(i,"x",a,o)}),this.resize(this.model,n)},t.prototype.resize=function(e,n,i){var r=e.getBoxLayoutParams(),o=!i&&e.get("containLabel"),a=$_(r,{width:n.getWidth(),height:n.getHeight()});this._rect=a;var s=this._axesList;l(),o&&(q(s,function(c){if(!c.model.get(["axisLabel","inside"])){var u=Vce(c);if(u){var f=c.isHorizontal()?"height":"width",h=c.model.get(["axisLabel","margin"]);a[f]-=u[f]+h,c.position==="top"?a.y+=u.height+h:c.position==="left"&&(a.x+=u.width+h)}}}),l()),q(this._coordsList,function(c){c.calcAffineTransform()});function l(){q(s,function(c){var u=c.isHorizontal(),f=u?[0,a.width]:[0,a.height],h=c.inverse?1:0;c.setExtent(f[h],f[1-h]),vfe(c,u?a.x:a.y)})}},t.prototype.getAxis=function(e,n){var i=this._axesMap[e];if(i!=null)return i[n||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,n){if(e!=null&&n!=null){var i="x"+e+"y"+n;return this._coordsMap[i]}nt(e)&&(n=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===e||o[r].getAxis("y").index===n)return o[r]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,n,i){var r=this._findConvertTarget(n);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},t.prototype.convertFromPixel=function(e,n,i){var r=this._findConvertTarget(n);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},t.prototype._findConvertTarget=function(e){var n=e.seriesModel,i=e.xAxisModel||n&&n.getReferringComponents("xAxis",po).models[0],r=e.yAxisModel||n&&n.getReferringComponents("yAxis",po).models[0],o=e.gridModel,a=this._coordsList,s,l;if(n)s=n.coordinateSystem,qt(a,s)<0&&(s=null);else if(i&&r)s=this.getCartesian(i.componentIndex,r.componentIndex);else if(i)l=this.getAxis("x",i.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(o){var c=o.coordinateSystem;c===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},t.prototype.containPoint=function(e){var n=this._coordsList[0];if(n)return n.containPoint(e)},t.prototype._initCartesian=function(e,n,i){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(n.eachComponent("xAxis",c("x"),this),n.eachComponent("yAxis",c("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,q(s.x,function(u,f){q(s.y,function(h,d){var p="x"+f+"y"+d,g=new hfe(p);g.master=r,g.model=e,r._coordsMap[p]=g,r._coordsList.push(g),g.addAxis(u),g.addAxis(h)})});function c(u){return function(f,h){if(PS(f,e)){var d=f.get("position");u==="x"?d!=="top"&&d!=="bottom"&&(d=a.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=a.left?"right":"left"),a[d]=!0;var p=new dfe(u,$ce(f),[0,0],f.get("type"),d),g=p.type==="category";p.onBand=g&&f.get("boundaryGap"),p.inverse=f.get("inverse"),f.axis=p,p.model=f,p.grid=o,p.index=h,o._axesList.push(p),s[u][h]=p,l[u]++}}}},t.prototype._updateScale=function(e,n){q(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),e.eachSeries(function(r){if(lO(r)){var o=cO(r),a=o.xAxisModel,s=o.yAxisModel;if(!PS(a,n)||!PS(s,n))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),c=r.getData(),u=l.getAxis("x"),f=l.getAxis("y");i(c,u),i(c,f)}},this);function i(r,o){q(Wce(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}},t.prototype.getTooltipAxes=function(e){var n=[],i=[];return q(this.getCartesians(),function(r){var o=e!=null&&e!=="auto"?r.getAxis(e):r.getBaseAxis(),a=r.getOtherAxis(o);qt(n,o)<0&&n.push(o),qt(i,a)<0&&i.push(a)}),{baseAxes:n,otherAxes:i}},t.create=function(e,n){var i=[];return e.eachComponent("grid",function(r,o){var a=new t(r,e,n);a.name="grid_"+o,a.resize(r,n,!0),r.coordinateSystem=a,i.push(a)}),e.eachSeries(function(r){if(lO(r)){var o=cO(r),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel(),c=l.coordinateSystem;r.coordinateSystem=c.getCartesian(a.componentIndex,s.componentIndex)}}),i},t.dimensions=vM,t}();function PS(t,e){return t.getCoordSysModel()===e}function uO(t,e,n,i){n.getAxesOnZeroOf=function(){return o?[o]:[]};var r=t[e],o,a=n.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)fO(r[l])&&(o=r[l]);else for(var c in r)if(r.hasOwnProperty(c)&&fO(r[c])&&!i[u(r[c])]){o=r[c];break}o&&(i[u(o)]=!0);function u(f){return f.dim+"_"+f.index}}function fO(t){return t&&t.type!=="category"&&t.type!=="time"&&Hce(t)}function vfe(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord=t.dim==="x"?function(r){return r+e}:function(r){return i-r+e},t.toLocalCoord=t.dim==="x"?function(r){return r-e}:function(r){return i-r+e}}var Ls=Math.PI,Hs=function(){function t(e,n){this.group=new tr,this.opt=n,this.axisModel=e,Vt(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new tr({x:n.position[0],y:n.position[1],rotation:n.rotation});i.updateTransform(),this._transformGroup=i}return t.prototype.hasBuilder=function(e){return!!hO[e]},t.prototype.add=function(e){hO[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,n,i){var r=dz(n-e),o,a;return z0(r)?(a=i>0?"top":"bottom",o="center"):z0(r-Ls)?(a=i>0?"bottom":"top",o="center"):(a="middle",r>0&&r<Ls?o=i>0?"right":"left":o=i>0?"left":"right"),{rotation:r,textAlign:o,textVerticalAlign:a}},t.makeAxisEventDataBase=function(e){var n={componentType:e.mainType,componentIndex:e.componentIndex};return n[e.mainType+"Index"]=e.componentIndex,n},t.isLabelSilent=function(e){var n=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||n&&n.show)},t}(),hO={axisLine:function(t,e,n,i){var r=e.get(["axisLine","show"]);if(r==="auto"&&t.handleAutoShown&&(r=t.handleAutoShown("axisLine")),!!r){var o=e.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0],c=s[0]>l[0];a&&(jr(s,s,a),jr(l,l,a));var u=Ie({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new js({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});Ep(f.shape,f.style.lineWidth),f.anid="line",n.add(f);var h=e.get(["axisLine","symbol"]);if(h!=null){var d=e.get(["axisLine","symbolSize"]);Qe(h)&&(h=[h,h]),(Qe(d)||tn(d))&&(d=[d,d]);var p=n$(e.get(["axisLine","symbolOffset"])||0,d),g=d[0],v=d[1];q([{rotate:t.rotation+Math.PI/2,offset:p[0],r:0},{rotate:t.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,y){if(h[y]!=="none"&&h[y]!=null){var _=Np(h[y],-g/2,-v/2,g,v,u.stroke,!0),b=m.r+m.offset,T=c?l:s;_.attr({rotation:m.rotate,x:T[0]+b*Math.cos(t.rotation),y:T[1]-b*Math.sin(t.rotation),silent:!0,z2:11}),n.add(_)}})}}},axisTickLabel:function(t,e,n,i){var r=_fe(n,i,e,t),o=xfe(n,i,e,t);if(yfe(e,o,r),bfe(n,i,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var a=cue(rt(o,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));hue(a)}},axisName:function(t,e,n,i){var r=Mp(t.axisName,e.get("name"));if(r){var o=e.get("nameLocation"),a=t.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,c=e.axis.getExtent(),u=c[0]>c[1]?-1:1,f=[o==="start"?c[0]-u*l:o==="end"?c[1]+u*l:(c[0]+c[1])/2,pO(o)?t.labelOffset+a*l:0],h,d=e.get("nameRotate");d!=null&&(d=d*Ls/180);var p;pO(o)?h=Hs.innerTextLayout(t.rotation,d??t.rotation,a):(h=gfe(t.rotation,o,d||0,c),p=t.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(h.rotation)),!isFinite(p)&&(p=null)));var g=s.getFont(),v=e.get("nameTruncate",!0)||{},m=v.ellipsis,y=Mp(t.nameTruncateMaxWidth,v.maxWidth,p),_=new nr({x:f[0],y:f[1],rotation:h.rotation,silent:Hs.isLabelSilent(e),style:Vc(s,{text:r,font:g,overflow:"truncate",width:y,ellipsis:m,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||h.textAlign,verticalAlign:s.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(ik({el:_,componentModel:e,itemName:r}),_.__fullText=r,_.anid="name",e.get("triggerEvent")){var b=Hs.makeAxisEventDataBase(e);b.targetType="axisName",b.name=r,Yt(_).eventData=b}i.add(_),_.updateTransform(),n.add(_),_.decomposeTransform()}}};function gfe(t,e,n,i){var r=dz(n-t),o,a,s=i[0]>i[1],l=e==="start"&&!s||e!=="start"&&s;return z0(r-Ls/2)?(a=l?"bottom":"top",o="center"):z0(r-Ls*1.5)?(a=l?"top":"bottom",o="center"):(a="middle",r<Ls*1.5&&r>Ls/2?o=l?"left":"right":o=l?"right":"left"),{rotation:r,textAlign:o,textVerticalAlign:a}}function yfe(t,e,n){if(!z$(t.axis)){var i=t.get(["axisLabel","showMinLabel"]),r=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var o=e[0],a=e[1],s=e[e.length-1],l=e[e.length-2],c=n[0],u=n[1],f=n[n.length-1],h=n[n.length-2];i===!1?(Or(o),Or(c)):dO(o,a)&&(i?(Or(a),Or(u)):(Or(o),Or(c))),r===!1?(Or(s),Or(f)):dO(l,s)&&(r?(Or(l),Or(h)):(Or(s),Or(f)))}}function Or(t){t&&(t.ignore=!0)}function dO(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(!(!n||!i)){var r=uC([]);return fC(r,r,-t.rotation),n.applyTransform(wf([],r,t.getLocalTransform())),i.applyTransform(wf([],r,e.getLocalTransform())),n.intersect(i)}}function pO(t){return t==="middle"||t==="center"}function rH(t,e,n,i,r){for(var o=[],a=[],s=[],l=0;l<t.length;l++){var c=t[l].coord;a[0]=c,a[1]=0,s[0]=c,s[1]=n,e&&(jr(a,a,e),jr(s,s,e));var u=new js({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});Ep(u.shape,u.style.lineWidth),u.anid=r+"_"+t[l].tickValue,o.push(u)}return o}function _fe(t,e,n,i){var r=n.axis,o=n.getModel("axisTick"),a=o.get("show");if(a==="auto"&&i.handleAutoShown&&(a=i.handleAutoShown("axisTick")),!(!a||r.scale.isBlank())){for(var s=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),c=r.getTicksCoords(),u=rH(c,e.transform,l,Vt(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<u.length;f++)t.add(u[f]);return u}}function bfe(t,e,n,i){var r=n.axis,o=n.getModel("minorTick");if(!(!o.get("show")||r.scale.isBlank())){var a=r.getMinorTicksCoords();if(a.length)for(var s=o.getModel("lineStyle"),l=i*o.get("length"),c=Vt(s.getLineStyle(),Vt(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),u=0;u<a.length;u++)for(var f=rH(a[u],e.transform,l,c,"minorticks_"+u),h=0;h<f.length;h++)t.add(f[h])}}function xfe(t,e,n,i){var r=n.axis,o=Mp(i.axisLabelShow,n.get(["axisLabel","show"]));if(!(!o||r.scale.isBlank())){var a=n.getModel("axisLabel"),s=a.get("margin"),l=r.getViewLabels(),c=(Mp(i.labelRotate,a.get("rotate"))||0)*Ls/180,u=Hs.innerTextLayout(i.rotation,c,i.labelDirection),f=n.getCategories&&n.getCategories(!0),h=[],d=Hs.isLabelSilent(n),p=n.get("triggerEvent");return q(l,function(g,v){var m=r.scale.type==="ordinal"?r.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,y=g.formattedLabel,_=g.rawLabel,b=a;if(f&&f[m]){var T=f[m];nt(T)&&T.textStyle&&(b=new wn(T.textStyle,a,n.ecModel))}var x=b.getTextColor()||n.get(["axisLine","lineStyle","color"]),S=r.dataToCoord(m),C=b.getShallow("align",!0)||u.textAlign,M=Tt(b.getShallow("alignMinLabel",!0),C),w=Tt(b.getShallow("alignMaxLabel",!0),C),A=b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||u.textVerticalAlign,P=Tt(b.getShallow("verticalAlignMinLabel",!0),A),R=Tt(b.getShallow("verticalAlignMaxLabel",!0),A),L=new nr({x:S,y:i.labelOffset+i.labelDirection*s,rotation:u.rotation,silent:d,z2:10+(g.level||0),style:Vc(b,{text:y,align:v===0?M:v===l.length-1?w:C,verticalAlign:v===0?P:v===l.length-1?R:A,fill:St(x)?x(r.type==="category"?_:r.type==="value"?m+"":m,v):x})});if(L.anid="label_"+m,p){var E=Hs.makeAxisEventDataBase(n);E.targetType="axisLabel",E.value=_,E.tickIndex=v,r.type==="category"&&(E.dataIndex=m),Yt(L).eventData=E}e.add(L),L.updateTransform(),h.push(L),t.add(L),L.decomposeTransform()}),h}}function Sfe(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return wfe(n,t,e),n.seriesInvolved&&Tfe(n,t),n}function wfe(t,e,n){var i=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),o=r.get("link",!0)||[],a=[];q(n.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=kp(s.model),c=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=s;var u=s.model,f=u.getModel("tooltip",i);if(q(s.getAxes(),Zi(g,!1,null)),s.getTooltipAxes&&i&&f.get("show")){var h=f.get("trigger")==="axis",d=f.get(["axisPointer","type"])==="cross",p=s.getTooltipAxes(f.get(["axisPointer","axis"]));(h||d)&&q(p.baseAxes,Zi(g,d?"cross":!0,h)),d&&q(p.otherAxes,Zi(g,"cross",!1))}function g(v,m,y){var _=y.model.getModel("axisPointer",r),b=_.get("show");if(!(!b||b==="auto"&&!v&&!yM(_))){m==null&&(m=_.get("triggerTooltip")),_=v?Mfe(y,f,r,e,v,m):_;var T=_.get("snap"),x=_.get("triggerEmphasis"),S=kp(y.model),C=m||T||y.type==="category",M=t.axesInfo[S]={key:S,axis:y,coordSys:s,axisPointerModel:_,triggerTooltip:m,triggerEmphasis:x,involveSeries:C,snap:T,useHandle:yM(_),seriesModels:[],linkGroup:null};c[S]=M,t.seriesInvolved=t.seriesInvolved||C;var w=Cfe(o,y);if(w!=null){var A=a[w]||(a[w]={axesInfo:{}});A.axesInfo[S]=M,A.mapper=o[w].mapper,M.linkGroup=A}}}})}function Mfe(t,e,n,i,r,o){var a=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};q(s,function(h){l[h]=Dt(a.get(h))}),l.snap=t.type!=="category"&&!!o,a.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),r==="cross"){var u=a.get(["label","show"]);if(c.show=u??!0,!o){var f=l.lineStyle=a.get("crossStyle");f&&Vt(c,f.textStyle)}}return t.model.getModel("axisPointer",new wn(l,n,i))}function Tfe(t,e){e.eachSeries(function(n){var i=n.coordinateSystem,r=n.get(["tooltip","trigger"],!0),o=n.get(["tooltip","show"],!0);!i||r==="none"||r===!1||r==="item"||o===!1||n.get(["axisPointer","show"],!0)===!1||q(t.coordSysAxesInfo[kp(i.model)],function(a){var s=a.axis;i.getAxis(s.dim)===s&&(a.seriesModels.push(n),a.seriesDataCount==null&&(a.seriesDataCount=0),a.seriesDataCount+=n.getData().count())})})}function Cfe(t,e){for(var n=e.model,i=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if(IS(o[i+"AxisId"],n.id)||IS(o[i+"AxisIndex"],n.componentIndex)||IS(o[i+"AxisName"],n.name))return r}}function IS(t,e){return t==="all"||Ge(t)&&qt(t,e)>=0||t===e}function Afe(t){var e=aA(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,r=n.option,o=n.get("status"),a=n.get("value");a!=null&&(a=i.parse(a));var s=yM(n);o==null&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(a==null||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function aA(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[kp(t)]}function Efe(t){var e=aA(t);return e&&e.axisPointerModel}function yM(t){return!!t.get(["handle","show"])}function kp(t){return t.type+"||"+t.id}var mO={},oH=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,i,r,o){this.axisPointerClass&&Afe(n),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,r,!0)},e.prototype.updateAxisPointer=function(n,i,r,o){this._doUpdateAxisPointerClass(n,r,!1)},e.prototype.remove=function(n,i){var r=this._axisPointer;r&&r.remove(i)},e.prototype.dispose=function(n,i){this._disposeAxisPointer(i),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(n,i,r){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var a=Efe(n);a?(this._axisPointer||(this._axisPointer=new o)).render(n,a,i,r):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},e.registerAxisPointerClass=function(n,i){mO[n]=i},e.getAxisPointerClass=function(n){return n&&mO[n]},e.type="axis",e}(ea),_M=Mn();function Pfe(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),c=r.getTicksCoords({tickModel:o,clamp:!0});if(c.length){var u=s.length,f=_M(t).splitAreaColors,h=Ct(),d=0;if(f)for(var p=0;p<c.length;p++){var g=f.get(c[p].tickValue);if(g!=null){d=(g+(u-1)*p)%u;break}}var v=r.toGlobalCoord(c[0].coord),m=a.getAreaStyle();s=Ge(s)?s:[s];for(var p=1;p<c.length;p++){var y=r.toGlobalCoord(c[p].coord),_=void 0,b=void 0,T=void 0,x=void 0;r.isHorizontal()?(_=v,b=l.y,T=y-_,x=l.height,v=_+T):(_=l.x,b=v,T=l.width,x=y-b,v=b+x);var S=c[p-1].tickValue;S!=null&&h.set(S,d),e.add(new Li({anid:S!=null?"area_"+S:null,shape:{x:_,y:b,width:T,height:x},style:Vt({fill:s[d]},m),autoBatch:!0,silent:!0})),d=(d+1)%u}_M(t).splitAreaColors=h}}}function Ife(t){_M(t).splitAreaColors=null}var Rfe=["axisLine","axisTickLabel","axisName"],Dfe=["splitArea","splitLine","minorSplitLine"],aH=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return e.prototype.render=function(n,i,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new tr,this.group.add(this._axisGroup),!!n.get("show")){var s=n.getCoordSysModel(),l=gM(s,n),c=new Hs(n,Ie({handleAutoShown:function(f){for(var h=s.coordinateSystem.getCartesians(),d=0;d<h.length;d++)if(dM(h[d].getOtherAxis(n.axis).scale))return!0;return!1}},l));q(Rfe,c.add,c),this._axisGroup.add(c.getGroup()),q(Dfe,function(f){n.get([f,"show"])&&Ofe[f](this,this._axisGroup,n,s)},this);var u=o&&o.type==="changeAxisOrder"&&o.isInitSort;u||ek(a,this._axisGroup,n),t.prototype.render.call(this,n,i,r,o)}},e.prototype.remove=function(){Ife(this)},e.type="cartesianAxis",e}(oH),Ofe={splitLine:function(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=Ge(s)?s:[s];for(var l=i.coordinateSystem.getRect(),c=r.isHorizontal(),u=0,f=r.getTicksCoords({tickModel:o}),h=[],d=[],p=a.getLineStyle(),g=0;g<f.length;g++){var v=r.toGlobalCoord(f[g].coord);c?(h[0]=v,h[1]=l.y,d[0]=v,d[1]=l.y+l.height):(h[0]=l.x,h[1]=v,d[0]=l.x+l.width,d[1]=v);var m=u++%s.length,y=f[g].tickValue,_=new js({anid:y!=null?"line_"+f[g].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:d[0],y2:d[1]},style:Vt({stroke:s[m]},p),silent:!0});Ep(_.shape,p.lineWidth),e.add(_)}}},minorSplitLine:function(t,e,n,i){var r=n.axis,o=n.getModel("minorSplitLine"),a=o.getModel("lineStyle"),s=i.coordinateSystem.getRect(),l=r.isHorizontal(),c=r.getMinorTicksCoords();if(c.length)for(var u=[],f=[],h=a.getLineStyle(),d=0;d<c.length;d++)for(var p=0;p<c[d].length;p++){var g=r.toGlobalCoord(c[d][p].coord);l?(u[0]=g,u[1]=s.y,f[0]=g,f[1]=s.y+s.height):(u[0]=s.x,u[1]=g,f[0]=s.x+s.width,f[1]=g);var v=new js({anid:"minor_line_"+c[d][p].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:f[0],y2:f[1]},style:h,silent:!0});Ep(v.shape,h.lineWidth),e.add(v)}},splitArea:function(t,e,n,i){Pfe(t,e,n,i)}},sH=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="xAxis",e}(aH),Lfe=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=sH.type,n}return e.type="yAxis",e}(aH),Nfe=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="grid",n}return e.prototype.render=function(n,i){this.group.removeAll(),n.get("show")&&this.group.add(new Li({shape:n.coordinateSystem.getRect(),style:Vt({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(ea),vO={offset:0};function Ffe(t){t.registerComponentView(Nfe),t.registerComponentModel(ofe),t.registerCoordinateSystem("cartesian2d",mfe),oO(t,"x",mM,vO),oO(t,"y",mM,vO),t.registerComponentView(sH),t.registerComponentView(Lfe),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var ac=Mn(),gO=Dt,RS=an,Bfe=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,n,i,r){var o=n.get("value"),a=n.get("status");if(this._axisModel=e,this._axisPointerModel=n,this._api=i,!(!r&&this._lastValue===o&&this._lastStatus===a)){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||a==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var c={};this.makeElOption(c,o,e,n,i);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var f=this._moveAnimation=this.determineAnimation(e,n);if(!s)s=this._group=new tr,this.createPointerEl(s,c,e,n),this.createLabelEl(s,c,e,n),i.getZr().add(s);else{var h=Zi(yO,n,f);this.updatePointerEl(s,c,h),this.updateLabelEl(s,c,h,n)}bO(s,n,!0),this._renderHandle(o)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,n){var i=n.get("animation"),r=e.axis,o=r.type==="category",a=n.get("snap");if(!a&&!o)return!1;if(i==="auto"||i==null){var s=this.animationThreshold;if(o&&r.getBandWidth()>s)return!0;if(a){var l=aA(e).seriesDataCount,c=r.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return i===!0},t.prototype.makeElOption=function(e,n,i,r,o){},t.prototype.createPointerEl=function(e,n,i,r){var o=n.pointer;if(o){var a=ac(e).pointerEl=new Toe[o.type](gO(n.pointer));e.add(a)}},t.prototype.createLabelEl=function(e,n,i,r){if(n.label){var o=ac(e).labelEl=new nr(gO(n.label));e.add(o),_O(o,r)}},t.prototype.updatePointerEl=function(e,n,i){var r=ac(e).pointerEl;r&&n.pointer&&(r.setStyle(n.pointer.style),i(r,{shape:n.pointer.shape}))},t.prototype.updateLabelEl=function(e,n,i,r){var o=ac(e).labelEl;o&&(o.setStyle(n.label.style),i(o,{x:n.label.x,y:n.label.y}),_O(o,r))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||a==="hide"){r&&i.remove(r),this._handle=null;return}var s;this._handle||(s=!0,r=this._handle=tk(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){YU(c.event)},onmousedown:RS(this._onHandleDragMove,this,0,0),drift:RS(this._onHandleDragMove,this),ondragend:RS(this._onHandleDragEnd,this)}),i.add(r)),bO(r,n,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");Ge(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,Yk(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,n){yO(this._axisPointerModel,!n&&this._moveAnimation,this._handle,DS(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,n){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(DS(i),[e,n],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(DS(r)),ac(i).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var n=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var n=e.getZr(),i=this._group,r=this._handle;n&&i&&(this._lastGraphicKey=null,i&&n.remove(i),r&&n.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),rM(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,n,i){return i=i||0,{x:e[i],y:e[1-i],width:n[i],height:n[1-i]}},t}();function yO(t,e,n,i){lH(ac(n).lastProp,i)||(ac(n).lastProp=i,e?Wa(n,i,t):(n.stopAnimation(),n.attr(i)))}function lH(t,e){if(nt(t)&&nt(e)){var n=!0;return q(e,function(i,r){n=n&&lH(t[r],i)}),!!n}else return t===e}function _O(t,e){t[e.get(["label","show"])?"show":"hide"]()}function DS(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function bO(t,e,n){var i=e.get("z"),r=e.get("zlevel");t&&t.traverse(function(o){o.type!=="group"&&(i!=null&&(o.z=i),r!=null&&(o.zlevel=r),o.silent=n)})}function Ufe(t){var e=t.get("type"),n=t.getModel(e+"Style"),i;return e==="line"?(i=n.getLineStyle(),i.fill=null):e==="shadow"&&(i=n.getAreaStyle(),i.stroke=null),i}function zfe(t,e,n,i,r){var o=n.get("value"),a=cH(o,e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),l=zC(s.get("padding")||0),c=s.getFont(),u=vC(a,c),f=r.position,h=u.width+l[1]+l[3],d=u.height+l[0]+l[2],p=r.align;p==="right"&&(f[0]-=h),p==="center"&&(f[0]-=h/2);var g=r.verticalAlign;g==="bottom"&&(f[1]-=d),g==="middle"&&(f[1]-=d/2),kfe(f,h,d,i);var v=s.get("backgroundColor");(!v||v==="auto")&&(v=e.get(["axisLine","lineStyle","color"])),t.label={x:f[0],y:f[1],style:Vc(s,{text:a,font:c,fill:s.getTextColor(),padding:l,backgroundColor:v}),z2:10}}function kfe(t,e,n,i){var r=i.getWidth(),o=i.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function cH(t,e,n,i,r){t=e.scale.parse(t);var o=e.scale.getLabel({value:t},{precision:r.precision}),a=r.formatter;if(a){var s={value:nA(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};q(i,function(l){var c=n.getSeriesByIndex(l.seriesIndex),u=l.dataIndexInside,f=c&&c.getDataParams(u);f&&s.seriesData.push(f)}),Qe(a)?o=a.replace("{value}",o):St(a)&&(o=a(s))}return o}function uH(t,e,n){var i=Sf();return fC(i,i,n.rotation),Pw(i,i,n.position),RC([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function $fe(t,e,n,i,r,o){var a=Hs.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get(["label","margin"]),zfe(e,i,r,o,{position:uH(i.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function Hfe(t,e,n){return n=n||0,{x1:t[n],y1:t[1-n],x2:e[n],y2:e[1-n]}}function Vfe(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}var Gfe=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(n,i,r,o,a){var s=r.axis,l=s.grid,c=o.get("type"),u=xO(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(i,!0));if(c&&c!=="none"){var h=Ufe(o),d=Wfe[c](s,f,u);d.style=h,n.graphicKey=d.type,n.pointer=d}var p=gM(l.model,r);$fe(i,n,p,r,o,a)},e.prototype.getHandleTransform=function(n,i,r){var o=gM(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=uH(i.axis,n,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(n,i,r,o){var a=r.axis,s=a.grid,l=a.getGlobalExtent(!0),c=xO(s,a).getOtherAxis(a).getGlobalExtent(),u=a.dim==="x"?0:1,f=[n.x,n.y];f[u]+=i[u],f[u]=Math.min(l[1],f[u]),f[u]=Math.max(l[0],f[u]);var h=(c[1]+c[0])/2,d=[h,h];d[u]=f[u];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:n.rotation,cursorPoint:d,tooltipOption:p[u]}},e}(Bfe);function xO(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var Wfe={line:function(t,e,n){var i=Hfe([e,n[0]],[e,n[1]],SO(t));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:Vfe([e-i/2,n[0]],[i,r],SO(t))}}};function SO(t){return t.dim==="x"?0:1}var Xfe=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Wt),Na=Mn(),jfe=q;function fH(t,e,n){if(!pt.node){var i=e.getZr();Na(i).records||(Na(i).records={}),Yfe(i,e);var r=Na(i).records[t]||(Na(i).records[t]={});r.handler=n}}function Yfe(t,e){if(Na(t).initialized)return;Na(t).initialized=!0,n("click",Zi(wO,"click")),n("mousemove",Zi(wO,"mousemove")),n("globalout",Kfe);function n(i,r){t.on(i,function(o){var a=Zfe(e);jfe(Na(t).records,function(s){s&&r(s,o,a.dispatchAction)}),qfe(a.pendings,e)})}}function qfe(t,e){var n=t.showTip.length,i=t.hideTip.length,r;n?r=t.showTip[n-1]:i&&(r=t.hideTip[i-1]),r&&(r.dispatchAction=null,e.dispatchAction(r))}function Kfe(t,e,n){t.handler("leave",null,n)}function wO(t,e,n,i){e.handler(t,n,i)}function Zfe(t){var e={showTip:[],hideTip:[]},n=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=n,t.dispatchAction(i))};return{dispatchAction:n,pendings:e}}function bM(t,e){if(!pt.node){var n=e.getZr(),i=(Na(n).records||{})[t];i&&(Na(n).records[t]=null)}}var Jfe=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,i,r){var o=i.getComponent("tooltip"),a=n.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";fH("axisPointer",r,function(s,l,c){a!=="none"&&(s==="leave"||a.indexOf(s)>=0)&&c({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(n,i){bM("axisPointer",i)},e.prototype.dispose=function(n,i){bM("axisPointer",i)},e.type="axisPointer",e}(ea);function hH(t,e){var n=[],i=t.seriesIndex,r;if(i==null||!(r=e.getSeriesByIndex(i)))return{point:[]};var o=r.getData(),a=$c(o,t);if(a==null||a<0||Ge(a))return{point:[]};var s=o.getItemGraphicEl(a),l=r.coordinateSystem;if(r.getTooltipPosition)n=r.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(t.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),f=u.dim,h=c.dim,d=f==="x"||f==="radius"?1:0,p=o.mapDimension(h),g=[];g[d]=o.get(p,a),g[1-d]=o.get(o.getCalculationInfo("stackResultDimension"),a),n=l.dataToPoint(g)||[]}else n=l.dataToPoint(o.getValues(rt(l.dimensions,function(m){return o.mapDimension(m)}),a))||[];else if(s){var v=s.getBoundingRect().clone();v.applyTransform(s.transform),n=[v.x+v.width/2,v.y+v.height/2]}return{point:n,el:s}}var MO=Mn();function Qfe(t,e,n){var i=t.currTrigger,r=[t.x,t.y],o=t,a=t.dispatchAction||an(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Jg(r)&&(r=hH({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=Jg(r),c=o.axesInfo,u=s.axesInfo,f=i==="leave"||Jg(r),h={},d={},p={list:[],map:{}},g={showPointer:Zi(the,d),showTooltip:Zi(nhe,p)};q(s.coordSysMap,function(m,y){var _=l||m.containPoint(r);q(s.coordSysAxesInfo[y],function(b,T){var x=b.axis,S=ahe(c,b);if(!f&&_&&(!c||S)){var C=S&&S.value;C==null&&!l&&(C=x.pointToData(r)),C!=null&&TO(b,C,g,!1,h)}})});var v={};return q(u,function(m,y){var _=m.linkGroup;_&&!d[y]&&q(_.axesInfo,function(b,T){var x=d[T];if(b!==m&&x){var S=x.value;_.mapper&&(S=m.axis.scale.parse(_.mapper(S,CO(b),CO(m)))),v[m.key]=S}})}),q(v,function(m,y){TO(u[y],m,g,!0,h)}),ihe(d,u,h),rhe(p,r,t,a),ohe(u,a,n),h}}function TO(t,e,n,i,r){var o=t.axis;if(!(o.scale.isBlank()||!o.containData(e))){if(!t.involveSeries){n.showPointer(t,e);return}var a=ehe(e,t),s=a.payloadBatch,l=a.snapToValue;s[0]&&r.seriesIndex==null&&Ie(r,s[0]),!i&&t.snap&&o.containData(l)&&l!=null&&(e=l),n.showPointer(t,e,s),n.showTooltip(t,a,l)}}function ehe(t,e){var n=e.axis,i=n.dim,r=t,o=[],a=Number.MAX_VALUE,s=-1;return q(e.seriesModels,function(l,c){var u=l.getData().mapDimensionsAll(i),f,h;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(u,t,n);h=d.dataIndices,f=d.nestestValue}else{if(h=l.getData().indicesOfNearest(u[0],t,n.type==="category"?.5:null),!h.length)return;f=l.getData().get(u[0],h[0])}if(!(f==null||!isFinite(f))){var p=t-f,g=Math.abs(p);g<=a&&((g<a||p>=0&&s<0)&&(a=g,s=p,r=f,o.length=0),q(h,function(v){o.push({seriesIndex:l.seriesIndex,dataIndexInside:v,dataIndex:l.getData().getRawIndex(v)})}))}}),{payloadBatch:o,snapToValue:r}}function the(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function nhe(t,e,n,i){var r=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!r.length)){var l=e.coordSys.model,c=kp(l),u=t.map[c];u||(u=t.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function ihe(t,e,n){var i=n.axesInfo=[];q(e,function(r,o){var a=r.axisPointerModel.option,s=t[o];s?(!r.useHandle&&(a.status="show"),a.value=s.value,a.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(a.status="hide"),a.status==="show"&&i.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:a.value})})}function rhe(t,e,n,i){if(Jg(e)||!t.list.length){i({type:"hideTip"});return}var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}function ohe(t,e,n){var i=n.getZr(),r="axisPointerLastHighlights",o=MO(i)[r]||{},a=MO(i)[r]={};q(t,function(c,u){var f=c.axisPointerModel.option;f.status==="show"&&c.triggerEmphasis&&q(f.seriesDataIndices,function(h){var d=h.seriesIndex+" | "+h.dataIndex;a[d]=h})});var s=[],l=[];q(o,function(c,u){!a[u]&&l.push(c)}),q(a,function(c,u){!o[u]&&s.push(c)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function ahe(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}function CO(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=e.componentIndex,n.axisName=n[i+"AxisName"]=e.name,n.axisId=n[i+"AxisId"]=e.id,n}function Jg(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function dH(t){oH.registerAxisPointerClass("CartesianAxisPointer",Gfe),t.registerComponentModel(Xfe),t.registerComponentView(Jfe),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var n=e.axisPointer.link;n&&!Ge(n)&&(e.axisPointer.link=[n])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,n){e.getComponent("axisPointer").coordSysAxesInfo=Sfe(e,n)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Qfe)}function she(t){Up(Ffe),Up(dH)}var lhe=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Wt);function pH(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function mH(t){if(pt.domSupported){for(var e=document.documentElement.style,n=0,i=t.length;n<i;n++)if(t[n]in e)return t[n]}}var vH=mH(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),che=mH(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function gH(t,e){if(!t)return e;e=yk(e,!0);var n=t.indexOf(e);return t=n===-1?e:"-"+t.slice(0,n)+"-"+e,t.toLowerCase()}function uhe(t,e){var n=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return n?n[e]:null}var fhe=gH(che,"transition"),sA=gH(vH,"transform"),hhe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(pt.transform3dSupported?"will-change:transform;":"");function dhe(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function phe(t,e,n){if(!Qe(n)||n==="inside")return"";var i=t.get("backgroundColor"),r=t.get("borderWidth");e=Gc(e);var o=dhe(n),a=Math.max(Math.round(r)*1.5,6),s="",l=sA+":",c;qt(["left","right"],o)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(c=o==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(c=o==="top"?225:45)+"deg)");var u=c*Math.PI/180,f=a+r,h=f*Math.abs(Math.cos(u))+f*Math.abs(Math.sin(u)),d=Math.round(((h-Math.SQRT2*r)/2+Math.SQRT2*r-(h-f)/2)*100)/100;s+=";"+o+":-"+d+"px";var p=e+" solid "+r+"px;",g=["position:absolute;width:"+a+"px;height:"+a+"px;z-index:-1;",s+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+i+";"];return'<div style="'+g.join("")+'"></div>'}function mhe(t,e){var n="cubic-bezier(0.23,1,0.32,1)",i=" "+t/2+"s "+n,r="opacity"+i+",visibility"+i;return e||(i=" "+t+"s "+n,r+=pt.transformSupported?","+sA+i:",left"+i+",top"+i),fhe+":"+r}function AO(t,e,n){var i=t.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!pt.transformSupported)return n?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=pt.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return n?"top:0;left:0;"+sA+":"+a+";":[["top",0],["left",0],[vH,a]]}function vhe(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(n*3/2)+"px");var r=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return r&&o&&e.push("text-shadow:"+a+"px "+s+"px "+o+"px "+r),q(["decoration","align"],function(l){var c=t.get(l);c&&e.push("text-"+l+":"+c)}),e.join(";")}function ghe(t,e,n){var i=[],r=t.get("transitionDuration"),o=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),c=t.get("shadowOffsetY"),u=t.getModel("textStyle"),f=Wk(t,"html"),h=l+"px "+c+"px "+a+"px "+s;return i.push("box-shadow:"+h),e&&r&&i.push(mhe(r,n)),o&&i.push("background-color:"+o),q(["width","color","radius"],function(d){var p="border-"+d,g=yk(p),v=t.get(g);v!=null&&i.push(p+":"+v+(d==="color"?"":"px"))}),i.push(vhe(u)),f!=null&&i.push("padding:"+zC(f).join("px ")+"px"),i.join(";")+";"}function EO(t,e,n,i,r){var o=e&&e.painter;if(n){var a=o&&o.getViewportRoot();a&&Hte(t,a,n,i,r)}else{t[0]=i,t[1]=r;var s=o&&o.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var yhe=function(){function t(e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,pt.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),o=n.appendTo,a=o&&(Qe(o)?document.querySelector(o):wp(o)?o:St(o)&&o(e.getDom()));EO(this._styleCoord,r,a,e.getWidth()/2,e.getHeight()/2),(a||e.getDom()).appendChild(i),this._api=e,this._container=a;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!s._enterable){var c=r.handler,u=r.painter.getViewportRoot();Fr(u,l,!0),c.dispatch("mousemove",l)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){if(!this._container){var n=this._api.getDom(),i=uhe(n,"position"),r=n.style;r.position!=="absolute"&&i!=="absolute"&&(r.position="relative")}var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=e.get("className")||""},t.prototype.show=function(e,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=hhe+ghe(e,!this._firstShow,this._longHide)+AO(o[0],o[1],!0)+("border-color:"+Gc(n)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,n,i,r,o){var a=this.el;if(e==null){a.innerHTML="";return}var s="";if(Qe(o)&&i.get("trigger")==="item"&&!pH(i)&&(s=phe(i,r,o)),Qe(e))a.innerHTML=e+s;else if(e){a.innerHTML="",Ge(e)||(e=[e]);for(var l=0;l<e.length;l++)wp(e[l])&&e[l].parentNode!==a&&a.appendChild(e[l]);if(s&&a.childNodes.length){var c=document.createElement("div");c.innerHTML=s,a.appendChild(c)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},t.prototype.moveTo=function(e,n){var i=this._styleCoord;if(EO(i,this._zr,this._container,e,n),i[0]!=null&&i[1]!=null){var r=this.el.style,o=AO(i[0],i[1]);q(o,function(a){r[a[0]]=a[1]})}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){var e=this,n=this.el.style;n.visibility="hidden",n.opacity="0",pt.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(an(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},t}(),_he=function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),IO(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,n,i,r,o){var a=this;nt(e)&&Xi(""),this.el&&this._zr.remove(this.el);var s=i.getModel("textStyle");this.el=new nr({style:{rich:n.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:Wk(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),q(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){a.el.style[c]=i.get(c)}),q(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){a.el.style[c]=s.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,n=this.el.getBoundingRect(),i=PO(e.style);return[n.width+i.left+i.right,n.height+i.top+i.bottom]},t.prototype.moveTo=function(e,n){var i=this.el;if(i){var r=this._styleCoord;IO(r,this._zr,e,n),e=r[0],n=r[1];var o=i.style,a=ws(o.borderWidth||0),s=PO(o);i.x=e+a+s.left,i.y=n+a+s.top,i.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(an(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function ws(t){return Math.max(0,t)}function PO(t){var e=ws(t.shadowBlur||0),n=ws(t.shadowOffsetX||0),i=ws(t.shadowOffsetY||0);return{left:ws(e-n),right:ws(e+n),top:ws(e-i),bottom:ws(e+i)}}function IO(t,e,n,i){t[0]=n,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var bhe=new Li({shape:{x:-1,y:-1,width:2,height:2}}),xhe=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,i){if(!(pt.node||!i.getDom())){var r=n.getComponent("tooltip"),o=this._renderMode=pie(r.get("renderMode"));this._tooltipContent=o==="richText"?new _he(i):new yhe(i,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},e.prototype.render=function(n,i,r){if(!(pt.node||!r.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=i,this._api=r;var o=this._tooltipContent;o.update(n),o.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?Yk(this,"_updatePosition",50,"fixRate"):rM(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var n=this._tooltipModel,i=n.get("triggerOn");fH("itemTooltip",this._api,an(function(r,o,a){i!=="none"&&(i.indexOf(r)>=0?this._tryShow(o,a):r==="leave"&&this._hide(a))},this))},e.prototype._keepShow=function(){var n=this._tooltipModel,i=this._ecModel,r=this._api,o=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&a.manuallyShowTip(n,i,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(n,i,r,o){if(!(o.from===this.uid||pt.node||!r.getDom())){var a=RO(o,r);this._ticket="";var s=o.dataByCoordSys,l=The(o,i,r);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&o.x!=null&&o.y!=null){var u=bhe;u.x=o.x,u.y=o.y,u.update(),Yt(u).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:u},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(n,i,r,o))return;var f=hH(o,i),h=f.point[0],d=f.point[1];h!=null&&d!=null&&this._tryShow({offsetX:h,offsetY:d,target:f.el,position:o.position,positionDefault:"bottom"},a)}else o.x!=null&&o.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},e.prototype.manuallyHideTip=function(n,i,r,o){var a=this._tooltipContent;this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(RO(o,r))},e.prototype._manuallyAxisShowTip=function(n,i,r,o){var a=o.seriesIndex,s=o.dataIndex,l=i.getComponent("axisPointer").coordSysAxesInfo;if(!(a==null||s==null||l==null)){var c=i.getSeriesByIndex(a);if(c){var u=c.getData(),f=qh([u.getItemModel(s),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}}},e.prototype._tryShow=function(n,i){var r=n.target,o=this._tooltipModel;if(o){this._lastX=n.offsetX,this._lastY=n.offsetY;var a=n.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,n);else if(r){var s=Yt(r);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,c;xd(r,function(u){if(Yt(u).dataIndex!=null)return l=u,!0;if(Yt(u).tooltipConfig!=null)return c=u,!0},!0),l?this._showSeriesItemTooltip(n,l,i):c?this._showComponentItemTooltip(n,c,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(n,i){var r=n.get("showDelay");i=an(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},e.prototype._showAxisTooltip=function(n,i){var r=this._ecModel,o=this._tooltipModel,a=[i.offsetX,i.offsetY],s=qh([i.tooltipOption],o),l=this._renderMode,c=[],u=Op("section",{blocks:[],noHeader:!0}),f=[],h=new uS;q(n,function(y){q(y.dataByAxis,function(_){var b=r.getComponent(_.axisDim+"Axis",_.axisIndex),T=_.value;if(!(!b||T==null)){var x=cH(T,b.axis,r,_.seriesDataIndices,_.valueLabelOpt),S=Op("section",{header:x,noHeader:!Go(x),sortBlocks:!0,blocks:[]});u.blocks.push(S),q(_.seriesDataIndices,function(C){var M=r.getSeriesByIndex(C.seriesIndex),w=C.dataIndexInside,A=M.getDataParams(w);if(!(A.dataIndex<0)){A.axisDim=_.axisDim,A.axisIndex=_.axisIndex,A.axisType=_.axisType,A.axisId=_.axisId,A.axisValue=nA(b.axis,{value:T}),A.axisValueLabel=x,A.marker=h.makeTooltipMarker("item",Gc(A.color),l);var P=J2(M.formatTooltip(w,!0,null)),R=P.frag;if(R){var L=qh([M],o).get("valueFormatter");S.blocks.push(L?Ie({valueFormatter:L},R):R)}P.text&&f.push(P.text),c.push(A)}})}})}),u.blocks.reverse(),f.reverse();var d=i.position,p=s.get("order"),g=iD(u,h,l,p,r.get("useUTC"),s.get("textStyle"));g&&f.unshift(g);var v=l==="richText"?`

`:"<br/>",m=f.join(v);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(n,c)?this._updatePosition(s,d,a[0],a[1],this._tooltipContent,c):this._showTooltipContent(s,m,c,Math.random()+"",a[0],a[1],d,null,h)})},e.prototype._showSeriesItemTooltip=function(n,i,r){var o=this._ecModel,a=Yt(i),s=a.seriesIndex,l=o.getSeriesByIndex(s),c=a.dataModel||l,u=a.dataIndex,f=a.dataType,h=c.getData(f),d=this._renderMode,p=n.positionDefault,g=qh([h.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),v=g.get("trigger");if(!(v!=null&&v!=="item")){var m=c.getDataParams(u,f),y=new uS;m.marker=y.makeTooltipMarker("item",Gc(m.color),d);var _=J2(c.formatTooltip(u,!1,f)),b=g.get("order"),T=g.get("valueFormatter"),x=_.frag,S=x?iD(T?Ie({valueFormatter:T},x):x,y,d,b,o.get("useUTC"),g.get("textStyle")):_.text,C="item_"+c.name+"_"+u;this._showOrMove(g,function(){this._showTooltipContent(g,S,m,C,n.offsetX,n.offsetY,n.position,n.target,y)}),r({type:"showTip",dataIndexInside:u,dataIndex:h.getRawIndex(u),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(n,i,r){var o=this._renderMode==="html",a=Yt(i),s=a.tooltipConfig,l=s.option||{},c=l.encodeHTMLContent;if(Qe(l)){var u=l;l={content:u,formatter:u},c=!0}c&&o&&l.content&&(l=Dt(l),l.content=hr(l.content));var f=[l],h=this._ecModel.getComponent(a.componentMainType,a.componentIndex);h&&f.push(h),f.push({formatter:l.content});var d=n.positionDefault,p=qh(f,this._tooltipModel,d?{position:d}:null),g=p.get("content"),v=Math.random()+"",m=new uS;this._showOrMove(p,function(){var y=Dt(p.get("formatterParams")||{});this._showTooltipContent(p,g,y,v,n.offsetX,n.offsetY,n.position,i,m)}),r({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(n,i,r,o,a,s,l,c,u){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var f=this._tooltipContent;f.setEnterable(n.get("enterable"));var h=n.get("formatter");l=l||n.get("position");var d=i,p=this._getNearestPoint([a,s],r,n.get("trigger"),n.get("borderColor")),g=p.color;if(h)if(Qe(h)){var v=n.ecModel.get("useUTC"),m=Ge(r)?r[0]:r,y=m&&m.axisType&&m.axisType.indexOf("time")>=0;d=h,y&&(d=F_(m.axisValue,d,v)),d=_k(d,r,!0)}else if(St(h)){var _=an(function(b,T){b===this._ticket&&(f.setContent(T,u,n,g,l),this._updatePosition(n,l,a,s,f,r,c))},this);this._ticket=o,d=h(r,o,_)}else d=h;f.setContent(d,u,n,g,l),f.show(n,g),this._updatePosition(n,l,a,s,f,r,c)}},e.prototype._getNearestPoint=function(n,i,r,o){if(r==="axis"||Ge(i))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!Ge(i))return{color:o||i.color||i.borderColor}},e.prototype._updatePosition=function(n,i,r,o,a,s,l){var c=this._api.getWidth(),u=this._api.getHeight();i=i||n.get("position");var f=a.getSize(),h=n.get("align"),d=n.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),St(i)&&(i=i([r,o],s,a.el,p,{viewSize:[c,u],contentSize:f.slice()})),Ge(i))r=on(i[0],c),o=on(i[1],u);else if(nt(i)){var g=i;g.width=f[0],g.height=f[1];var v=$_(g,{width:c,height:u});r=v.x,o=v.y,h=null,d=null}else if(Qe(i)&&l){var m=Mhe(i,p,f,n.get("borderWidth"));r=m[0],o=m[1]}else{var m=She(r,o,a,c,u,h?null:20,d?null:20);r=m[0],o=m[1]}if(h&&(r-=DO(h)?f[0]/2:h==="right"?f[0]:0),d&&(o-=DO(d)?f[1]/2:d==="bottom"?f[1]:0),pH(n)){var m=whe(r,o,a,c,u);r=m[0],o=m[1]}a.moveTo(r,o)},e.prototype._updateContentNotChangedOnAxis=function(n,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===n.length;return a&&q(r,function(s,l){var c=s.dataByAxis||[],u=n[l]||{},f=u.dataByAxis||[];a=a&&c.length===f.length,a&&q(c,function(h,d){var p=f[d]||{},g=h.seriesDataIndices||[],v=p.seriesDataIndices||[];a=a&&h.value===p.value&&h.axisType===p.axisType&&h.axisId===p.axisId&&g.length===v.length,a&&q(g,function(m,y){var _=v[y];a=a&&m.seriesIndex===_.seriesIndex&&m.dataIndex===_.dataIndex}),o&&q(h.seriesDataIndices,function(m){var y=m.seriesIndex,_=i[y],b=o[y];_&&b&&b.data!==_.data&&(a=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=i,!!a},e.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},e.prototype.dispose=function(n,i){pt.node||!i.getDom()||(rM(this,"_updatePosition"),this._tooltipContent.dispose(),bM("itemTooltip",i))},e.type="tooltip",e}(ea);function qh(t,e,n){var i=e.ecModel,r;n?(r=new wn(n,i,i),r=new wn(e.option,r,i)):r=e;for(var o=t.length-1;o>=0;o--){var a=t[o];a&&(a instanceof wn&&(a=a.get("tooltip",!0)),Qe(a)&&(a={formatter:a}),a&&(r=new wn(a,r,i)))}return r}function RO(t,e){return t.dispatchAction||an(e.dispatchAction,e)}function She(t,e,n,i,r,o,a){var s=n.getSize(),l=s[0],c=s[1];return o!=null&&(t+l+o+2>i?t-=l+o:t+=o),a!=null&&(e+c+a>r?e-=c+a:e+=a),[t,e]}function whe(t,e,n,i,r){var o=n.getSize(),a=o[0],s=o[1];return t=Math.min(t+a,i)-a,e=Math.min(e+s,r)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function Mhe(t,e,n,i){var r=n[0],o=n[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,c=e.width,u=e.height;switch(t){case"inside":s=e.x+c/2-r/2,l=e.y+u/2-o/2;break;case"top":s=e.x+c/2-r/2,l=e.y-o-a;break;case"bottom":s=e.x+c/2-r/2,l=e.y+u+a;break;case"left":s=e.x-r-a,l=e.y+u/2-o/2;break;case"right":s=e.x+c+a,l=e.y+u/2-o/2}return[s,l]}function DO(t){return t==="center"||t==="middle"}function The(t,e,n){var i=_C(t).queryOptionMap,r=i.keys()[0];if(!(!r||r==="series")){var o=lm(e,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),a=o.models[0];if(a){var s=n.getViewOfComponentModel(a),l;if(s.group.traverse(function(c){var u=Yt(c).tooltipConfig;if(u&&u.name===t.name)return l=c,!0}),l)return{componentMainType:r,componentIndex:a.componentIndex,el:l}}}}function Che(t){Up(dH),t.registerComponentModel(lhe),t.registerComponentView(xhe),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Ji),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Ji)}var Ahe=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Wt),Ehe=function(t){Ve(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,i,r){if(this.group.removeAll(),!!n.get("show")){var o=this.group,a=n.getModel("textStyle"),s=n.getModel("subtextStyle"),l=n.get("textAlign"),c=Tt(n.get("textBaseline"),n.get("textVerticalAlign")),u=new nr({style:Vc(a,{text:n.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),f=u.getBoundingRect(),h=n.get("subtext"),d=new nr({style:Vc(s,{text:h,fill:s.getTextColor(),y:f.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=n.get("link"),g=n.get("sublink"),v=n.get("triggerEvent",!0);u.silent=!p&&!v,d.silent=!g&&!v,p&&u.on("click",function(){L2(p,"_"+n.get("target"))}),g&&d.on("click",function(){L2(g,"_"+n.get("subtarget"))}),Yt(u).eventData=Yt(d).eventData=v?{componentType:"title",componentIndex:n.componentIndex}:null,o.add(u),h&&o.add(d);var m=o.getBoundingRect(),y=n.getBoxLayoutParams();y.width=m.width,y.height=m.height;var _=$_(y,{width:r.getWidth(),height:r.getHeight()},n.get("padding"));l||(l=n.get("left")||n.get("right"),l==="middle"&&(l="center"),l==="right"?_.x+=_.width:l==="center"&&(_.x+=_.width/2)),c||(c=n.get("top")||n.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?_.y+=_.height:c==="middle"&&(_.y+=_.height/2),c=c||"top"),o.x=_.x,o.y=_.y,o.markRedraw();var b={align:l,verticalAlign:c};u.setStyle(b),d.setStyle(b),m=o.getBoundingRect();var T=_.margin,x=n.getItemStyle(["color","opacity"]);x.fill=n.get("backgroundColor");var S=new Li({shape:{x:m.x-T[3],y:m.y-T[0],width:m.width+T[1]+T[3],height:m.height+T[0]+T[2],r:n.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});o.add(S)}},e.type="title",e}(ea);function Phe(t){t.registerComponentModel(Ahe),t.registerComponentView(Ehe)}const Ihe=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function Rhe(t){function e(i){return(...r)=>{if(!t.value)throw new Error("ECharts is not initialized yet.");return t.value[i].apply(t.value,r)}}function n(){const i=Object.create(null);return Ihe.forEach(r=>{i[r]=e(r)}),i}return n()}function Dhe(t,e,n){Ke([n,t,e],([i,r,o],a,s)=>{let l=null;if(i&&r&&o){const{offsetWidth:c,offsetHeight:u}=i,f=o===!0?{}:o,{throttle:h=100,onResize:d}=f;let p=!1;const g=()=>{r.resize(),d==null||d()},v=h?YC(g,h):g;l=new ResizeObserver(()=>{!p&&(p=!0,i.offsetWidth===c&&i.offsetHeight===u)||v()}),l.observe(i)}s(()=>{l&&(l.disconnect(),l=null)})})}const Ohe={autoresize:[Boolean,Object]},Lhe=/^on[^a-z]/,yH=t=>Lhe.test(t);function Nhe(t){const e={};for(const n in t)yH(n)||(e[n]=t[n]);return e}function Qg(t,e){const n=en(t)?Ln(t):t;return n&&typeof n=="object"&&"value"in n?n.value||e:n||e}const Fhe="ecLoadingOptions";function Bhe(t,e,n){const i=kt(Fhe,{}),r=W(()=>({...Qg(i,{}),...n==null?void 0:n.value}));ni(()=>{const o=t.value;o&&(e.value?o.showLoading(r.value):o.hideLoading())})}const Uhe={loading:Boolean,loadingOptions:Object};let Kh=null;const _H="x-vue-echarts";function zhe(){if(Kh!=null)return Kh;if(typeof HTMLElement>"u"||typeof customElements>"u")return Kh=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(_H)}catch{return Kh=!1}return Kh=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const khe=zhe(),$he="ecTheme",Hhe="ecInitOptions",Vhe="ecUpdateOptions",OO=/(^&?~?!?)native:/;var Ghe=Be({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...Ohe,...Uhe},emits:{},inheritAttrs:!1,setup(t,{attrs:e}){const n=Fe(),i=Fe(),r=Fe(),o=kt($he,null),a=kt(Hhe,null),s=kt(Vhe,null),{autoresize:l,manualUpdate:c,loading:u,loadingOptions:f}=nT(t),h=W(()=>r.value||t.option||null),d=W(()=>t.theme||Qg(o,{})),p=W(()=>t.initOptions||Qg(a,{})),g=W(()=>t.updateOptions||Qg(s,{})),v=W(()=>Nhe(e)),m={},y=el().proxy.$listeners,_={};y?Object.keys(y).forEach(M=>{OO.test(M)?m[M.replace(OO,"$1")]=y[M]:_[M]=y[M]}):Object.keys(e).filter(M=>yH(M)).forEach(M=>{let w=M.charAt(2).toLowerCase()+M.slice(3);if(w.indexOf("native:")===0){const A=`on${w.charAt(7).toUpperCase()}${w.slice(8)}`;m[A]=e[M];return}w.substring(w.length-4)==="Once"&&(w=`~${w.substring(0,w.length-4)}`),_[w]=e[M]});function b(M){if(!n.value)return;const w=i.value=Dle(n.value,d.value,p.value);t.group&&(w.group=t.group),Object.keys(_).forEach(R=>{let L=_[R];if(!L)return;let E=R.toLowerCase();E.charAt(0)==="~"&&(E=E.substring(1),L.__once__=!0);let O=w;if(E.indexOf("zr:")===0&&(O=w.getZr(),E=E.substring(3)),L.__once__){delete L.__once__;const $=L;L=(...H)=>{$(...H),O.off(E,L)}}O.on(E,L)});function A(){w&&!w.isDisposed()&&w.resize()}function P(){const R=M||h.value;R&&w.setOption(R,g.value)}l.value?Di(()=>{A(),P()}):P()}function T(M,w){t.manualUpdate&&(r.value=M),i.value?i.value.setOption(M,w||{}):b(M)}function x(){i.value&&(i.value.dispose(),i.value=void 0)}let S=null;Ke(c,M=>{typeof S=="function"&&(S(),S=null),M||(S=Ke(()=>t.option,(w,A)=>{w&&(i.value?i.value.setOption(w,{notMerge:w!==A,...g.value}):b())},{deep:!0}))},{immediate:!0}),Ke([d,p],()=>{x(),b()},{deep:!0}),ni(()=>{t.group&&i.value&&(i.value.group=t.group)});const C=Rhe(i);return Bhe(i,u,f),Dhe(i,l,n),ln(()=>{b()}),rr(()=>{khe&&n.value?n.value.__dispose=x:x()}),{chart:i,root:n,setOption:T,nonEventAttrs:v,nativeListeners:m,...C}},render(){const t={...this.nonEventAttrs,...this.nativeListeners};return t.ref="root",t.class=t.class?["echarts"].concat(t.class):"echarts",Gs(_H,t)}});const Whe={12:[100,30,75,200,300,100],13:[100,1e3,200,300,1e3,200],14:[100,1e3,75,200,300,100]},Xhe=Be({__name:"LineChart",props:{data:{type:Object,default:()=>({})}},setup(t){const e=t;Up([gue,rfe,Wue,Phe,Che,she]);const n=W(()=>{var i;return{title:{text:"一天时间的数量变化",left:"center",show:!1},tooltip:{trigger:"axis",formatter:'<span style="opacity:0.8">{b}: </span><span style="color:#4608AD;font-weight: bold">{c}</span>'},grid:{left:"10%",right:"10%",top:"2%",bottom:"20%"},xAxis:{type:"category",boundaryGap:!1,data:["06:00","08:00","12:00","15:00","18:00","20:00"],axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1}},yAxis:{type:"value",axisLabel:{formatter:"{value}",show:!1},axisLine:{show:!1},splitLine:{show:!1}},series:[{name:"数量",type:"line",smooth:!0,symbol:"none",lineStyle:{width:2.5,type:"dashed",color:{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:"#4608AD00"},{offset:.5,color:"#4608AD"},{offset:1,color:"#4608AD00"}],global:!1}},data:Whe[(i=e==null?void 0:e.data)==null?void 0:i.id]||[0,0,0,0,0,0]}]}});return(i,r)=>(xo(),Oc(Ln(Ghe),{class:"chart",option:n.value,autoresize:""},null,8,["option"]))}}),jhe=rm(Xhe,[["__scopeId","data-v-080071b5"]]);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Y_="171",Cc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},hc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bH=0,xM=1,xH=2,Yhe=3,qhe=0,lA=1,SH=2,Bo=3,ta=0,Ni=1,Gr=2,ka=0,Ac=1,SM=2,wM=3,MM=4,wH=5,Es=100,MH=101,TH=102,CH=103,AH=104,EH=200,PH=201,IH=202,RH=203,ry=204,oy=205,DH=206,OH=207,LH=208,NH=209,FH=210,BH=211,UH=212,zH=213,kH=214,ay=0,sy=1,ly=2,Wc=3,cy=4,uy=5,fy=6,hy=7,fm=0,$H=1,HH=2,$a=0,VH=1,GH=2,WH=3,XH=4,jH=5,YH=6,qH=7,TM="attached",KH="detached",q_=300,ja=301,Ys=302,Yf=303,$p=304,vh=306,qs=1e3,mr=1001,qf=1002,Fn=1003,K_=1004,Khe=1004,dc=1005,Zhe=1005,sn=1006,Ef=1007,Jhe=1007,Wr=1008,Qhe=1008,na=1009,cA=1010,uA=1011,Kf=1012,Z_=1013,Ya=1014,Qn=1015,Xo=1016,J_=1017,Q_=1018,Xc=1020,fA=35902,hA=1021,dA=1022,Ri=1023,pA=1024,mA=1025,Ec=1026,jc=1027,eb=1028,hm=1029,vA=1030,tb=1031,ede=1032,nb=1033,Zd=33776,Jd=33777,Qd=33778,ep=33779,dy=35840,py=35841,my=35842,vy=35843,gy=36196,yy=37492,_y=37496,by=37808,xy=37809,Sy=37810,wy=37811,My=37812,Ty=37813,Cy=37814,Ay=37815,Ey=37816,Py=37817,Iy=37818,Ry=37819,Dy=37820,Oy=37821,tp=36492,Ly=36494,Ny=36495,gA=36283,Fy=36284,By=36285,Uy=36286,ZH=2200,JH=2201,QH=2202,Zf=2300,Jf=2301,e0=2302,pc=2400,mc=2401,Hp=2402,ib=2500,yA=2501,e5=0,_A=1,zy=2,t5=3200,n5=3201,tde=3202,nde=3203,ol=0,i5=1,Da="",gn="srgb",Xn="srgb-linear",Vp="linear",$t="srgb",ide=0,ec=7680,rde=7681,ode=7682,ade=7683,sde=34055,lde=34056,cde=5386,ude=512,fde=513,hde=514,dde=515,pde=516,mde=517,vde=518,CM=519,r5=512,o5=513,a5=514,bA=515,s5=516,l5=517,c5=518,u5=519,Gp=35044,gde=35048,yde=35040,_de=35045,bde=35049,xde=35041,Sde=35046,wde=35050,Mde=35042,Tde="100",AM="300 es",jo=2e3,Wp=2001;class ua{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let o=0,a=r.length;o<a;o++)r[o].call(this,e);e.target=null}}}const ai=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let LO=1234567;const Pc=Math.PI/180,Qf=180/Math.PI;function br(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ai[t&255]+ai[t>>8&255]+ai[t>>16&255]+ai[t>>24&255]+"-"+ai[e&255]+ai[e>>8&255]+"-"+ai[e>>16&15|64]+ai[e>>24&255]+"-"+ai[n&63|128]+ai[n>>8&255]+"-"+ai[n>>16&255]+ai[n>>24&255]+ai[i&255]+ai[i>>8&255]+ai[i>>16&255]+ai[i>>24&255]).toLowerCase()}function ht(t,e,n){return Math.max(e,Math.min(n,t))}function xA(t,e){return(t%e+e)%e}function Cde(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function Ade(t,e,n){return t!==e?(n-t)/(e-t):0}function np(t,e,n){return(1-n)*t+n*e}function Ede(t,e,n,i){return np(t,e,1-Math.exp(-n*i))}function Pde(t,e=1){return e-Math.abs(xA(t,e*2)-e)}function Ide(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Rde(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Dde(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Ode(t,e){return t+Math.random()*(e-t)}function Lde(t){return t*(.5-Math.random())}function Nde(t){t!==void 0&&(LO=t);let e=LO+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Fde(t){return t*Pc}function Bde(t){return t*Qf}function Ude(t){return(t&t-1)===0&&t!==0}function zde(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function kde(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function $de(t,e,n,i,r){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+i)/2),u=a((e+i)/2),f=o((e-i)/2),h=a((e-i)/2),d=o((i-e)/2),p=a((i-e)/2);switch(r){case"XYX":t.set(s*u,l*f,l*h,s*c);break;case"YZY":t.set(l*h,s*u,l*f,s*c);break;case"ZXZ":t.set(l*f,l*h,s*u,s*c);break;case"XZX":t.set(s*u,l*p,l*d,s*c);break;case"YXY":t.set(l*d,s*u,l*p,s*c);break;case"ZYZ":t.set(l*p,l*d,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ii(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function _t(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const SA={DEG2RAD:Pc,RAD2DEG:Qf,generateUUID:br,clamp:ht,euclideanModulo:xA,mapLinear:Cde,inverseLerp:Ade,lerp:np,damp:Ede,pingpong:Pde,smoothstep:Ide,smootherstep:Rde,randInt:Dde,randFloat:Ode,randFloatSpread:Lde,seededRandom:Nde,degToRad:Fde,radToDeg:Bde,isPowerOfTwo:Ude,ceilPowerOfTwo:zde,floorPowerOfTwo:kde,setQuaternionFromProperEuler:$de,normalize:_t,denormalize:Ii};class be{constructor(e=0,n=0){be.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=ht(this.x,e.x,n.x),this.y=ht(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=ht(this.x,e,n),this.y=ht(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ht(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(ht(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*i-a*r+e.x,this.y=o*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class vt{constructor(e,n,i,r,o,a,s,l,c){vt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,o,a,s,l,c)}set(e,n,i,r,o,a,s,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=s,u[3]=n,u[4]=o,u[5]=l,u[6]=i,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,o=this.elements,a=i[0],s=i[3],l=i[6],c=i[1],u=i[4],f=i[7],h=i[2],d=i[5],p=i[8],g=r[0],v=r[3],m=r[6],y=r[1],_=r[4],b=r[7],T=r[2],x=r[5],S=r[8];return o[0]=a*g+s*y+l*T,o[3]=a*v+s*_+l*x,o[6]=a*m+s*b+l*S,o[1]=c*g+u*y+f*T,o[4]=c*v+u*_+f*x,o[7]=c*m+u*b+f*S,o[2]=h*g+d*y+p*T,o[5]=h*v+d*_+p*x,o[8]=h*m+d*b+p*S,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*s*c-i*o*u+i*s*l+r*o*c-r*a*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=u*a-s*c,h=s*l-u*o,d=c*o-a*l,p=n*f+i*h+r*d;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return e[0]=f*g,e[1]=(r*c-u*i)*g,e[2]=(s*i-r*a)*g,e[3]=h*g,e[4]=(u*n-r*l)*g,e[5]=(r*o-s*n)*g,e[6]=d*g,e[7]=(i*l-c*n)*g,e[8]=(a*n-i*o)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(i*l,i*c,-i*(l*a+c*s)+a+e,-r*c,r*l,-r*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(OS.makeScale(e,n)),this}rotate(e){return this.premultiply(OS.makeRotation(-e)),this}translate(e,n){return this.premultiply(OS.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const OS=new vt;function f5(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Hde={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function uf(t,e){return new Hde[t](e)}function Xp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function h5(){const t=Xp("canvas");return t.style.display="block",t}const NO={};function ef(t){t in NO||(NO[t]=!0,console.warn(t))}function Vde(t,e,n){return new Promise(function(i,r){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:i()}}setTimeout(o,n)})}function Gde(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Wde(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const FO=new vt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),BO=new vt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Xde(){const t={enabled:!0,workingColorSpace:Xn,spaces:{},convert:function(r,o,a){return this.enabled===!1||o===a||!o||!a||(this.spaces[o].transfer===$t&&(r.r=Ha(r.r),r.g=Ha(r.g),r.b=Ha(r.b)),this.spaces[o].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[o].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===$t&&(r.r=Pf(r.r),r.g=Pf(r.g),r.b=Pf(r.b))),r},fromWorkingColorSpace:function(r,o){return this.convert(r,this.workingColorSpace,o)},toWorkingColorSpace:function(r,o){return this.convert(r,o,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Da?Vp:this.spaces[r].transfer},getLuminanceCoefficients:function(r,o=this.workingColorSpace){return r.fromArray(this.spaces[o].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,o,a){return r.copy(this.spaces[o].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[Xn]:{primaries:e,whitePoint:i,transfer:Vp,toXYZ:FO,fromXYZ:BO,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:gn},outputColorSpaceConfig:{drawingBufferColorSpace:gn}},[gn]:{primaries:e,whitePoint:i,transfer:$t,toXYZ:FO,fromXYZ:BO,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:gn}}}),t}const wt=Xde();function Ha(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Pf(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Iu;class d5{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Iu===void 0&&(Iu=Xp("canvas")),Iu.width=e.width,Iu.height=e.height;const i=Iu.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Iu}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Xp("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),o=r.data;for(let a=0;a<o.length;a++)o[a]=Ha(o[a]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Ha(n[i]/255)*255):n[i]=Ha(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let jde=0;class vc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:jde++}),this.uuid=br(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let a=0,s=r.length;a<s;a++)r[a].isDataTexture?o.push(LS(r[a].image)):o.push(LS(r[a]))}else o=LS(r);i.url=o}return n||(e.images[this.uuid]=i),i}}function LS(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?d5.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Yde=0;class un extends ua{constructor(e=un.DEFAULT_IMAGE,n=un.DEFAULT_MAPPING,i=mr,r=mr,o=sn,a=Wr,s=Ri,l=na,c=un.DEFAULT_ANISOTROPY,u=Da){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Yde++}),this.uuid=br(),this.name="",this.source=new vc(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new be(0,0),this.repeat=new be(1,1),this.center=new be(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==q_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case qs:e.x=e.x-Math.floor(e.x);break;case mr:e.x=e.x<0?0:1;break;case qf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case qs:e.y=e.y-Math.floor(e.y);break;case mr:e.y=e.y<0?0:1;break;case qf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}un.DEFAULT_IMAGE=null;un.DEFAULT_MAPPING=q_;un.DEFAULT_ANISOTROPY=1;class Rt{constructor(e=0,n=0,i=0,r=1){Rt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r+a[12]*o,this.y=a[1]*n+a[5]*i+a[9]*r+a[13]*o,this.z=a[2]*n+a[6]*i+a[10]*r+a[14]*o,this.w=a[3]*n+a[7]*i+a[11]*r+a[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,o;const l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],d=l[5],p=l[9],g=l[2],v=l[6],m=l[10];if(Math.abs(u-h)<.01&&Math.abs(f-g)<.01&&Math.abs(p-v)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+g)<.1&&Math.abs(p+v)<.1&&Math.abs(c+d+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,b=(d+1)/2,T=(m+1)/2,x=(u+h)/4,S=(f+g)/4,C=(p+v)/4;return _>b&&_>T?_<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(_),r=x/i,o=S/i):b>T?b<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(b),i=x/r,o=C/r):T<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(T),i=S/o,r=C/o),this.set(i,r,o,n),this}let y=Math.sqrt((v-p)*(v-p)+(f-g)*(f-g)+(h-u)*(h-u));return Math.abs(y)<.001&&(y=1),this.x=(v-p)/y,this.y=(f-g)/y,this.z=(h-u)/y,this.w=Math.acos((c+d+m-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=ht(this.x,e.x,n.x),this.y=ht(this.y,e.y,n.y),this.z=ht(this.z,e.z,n.z),this.w=ht(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=ht(this.x,e,n),this.y=ht(this.y,e,n),this.z=ht(this.z,e,n),this.w=ht(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ht(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class p5 extends ua{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Rt(0,0,e,n),this.scissorTest=!1,this.viewport=new Rt(0,0,e,n);const r={width:e,height:n,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:sn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const o=new un(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);o.flipY=!1,o.generateMipmaps=i.generateMipmaps,o.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let s=0;s<a;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,o=this.textures.length;r<o;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new vc(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wo extends p5{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class rb extends un{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Fn,this.minFilter=Fn,this.wrapR=mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class qde extends wo{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new rb(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class wA extends un{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Fn,this.minFilter=Fn,this.wrapR=mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Kde extends wo{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new wA(null,e,n,i),this.texture.isRenderTargetTexture=!0}}class Wn{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,o,a,s){let l=i[r+0],c=i[r+1],u=i[r+2],f=i[r+3];const h=o[a+0],d=o[a+1],p=o[a+2],g=o[a+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(s===1){e[n+0]=h,e[n+1]=d,e[n+2]=p,e[n+3]=g;return}if(f!==g||l!==h||c!==d||u!==p){let v=1-s;const m=l*h+c*d+u*p+f*g,y=m>=0?1:-1,_=1-m*m;if(_>Number.EPSILON){const T=Math.sqrt(_),x=Math.atan2(T,m*y);v=Math.sin(v*x)/T,s=Math.sin(s*x)/T}const b=s*y;if(l=l*v+h*b,c=c*v+d*b,u=u*v+p*b,f=f*v+g*b,v===1-s){const T=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=T,c*=T,u*=T,f*=T}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,i,r,o,a){const s=i[r],l=i[r+1],c=i[r+2],u=i[r+3],f=o[a],h=o[a+1],d=o[a+2],p=o[a+3];return e[n]=s*p+u*f+l*d-c*h,e[n+1]=l*p+u*h+c*f-s*d,e[n+2]=c*p+u*d+s*h-l*f,e[n+3]=u*p-s*f-l*h-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(i/2),u=s(r/2),f=s(o/2),h=l(i/2),d=l(r/2),p=l(o/2);switch(a){case"XYZ":this._x=h*u*f+c*d*p,this._y=c*d*f-h*u*p,this._z=c*u*p+h*d*f,this._w=c*u*f-h*d*p;break;case"YXZ":this._x=h*u*f+c*d*p,this._y=c*d*f-h*u*p,this._z=c*u*p-h*d*f,this._w=c*u*f+h*d*p;break;case"ZXY":this._x=h*u*f-c*d*p,this._y=c*d*f+h*u*p,this._z=c*u*p+h*d*f,this._w=c*u*f-h*d*p;break;case"ZYX":this._x=h*u*f-c*d*p,this._y=c*d*f+h*u*p,this._z=c*u*p-h*d*f,this._w=c*u*f+h*d*p;break;case"YZX":this._x=h*u*f+c*d*p,this._y=c*d*f+h*u*p,this._z=c*u*p-h*d*f,this._w=c*u*f-h*d*p;break;case"XZY":this._x=h*u*f-c*d*p,this._y=c*d*f-h*u*p,this._z=c*u*p+h*d*f,this._w=c*u*f+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],f=n[10],h=i+s+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-l)*d,this._y=(o-c)*d,this._z=(a-r)*d}else if(i>s&&i>f){const d=2*Math.sqrt(1+i-s-f);this._w=(u-l)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(o+c)/d}else if(s>f){const d=2*Math.sqrt(1+s-i-f);this._w=(o-c)/d,this._x=(r+a)/d,this._y=.25*d,this._z=(l+u)/d}else{const d=2*Math.sqrt(1+f-i-s);this._w=(a-r)/d,this._x=(o+c)/d,this._y=(l+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ht(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+a*s+r*c-o*l,this._y=r*u+a*l+o*s-i*c,this._z=o*u+a*c+i*l-r*s,this._w=a*u-i*s-r*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,o=this._z,a=this._w;let s=a*e._w+i*e._x+r*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=i,this._y=r,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const d=1-n;return this._w=d*a+n*this._w,this._x=d*i+n*this._x,this._y=d*r+n*this._y,this._z=d*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),f=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=a*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=o*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),o=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,n=0,i=0){G.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(UO.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(UO.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*n+o[3]*i+o[6]*r,this.y=o[1]*n+o[4]*i+o[7]*r,this.z=o[2]*n+o[5]*i+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,o=e.elements,a=1/(o[3]*n+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*n+o[4]*i+o[8]*r+o[12])*a,this.y=(o[1]*n+o[5]*i+o[9]*r+o[13])*a,this.z=(o[2]*n+o[6]*i+o[10]*r+o[14])*a,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*r-s*i),u=2*(s*n-o*r),f=2*(o*i-a*n);return this.x=n+l*c+a*f-s*u,this.y=i+l*u+s*c-o*f,this.z=r+l*f+o*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r,this.y=o[1]*n+o[5]*i+o[9]*r,this.z=o[2]*n+o[6]*i+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=ht(this.x,e.x,n.x),this.y=ht(this.y,e.y,n.y),this.z=ht(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=ht(this.x,e,n),this.y=ht(this.y,e,n),this.z=ht(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(ht(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=r*l-o*s,this.y=o*a-i*l,this.z=i*s-r*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return NS.copy(this).projectOnVector(e),this.sub(NS)}reflect(e){return this.sub(NS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(ht(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const NS=new G,UO=new Wn;class di{constructor(e=new G(1/0,1/0,1/0),n=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(ro.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(ro.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=ro.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const o=i.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,ro):ro.fromBufferAttribute(o,a),ro.applyMatrix4(e.matrixWorld),this.expandByPoint(ro);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Ov.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Ov.copy(i.boundingBox)),Ov.applyMatrix4(e.matrixWorld),this.union(Ov)}const r=e.children;for(let o=0,a=r.length;o<a;o++)this.expandByObject(r[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ro),ro.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Zh),Lv.subVectors(this.max,Zh),Ru.subVectors(e.a,Zh),Du.subVectors(e.b,Zh),Ou.subVectors(e.c,Zh),ds.subVectors(Du,Ru),ps.subVectors(Ou,Du),Ul.subVectors(Ru,Ou);let n=[0,-ds.z,ds.y,0,-ps.z,ps.y,0,-Ul.z,Ul.y,ds.z,0,-ds.x,ps.z,0,-ps.x,Ul.z,0,-Ul.x,-ds.y,ds.x,0,-ps.y,ps.x,0,-Ul.y,Ul.x,0];return!FS(n,Ru,Du,Ou,Lv)||(n=[1,0,0,0,1,0,0,0,1],!FS(n,Ru,Du,Ou,Lv))?!1:(Nv.crossVectors(ds,ps),n=[Nv.x,Nv.y,Nv.z],FS(n,Ru,Du,Ou,Lv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ro).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ro).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ya[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ya[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ya[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ya[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ya[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ya[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ya[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ya[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ya),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ya=[new G,new G,new G,new G,new G,new G,new G,new G],ro=new G,Ov=new di,Ru=new G,Du=new G,Ou=new G,ds=new G,ps=new G,Ul=new G,Zh=new G,Lv=new G,Nv=new G,zl=new G;function FS(t,e,n,i,r){for(let o=0,a=t.length-3;o<=a;o+=3){zl.fromArray(t,o);const s=r.x*Math.abs(zl.x)+r.y*Math.abs(zl.y)+r.z*Math.abs(zl.z),l=e.dot(zl),c=n.dot(zl),u=i.dot(zl);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const Zde=new di,Jh=new G,BS=new G;class ti{constructor(e=new G,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):Zde.setFromPoints(e).getCenter(i);let r=0;for(let o=0,a=e.length;o<a;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Jh.subVectors(e,this.center);const n=Jh.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Jh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(BS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Jh.copy(e.center).add(BS)),this.expandByPoint(Jh.copy(e.center).sub(BS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _a=new G,US=new G,Fv=new G,ms=new G,zS=new G,Bv=new G,kS=new G;class lu{constructor(e=new G,n=new G(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_a)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=_a.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(_a.copy(this.origin).addScaledVector(this.direction,n),_a.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){US.copy(e).add(n).multiplyScalar(.5),Fv.copy(n).sub(e).normalize(),ms.copy(this.origin).sub(US);const o=e.distanceTo(n)*.5,a=-this.direction.dot(Fv),s=ms.dot(this.direction),l=-ms.dot(Fv),c=ms.lengthSq(),u=Math.abs(1-a*a);let f,h,d,p;if(u>0)if(f=a*l-s,h=a*s-l,p=o*u,f>=0)if(h>=-p)if(h<=p){const g=1/u;f*=g,h*=g,d=f*(f+a*h+2*s)+h*(a*f+h+2*l)+c}else h=o,f=Math.max(0,-(a*h+s)),d=-f*f+h*(h+2*l)+c;else h=-o,f=Math.max(0,-(a*h+s)),d=-f*f+h*(h+2*l)+c;else h<=-p?(f=Math.max(0,-(-a*o+s)),h=f>0?-o:Math.min(Math.max(-o,-l),o),d=-f*f+h*(h+2*l)+c):h<=p?(f=0,h=Math.min(Math.max(-o,-l),o),d=h*(h+2*l)+c):(f=Math.max(0,-(a*o+s)),h=f>0?o:Math.min(Math.max(-o,-l),o),d=-f*f+h*(h+2*l)+c);else h=a>0?-o:o,f=Math.max(0,-(a*h+s)),d=-f*f+h*(h+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(US).addScaledVector(Fv,h),d}intersectSphere(e,n){_a.subVectors(e.center,this.origin);const i=_a.dot(this.direction),r=_a.dot(_a)-i*i,o=e.radius*e.radius;if(r>o)return null;const a=Math.sqrt(o-r),s=i-a,l=i+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,o,a,s,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(o=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(o=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),i>a||o>r||((o>i||isNaN(i))&&(i=o),(a<r||isNaN(r))&&(r=a),f>=0?(s=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(s=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),i>l||s>r)||((s>i||i!==i)&&(i=s),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,_a)!==null}intersectTriangle(e,n,i,r,o){zS.subVectors(n,e),Bv.subVectors(i,e),kS.crossVectors(zS,Bv);let a=this.direction.dot(kS),s;if(a>0){if(r)return null;s=1}else if(a<0)s=-1,a=-a;else return null;ms.subVectors(this.origin,e);const l=s*this.direction.dot(Bv.crossVectors(ms,Bv));if(l<0)return null;const c=s*this.direction.dot(zS.cross(ms));if(c<0||l+c>a)return null;const u=-s*ms.dot(kS);return u<0?null:this.at(u/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class et{constructor(e,n,i,r,o,a,s,l,c,u,f,h,d,p,g,v){et.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,o,a,s,l,c,u,f,h,d,p,g,v)}set(e,n,i,r,o,a,s,l,c,u,f,h,d,p,g,v){const m=this.elements;return m[0]=e,m[4]=n,m[8]=i,m[12]=r,m[1]=o,m[5]=a,m[9]=s,m[13]=l,m[2]=c,m[6]=u,m[10]=f,m[14]=h,m[3]=d,m[7]=p,m[11]=g,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new et().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Lu.setFromMatrixColumn(e,0).length(),o=1/Lu.setFromMatrixColumn(e,1).length(),a=1/Lu.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,o=e.z,a=Math.cos(i),s=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const h=a*u,d=a*f,p=s*u,g=s*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=d+p*c,n[5]=h-g*c,n[9]=-s*l,n[2]=g-h*c,n[6]=p+d*c,n[10]=a*l}else if(e.order==="YXZ"){const h=l*u,d=l*f,p=c*u,g=c*f;n[0]=h+g*s,n[4]=p*s-d,n[8]=a*c,n[1]=a*f,n[5]=a*u,n[9]=-s,n[2]=d*s-p,n[6]=g+h*s,n[10]=a*l}else if(e.order==="ZXY"){const h=l*u,d=l*f,p=c*u,g=c*f;n[0]=h-g*s,n[4]=-a*f,n[8]=p+d*s,n[1]=d+p*s,n[5]=a*u,n[9]=g-h*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const h=a*u,d=a*f,p=s*u,g=s*f;n[0]=l*u,n[4]=p*c-d,n[8]=h*c+g,n[1]=l*f,n[5]=g*c+h,n[9]=d*c-p,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const h=a*l,d=a*c,p=s*l,g=s*c;n[0]=l*u,n[4]=g-h*f,n[8]=p*f+d,n[1]=f,n[5]=a*u,n[9]=-s*u,n[2]=-c*u,n[6]=d*f+p,n[10]=h-g*f}else if(e.order==="XZY"){const h=a*l,d=a*c,p=s*l,g=s*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=h*f+g,n[5]=a*u,n[9]=d*f-p,n[2]=p*f-d,n[6]=s*u,n[10]=g*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Jde,e,Qde)}lookAt(e,n,i){const r=this.elements;return sr.subVectors(e,n),sr.lengthSq()===0&&(sr.z=1),sr.normalize(),vs.crossVectors(i,sr),vs.lengthSq()===0&&(Math.abs(i.z)===1?sr.x+=1e-4:sr.z+=1e-4,sr.normalize(),vs.crossVectors(i,sr)),vs.normalize(),Uv.crossVectors(sr,vs),r[0]=vs.x,r[4]=Uv.x,r[8]=sr.x,r[1]=vs.y,r[5]=Uv.y,r[9]=sr.y,r[2]=vs.z,r[6]=Uv.z,r[10]=sr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,o=this.elements,a=i[0],s=i[4],l=i[8],c=i[12],u=i[1],f=i[5],h=i[9],d=i[13],p=i[2],g=i[6],v=i[10],m=i[14],y=i[3],_=i[7],b=i[11],T=i[15],x=r[0],S=r[4],C=r[8],M=r[12],w=r[1],A=r[5],P=r[9],R=r[13],L=r[2],E=r[6],O=r[10],$=r[14],H=r[3],V=r[7],Y=r[11],ae=r[15];return o[0]=a*x+s*w+l*L+c*H,o[4]=a*S+s*A+l*E+c*V,o[8]=a*C+s*P+l*O+c*Y,o[12]=a*M+s*R+l*$+c*ae,o[1]=u*x+f*w+h*L+d*H,o[5]=u*S+f*A+h*E+d*V,o[9]=u*C+f*P+h*O+d*Y,o[13]=u*M+f*R+h*$+d*ae,o[2]=p*x+g*w+v*L+m*H,o[6]=p*S+g*A+v*E+m*V,o[10]=p*C+g*P+v*O+m*Y,o[14]=p*M+g*R+v*$+m*ae,o[3]=y*x+_*w+b*L+T*H,o[7]=y*S+_*A+b*E+T*V,o[11]=y*C+_*P+b*O+T*Y,o[15]=y*M+_*R+b*$+T*ae,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],d=e[14],p=e[3],g=e[7],v=e[11],m=e[15];return p*(+o*l*f-r*c*f-o*s*h+i*c*h+r*s*d-i*l*d)+g*(+n*l*d-n*c*h+o*a*h-r*a*d+r*c*u-o*l*u)+v*(+n*c*f-n*s*d-o*a*f+i*a*d+o*s*u-i*c*u)+m*(-r*s*u-n*l*f+n*s*h+r*a*f-i*a*h+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],d=e[11],p=e[12],g=e[13],v=e[14],m=e[15],y=f*v*c-g*h*c+g*l*d-s*v*d-f*l*m+s*h*m,_=p*h*c-u*v*c-p*l*d+a*v*d+u*l*m-a*h*m,b=u*g*c-p*f*c+p*s*d-a*g*d-u*s*m+a*f*m,T=p*f*l-u*g*l-p*s*h+a*g*h+u*s*v-a*f*v,x=n*y+i*_+r*b+o*T;if(x===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=y*S,e[1]=(g*h*o-f*v*o-g*r*d+i*v*d+f*r*m-i*h*m)*S,e[2]=(s*v*o-g*l*o+g*r*c-i*v*c-s*r*m+i*l*m)*S,e[3]=(f*l*o-s*h*o-f*r*c+i*h*c+s*r*d-i*l*d)*S,e[4]=_*S,e[5]=(u*v*o-p*h*o+p*r*d-n*v*d-u*r*m+n*h*m)*S,e[6]=(p*l*o-a*v*o-p*r*c+n*v*c+a*r*m-n*l*m)*S,e[7]=(a*h*o-u*l*o+u*r*c-n*h*c-a*r*d+n*l*d)*S,e[8]=b*S,e[9]=(p*f*o-u*g*o-p*i*d+n*g*d+u*i*m-n*f*m)*S,e[10]=(a*g*o-p*s*o+p*i*c-n*g*c-a*i*m+n*s*m)*S,e[11]=(u*s*o-a*f*o-u*i*c+n*f*c+a*i*d-n*s*d)*S,e[12]=T*S,e[13]=(u*g*r-p*f*r+p*i*h-n*g*h-u*i*v+n*f*v)*S,e[14]=(p*s*r-a*g*r-p*i*l+n*g*l+a*i*v-n*s*v)*S,e[15]=(a*f*r-u*s*r+u*i*l-n*f*l-a*i*h+n*s*h)*S,this}scale(e){const n=this.elements,i=e.x,r=e.y,o=e.z;return n[0]*=i,n[4]*=r,n[8]*=o,n[1]*=i,n[5]*=r,n[9]*=o,n[2]*=i,n[6]*=r,n[10]*=o,n[3]*=i,n[7]*=r,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),o=1-i,a=e.x,s=e.y,l=e.z,c=o*a,u=o*s;return this.set(c*a+i,c*s-r*l,c*l+r*s,0,c*s+r*l,u*s+i,u*l-r*a,0,c*l-r*s,u*l+r*a,o*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,o,a){return this.set(1,i,o,0,e,1,a,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,u=a+a,f=s+s,h=o*c,d=o*u,p=o*f,g=a*u,v=a*f,m=s*f,y=l*c,_=l*u,b=l*f,T=i.x,x=i.y,S=i.z;return r[0]=(1-(g+m))*T,r[1]=(d+b)*T,r[2]=(p-_)*T,r[3]=0,r[4]=(d-b)*x,r[5]=(1-(h+m))*x,r[6]=(v+y)*x,r[7]=0,r[8]=(p+_)*S,r[9]=(v-y)*S,r[10]=(1-(h+g))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let o=Lu.set(r[0],r[1],r[2]).length();const a=Lu.set(r[4],r[5],r[6]).length(),s=Lu.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],oo.copy(this);const c=1/o,u=1/a,f=1/s;return oo.elements[0]*=c,oo.elements[1]*=c,oo.elements[2]*=c,oo.elements[4]*=u,oo.elements[5]*=u,oo.elements[6]*=u,oo.elements[8]*=f,oo.elements[9]*=f,oo.elements[10]*=f,n.setFromRotationMatrix(oo),i.x=o,i.y=a,i.z=s,this}makePerspective(e,n,i,r,o,a,s=jo){const l=this.elements,c=2*o/(n-e),u=2*o/(i-r),f=(n+e)/(n-e),h=(i+r)/(i-r);let d,p;if(s===jo)d=-(a+o)/(a-o),p=-2*a*o/(a-o);else if(s===Wp)d=-a/(a-o),p=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,o,a,s=jo){const l=this.elements,c=1/(n-e),u=1/(i-r),f=1/(a-o),h=(n+e)*c,d=(i+r)*u;let p,g;if(s===jo)p=(a+o)*f,g=-2*f;else if(s===Wp)p=o*f,g=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=g,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Lu=new G,oo=new et,Jde=new G(0,0,0),Qde=new G(1,1,1),vs=new G,Uv=new G,sr=new G,zO=new et,kO=new Wn;class Mr{constructor(e=0,n=0,i=0,r=Mr.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,o=r[0],a=r[4],s=r[8],l=r[1],c=r[5],u=r[9],f=r[2],h=r[6],d=r[10];switch(n){case"XYZ":this._y=Math.asin(ht(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ht(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(ht(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-ht(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(ht(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,d));break;case"XZY":this._z=Math.asin(-ht(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return zO.makeRotationFromQuaternion(e),this.setFromRotationMatrix(zO,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return kO.setFromEuler(this),this.setFromQuaternion(kO,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Mr.DEFAULT_ORDER="XYZ";class ob{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let epe=0;const $O=new G,Nu=new Wn,ba=new et,zv=new G,Qh=new G,tpe=new G,npe=new Wn,HO=new G(1,0,0),VO=new G(0,1,0),GO=new G(0,0,1),WO={type:"added"},ipe={type:"removed"},Fu={type:"childadded",child:null},$S={type:"childremoved",child:null};class At extends ua{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:epe++}),this.uuid=br(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=At.DEFAULT_UP.clone();const e=new G,n=new Mr,i=new Wn,r=new G(1,1,1);function o(){i.setFromEuler(n,!1)}function a(){n.setFromQuaternion(i,void 0,!1)}n._onChange(o),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new et},normalMatrix:{value:new vt}}),this.matrix=new et,this.matrixWorld=new et,this.matrixAutoUpdate=At.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=At.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ob,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Nu.setFromAxisAngle(e,n),this.quaternion.multiply(Nu),this}rotateOnWorldAxis(e,n){return Nu.setFromAxisAngle(e,n),this.quaternion.premultiply(Nu),this}rotateX(e){return this.rotateOnAxis(HO,e)}rotateY(e){return this.rotateOnAxis(VO,e)}rotateZ(e){return this.rotateOnAxis(GO,e)}translateOnAxis(e,n){return $O.copy(e).applyQuaternion(this.quaternion),this.position.add($O.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(HO,e)}translateY(e){return this.translateOnAxis(VO,e)}translateZ(e){return this.translateOnAxis(GO,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ba.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?zv.copy(e):zv.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Qh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ba.lookAt(Qh,zv,this.up):ba.lookAt(zv,Qh,this.up),this.quaternion.setFromRotationMatrix(ba),r&&(ba.extractRotation(r.matrixWorld),Nu.setFromRotationMatrix(ba),this.quaternion.premultiply(Nu.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(WO),Fu.child=e,this.dispatchEvent(Fu),Fu.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(ipe),$S.child=e,this.dispatchEvent($S),$S.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ba.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ba.multiply(e.parent.matrixWorld)),e.applyMatrix4(ba),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(WO),Fu.child=e,this.dispatchEvent(Fu),Fu.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let o=0,a=r.length;o<a;o++)r[o].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qh,e,tpe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qh,npe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let o=0,a=r.length;o<a;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];o(e.shapes,f)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));r.material=s}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];r.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),f=a(e.shapes),h=a(e.skeletons),d=a(e.animations),p=a(e.nodes);s.length>0&&(i.geometries=s),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),d.length>0&&(i.animations=d),p.length>0&&(i.nodes=p)}return i.object=r,i;function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}At.DEFAULT_UP=new G(0,1,0);At.DEFAULT_MATRIX_AUTO_UPDATE=!0;At.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ao=new G,xa=new G,HS=new G,Sa=new G,Bu=new G,Uu=new G,XO=new G,VS=new G,GS=new G,WS=new G,XS=new Rt,jS=new Rt,YS=new Rt;class qi{constructor(e=new G,n=new G,i=new G){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),ao.subVectors(e,n),r.cross(ao);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,n,i,r,o){ao.subVectors(r,n),xa.subVectors(i,n),HS.subVectors(e,n);const a=ao.dot(ao),s=ao.dot(xa),l=ao.dot(HS),c=xa.dot(xa),u=xa.dot(HS),f=a*c-s*s;if(f===0)return o.set(0,0,0),null;const h=1/f,d=(c*l-s*u)*h,p=(a*u-s*l)*h;return o.set(1-d-p,p,d)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Sa)===null?!1:Sa.x>=0&&Sa.y>=0&&Sa.x+Sa.y<=1}static getInterpolation(e,n,i,r,o,a,s,l){return this.getBarycoord(e,n,i,r,Sa)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Sa.x),l.addScaledVector(a,Sa.y),l.addScaledVector(s,Sa.z),l)}static getInterpolatedAttribute(e,n,i,r,o,a){return XS.setScalar(0),jS.setScalar(0),YS.setScalar(0),XS.fromBufferAttribute(e,n),jS.fromBufferAttribute(e,i),YS.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(XS,o.x),a.addScaledVector(jS,o.y),a.addScaledVector(YS,o.z),a}static isFrontFacing(e,n,i,r){return ao.subVectors(i,n),xa.subVectors(e,n),ao.cross(xa).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ao.subVectors(this.c,this.b),xa.subVectors(this.a,this.b),ao.cross(xa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return qi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return qi.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,o){return qi.getInterpolation(e,this.a,this.b,this.c,n,i,r,o)}containsPoint(e){return qi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return qi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,o=this.c;let a,s;Bu.subVectors(r,i),Uu.subVectors(o,i),VS.subVectors(e,i);const l=Bu.dot(VS),c=Uu.dot(VS);if(l<=0&&c<=0)return n.copy(i);GS.subVectors(e,r);const u=Bu.dot(GS),f=Uu.dot(GS);if(u>=0&&f<=u)return n.copy(r);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(i).addScaledVector(Bu,a);WS.subVectors(e,o);const d=Bu.dot(WS),p=Uu.dot(WS);if(p>=0&&d<=p)return n.copy(o);const g=d*c-l*p;if(g<=0&&c>=0&&p<=0)return s=c/(c-p),n.copy(i).addScaledVector(Uu,s);const v=u*p-d*f;if(v<=0&&f-u>=0&&d-p>=0)return XO.subVectors(o,r),s=(f-u)/(f-u+(d-p)),n.copy(r).addScaledVector(XO,s);const m=1/(v+g+h);return a=g*m,s=h*m,n.copy(i).addScaledVector(Bu,a).addScaledVector(Uu,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const m5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},gs={h:0,s:0,l:0},kv={h:0,s:0,l:0};function qS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Oe{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=gn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wt.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=wt.workingColorSpace){return this.r=e,this.g=n,this.b=i,wt.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=wt.workingColorSpace){if(e=xA(e,1),n=ht(n,0,1),i=ht(i,0,1),n===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+n):i+n-i*n,a=2*i-o;this.r=qS(a,o,e+1/3),this.g=qS(a,o,e),this.b=qS(a,o,e-1/3)}return wt.toWorkingColorSpace(this,r),this}setStyle(e,n=gn){function i(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=r[1],s=r[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=gn){const i=m5[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ha(e.r),this.g=Ha(e.g),this.b=Ha(e.b),this}copyLinearToSRGB(e){return this.r=Pf(e.r),this.g=Pf(e.g),this.b=Pf(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=gn){return wt.fromWorkingColorSpace(si.copy(this),e),Math.round(ht(si.r*255,0,255))*65536+Math.round(ht(si.g*255,0,255))*256+Math.round(ht(si.b*255,0,255))}getHexString(e=gn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=wt.workingColorSpace){wt.fromWorkingColorSpace(si.copy(this),n);const i=si.r,r=si.g,o=si.b,a=Math.max(i,r,o),s=Math.min(i,r,o);let l,c;const u=(s+a)/2;if(s===a)l=0,c=0;else{const f=a-s;switch(c=u<=.5?f/(a+s):f/(2-a-s),a){case i:l=(r-o)/f+(r<o?6:0);break;case r:l=(o-i)/f+2;break;case o:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=wt.workingColorSpace){return wt.fromWorkingColorSpace(si.copy(this),n),e.r=si.r,e.g=si.g,e.b=si.b,e}getStyle(e=gn){wt.fromWorkingColorSpace(si.copy(this),e);const n=si.r,i=si.g,r=si.b;return e!==gn?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(gs),this.setHSL(gs.h+e,gs.s+n,gs.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(gs),e.getHSL(kv);const i=np(gs.h,kv.h,n),r=np(gs.s,kv.s,n),o=np(gs.l,kv.l,n);return this.setHSL(i,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,o=e.elements;return this.r=o[0]*n+o[3]*i+o[6]*r,this.g=o[1]*n+o[4]*i+o[7]*r,this.b=o[2]*n+o[5]*i+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const si=new Oe;Oe.NAMES=m5;let rpe=0;class Bn extends ua{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rpe++}),this.uuid=br(),this.name="",this.type="Material",this.blending=Ac,this.side=ta,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ry,this.blendDst=oy,this.blendEquation=Es,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Oe(0,0,0),this.blendAlpha=0,this.depthFunc=Wc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=CM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ec,this.stencilZFail=ec,this.stencilZPass=ec,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Ac&&(i.blending=this.blending),this.side!==ta&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==ry&&(i.blendSrc=this.blendSrc),this.blendDst!==oy&&(i.blendDst=this.blendDst),this.blendEquation!==Es&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Wc&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==CM&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ec&&(i.stencilFail=this.stencilFail),this.stencilZFail!==ec&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==ec&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=r(e.textures),a=r(e.images);o.length>0&&(i.textures=o),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let o=0;o!==r;++o)i[o]=n[o].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class vr extends Bn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mr,this.combine=fm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Oa=ope();function ope(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:o,exponentTable:a,offsetTable:s}}function Vi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=ht(t,-65504,65504),Oa.floatView[0]=t;const e=Oa.uint32View[0],n=e>>23&511;return Oa.baseTable[n]+((e&8388607)>>Oa.shiftTable[n])}function Sd(t){const e=t>>10;return Oa.uint32View[0]=Oa.mantissaTable[Oa.offsetTable[e]+(t&1023)]+Oa.exponentTable[e],Oa.floatView[0]}const wd={toHalfFloat:Vi,fromHalfFloat:Sd},An=new G,$v=new be;class Ot{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=Gp,this.updateRanges=[],this.gpuType=Qn,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)$v.fromBufferAttribute(this,n),$v.applyMatrix3(e),this.setXY(n,$v.x,$v.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)An.fromBufferAttribute(this,n),An.applyMatrix3(e),this.setXYZ(n,An.x,An.y,An.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)An.fromBufferAttribute(this,n),An.applyMatrix4(e),this.setXYZ(n,An.x,An.y,An.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)An.fromBufferAttribute(this,n),An.applyNormalMatrix(e),this.setXYZ(n,An.x,An.y,An.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)An.fromBufferAttribute(this,n),An.transformDirection(e),this.setXYZ(n,An.x,An.y,An.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Ii(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=_t(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ii(n,this.array)),n}setX(e,n){return this.normalized&&(n=_t(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ii(n,this.array)),n}setY(e,n){return this.normalized&&(n=_t(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ii(n,this.array)),n}setZ(e,n){return this.normalized&&(n=_t(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ii(n,this.array)),n}setW(e,n){return this.normalized&&(n=_t(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=_t(n,this.array),i=_t(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=_t(n,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,o){return e*=this.itemSize,this.normalized&&(n=_t(n,this.array),i=_t(i,this.array),r=_t(r,this.array),o=_t(o,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Gp&&(e.usage=this.usage),e}}class ape extends Ot{constructor(e,n,i){super(new Int8Array(e),n,i)}}class spe extends Ot{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class lpe extends Ot{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class cpe extends Ot{constructor(e,n,i){super(new Int16Array(e),n,i)}}class MA extends Ot{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class upe extends Ot{constructor(e,n,i){super(new Int32Array(e),n,i)}}class TA extends Ot{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class fpe extends Ot{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Sd(this.array[e*this.itemSize]);return this.normalized&&(n=Ii(n,this.array)),n}setX(e,n){return this.normalized&&(n=_t(n,this.array)),this.array[e*this.itemSize]=Vi(n),this}getY(e){let n=Sd(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ii(n,this.array)),n}setY(e,n){return this.normalized&&(n=_t(n,this.array)),this.array[e*this.itemSize+1]=Vi(n),this}getZ(e){let n=Sd(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ii(n,this.array)),n}setZ(e,n){return this.normalized&&(n=_t(n,this.array)),this.array[e*this.itemSize+2]=Vi(n),this}getW(e){let n=Sd(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ii(n,this.array)),n}setW(e,n){return this.normalized&&(n=_t(n,this.array)),this.array[e*this.itemSize+3]=Vi(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=_t(n,this.array),i=_t(i,this.array)),this.array[e+0]=Vi(n),this.array[e+1]=Vi(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=_t(n,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.array[e+0]=Vi(n),this.array[e+1]=Vi(i),this.array[e+2]=Vi(r),this}setXYZW(e,n,i,r,o){return e*=this.itemSize,this.normalized&&(n=_t(n,this.array),i=_t(i,this.array),r=_t(r,this.array),o=_t(o,this.array)),this.array[e+0]=Vi(n),this.array[e+1]=Vi(i),this.array[e+2]=Vi(r),this.array[e+3]=Vi(o),this}}class Xe extends Ot{constructor(e,n,i){super(new Float32Array(e),n,i)}}let hpe=0;const Lr=new et,KS=new At,zu=new G,lr=new di,ed=new di,Vn=new G;class gt extends ua{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:hpe++}),this.uuid=br(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(f5(e)?TA:MA)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new vt().getNormalMatrix(e);i.applyNormalMatrix(o),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Lr.makeRotationFromQuaternion(e),this.applyMatrix4(Lr),this}rotateX(e){return Lr.makeRotationX(e),this.applyMatrix4(Lr),this}rotateY(e){return Lr.makeRotationY(e),this.applyMatrix4(Lr),this}rotateZ(e){return Lr.makeRotationZ(e),this.applyMatrix4(Lr),this}translate(e,n,i){return Lr.makeTranslation(e,n,i),this.applyMatrix4(Lr),this}scale(e,n,i){return Lr.makeScale(e,n,i),this.applyMatrix4(Lr),this}lookAt(e){return KS.lookAt(e),KS.updateMatrix(),this.applyMatrix4(KS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zu).negate(),this.translate(zu.x,zu.y,zu.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,o=e.length;r<o;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Xe(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const o=e[r];n.setXYZ(r,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new di);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const o=n[i];lr.setFromBufferAttribute(o),this.morphTargetsRelative?(Vn.addVectors(this.boundingBox.min,lr.min),this.boundingBox.expandByPoint(Vn),Vn.addVectors(this.boundingBox.max,lr.max),this.boundingBox.expandByPoint(Vn)):(this.boundingBox.expandByPoint(lr.min),this.boundingBox.expandByPoint(lr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ti);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new G,1/0);return}if(e){const i=this.boundingSphere.center;if(lr.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];ed.setFromBufferAttribute(s),this.morphTargetsRelative?(Vn.addVectors(lr.min,ed.min),lr.expandByPoint(Vn),Vn.addVectors(lr.max,ed.max),lr.expandByPoint(Vn)):(lr.expandByPoint(ed.min),lr.expandByPoint(ed.max))}lr.getCenter(i);let r=0;for(let o=0,a=e.count;o<a;o++)Vn.fromBufferAttribute(e,o),r=Math.max(r,i.distanceToSquared(Vn));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)Vn.fromBufferAttribute(s,c),l&&(zu.fromBufferAttribute(e,c),Vn.add(zu)),r=Math.max(r,i.distanceToSquared(Vn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ot(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),s=[],l=[];for(let C=0;C<i.count;C++)s[C]=new G,l[C]=new G;const c=new G,u=new G,f=new G,h=new be,d=new be,p=new be,g=new G,v=new G;function m(C,M,w){c.fromBufferAttribute(i,C),u.fromBufferAttribute(i,M),f.fromBufferAttribute(i,w),h.fromBufferAttribute(o,C),d.fromBufferAttribute(o,M),p.fromBufferAttribute(o,w),u.sub(c),f.sub(c),d.sub(h),p.sub(h);const A=1/(d.x*p.y-p.x*d.y);isFinite(A)&&(g.copy(u).multiplyScalar(p.y).addScaledVector(f,-d.y).multiplyScalar(A),v.copy(f).multiplyScalar(d.x).addScaledVector(u,-p.x).multiplyScalar(A),s[C].add(g),s[M].add(g),s[w].add(g),l[C].add(v),l[M].add(v),l[w].add(v))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let C=0,M=y.length;C<M;++C){const w=y[C],A=w.start,P=w.count;for(let R=A,L=A+P;R<L;R+=3)m(e.getX(R+0),e.getX(R+1),e.getX(R+2))}const _=new G,b=new G,T=new G,x=new G;function S(C){T.fromBufferAttribute(r,C),x.copy(T);const M=s[C];_.copy(M),_.sub(T.multiplyScalar(T.dot(M))).normalize(),b.crossVectors(x,M);const A=b.dot(l[C])<0?-1:1;a.setXYZW(C,_.x,_.y,_.z,A)}for(let C=0,M=y.length;C<M;++C){const w=y[C],A=w.start,P=w.count;for(let R=A,L=A+P;R<L;R+=3)S(e.getX(R+0)),S(e.getX(R+1)),S(e.getX(R+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Ot(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let h=0,d=i.count;h<d;h++)i.setXYZ(h,0,0,0);const r=new G,o=new G,a=new G,s=new G,l=new G,c=new G,u=new G,f=new G;if(e)for(let h=0,d=e.count;h<d;h+=3){const p=e.getX(h+0),g=e.getX(h+1),v=e.getX(h+2);r.fromBufferAttribute(n,p),o.fromBufferAttribute(n,g),a.fromBufferAttribute(n,v),u.subVectors(a,o),f.subVectors(r,o),u.cross(f),s.fromBufferAttribute(i,p),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,v),s.add(u),l.add(u),c.add(u),i.setXYZ(p,s.x,s.y,s.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(v,c.x,c.y,c.z)}else for(let h=0,d=n.count;h<d;h+=3)r.fromBufferAttribute(n,h+0),o.fromBufferAttribute(n,h+1),a.fromBufferAttribute(n,h+2),u.subVectors(a,o),f.subVectors(r,o),u.cross(f),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Vn.fromBufferAttribute(e,n),Vn.normalize(),e.setXYZ(n,Vn.x,Vn.y,Vn.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,f=s.normalized,h=new c.constructor(l.length*u);let d=0,p=0;for(let g=0,v=l.length;g<v;g++){s.isInterleavedBufferAttribute?d=l[g]*s.data.stride+s.offset:d=l[g]*u;for(let m=0;m<u;m++)h[p++]=c[d++]}return new Ot(h,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new gt,i=this.index.array,r=this.attributes;for(const s in r){const l=r[s],c=e(l,i);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let u=0,f=c.length;u<f;u++){const h=c[u],d=e(h,i);l.push(d)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f];u.push(d.toJSON(e.data))}u.length>0&&(r[l]=u,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],f=o[c];for(let h=0,d=f.length;h<d;h++)u.push(f[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const jO=new et,kl=new lu,Hv=new ti,YO=new G,Vv=new G,Gv=new G,Wv=new G,ZS=new G,Xv=new G,qO=new G,jv=new G;class yn extends At{constructor(e=new gt,n=new vr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const s=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,o=i.morphAttributes.position,a=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const s=this.morphTargetInfluences;if(o&&s){Xv.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=s[l],f=o[l];u!==0&&(ZS.fromBufferAttribute(f,e),a?Xv.addScaledVector(ZS,u):Xv.addScaledVector(ZS.sub(n),u))}n.add(Xv)}return n}raycast(e,n){const i=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Hv.copy(i.boundingSphere),Hv.applyMatrix4(o),kl.copy(e.ray).recast(e.near),!(Hv.containsPoint(kl.origin)===!1&&(kl.intersectSphere(Hv,YO)===null||kl.origin.distanceToSquared(YO)>(e.far-e.near)**2))&&(jO.copy(o).invert(),kl.copy(e.ray).applyMatrix4(jO),!(i.boundingBox!==null&&kl.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,kl)))}_computeIntersections(e,n,i){let r;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,f=o.attributes.normal,h=o.groups,d=o.drawRange;if(s!==null)if(Array.isArray(a))for(let p=0,g=h.length;p<g;p++){const v=h[p],m=a[v.materialIndex],y=Math.max(v.start,d.start),_=Math.min(s.count,Math.min(v.start+v.count,d.start+d.count));for(let b=y,T=_;b<T;b+=3){const x=s.getX(b),S=s.getX(b+1),C=s.getX(b+2);r=Yv(this,m,e,i,c,u,f,x,S,C),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=v.materialIndex,n.push(r))}}else{const p=Math.max(0,d.start),g=Math.min(s.count,d.start+d.count);for(let v=p,m=g;v<m;v+=3){const y=s.getX(v),_=s.getX(v+1),b=s.getX(v+2);r=Yv(this,a,e,i,c,u,f,y,_,b),r&&(r.faceIndex=Math.floor(v/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let p=0,g=h.length;p<g;p++){const v=h[p],m=a[v.materialIndex],y=Math.max(v.start,d.start),_=Math.min(l.count,Math.min(v.start+v.count,d.start+d.count));for(let b=y,T=_;b<T;b+=3){const x=b,S=b+1,C=b+2;r=Yv(this,m,e,i,c,u,f,x,S,C),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=v.materialIndex,n.push(r))}}else{const p=Math.max(0,d.start),g=Math.min(l.count,d.start+d.count);for(let v=p,m=g;v<m;v+=3){const y=v,_=v+1,b=v+2;r=Yv(this,a,e,i,c,u,f,y,_,b),r&&(r.faceIndex=Math.floor(v/3),n.push(r))}}}}function dpe(t,e,n,i,r,o,a,s){let l;if(e.side===Ni?l=i.intersectTriangle(a,o,r,!0,s):l=i.intersectTriangle(r,o,a,e.side===ta,s),l===null)return null;jv.copy(s),jv.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(jv);return c<n.near||c>n.far?null:{distance:c,point:jv.clone(),object:t}}function Yv(t,e,n,i,r,o,a,s,l,c){t.getVertexPosition(s,Vv),t.getVertexPosition(l,Gv),t.getVertexPosition(c,Wv);const u=dpe(t,e,n,i,Vv,Gv,Wv,qO);if(u){const f=new G;qi.getBarycoord(qO,Vv,Gv,Wv,f),r&&(u.uv=qi.getInterpolatedAttribute(r,s,l,c,f,new be)),o&&(u.uv1=qi.getInterpolatedAttribute(o,s,l,c,f,new be)),a&&(u.normal=qi.getInterpolatedAttribute(a,s,l,c,f,new G),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const h={a:s,b:l,c,normal:new G,materialIndex:0};qi.getNormal(Vv,Gv,Wv,h.normal),u.face=h,u.barycoord=f}return u}class cu extends gt{constructor(e=1,n=1,i=1,r=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:a};const s=this;r=Math.floor(r),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],u=[],f=[];let h=0,d=0;p("z","y","x",-1,-1,i,n,e,a,o,0),p("z","y","x",1,-1,i,n,-e,a,o,1),p("x","z","y",1,1,e,i,n,r,a,2),p("x","z","y",1,-1,e,i,-n,r,a,3),p("x","y","z",1,-1,e,n,i,r,o,4),p("x","y","z",-1,-1,e,n,-i,r,o,5),this.setIndex(l),this.setAttribute("position",new Xe(c,3)),this.setAttribute("normal",new Xe(u,3)),this.setAttribute("uv",new Xe(f,2));function p(g,v,m,y,_,b,T,x,S,C,M){const w=b/S,A=T/C,P=b/2,R=T/2,L=x/2,E=S+1,O=C+1;let $=0,H=0;const V=new G;for(let Y=0;Y<O;Y++){const ae=Y*A-R;for(let oe=0;oe<E;oe++){const xe=oe*w-P;V[g]=xe*y,V[v]=ae*_,V[m]=L,c.push(V.x,V.y,V.z),V[g]=0,V[v]=0,V[m]=x>0?1:-1,u.push(V.x,V.y,V.z),f.push(oe/S),f.push(1-Y/C),$+=1}}for(let Y=0;Y<C;Y++)for(let ae=0;ae<S;ae++){const oe=h+ae+E*Y,xe=h+ae+E*(Y+1),Z=h+(ae+1)+E*(Y+1),ve=h+(ae+1)+E*Y;l.push(oe,xe,ve),l.push(xe,Z,ve),H+=6}s.addGroup(d,H,M),d+=H,h+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function eh(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function _i(t){const e={};for(let n=0;n<t.length;n++){const i=eh(t[n]);for(const r in i)e[r]=i[r]}return e}function ppe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function v5(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:wt.workingColorSpace}const g5={clone:eh,merge:_i};var mpe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,vpe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Mo extends Bn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=mpe,this.fragmentShader=vpe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=eh(e.uniforms),this.uniformsGroups=ppe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?n.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[r]={type:"m4",value:a.toArray()}:n.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class ab extends At{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new et,this.projectionMatrix=new et,this.projectionMatrixInverse=new et,this.coordinateSystem=jo}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ys=new G,KO=new be,ZO=new be;class On extends ab{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Qf*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Pc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Qf*2*Math.atan(Math.tan(Pc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){ys.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ys.x,ys.y).multiplyScalar(-e/ys.z),ys.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(ys.x,ys.y).multiplyScalar(-e/ys.z)}getViewSize(e,n){return this.getViewBounds(e,KO,ZO),n.subVectors(ZO,KO)}setViewOffset(e,n,i,r,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Pc*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,o=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*r/l,n-=a.offsetY*i/c,r*=a.width/l,i*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ku=-90,$u=1;class y5 extends At{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new On(ku,$u,e,n);r.layers=this.layers,this.add(r);const o=new On(ku,$u,e,n);o.layers=this.layers,this.add(o);const a=new On(ku,$u,e,n);a.layers=this.layers,this.add(a);const s=new On(ku,$u,e,n);s.layers=this.layers,this.add(s);const l=new On(ku,$u,e,n);l.layers=this.layers,this.add(l);const c=new On(ku,$u,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===jo)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Wp)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,u]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const g=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,o),e.setRenderTarget(i,1,r),e.render(n,a),e.setRenderTarget(i,2,r),e.render(n,s),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=g,e.setRenderTarget(i,5,r),e.render(n,u),e.setRenderTarget(f,h,d),e.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class dm extends un{constructor(e,n,i,r,o,a,s,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:ja,super(e,n,i,r,o,a,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class _5 extends wo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new dm(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:sn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new cu(5,5,5),o=new Mo({name:"CubemapFromEquirect",uniforms:eh(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ni,blending:ka});o.uniforms.tEquirect.value=n;const a=new yn(r,o),s=n.minFilter;return n.minFilter===Wr&&(n.minFilter=sn),new y5(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,i,r){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,i,r);e.setRenderTarget(o)}}class sb{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Oe(e),this.density=n}clone(){return new sb(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class pm{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new Oe(e),this.near=n,this.far=i}clone(){return new pm(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class CA extends At{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Mr,this.environmentIntensity=1,this.environmentRotation=new Mr,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class mm{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Gp,this.updateRanges=[],this.version=0,this.uuid=br()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=br()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=br()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const vi=new G;class Ks{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)vi.fromBufferAttribute(this,n),vi.applyMatrix4(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)vi.fromBufferAttribute(this,n),vi.applyNormalMatrix(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)vi.fromBufferAttribute(this,n),vi.transformDirection(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=Ii(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=_t(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=_t(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=_t(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=_t(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=_t(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ii(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ii(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ii(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ii(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=_t(n,this.array),i=_t(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=_t(n,this.array),i=_t(i,this.array),r=_t(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=_t(n,this.array),i=_t(i,this.array),r=_t(r,this.array),o=_t(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[r+o])}return new Ot(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ks(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class AA extends Bn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Hu;const td=new G,Vu=new G,Gu=new G,Wu=new be,nd=new be,b5=new et,qv=new G,id=new G,Kv=new G,JO=new be,JS=new be,QO=new be;class x5 extends At{constructor(e=new AA){if(super(),this.isSprite=!0,this.type="Sprite",Hu===void 0){Hu=new gt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new mm(n,5);Hu.setIndex([0,1,2,0,2,3]),Hu.setAttribute("position",new Ks(i,3,0,!1)),Hu.setAttribute("uv",new Ks(i,2,3,!1))}this.geometry=Hu,this.material=e,this.center=new be(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Vu.setFromMatrixScale(this.matrixWorld),b5.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Gu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Vu.multiplyScalar(-Gu.z);const i=this.material.rotation;let r,o;i!==0&&(o=Math.cos(i),r=Math.sin(i));const a=this.center;Zv(qv.set(-.5,-.5,0),Gu,a,Vu,r,o),Zv(id.set(.5,-.5,0),Gu,a,Vu,r,o),Zv(Kv.set(.5,.5,0),Gu,a,Vu,r,o),JO.set(0,0),JS.set(1,0),QO.set(1,1);let s=e.ray.intersectTriangle(qv,id,Kv,!1,td);if(s===null&&(Zv(id.set(-.5,.5,0),Gu,a,Vu,r,o),JS.set(0,1),s=e.ray.intersectTriangle(qv,Kv,id,!1,td),s===null))return;const l=e.ray.origin.distanceTo(td);l<e.near||l>e.far||n.push({distance:l,point:td.clone(),uv:qi.getInterpolation(td,qv,id,Kv,JO,JS,QO,new be),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Zv(t,e,n,i,r,o){Wu.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(nd.x=o*Wu.x-r*Wu.y,nd.y=r*Wu.x+o*Wu.y):nd.copy(Wu),t.copy(e),t.x+=nd.x,t.y+=nd.y,t.applyMatrix4(b5)}const Jv=new G,eL=new G;class S5 extends At{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const o=n[i];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let o;for(o=0;o<r.length&&!(n<r[o].distance);o++);return r.splice(o,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const r=n.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),e<o)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){Jv.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Jv);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Jv.setFromMatrixPosition(e.matrixWorld),eL.setFromMatrixPosition(this.matrixWorld);const i=Jv.distanceTo(eL)/e.zoom;n[0].object.visible=!0;let r,o;for(r=1,o=n.length;r<o;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),i>=a)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<o;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,o=i.length;r<o;r++){const a=i[r];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const tL=new G,nL=new Rt,iL=new Rt,gpe=new G,rL=new et,Qv=new G,QS=new ti,oL=new et,e1=new lu;class EA extends yn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=TM,this.bindMatrix=new et,this.bindMatrixInverse=new et,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new di),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Qv),this.boundingBox.expandByPoint(Qv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ti),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,Qv),this.boundingSphere.expandByPoint(Qv)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),QS.copy(this.boundingSphere),QS.applyMatrix4(r),e.ray.intersectsSphere(QS)!==!1&&(oL.copy(r).invert(),e1.copy(e.ray).applyMatrix4(oL),!(this.boundingBox!==null&&e1.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,e1)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Rt,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===TM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===KH?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;nL.fromBufferAttribute(r.attributes.skinIndex,e),iL.fromBufferAttribute(r.attributes.skinWeight,e),tL.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=iL.getComponent(o);if(a!==0){const s=nL.getComponent(o);rL.multiplyMatrices(i.bones[s].matrixWorld,i.boneInverses[s]),n.addScaledVector(gpe.copy(tL).applyMatrix4(rL),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class lb extends At{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ko extends un{constructor(e=null,n=1,i=1,r,o,a,s,l,c=Fn,u=Fn,f,h){super(null,a,s,l,c,u,r,o,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const aL=new et,ype=new et;class vm{constructor(e=[],n=[]){this.uuid=br(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new et)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new et;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:ype;aL.multiplyMatrices(s,n[o]),aL.toArray(i,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new vm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Ko(n,e,e,Ri,Qn);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const o=e.bones[i];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new lb),this.bones.push(a),this.boneInverses.push(new et().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,o=n.length;r<o;r++){const a=n[r];e.bones.push(a.uuid);const s=i[r];e.boneInverses.push(s.toArray())}return e}}class Yc extends Ot{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Xu=new et,sL=new et,eg=[],lL=new di,_pe=new et,rd=new yn,od=new ti;class PA extends yn{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Yc(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,_pe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new di),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Xu),lL.copy(e.boundingBox).applyMatrix4(Xu),this.boundingBox.union(lL)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ti),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Xu),od.copy(e.boundingSphere).applyMatrix4(Xu),this.boundingSphere.union(od)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,o=i.length+1,a=e*o+1;for(let s=0;s<i.length;s++)i[s]=r[a+s]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(rd.geometry=this.geometry,rd.material=this.material,rd.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),od.copy(this.boundingSphere),od.applyMatrix4(i),e.ray.intersectsSphere(od)!==!1))for(let o=0;o<r;o++){this.getMatrixAt(o,Xu),sL.multiplyMatrices(i,Xu),rd.matrixWorld=sL,rd.raycast(e,eg);for(let a=0,s=eg.length;a<s;a++){const l=eg[a];l.instanceId=o,l.object=this,n.push(l)}eg.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Yc(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Ko(new Float32Array(r*this.count),r,this.count,eb,Qn));const o=this.morphTexture.source.data.data;let a=0;for(let c=0;c<i.length;c++)a+=i[c];const s=this.geometry.morphTargetsRelative?1:1-a,l=r*e;o[l]=s,o.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const t1=new G,bpe=new G,xpe=new vt;class Pa{constructor(e=new G(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=t1.subVectors(i,n).cross(bpe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(t1),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:n.copy(e.start).addScaledVector(i,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||xpe.getNormalMatrix(e),r=this.coplanarPoint(t1).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const $l=new ti,tg=new G;class gm{constructor(e=new Pa,n=new Pa,i=new Pa,r=new Pa,o=new Pa,a=new Pa){this.planes=[e,n,i,r,o,a]}set(e,n,i,r,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(i),s[3].copy(r),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=jo){const i=this.planes,r=e.elements,o=r[0],a=r[1],s=r[2],l=r[3],c=r[4],u=r[5],f=r[6],h=r[7],d=r[8],p=r[9],g=r[10],v=r[11],m=r[12],y=r[13],_=r[14],b=r[15];if(i[0].setComponents(l-o,h-c,v-d,b-m).normalize(),i[1].setComponents(l+o,h+c,v+d,b+m).normalize(),i[2].setComponents(l+a,h+u,v+p,b+y).normalize(),i[3].setComponents(l-a,h-u,v-p,b-y).normalize(),i[4].setComponents(l-s,h-f,v-g,b-_).normalize(),n===jo)i[5].setComponents(l+s,h+f,v+g,b+_).normalize();else if(n===Wp)i[5].setComponents(s,f,g,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),$l.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),$l.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere($l)}intersectsSprite(e){return $l.center.set(0,0,0),$l.radius=.7071067811865476,$l.applyMatrix4(e.matrixWorld),this.intersectsSphere($l)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(tg.x=r.normal.x>0?e.max.x:e.min.x,tg.y=r.normal.y>0?e.max.y:e.min.y,tg.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(tg)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function n1(t,e){return t-e}function Spe(t,e){return t.z-e.z}function wpe(t,e){return e.z-t.z}class Mpe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,r){const o=this.pool,a=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const s=o[this.index];a.push(s),this.index++,s.start=e,s.count=n,s.z=i,s.index=r}reset(){this.list.length=0,this.index=0}}const $i=new et,Tpe=new Oe(1,1,1),i1=new gm,ng=new di,Hl=new ti,ad=new G,cL=new G,Cpe=new G,r1=new Mpe,li=new yn,ig=[];function Ape(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let o=0;o<r;o++)for(let a=0;a<i;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function Vl(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class w5 extends yn{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,n,i=n*2,r){super(new gt,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Ko(n,e,e,Ri,Qn);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Ko(n,e,e,hm,Ya);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Ko(n,e,e,Ri,Qn);i.colorSpace=wt.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const a=e.getAttribute(o),{array:s,itemSize:l,normalized:c}=a,u=new s.constructor(i*l),f=new Ot(u,l,c);n.setAttribute(o,f)}if(e.getIndex()!==null){const o=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new Ot(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),o=n.getAttribute(i);if(r.itemSize!==o.itemSize||r.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new di);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const o=n[i].geometryIndex;this.getMatrixAt(i,$i),this.getBoundingBoxAt(o,ng).applyMatrix4($i),e.union(ng)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ti);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const o=n[i].geometryIndex;this.getMatrixAt(i,$i),this.getBoundingSphereAt(o,Hl).applyMatrix4($i),e.union(Hl)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(n1),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const o=this._matricesTexture;$i.identity().toArray(o.image.data,r*16),o.needsUpdate=!0;const a=this._colorsTexture;return a&&(Tpe.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(n1),l=this._availableGeometryIds.shift(),o[l]=r):(l=this._geometryCount,this._geometryCount++,o.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,o=i.getIndex(),a=n.getIndex(),s=this._geometryInfo[e];if(r&&a.count>s.reservedIndexCount||n.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,c=s.reservedVertexCount;s.vertexCount=n.getAttribute("position").count;for(const u in i.attributes){const f=n.getAttribute(u),h=i.getAttribute(u);Ape(f,h,l);const d=f.itemSize;for(let p=f.count,g=c;p<g;p++){const v=l+p;for(let m=0;m<d;m++)h.setComponent(v,m,0)}h.needsUpdate=!0,h.addUpdateRange(l*d,c*d)}if(r){const u=s.indexStart,f=s.reservedIndexCount;s.indexCount=n.getIndex().count;for(let h=0;h<a.count;h++)o.setX(u+h,l+a.getX(h));for(let h=a.count,d=f;h<d;h++)o.setX(u+h,l);o.needsUpdate=!0,o.addUpdateRange(u,s.reservedIndexCount)}return s.start=r?s.indexStart:s.vertexStart,s.count=r?s.indexCount:s.vertexCount,s.boundingBox=null,n.boundingBox!==null&&(s.boundingBox=n.boundingBox.clone()),s.boundingSphere=null,n.boundingSphere!==null&&(s.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,o=i.length;r<o;r++)i[r].geometryIndex===e&&this.deleteInstance(r);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,r=i.map((a,s)=>s).sort((a,s)=>i[a].vertexStart-i[s].vertexStart),o=this.geometry;for(let a=0,s=i.length;a<s;a++){const l=r[a],c=i[l];if(c.active!==!1){if(o.index!==null){if(c.indexStart!==n){const{indexStart:u,vertexStart:f,reservedIndexCount:h}=c,d=o.index,p=d.array,g=e-f;for(let v=u;v<u+h;v++)p[v]=p[v]+g;d.array.copyWithin(n,u,u+h),d.addUpdateRange(n,h),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:f}=c,h=o.attributes;for(const d in h){const p=h[d],{array:g,itemSize:v}=p;g.copyWithin(e*v,u*v,(u+f)*v),p.addUpdateRange(e*v,f*v)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=o.index?c.indexStart:c.vertexStart,this._nextIndexStart=o.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const o=new di,a=i.index,s=i.attributes.position;for(let l=r.start,c=r.start+r.count;l<c;l++){let u=l;a&&(u=a.getX(u)),o.expandByPoint(ad.fromBufferAttribute(s,u))}r.boundingBox=o}return n.copy(r.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const o=new ti;this.getBoundingBoxAt(e,ng),ng.getCenter(o.center);const a=i.index,s=i.attributes.position;let l=0;for(let c=r.start,u=r.start+r.count;c<u;c++){let f=c;a&&(f=a.getX(f)),ad.fromBufferAttribute(s,f),l=Math.max(l,o.center.distanceToSquared(ad))}o.radius=Math.sqrt(l),r.boundingSphere=o}return n.copy(r.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return n.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(n1);n[n.length-1]===i.length;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),o=new Int32Array(e);Vl(this._multiDrawCounts,r),Vl(this._multiDrawStarts,o),this._multiDrawCounts=r,this._multiDrawStarts=o,this._maxInstanceCount=e;const a=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Vl(a.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Vl(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Vl(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...i.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new gt,this._initializeGeometry(o));const a=this.geometry;o.index&&Vl(o.index.array,a.index.array);for(const s in o.attributes)Vl(o.attributes[s].array,a.attributes[s].array)}raycast(e,n){const i=this._instanceInfo,r=this._geometryInfo,o=this.matrixWorld,a=this.geometry;li.material=this.material,li.geometry.index=a.index,li.geometry.attributes=a.attributes,li.geometry.boundingBox===null&&(li.geometry.boundingBox=new di),li.geometry.boundingSphere===null&&(li.geometry.boundingSphere=new ti);for(let s=0,l=i.length;s<l;s++){if(!i[s].visible||!i[s].active)continue;const c=i[s].geometryIndex,u=r[c];li.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(s,li.matrixWorld).premultiply(o),this.getBoundingBoxAt(c,li.geometry.boundingBox),this.getBoundingSphereAt(c,li.geometry.boundingSphere),li.raycast(e,ig);for(let f=0,h=ig.length;f<h;f++){const d=ig[f];d.object=this,d.batchId=s,n.push(d)}ig.length=0}li.material=null,li.geometry.index=null,li.geometry.attributes={},li.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,i,r,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,d=this._indirectTexture,p=d.image.data;h&&($i.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),i1.setFromProjectionMatrix($i,e.coordinateSystem));let g=0;if(this.sortObjects){$i.copy(this.matrixWorld).invert(),ad.setFromMatrixPosition(i.matrixWorld).applyMatrix4($i),cL.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection($i);for(let y=0,_=l.length;y<_;y++)if(l[y].visible&&l[y].active){const b=l[y].geometryIndex;this.getMatrixAt(y,$i),this.getBoundingSphereAt(b,Hl).applyMatrix4($i);let T=!1;if(h&&(T=!i1.intersectsSphere(Hl)),!T){const x=f[b],S=Cpe.subVectors(Hl.center,ad).dot(cL);r1.push(x.start,x.count,S,y)}}const v=r1.list,m=this.customSort;m===null?v.sort(o.transparent?wpe:Spe):m.call(this,v,i);for(let y=0,_=v.length;y<_;y++){const b=v[y];c[g]=b.start*s,u[g]=b.count,p[g]=b.index,g++}r1.reset()}else for(let v=0,m=l.length;v<m;v++)if(l[v].visible&&l[v].active){const y=l[v].geometryIndex;let _=!1;if(h&&(this.getMatrixAt(v,$i),this.getBoundingSphereAt(y,Hl).applyMatrix4($i),_=!i1.intersectsSphere(Hl)),!_){const b=f[y];c[g]=b.start*s,u[g]=b.count,p[g]=v,g++}}d.needsUpdate=!0,this._multiDrawCount=g,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,o,a){this.onBeforeRender(e,null,r,o,a)}}class ii extends Bn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Oe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ky=new G,$y=new G,uL=new et,sd=new lu,rg=new ti,o1=new G,fL=new G;class qa extends At{constructor(e=new gt,n=new ii){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,o=n.count;r<o;r++)ky.fromBufferAttribute(n,r-1),$y.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=ky.distanceTo($y);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),rg.copy(i.boundingSphere),rg.applyMatrix4(r),rg.radius+=o,e.ray.intersectsSphere(rg)===!1)return;uL.copy(r).invert(),sd.copy(e.ray).applyMatrix4(uL);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=this.isLineSegments?2:1,u=i.index,h=i.attributes.position;if(u!==null){const d=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);for(let g=d,v=p-1;g<v;g+=c){const m=u.getX(g),y=u.getX(g+1),_=og(this,e,sd,l,m,y);_&&n.push(_)}if(this.isLineLoop){const g=u.getX(p-1),v=u.getX(d),m=og(this,e,sd,l,g,v);m&&n.push(m)}}else{const d=Math.max(0,a.start),p=Math.min(h.count,a.start+a.count);for(let g=d,v=p-1;g<v;g+=c){const m=og(this,e,sd,l,g,g+1);m&&n.push(m)}if(this.isLineLoop){const g=og(this,e,sd,l,p-1,d);g&&n.push(g)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const s=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function og(t,e,n,i,r,o){const a=t.geometry.attributes.position;if(ky.fromBufferAttribute(a,r),$y.fromBufferAttribute(a,o),n.distanceSqToSegment(ky,$y,o1,fL)>i)return;o1.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(o1);if(!(l<e.near||l>e.far))return{distance:l,point:fL.clone().applyMatrix4(t.matrixWorld),index:r,face:null,faceIndex:null,barycoord:null,object:t}}const hL=new G,dL=new G;class Qr extends qa{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,o=n.count;r<o;r+=2)hL.fromBufferAttribute(n,r),dL.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+hL.distanceTo(dL);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class IA extends qa{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class cb extends Bn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const pL=new et,EM=new lu,ag=new ti,sg=new G;class RA extends At{constructor(e=new gt,n=new cb){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),ag.copy(i.boundingSphere),ag.applyMatrix4(r),ag.radius+=o,e.ray.intersectsSphere(ag)===!1)return;pL.copy(r).invert(),EM.copy(e.ray).applyMatrix4(pL);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=i.index,f=i.attributes.position;if(c!==null){const h=Math.max(0,a.start),d=Math.min(c.count,a.start+a.count);for(let p=h,g=d;p<g;p++){const v=c.getX(p);sg.fromBufferAttribute(f,v),mL(sg,v,l,r,e,n,this)}}else{const h=Math.max(0,a.start),d=Math.min(f.count,a.start+a.count);for(let p=h,g=d;p<g;p++)sg.fromBufferAttribute(f,p),mL(sg,p,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const s=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function mL(t,e,n,i,r,o,a){const s=EM.distanceSqToPoint(t);if(s<n){const l=new G;EM.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}let Fa=class extends At{constructor(){super(),this.isGroup=!0,this.type="Group"}};class Epe extends un{constructor(e,n,i,r,o,a,s,l,c){super(e,n,i,r,o,a,s,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:sn,this.magFilter=o!==void 0?o:sn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ppe extends un{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Fn,this.minFilter=Fn,this.generateMipmaps=!1,this.needsUpdate=!0}}class ub extends un{constructor(e,n,i,r,o,a,s,l,c,u,f,h){super(null,a,s,l,c,u,r,o,f,h),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Ipe extends ub{constructor(e,n,i,r,o,a){super(e,n,i,o,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=mr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Rpe extends ub{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,ja),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Dpe extends un{constructor(e,n,i,r,o,a,s,l,c){super(e,n,i,r,o,a,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class DA extends un{constructor(e,n,i,r,o,a,s,l,c,u=Ec){if(u!==Ec&&u!==jc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===Ec&&(i=Ya),i===void 0&&u===jc&&(i=Xc),super(null,r,o,a,s,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:Fn,this.minFilter=l!==void 0?l:Fn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Ao{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),o+=i.distanceTo(r),n.push(o),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const o=i.length;let a;n?a=n:a=e*i[o-1];let s=0,l=o-1,c;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),c=i[r]-a,c<0)s=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(o-1);const u=i[r],h=i[r+1]-u,d=(a-u)/h;return(r+d)/(o-1)}getTangent(e,n){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const a=this.getPoint(r),s=this.getPoint(o),l=n||(a.isVector2?new be:new G);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new G,r=[],o=[],a=[],s=new G,l=new et;for(let d=0;d<=e;d++){const p=d/e;r[d]=this.getTangentAt(p,new G)}o[0]=new G,a[0]=new G;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),f<=c&&(c=f,i.set(0,1,0)),h<=c&&i.set(0,0,1),s.crossVectors(r[0],i).normalize(),o[0].crossVectors(r[0],s),a[0].crossVectors(r[0],o[0]);for(let d=1;d<=e;d++){if(o[d]=o[d-1].clone(),a[d]=a[d-1].clone(),s.crossVectors(r[d-1],r[d]),s.length()>Number.EPSILON){s.normalize();const p=Math.acos(ht(r[d-1].dot(r[d]),-1,1));o[d].applyMatrix4(l.makeRotationAxis(s,p))}a[d].crossVectors(r[d],o[d])}if(n===!0){let d=Math.acos(ht(o[0].dot(o[e]),-1,1));d/=e,r[0].dot(s.crossVectors(o[0],o[e]))>0&&(d=-d);for(let p=1;p<=e;p++)o[p].applyMatrix4(l.makeRotationAxis(r[p],d*p)),a[p].crossVectors(r[p],o[p])}return{tangents:r,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class fb extends Ao{constructor(e=0,n=0,i=1,r=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new be){const i=n,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(a?o=0:o=r),this.aClockwise===!0&&!a&&(o===r?o=-r:o=o-r);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=c-this.aY;l=h*u-d*f+this.aX,c=h*f+d*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class M5 extends fb{constructor(e,n,i,r,o,a){super(e,n,i,i,r,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function OA(){let t=0,e=0,n=0,i=0;function r(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,i=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){r(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,u,f){let h=(a-o)/c-(s-o)/(c+u)+(s-a)/u,d=(s-a)/u-(l-a)/(u+f)+(l-s)/f;h*=u,d*=u,r(a,s,h,d)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+i*s}}}const lg=new G,a1=new OA,s1=new OA,l1=new OA;class T5 extends Ao{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new G){const i=n,r=this.points,o=r.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,u;this.closed||s>0?c=r[(s-1)%o]:(lg.subVectors(r[0],r[1]).add(r[0]),c=lg);const f=r[s%o],h=r[(s+1)%o];if(this.closed||s+2<o?u=r[(s+2)%o]:(lg.subVectors(r[o-1],r[o-2]).add(r[o-1]),u=lg),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(f),d),g=Math.pow(f.distanceToSquared(h),d),v=Math.pow(h.distanceToSquared(u),d);g<1e-4&&(g=1),p<1e-4&&(p=g),v<1e-4&&(v=g),a1.initNonuniformCatmullRom(c.x,f.x,h.x,u.x,p,g,v),s1.initNonuniformCatmullRom(c.y,f.y,h.y,u.y,p,g,v),l1.initNonuniformCatmullRom(c.z,f.z,h.z,u.z,p,g,v)}else this.curveType==="catmullrom"&&(a1.initCatmullRom(c.x,f.x,h.x,u.x,this.tension),s1.initCatmullRom(c.y,f.y,h.y,u.y,this.tension),l1.initCatmullRom(c.z,f.z,h.z,u.z,this.tension));return i.set(a1.calc(l),s1.calc(l),l1.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new G().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function vL(t,e,n,i,r){const o=(i-e)*.5,a=(r-n)*.5,s=t*t,l=t*s;return(2*n-2*i+o+a)*l+(-3*n+3*i-2*o-a)*s+o*t+n}function Ope(t,e){const n=1-t;return n*n*e}function Lpe(t,e){return 2*(1-t)*t*e}function Npe(t,e){return t*t*e}function ip(t,e,n,i){return Ope(t,e)+Lpe(t,n)+Npe(t,i)}function Fpe(t,e){const n=1-t;return n*n*n*e}function Bpe(t,e){const n=1-t;return 3*n*n*t*e}function Upe(t,e){return 3*(1-t)*t*t*e}function zpe(t,e){return t*t*t*e}function rp(t,e,n,i,r){return Fpe(t,e)+Bpe(t,n)+Upe(t,i)+zpe(t,r)}class LA extends Ao{constructor(e=new be,n=new be,i=new be,r=new be){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new be){const i=n,r=this.v0,o=this.v1,a=this.v2,s=this.v3;return i.set(rp(e,r.x,o.x,a.x,s.x),rp(e,r.y,o.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class C5 extends Ao{constructor(e=new G,n=new G,i=new G,r=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new G){const i=n,r=this.v0,o=this.v1,a=this.v2,s=this.v3;return i.set(rp(e,r.x,o.x,a.x,s.x),rp(e,r.y,o.y,a.y,s.y),rp(e,r.z,o.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class NA extends Ao{constructor(e=new be,n=new be){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new be){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new be){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class A5 extends Ao{constructor(e=new G,n=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new G){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new G){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FA extends Ao{constructor(e=new be,n=new be,i=new be){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new be){const i=n,r=this.v0,o=this.v1,a=this.v2;return i.set(ip(e,r.x,o.x,a.x),ip(e,r.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BA extends Ao{constructor(e=new G,n=new G,i=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new G){const i=n,r=this.v0,o=this.v1,a=this.v2;return i.set(ip(e,r.x,o.x,a.x),ip(e,r.y,o.y,a.y),ip(e,r.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UA extends Ao{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new be){const i=n,r=this.points,o=(r.length-1)*e,a=Math.floor(o),s=o-a,l=r[a===0?a:a-1],c=r[a],u=r[a>r.length-2?r.length-1:a+1],f=r[a>r.length-3?r.length-1:a+2];return i.set(vL(s,l.x,c.x,u.x,f.x),vL(s,l.y,c.y,u.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new be().fromArray(r))}return this}}var Hy=Object.freeze({__proto__:null,ArcCurve:M5,CatmullRomCurve3:T5,CubicBezierCurve:LA,CubicBezierCurve3:C5,EllipseCurve:fb,LineCurve:NA,LineCurve3:A5,QuadraticBezierCurve:FA,QuadraticBezierCurve3:BA,SplineCurve:UA});class E5 extends Ao{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Hy[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=i){const a=r[o]-i,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,o=this.curves;r<o.length;r++){const a=o[r],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(n.push(u),i=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new Hy[r.type]().fromJSON(r))}return this}}class jp extends E5{constructor(e){super(),this.type="Path",this.currentPoint=new be,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new NA(this.currentPoint.clone(),new be(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const o=new FA(this.currentPoint.clone(),new be(e,n),new be(i,r));return this.curves.push(o),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,o,a){const s=new LA(this.currentPoint.clone(),new be(e,n),new be(i,r),new be(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new UA(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,i,r,o,a),this}absarc(e,n,i,r,o,a){return this.absellipse(e,n,i,i,r,o,a),this}ellipse(e,n,i,r,o,a,s,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,i,r,o,a,s,l),this}absellipse(e,n,i,r,o,a,s,l){const c=new fb(e,n,i,r,o,a,s,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ym extends gt{constructor(e=[new be(0,-.5),new be(.5,0),new be(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=ht(r,0,Math.PI*2);const o=[],a=[],s=[],l=[],c=[],u=1/n,f=new G,h=new be,d=new G,p=new G,g=new G;let v=0,m=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:v=e[y+1].x-e[y].x,m=e[y+1].y-e[y].y,d.x=m*1,d.y=-v,d.z=m*0,g.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:v=e[y+1].x-e[y].x,m=e[y+1].y-e[y].y,d.x=m*1,d.y=-v,d.z=m*0,p.copy(d),d.x+=g.x,d.y+=g.y,d.z+=g.z,d.normalize(),l.push(d.x,d.y,d.z),g.copy(p)}for(let y=0;y<=n;y++){const _=i+y*u*r,b=Math.sin(_),T=Math.cos(_);for(let x=0;x<=e.length-1;x++){f.x=e[x].x*b,f.y=e[x].y,f.z=e[x].x*T,a.push(f.x,f.y,f.z),h.x=y/n,h.y=x/(e.length-1),s.push(h.x,h.y);const S=l[3*x+0]*b,C=l[3*x+1],M=l[3*x+0]*T;c.push(S,C,M)}}for(let y=0;y<n;y++)for(let _=0;_<e.length-1;_++){const b=_+y*e.length,T=b,x=b+e.length,S=b+e.length+1,C=b+1;o.push(T,x,C),o.push(S,C,x)}this.setIndex(o),this.setAttribute("position",new Xe(a,3)),this.setAttribute("uv",new Xe(s,2)),this.setAttribute("normal",new Xe(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ym(e.points,e.segments,e.phiStart,e.phiLength)}}class hb extends ym{constructor(e=1,n=1,i=4,r=8){const o=new jp;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:i,radialSegments:r}}static fromJSON(e){return new hb(e.radius,e.length,e.capSegments,e.radialSegments)}}class db extends gt{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const o=[],a=[],s=[],l=[],c=new G,u=new be;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const d=i+f/n*r;c.x=e*Math.cos(d),c.y=e*Math.sin(d),a.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(a[h]/e+1)/2,u.y=(a[h+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new Xe(a,3)),this.setAttribute("normal",new Xe(s,3)),this.setAttribute("uv",new Xe(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new db(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class gh extends gt{constructor(e=1,n=1,i=1,r=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;r=Math.floor(r),o=Math.floor(o);const u=[],f=[],h=[],d=[];let p=0;const g=[],v=i/2;let m=0;y(),a===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new Xe(f,3)),this.setAttribute("normal",new Xe(h,3)),this.setAttribute("uv",new Xe(d,2));function y(){const b=new G,T=new G;let x=0;const S=(n-e)/i;for(let C=0;C<=o;C++){const M=[],w=C/o,A=w*(n-e)+e;for(let P=0;P<=r;P++){const R=P/r,L=R*l+s,E=Math.sin(L),O=Math.cos(L);T.x=A*E,T.y=-w*i+v,T.z=A*O,f.push(T.x,T.y,T.z),b.set(E,S,O).normalize(),h.push(b.x,b.y,b.z),d.push(R,1-w),M.push(p++)}g.push(M)}for(let C=0;C<r;C++)for(let M=0;M<o;M++){const w=g[M][C],A=g[M+1][C],P=g[M+1][C+1],R=g[M][C+1];(e>0||M!==0)&&(u.push(w,A,R),x+=3),(n>0||M!==o-1)&&(u.push(A,P,R),x+=3)}c.addGroup(m,x,0),m+=x}function _(b){const T=p,x=new be,S=new G;let C=0;const M=b===!0?e:n,w=b===!0?1:-1;for(let P=1;P<=r;P++)f.push(0,v*w,0),h.push(0,w,0),d.push(.5,.5),p++;const A=p;for(let P=0;P<=r;P++){const L=P/r*l+s,E=Math.cos(L),O=Math.sin(L);S.x=M*O,S.y=v*w,S.z=M*E,f.push(S.x,S.y,S.z),h.push(0,w,0),x.x=E*.5+.5,x.y=O*.5*w+.5,d.push(x.x,x.y),p++}for(let P=0;P<r;P++){const R=T+P,L=A+P;b===!0?u.push(L,L+1,R):u.push(L+1,L,R),C+=3}c.addGroup(m,C,b===!0?1:2),m+=C}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pb extends gh{constructor(e=1,n=1,i=32,r=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,i,r,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new pb(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class al extends gt{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const o=[],a=[];s(r),c(i),u(),this.setAttribute("position",new Xe(o,3)),this.setAttribute("normal",new Xe(o.slice(),3)),this.setAttribute("uv",new Xe(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function s(y){const _=new G,b=new G,T=new G;for(let x=0;x<n.length;x+=3)d(n[x+0],_),d(n[x+1],b),d(n[x+2],T),l(_,b,T,y)}function l(y,_,b,T){const x=T+1,S=[];for(let C=0;C<=x;C++){S[C]=[];const M=y.clone().lerp(b,C/x),w=_.clone().lerp(b,C/x),A=x-C;for(let P=0;P<=A;P++)P===0&&C===x?S[C][P]=M:S[C][P]=M.clone().lerp(w,P/A)}for(let C=0;C<x;C++)for(let M=0;M<2*(x-C)-1;M++){const w=Math.floor(M/2);M%2===0?(h(S[C][w+1]),h(S[C+1][w]),h(S[C][w])):(h(S[C][w+1]),h(S[C+1][w+1]),h(S[C+1][w]))}}function c(y){const _=new G;for(let b=0;b<o.length;b+=3)_.x=o[b+0],_.y=o[b+1],_.z=o[b+2],_.normalize().multiplyScalar(y),o[b+0]=_.x,o[b+1]=_.y,o[b+2]=_.z}function u(){const y=new G;for(let _=0;_<o.length;_+=3){y.x=o[_+0],y.y=o[_+1],y.z=o[_+2];const b=v(y)/2/Math.PI+.5,T=m(y)/Math.PI+.5;a.push(b,1-T)}p(),f()}function f(){for(let y=0;y<a.length;y+=6){const _=a[y+0],b=a[y+2],T=a[y+4],x=Math.max(_,b,T),S=Math.min(_,b,T);x>.9&&S<.1&&(_<.2&&(a[y+0]+=1),b<.2&&(a[y+2]+=1),T<.2&&(a[y+4]+=1))}}function h(y){o.push(y.x,y.y,y.z)}function d(y,_){const b=y*3;_.x=e[b+0],_.y=e[b+1],_.z=e[b+2]}function p(){const y=new G,_=new G,b=new G,T=new G,x=new be,S=new be,C=new be;for(let M=0,w=0;M<o.length;M+=9,w+=6){y.set(o[M+0],o[M+1],o[M+2]),_.set(o[M+3],o[M+4],o[M+5]),b.set(o[M+6],o[M+7],o[M+8]),x.set(a[w+0],a[w+1]),S.set(a[w+2],a[w+3]),C.set(a[w+4],a[w+5]),T.copy(y).add(_).add(b).divideScalar(3);const A=v(T);g(x,w+0,y,A),g(S,w+2,_,A),g(C,w+4,b,A)}}function g(y,_,b,T){T<0&&y.x===1&&(a[_]=y.x-1),b.x===0&&b.z===0&&(a[_]=T/2/Math.PI+.5)}function v(y){return Math.atan2(y.z,-y.x)}function m(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new al(e.vertices,e.indices,e.radius,e.details)}}class mb extends al{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new mb(e.radius,e.detail)}}const cg=new G,ug=new G,c1=new G,fg=new qi;class zA extends gt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),o=Math.cos(Pc*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),h={},d=[];for(let p=0;p<l;p+=3){a?(c[0]=a.getX(p),c[1]=a.getX(p+1),c[2]=a.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:g,b:v,c:m}=fg;if(g.fromBufferAttribute(s,c[0]),v.fromBufferAttribute(s,c[1]),m.fromBufferAttribute(s,c[2]),fg.getNormal(c1),f[0]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,f[1]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,f[2]=`${Math.round(m.x*r)},${Math.round(m.y*r)},${Math.round(m.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let y=0;y<3;y++){const _=(y+1)%3,b=f[y],T=f[_],x=fg[u[y]],S=fg[u[_]],C=`${b}_${T}`,M=`${T}_${b}`;M in h&&h[M]?(c1.dot(h[M].normal)<=o&&(d.push(x.x,x.y,x.z),d.push(S.x,S.y,S.z)),h[M]=null):C in h||(h[C]={index0:c[y],index1:c[_],normal:c1.clone()})}}for(const p in h)if(h[p]){const{index0:g,index1:v}=h[p];cg.fromBufferAttribute(s,g),ug.fromBufferAttribute(s,v),d.push(cg.x,cg.y,cg.z),d.push(ug.x,ug.y,ug.z)}this.setAttribute("position",new Xe(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Ic extends jp{constructor(e){super(e),this.uuid=br(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new jp().fromJSON(r))}return this}}const kpe={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let o=P5(t,0,r,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,f,h,d;if(i&&(o=Wpe(t,e,o,n)),t.length>80*n){s=c=t[0],l=u=t[1];for(let p=n;p<r;p+=n)f=t[p],h=t[p+1],f<s&&(s=f),h<l&&(l=h),f>c&&(c=f),h>u&&(u=h);d=Math.max(c-s,u-l),d=d!==0?32767/d:0}return Yp(o,a,n,s,l,d,0),a}};function P5(t,e,n,i,r){let o,a;if(r===nme(t,e,n,i)>0)for(o=e;o<n;o+=i)a=gL(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=gL(o,t[o],t[o+1],a);return a&&vb(a,a.next)&&(Kp(a),a=a.next),a}function qc(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(vb(n,n.next)||hn(n.prev,n,n.next)===0)){if(Kp(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function Yp(t,e,n,i,r,o,a){if(!t)return;!a&&o&&Kpe(t,i,r,o);let s=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?Hpe(t,i,r,o):$pe(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Kp(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=Vpe(qc(t),e,n),Yp(t,e,n,i,r,o,2)):a===2&&Gpe(t,e,n,i,r,o):Yp(qc(t),e,n,i,r,o,1);break}}}function $pe(t){const e=t.prev,n=t,i=t.next;if(hn(e,n,i)>=0)return!1;const r=e.x,o=n.x,a=i.x,s=e.y,l=n.y,c=i.y,u=r<o?r<a?r:a:o<a?o:a,f=s<l?s<c?s:c:l<c?l:c,h=r>o?r>a?r:a:o>a?o:a,d=s>l?s>c?s:c:l>c?l:c;let p=i.next;for(;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=f&&p.y<=d&&ff(r,s,o,l,a,c,p.x,p.y)&&hn(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Hpe(t,e,n,i){const r=t.prev,o=t,a=t.next;if(hn(r,o,a)>=0)return!1;const s=r.x,l=o.x,c=a.x,u=r.y,f=o.y,h=a.y,d=s<l?s<c?s:c:l<c?l:c,p=u<f?u<h?u:h:f<h?f:h,g=s>l?s>c?s:c:l>c?l:c,v=u>f?u>h?u:h:f>h?f:h,m=PM(d,p,e,n,i),y=PM(g,v,e,n,i);let _=t.prevZ,b=t.nextZ;for(;_&&_.z>=m&&b&&b.z<=y;){if(_.x>=d&&_.x<=g&&_.y>=p&&_.y<=v&&_!==r&&_!==a&&ff(s,u,l,f,c,h,_.x,_.y)&&hn(_.prev,_,_.next)>=0||(_=_.prevZ,b.x>=d&&b.x<=g&&b.y>=p&&b.y<=v&&b!==r&&b!==a&&ff(s,u,l,f,c,h,b.x,b.y)&&hn(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;_&&_.z>=m;){if(_.x>=d&&_.x<=g&&_.y>=p&&_.y<=v&&_!==r&&_!==a&&ff(s,u,l,f,c,h,_.x,_.y)&&hn(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=y;){if(b.x>=d&&b.x<=g&&b.y>=p&&b.y<=v&&b!==r&&b!==a&&ff(s,u,l,f,c,h,b.x,b.y)&&hn(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Vpe(t,e,n){let i=t;do{const r=i.prev,o=i.next.next;!vb(r,o)&&I5(r,i,i.next,o)&&qp(r,o)&&qp(o,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(o.i/n|0),Kp(i),Kp(i.next),i=t=o),i=i.next}while(i!==t);return qc(i)}function Gpe(t,e,n,i,r,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&Qpe(a,s)){let l=R5(a,s);a=qc(a,a.next),l=qc(l,l.next),Yp(a,e,n,i,r,o,0),Yp(l,e,n,i,r,o,0);return}s=s.next}a=a.next}while(a!==t)}function Wpe(t,e,n,i){const r=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*i,l=o<a-1?e[o+1]*i:t.length,c=P5(t,s,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Jpe(c));for(r.sort(Xpe),o=0;o<r.length;o++)n=jpe(r[o],n);return n}function Xpe(t,e){return t.x-e.x}function jpe(t,e){const n=Ype(t,e);if(!n)return e;const i=R5(n,t);return qc(i,i.next),qc(n,n.next)}function Ype(t,e){let n=e,i=-1/0,r;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const h=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=o&&h>i&&(i=h,r=n.x<n.next.x?n:n.next,h===o))return r}n=n.next}while(n!==e);if(!r)return null;const s=r,l=r.x,c=r.y;let u=1/0,f;n=r;do o>=n.x&&n.x>=l&&o!==n.x&&ff(a<c?o:i,a,l,c,a<c?i:o,a,n.x,n.y)&&(f=Math.abs(a-n.y)/(o-n.x),qp(n,t)&&(f<u||f===u&&(n.x>r.x||n.x===r.x&&qpe(r,n)))&&(r=n,u=f)),n=n.next;while(n!==s);return r}function qpe(t,e){return hn(t.prev,t,e.prev)<0&&hn(e.next,t,t.next)<0}function Kpe(t,e,n,i){let r=t;do r.z===0&&(r.z=PM(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,Zpe(r)}function Zpe(t){let e,n,i,r,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<c&&(s++,i=i.nextZ,!!i);e++);for(l=c;s>0||l>0&&i;)s!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(a>1);return t}function PM(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Jpe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ff(t,e,n,i,r,o,a,s){return(r-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(i-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(r-a)*(i-s)}function Qpe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!eme(t,e)&&(qp(t,e)&&qp(e,t)&&tme(t,e)&&(hn(t.prev,t,e.prev)||hn(t,e.prev,e))||vb(t,e)&&hn(t.prev,t,t.next)>0&&hn(e.prev,e,e.next)>0)}function hn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function vb(t,e){return t.x===e.x&&t.y===e.y}function I5(t,e,n,i){const r=dg(hn(t,e,n)),o=dg(hn(t,e,i)),a=dg(hn(n,i,t)),s=dg(hn(n,i,e));return!!(r!==o&&a!==s||r===0&&hg(t,n,e)||o===0&&hg(t,i,e)||a===0&&hg(n,t,i)||s===0&&hg(n,e,i))}function hg(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function dg(t){return t>0?1:t<0?-1:0}function eme(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&I5(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function qp(t,e){return hn(t.prev,t,t.next)<0?hn(t,e,t.next)>=0&&hn(t,t.prev,e)>=0:hn(t,e,t.prev)<0||hn(t,t.next,e)<0}function tme(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function R5(t,e){const n=new IM(t.i,t.x,t.y),i=new IM(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function gL(t,e,n,i){const r=new IM(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Kp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function IM(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function nme(t,e,n,i){let r=0;for(let o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}class Zo{static area(e){const n=e.length;let i=0;for(let r=n-1,o=0;o<n;r=o++)i+=e[r].x*e[o].y-e[o].x*e[r].y;return i*.5}static isClockWise(e){return Zo.area(e)<0}static triangulateShape(e,n){const i=[],r=[],o=[];yL(e),_L(i,e);let a=e.length;n.forEach(yL);for(let l=0;l<n.length;l++)r.push(a),a+=n[l].length,_L(i,n[l]);const s=kpe.triangulate(i,r);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function yL(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function _L(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class gb extends gt{constructor(e=new Ic([new be(.5,.5),new be(-.5,.5),new be(-.5,-.5),new be(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new Xe(r,3)),this.setAttribute("uv",new Xe(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,d=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:d-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const m=n.extrudePath,y=n.UVGenerator!==void 0?n.UVGenerator:ime;let _,b=!1,T,x,S,C;m&&(_=m.getSpacedPoints(u),b=!0,h=!1,T=m.computeFrenetFrames(u,!1),x=new G,S=new G,C=new G),h||(v=0,d=0,p=0,g=0);const M=s.extractPoints(c);let w=M.shape;const A=M.holes;if(!Zo.isClockWise(w)){w=w.reverse();for(let D=0,U=A.length;D<U;D++){const I=A[D];Zo.isClockWise(I)&&(A[D]=I.reverse())}}const R=Zo.triangulateShape(w,A),L=w;for(let D=0,U=A.length;D<U;D++){const I=A[D];w=w.concat(I)}function E(D,U,I){return U||console.error("THREE.ExtrudeGeometry: vec does not exist"),D.clone().addScaledVector(U,I)}const O=w.length,$=R.length;function H(D,U,I){let K,X,te;const ee=D.x-U.x,fe=D.y-U.y,le=I.x-D.x,F=I.y-D.y,N=ee*ee+fe*fe,j=ee*F-fe*le;if(Math.abs(j)>Number.EPSILON){const re=Math.sqrt(N),he=Math.sqrt(le*le+F*F),ue=U.x-fe/re,Ee=U.y+ee/re,Me=I.x-F/he,Re=I.y+le/he,Ze=((Me-ue)*F-(Re-Ee)*le)/(ee*F-fe*le);K=ue+ee*Ze-D.x,X=Ee+fe*Ze-D.y;const Te=K*K+X*X;if(Te<=2)return new be(K,X);te=Math.sqrt(Te/2)}else{let re=!1;ee>Number.EPSILON?le>Number.EPSILON&&(re=!0):ee<-Number.EPSILON?le<-Number.EPSILON&&(re=!0):Math.sign(fe)===Math.sign(F)&&(re=!0),re?(K=-fe,X=ee,te=Math.sqrt(N)):(K=ee,X=fe,te=Math.sqrt(N/2))}return new be(K/te,X/te)}const V=[];for(let D=0,U=L.length,I=U-1,K=D+1;D<U;D++,I++,K++)I===U&&(I=0),K===U&&(K=0),V[D]=H(L[D],L[I],L[K]);const Y=[];let ae,oe=V.concat();for(let D=0,U=A.length;D<U;D++){const I=A[D];ae=[];for(let K=0,X=I.length,te=X-1,ee=K+1;K<X;K++,te++,ee++)te===X&&(te=0),ee===X&&(ee=0),ae[K]=H(I[K],I[te],I[ee]);Y.push(ae),oe=oe.concat(ae)}for(let D=0;D<v;D++){const U=D/v,I=d*Math.cos(U*Math.PI/2),K=p*Math.sin(U*Math.PI/2)+g;for(let X=0,te=L.length;X<te;X++){const ee=E(L[X],V[X],K);ge(ee.x,ee.y,-I)}for(let X=0,te=A.length;X<te;X++){const ee=A[X];ae=Y[X];for(let fe=0,le=ee.length;fe<le;fe++){const F=E(ee[fe],ae[fe],K);ge(F.x,F.y,-I)}}}const xe=p+g;for(let D=0;D<O;D++){const U=h?E(w[D],oe[D],xe):w[D];b?(S.copy(T.normals[0]).multiplyScalar(U.x),x.copy(T.binormals[0]).multiplyScalar(U.y),C.copy(_[0]).add(S).add(x),ge(C.x,C.y,C.z)):ge(U.x,U.y,0)}for(let D=1;D<=u;D++)for(let U=0;U<O;U++){const I=h?E(w[U],oe[U],xe):w[U];b?(S.copy(T.normals[D]).multiplyScalar(I.x),x.copy(T.binormals[D]).multiplyScalar(I.y),C.copy(_[D]).add(S).add(x),ge(C.x,C.y,C.z)):ge(I.x,I.y,f/u*D)}for(let D=v-1;D>=0;D--){const U=D/v,I=d*Math.cos(U*Math.PI/2),K=p*Math.sin(U*Math.PI/2)+g;for(let X=0,te=L.length;X<te;X++){const ee=E(L[X],V[X],K);ge(ee.x,ee.y,f+I)}for(let X=0,te=A.length;X<te;X++){const ee=A[X];ae=Y[X];for(let fe=0,le=ee.length;fe<le;fe++){const F=E(ee[fe],ae[fe],K);b?ge(F.x,F.y+_[u-1].y,_[u-1].x+I):ge(F.x,F.y,f+I)}}}Z(),ve();function Z(){const D=r.length/3;if(h){let U=0,I=O*U;for(let K=0;K<$;K++){const X=R[K];Ce(X[2]+I,X[1]+I,X[0]+I)}U=u+v*2,I=O*U;for(let K=0;K<$;K++){const X=R[K];Ce(X[0]+I,X[1]+I,X[2]+I)}}else{for(let U=0;U<$;U++){const I=R[U];Ce(I[2],I[1],I[0])}for(let U=0;U<$;U++){const I=R[U];Ce(I[0]+O*u,I[1]+O*u,I[2]+O*u)}}i.addGroup(D,r.length/3-D,0)}function ve(){const D=r.length/3;let U=0;ye(L,U),U+=L.length;for(let I=0,K=A.length;I<K;I++){const X=A[I];ye(X,U),U+=X.length}i.addGroup(D,r.length/3-D,1)}function ye(D,U){let I=D.length;for(;--I>=0;){const K=I;let X=I-1;X<0&&(X=D.length-1);for(let te=0,ee=u+v*2;te<ee;te++){const fe=O*te,le=O*(te+1),F=U+K+fe,N=U+X+fe,j=U+X+le,re=U+K+le;ce(F,N,j,re)}}}function ge(D,U,I){l.push(D),l.push(U),l.push(I)}function Ce(D,U,I){J(D),J(U),J(I);const K=r.length/3,X=y.generateTopUV(i,r,K-3,K-2,K-1);Q(X[0]),Q(X[1]),Q(X[2])}function ce(D,U,I,K){J(D),J(U),J(K),J(U),J(I),J(K);const X=r.length/3,te=y.generateSideWallUV(i,r,X-6,X-3,X-2,X-1);Q(te[0]),Q(te[1]),Q(te[3]),Q(te[1]),Q(te[2]),Q(te[3])}function J(D){r.push(l[D*3+0]),r.push(l[D*3+1]),r.push(l[D*3+2])}function Q(D){o.push(D.x),o.push(D.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return rme(n,i,e)}static fromJSON(e,n){const i=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];i.push(s)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Hy[r.type]().fromJSON(r)),new gb(i,e.options)}}const ime={generateTopUV:function(t,e,n,i,r){const o=e[n*3],a=e[n*3+1],s=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new be(o,a),new be(s,l),new be(c,u)]},generateSideWallUV:function(t,e,n,i,r,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[i*3],u=e[i*3+1],f=e[i*3+2],h=e[r*3],d=e[r*3+1],p=e[r*3+2],g=e[o*3],v=e[o*3+1],m=e[o*3+2];return Math.abs(s-u)<Math.abs(a-c)?[new be(a,1-l),new be(c,1-f),new be(h,1-p),new be(g,1-m)]:[new be(s,1-l),new be(u,1-f),new be(d,1-p),new be(v,1-m)]}};function rme(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const o=t[i];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class yb extends al{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new yb(e.radius,e.detail)}}class _m extends al{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _m(e.radius,e.detail)}}class uu extends gt{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const o=e/2,a=n/2,s=Math.floor(i),l=Math.floor(r),c=s+1,u=l+1,f=e/s,h=n/l,d=[],p=[],g=[],v=[];for(let m=0;m<u;m++){const y=m*h-a;for(let _=0;_<c;_++){const b=_*f-o;p.push(b,-y,0),g.push(0,0,1),v.push(_/s),v.push(1-m/l)}}for(let m=0;m<l;m++)for(let y=0;y<s;y++){const _=y+c*m,b=y+c*(m+1),T=y+1+c*(m+1),x=y+1+c*m;d.push(_,b,x),d.push(b,T,x)}this.setIndex(d),this.setAttribute("position",new Xe(p,3)),this.setAttribute("normal",new Xe(g,3)),this.setAttribute("uv",new Xe(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uu(e.width,e.height,e.widthSegments,e.heightSegments)}}class _b extends gt{constructor(e=.5,n=1,i=32,r=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:o,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const s=[],l=[],c=[],u=[];let f=e;const h=(n-e)/r,d=new G,p=new be;for(let g=0;g<=r;g++){for(let v=0;v<=i;v++){const m=o+v/i*a;d.x=f*Math.cos(m),d.y=f*Math.sin(m),l.push(d.x,d.y,d.z),c.push(0,0,1),p.x=(d.x/n+1)/2,p.y=(d.y/n+1)/2,u.push(p.x,p.y)}f+=h}for(let g=0;g<r;g++){const v=g*(i+1);for(let m=0;m<i;m++){const y=m+v,_=y,b=y+i+1,T=y+i+2,x=y+1;s.push(_,b,x),s.push(b,T,x)}}this.setIndex(s),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(c,3)),this.setAttribute("uv",new Xe(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _b(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class bb extends gt{constructor(e=new Ic([new be(0,.5),new be(-.5,-.5),new be(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(i),this.setAttribute("position",new Xe(r,3)),this.setAttribute("normal",new Xe(o,3)),this.setAttribute("uv",new Xe(a,2));function c(u){const f=r.length/3,h=u.extractPoints(n);let d=h.shape;const p=h.holes;Zo.isClockWise(d)===!1&&(d=d.reverse());for(let v=0,m=p.length;v<m;v++){const y=p[v];Zo.isClockWise(y)===!0&&(p[v]=y.reverse())}const g=Zo.triangulateShape(d,p);for(let v=0,m=p.length;v<m;v++){const y=p[v];d=d.concat(y)}for(let v=0,m=d.length;v<m;v++){const y=d[v];r.push(y.x,y.y,0),o.push(0,0,1),a.push(y.x,y.y)}for(let v=0,m=g.length;v<m;v++){const y=g[v],_=y[0]+f,b=y[1]+f,T=y[2]+f;i.push(_,b,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return ome(n,e)}static fromJSON(e,n){const i=[];for(let r=0,o=e.shapes.length;r<o;r++){const a=n[e.shapes[r]];i.push(a)}return new bb(i,e.curveSegments)}}function ome(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class bm extends gt{constructor(e=1,n=32,i=16,r=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(a+s,Math.PI);let c=0;const u=[],f=new G,h=new G,d=[],p=[],g=[],v=[];for(let m=0;m<=i;m++){const y=[],_=m/i;let b=0;m===0&&a===0?b=.5/n:m===i&&l===Math.PI&&(b=-.5/n);for(let T=0;T<=n;T++){const x=T/n;f.x=-e*Math.cos(r+x*o)*Math.sin(a+_*s),f.y=e*Math.cos(a+_*s),f.z=e*Math.sin(r+x*o)*Math.sin(a+_*s),p.push(f.x,f.y,f.z),h.copy(f).normalize(),g.push(h.x,h.y,h.z),v.push(x+b,1-_),y.push(c++)}u.push(y)}for(let m=0;m<i;m++)for(let y=0;y<n;y++){const _=u[m][y+1],b=u[m][y],T=u[m+1][y],x=u[m+1][y+1];(m!==0||a>0)&&d.push(_,b,x),(m!==i-1||l<Math.PI)&&d.push(b,T,x)}this.setIndex(d),this.setAttribute("position",new Xe(p,3)),this.setAttribute("normal",new Xe(g,3)),this.setAttribute("uv",new Xe(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class xb extends al{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new xb(e.radius,e.detail)}}class Sb extends gt{constructor(e=1,n=.4,i=12,r=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:o},i=Math.floor(i),r=Math.floor(r);const a=[],s=[],l=[],c=[],u=new G,f=new G,h=new G;for(let d=0;d<=i;d++)for(let p=0;p<=r;p++){const g=p/r*o,v=d/i*Math.PI*2;f.x=(e+n*Math.cos(v))*Math.cos(g),f.y=(e+n*Math.cos(v))*Math.sin(g),f.z=n*Math.sin(v),s.push(f.x,f.y,f.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),h.subVectors(f,u).normalize(),l.push(h.x,h.y,h.z),c.push(p/r),c.push(d/i)}for(let d=1;d<=i;d++)for(let p=1;p<=r;p++){const g=(r+1)*d+p-1,v=(r+1)*(d-1)+p-1,m=(r+1)*(d-1)+p,y=(r+1)*d+p;a.push(g,v,y),a.push(v,m,y)}this.setIndex(a),this.setAttribute("position",new Xe(s,3)),this.setAttribute("normal",new Xe(l,3)),this.setAttribute("uv",new Xe(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class wb extends gt{constructor(e=1,n=.4,i=64,r=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:o,q:a},i=Math.floor(i),r=Math.floor(r);const s=[],l=[],c=[],u=[],f=new G,h=new G,d=new G,p=new G,g=new G,v=new G,m=new G;for(let _=0;_<=i;++_){const b=_/i*o*Math.PI*2;y(b,o,a,e,d),y(b+.01,o,a,e,p),v.subVectors(p,d),m.addVectors(p,d),g.crossVectors(v,m),m.crossVectors(g,v),g.normalize(),m.normalize();for(let T=0;T<=r;++T){const x=T/r*Math.PI*2,S=-n*Math.cos(x),C=n*Math.sin(x);f.x=d.x+(S*m.x+C*g.x),f.y=d.y+(S*m.y+C*g.y),f.z=d.z+(S*m.z+C*g.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),c.push(h.x,h.y,h.z),u.push(_/i),u.push(T/r)}}for(let _=1;_<=i;_++)for(let b=1;b<=r;b++){const T=(r+1)*(_-1)+(b-1),x=(r+1)*_+(b-1),S=(r+1)*_+b,C=(r+1)*(_-1)+b;s.push(T,x,C),s.push(x,S,C)}this.setIndex(s),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(c,3)),this.setAttribute("uv",new Xe(u,2));function y(_,b,T,x,S){const C=Math.cos(_),M=Math.sin(_),w=T/b*_,A=Math.cos(w);S.x=x*(2+A)*.5*C,S.y=x*(2+A)*M*.5,S.z=x*Math.sin(w)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Mb extends gt{constructor(e=new BA(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),n=64,i=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new G,l=new G,c=new be;let u=new G;const f=[],h=[],d=[],p=[];g(),this.setIndex(p),this.setAttribute("position",new Xe(f,3)),this.setAttribute("normal",new Xe(h,3)),this.setAttribute("uv",new Xe(d,2));function g(){for(let _=0;_<n;_++)v(_);v(o===!1?n:0),y(),m()}function v(_){u=e.getPointAt(_/n,u);const b=a.normals[_],T=a.binormals[_];for(let x=0;x<=r;x++){const S=x/r*Math.PI*2,C=Math.sin(S),M=-Math.cos(S);l.x=M*b.x+C*T.x,l.y=M*b.y+C*T.y,l.z=M*b.z+C*T.z,l.normalize(),h.push(l.x,l.y,l.z),s.x=u.x+i*l.x,s.y=u.y+i*l.y,s.z=u.z+i*l.z,f.push(s.x,s.y,s.z)}}function m(){for(let _=1;_<=n;_++)for(let b=1;b<=r;b++){const T=(r+1)*(_-1)+(b-1),x=(r+1)*_+(b-1),S=(r+1)*_+b,C=(r+1)*(_-1)+b;p.push(T,x,C),p.push(x,S,C)}}function y(){for(let _=0;_<=n;_++)for(let b=0;b<=r;b++)c.x=_/n,c.y=b/r,d.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Mb(new Hy[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class D5 extends gt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new G,o=new G;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],h=f.start,d=f.count;for(let p=h,g=h+d;p<g;p+=3)for(let v=0;v<3;v++){const m=s.getX(p+v),y=s.getX(p+(v+1)%3);r.fromBufferAttribute(a,m),o.fromBufferAttribute(a,y),bL(r,o,i)===!0&&(n.push(r.x,r.y,r.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const u=3*s+c,f=3*s+(c+1)%3;r.fromBufferAttribute(a,u),o.fromBufferAttribute(a,f),bL(r,o,i)===!0&&(n.push(r.x,r.y,r.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Xe(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function bL(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var xL=Object.freeze({__proto__:null,BoxGeometry:cu,CapsuleGeometry:hb,CircleGeometry:db,ConeGeometry:pb,CylinderGeometry:gh,DodecahedronGeometry:mb,EdgesGeometry:zA,ExtrudeGeometry:gb,IcosahedronGeometry:yb,LatheGeometry:ym,OctahedronGeometry:_m,PlaneGeometry:uu,PolyhedronGeometry:al,RingGeometry:_b,ShapeGeometry:bb,SphereGeometry:bm,TetrahedronGeometry:xb,TorusGeometry:Sb,TorusKnotGeometry:wb,TubeGeometry:Mb,WireframeGeometry:D5});class O5 extends Bn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Oe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class L5 extends Mo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class xm extends Bn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Oe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ol,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mr,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eo extends xm{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new be(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ht(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Oe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Oe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Oe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class N5 extends Bn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Oe(16777215),this.specular=new Oe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ol,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mr,this.combine=fm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class F5 extends Bn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Oe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ol,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class B5 extends Bn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ol,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class U5 extends Bn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ol,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Mr,this.combine=fm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kA extends Bn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=t5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class $A extends Bn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class HA extends Bn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Oe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ol,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class z5 extends ii{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function gc(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function k5(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $5(t){function e(r,o){return t[r]-t[o]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function RM(t,e,n){const i=t.length,r=new t.constructor(i);for(let o=0,a=0;a!==i;++o){const s=n[o]*e;for(let l=0;l!==e;++l)r[a++]=t[s+l]}return r}function VA(t,e,n,i){let r=1,o=t[0];for(;o!==void 0&&o[i]===void 0;)o=t[r++];if(o===void 0)return;let a=o[i];if(a!==void 0)if(Array.isArray(a))do a=o[i],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[r++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[i],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[r++];while(o!==void 0);else do a=o[i],a!==void 0&&(e.push(o.time),n.push(a)),o=t[r++];while(o!==void 0)}function ame(t,e,n,i,r=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),f=[],h=[];for(let d=0;d<c.times.length;++d){const p=c.times[d]*r;if(!(p<n||p>=i)){f.push(c.times[d]);for(let g=0;g<u;++g)h.push(c.values[d*u+g])}}f.length!==0&&(c.times=gc(f,c.times.constructor),c.values=gc(h,c.values.constructor),a.push(c))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function sme(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,o=e/i;for(let a=0;a<r;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(m){return m.name===s.name&&m.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let h=0;const d=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const p=s.times.length-1;let g;if(o<=s.times[0]){const m=u,y=f-u;g=s.values.slice(m,y)}else if(o>=s.times[p]){const m=p*f+u,y=m+f-u;g=s.values.slice(m,y)}else{const m=s.createInterpolant(),y=u,_=f-u;m.evaluate(o),g=m.resultBuffer.slice(y,_)}l==="quaternion"&&new Wn().fromArray(g).normalize().conjugate().toArray(g);const v=c.times.length;for(let m=0;m<v;++m){const y=m*d+h;if(l==="quaternion")Wn.multiplyQuaternionsFlat(c.values,y,g,0,c.values,y);else{const _=d-h*2;for(let b=0;b<_;++b)c.values[y+b]-=g[b]}}}return t.blendMode=yA,t}const lme={convertArray:gc,isTypedArray:k5,getKeyframeOrder:$5,sortedArray:RM,flattenJSON:VA,subclip:ame,makeClipAdditive:sme};class yh{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],o=n[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let s=i+2;;){if(r===void 0){if(e<o)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===s)break;if(o=r,r=n[++i],e<r)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(i=2,o=s);for(let l=i-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=o,o=n[--i-1],e>=o)break t}a=i,i=0;break n}break e}for(;i<a;){const s=i+a>>>1;e<n[s]?a=s:i=s+1}if(r=n[i],o=n[i-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,r)}return this.interpolate_(i,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=e*r;for(let a=0;a!==r;++a)n[a]=i[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class H5 extends yh{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:pc,endingEnd:pc}}intervalChanged_(e,n,i){const r=this.parameterPositions;let o=e-2,a=e+1,s=r[o],l=r[a];if(s===void 0)switch(this.getSettings_().endingStart){case mc:o=e,s=2*n-i;break;case Hp:o=r.length-2,s=n+r[o]-r[o+1];break;default:o=e,s=i}if(l===void 0)switch(this.getSettings_().endingEnd){case mc:a=e,l=2*i-n;break;case Hp:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=n}const c=(i-n)*.5,u=this.valueSize;this._weightPrev=c/(n-s),this._weightNext=c/(l-i),this._offsetPrev=o*u,this._offsetNext=a*u}interpolate_(e,n,i,r){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(i-n)/(r-n),g=p*p,v=g*p,m=-h*v+2*h*g-h*p,y=(1+h)*v+(-1.5-2*h)*g+(-.5+h)*p+1,_=(-1-d)*v+(1.5+d)*g+.5*p,b=d*v-d*g;for(let T=0;T!==s;++T)o[T]=m*a[u+T]+y*a[c+T]+_*a[l+T]+b*a[f+T];return o}}class GA extends yh{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=(i-n)/(r-n),f=1-u;for(let h=0;h!==s;++h)o[h]=a[c+h]*f+a[l+h]*u;return o}}class V5 extends yh{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Eo{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=gc(n,this.TimeBufferType),this.values=gc(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:gc(e.times,Array),values:gc(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new V5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new GA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new H5(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Zf:n=this.InterpolantFactoryMethodDiscrete;break;case Jf:n=this.InterpolantFactoryMethodLinear;break;case e0:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Zf;case this.InterpolantFactoryMethodLinear:return Jf;case this.InterpolantFactoryMethodSmooth:return e0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let o=0,a=r-1;for(;o!==r&&i[o]<e;)++o;for(;a!==-1&&i[a]>n;)--a;if(++a,o!==0||a!==r){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=i.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,o=i.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=i[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(r!==void 0&&k5(r))for(let s=0,l=r.length;s!==l;++s){const c=r[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===e0,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const c=e[s],u=e[s+1];if(c!==u&&(s!==1||c!==e[0]))if(r)l=!0;else{const f=s*i,h=f-i,d=f+i;for(let p=0;p!==i;++p){const g=n[f+p];if(g!==n[h+p]||g!==n[d+p]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const f=s*i,h=a*i;for(let d=0;d!==i;++d)n[h+d]=n[f+d]}++a}}if(o>0){e[a]=e[o];for(let s=o*i,l=a*i,c=0;c!==i;++c)n[l+c]=n[s+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}Eo.prototype.TimeBufferType=Float32Array;Eo.prototype.ValueBufferType=Float32Array;Eo.prototype.DefaultInterpolation=Jf;class fu extends Eo{constructor(e,n,i){super(e,n,i)}}fu.prototype.ValueTypeName="bool";fu.prototype.ValueBufferType=Array;fu.prototype.DefaultInterpolation=Zf;fu.prototype.InterpolantFactoryMethodLinear=void 0;fu.prototype.InterpolantFactoryMethodSmooth=void 0;class WA extends Eo{}WA.prototype.ValueTypeName="color";class Kc extends Eo{}Kc.prototype.ValueTypeName="number";class G5 extends yh{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(i-n)/(r-n);let c=e*s;for(let u=c+s;c!==u;c+=4)Wn.slerpFlat(o,0,a,c-s,a,c,l);return o}}class Zc extends Eo{InterpolantFactoryMethodLinear(e){return new G5(this.times,this.values,this.getValueSize(),e)}}Zc.prototype.ValueTypeName="quaternion";Zc.prototype.InterpolantFactoryMethodSmooth=void 0;class hu extends Eo{constructor(e,n,i){super(e,n,i)}}hu.prototype.ValueTypeName="string";hu.prototype.ValueBufferType=Array;hu.prototype.DefaultInterpolation=Zf;hu.prototype.InterpolantFactoryMethodLinear=void 0;hu.prototype.InterpolantFactoryMethodSmooth=void 0;class Jc extends Eo{}Jc.prototype.ValueTypeName="vector";class th{constructor(e="",n=-1,i=[],r=ib){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=br(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,s=i.length;a!==s;++a)n.push(ume(i[a]).scale(r));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=i.length;o!==a;++o)n.push(Eo.toJSON(i[o]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],c=[];l.push((s+o-1)%o,s,(s+1)%o),c.push(0,1,0);const u=$5(l);l=RM(l,1,u),c=RM(c,1,u),!r&&l[0]===0&&(l.push(o),c.push(c[0])),a.push(new Kc(".morphTargetInfluences["+n[s].name+"]",l,c).scale(1/i))}return new this(e,-1,a)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],u=c.name.match(o);if(u&&u.length>1){const f=u[1];let h=r[f];h||(r[f]=h=[]),h.push(c)}}const a=[];for(const s in r)a.push(this.CreateFromMorphTargetSequence(s,r[s],n,i));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,h,d,p,g){if(d.length!==0){const v=[],m=[];VA(d,v,m,p),v.length!==0&&g.push(new f(h,v,m))}},r=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const h=c[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let g=0;g<h[p].morphTargets.length;g++)d[h[p].morphTargets[g]]=-1;for(const g in d){const v=[],m=[];for(let y=0;y!==h[p].morphTargets.length;++y){const _=h[p];v.push(_.time),m.push(_.morphTarget===g?1:0)}r.push(new Kc(".morphTargetInfluence["+g+"]",v,m))}l=d.length*a}else{const d=".bones["+n[f].name+"]";i(Jc,d+".position",h,"pos",r),i(Zc,d+".quaternion",h,"rot",r),i(Jc,d+".scale",h,"scl",r)}}return r.length===0?null:new this(o,l,r,s)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const o=this.tracks[i];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function cme(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Kc;case"vector":case"vector2":case"vector3":case"vector4":return Jc;case"color":return WA;case"quaternion":return Zc;case"bool":case"boolean":return fu;case"string":return hu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function ume(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=cme(t.type);if(t.times===void 0){const n=[],i=[];VA(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ba={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class XA{constructor(e,n,i){const r=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(u){s++,o===!1&&r.onStart!==void 0&&r.onStart(u,a,s),o=!0},this.itemEnd=function(u){a++,r.onProgress!==void 0&&r.onProgress(u,a,s),a===s&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=c.length;f<h;f+=2){const d=c[f],p=c[f+1];if(d.global&&(d.lastIndex=0),d.test(u))return p}return null}}}const W5=new XA;class pi{constructor(e){this.manager=e!==void 0?e:W5,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,o){i.load(e,r,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}pi.DEFAULT_MATERIAL_NAME="__DEFAULT";const wa={};class fme extends Error{constructor(e,n){super(e),this.response=n}}class Tr extends pi{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Ba.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(wa[e]!==void 0){wa[e].push({onLoad:n,onProgress:i,onError:r});return}wa[e]=[],wa[e].push({onLoad:n,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=wa[e],f=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),d=h?parseInt(h):0,p=d!==0;let g=0;const v=new ReadableStream({start(m){y();function y(){f.read().then(({done:_,value:b})=>{if(_)m.close();else{g+=b.byteLength;const T=new ProgressEvent("progress",{lengthComputable:p,loaded:g,total:d});for(let x=0,S=u.length;x<S;x++){const C=u[x];C.onProgress&&C.onProgress(T)}m.enqueue(b),y()}},_=>{m.error(_)})}}});return new Response(v)}else throw new fme(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,s));case"json":return c.json();default:if(s===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return c.arrayBuffer().then(p=>d.decode(p))}}}).then(c=>{Ba.add(e,c);const u=wa[e];delete wa[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onLoad&&d.onLoad(c)}}).catch(c=>{const u=wa[e];if(u===void 0)throw this.manager.itemError(e),c;delete wa[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onError&&d.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class hme extends pi{constructor(e){super(e)}load(e,n,i,r){const o=this,a=new Tr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=th.parse(e[i]);n.push(r)}return n}}class dme extends pi{constructor(e){super(e)}load(e,n,i,r){const o=this,a=[],s=new ub,l=new Tr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(f){l.load(e[f],function(h){const d=o.parse(h,!0);a[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},c+=1,c===6&&(d.mipmapCount===1&&(s.minFilter=sn),s.image=a,s.format=d.format,s.needsUpdate=!0,n&&n(s))},i,r)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)u(f);else l.load(e,function(f){const h=o.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let p=0;p<d;p++){a[p]={mipmaps:[]};for(let g=0;g<h.mipmapCount;g++)a[p].mipmaps.push(h.mipmaps[p*h.mipmapCount+g]),a[p].format=h.format,a[p].width=h.width,a[p].height=h.height}s.image=a}else s.image.width=h.width,s.image.height=h.height,s.mipmaps=h.mipmaps;h.mipmapCount===1&&(s.minFilter=sn),s.format=h.format,s.needsUpdate=!0,n&&n(s)},i,r);return s}}class Zp extends pi{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Ba.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=Xp("img");function l(){u(),Ba.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(f){u(),r&&r(f),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class X5 extends pi{constructor(e){super(e)}load(e,n,i,r){const o=new dm;o.colorSpace=gn;const a=new Zp(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(c){a.load(e[c],function(u){o.images[c]=u,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return o}}class j5 extends pi{constructor(e){super(e)}load(e,n,i,r){const o=this,a=new Ko,s=new Tr(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let c;try{c=o.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:mr,a.wrapT=c.wrapT!==void 0?c.wrapT:mr,a.magFilter=c.magFilter!==void 0?c.magFilter:sn,a.minFilter=c.minFilter!==void 0?c.minFilter:sn,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Wr),c.mipmapCount===1&&(a.minFilter=sn),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},i,r),a}}class Y5 extends pi{constructor(e){super(e)}load(e,n,i,r){const o=new un,a=new Zp(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},i,r),o}}class sl extends At{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Oe(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class q5 extends sl{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(At.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Oe(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const u1=new et,SL=new G,wL=new G;class jA{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new be(512,512),this.map=null,this.mapPass=null,this.matrix=new et,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new gm,this._frameExtents=new be(1,1),this._viewportCount=1,this._viewports=[new Rt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;SL.setFromMatrixPosition(e.matrixWorld),n.position.copy(SL),wL.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(wL),n.updateMatrixWorld(),u1.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(u1),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(u1)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class pme extends jA{constructor(){super(new On(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=Qf*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(i!==n.fov||r!==n.aspect||o!==n.far)&&(n.fov=i,n.aspect=r,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class YA extends sl{constructor(e,n,i=0,r=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(At.DEFAULT_UP),this.updateMatrix(),this.target=new At,this.distance=i,this.angle=r,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new pme}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const ML=new et,ld=new G,f1=new G;class mme extends jA{constructor(){super(new On(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new be(4,2),this._viewportCount=6,this._viewports=[new Rt(2,1,1,1),new Rt(0,1,1,1),new Rt(3,1,1,1),new Rt(1,1,1,1),new Rt(3,0,1,1),new Rt(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,o=e.distance||i.far;o!==i.far&&(i.far=o,i.updateProjectionMatrix()),ld.setFromMatrixPosition(e.matrixWorld),i.position.copy(ld),f1.copy(i.position),f1.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(f1),i.updateMatrixWorld(),r.makeTranslation(-ld.x,-ld.y,-ld.z),ML.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ML)}}class qA extends sl{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new mme}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Sm extends ab{constructor(e=-1,n=1,i=1,r=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=i-e,a=i+e,s=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class vme extends jA{constructor(){super(new Sm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Tb extends sl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(At.DEFAULT_UP),this.updateMatrix(),this.target=new At,this.shadow=new vme}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class K5 extends sl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Z5 extends sl{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class J5{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*r),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*i),n.addScaledVector(a[4],1.092548*(i*r)),n.addScaledVector(a[5],1.092548*(r*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(i*o)),n.addScaledVector(a[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*r),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*i),n.addScaledVector(a[4],2*.429043*i*r),n.addScaledVector(a[5],2*.429043*r*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*i*o),n.addScaledVector(a[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,o=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*o,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*i*o,n[8]=.546274*(i*i-r*r)}}class Q5 extends sl{constructor(e=new J5,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Cb extends pi{constructor(e){super(e),this.textures={}}load(e,n,i,r){const o=this,a=new Tr(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Oe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(r.uniforms[o]={},a.type){case"t":r.uniforms[o].value=i(a.value);break;case"c":r.uniforms[o].value=new Oe().setHex(a.value);break;case"v2":r.uniforms[o].value=new be().fromArray(a.value);break;case"v3":r.uniforms[o].value=new G().fromArray(a.value);break;case"v4":r.uniforms[o].value=new Rt().fromArray(a.value);break;case"m3":r.uniforms[o].value=new vt().fromArray(a.value);break;case"m4":r.uniforms[o].value=new et().fromArray(a.value);break;default:r.uniforms[o].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new be().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new be().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Cb.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:O5,SpriteMaterial:AA,RawShaderMaterial:L5,ShaderMaterial:Mo,PointsMaterial:cb,MeshPhysicalMaterial:eo,MeshStandardMaterial:xm,MeshPhongMaterial:N5,MeshToonMaterial:F5,MeshNormalMaterial:B5,MeshLambertMaterial:U5,MeshDepthMaterial:kA,MeshDistanceMaterial:$A,MeshBasicMaterial:vr,MeshMatcapMaterial:HA,LineDashedMaterial:z5,LineBasicMaterial:ii,Material:Bn};return new n[e]}}class Vs{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class e4 extends gt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class t4 extends pi{constructor(e){super(e)}load(e,n,i,r){const o=this,a=new Tr(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(d,p){if(n[p]!==void 0)return n[p];const v=d.interleavedBuffers[p],m=o(d,v.buffer),y=uf(v.type,m),_=new mm(y,v.stride);return _.uuid=v.uuid,n[p]=_,_}function o(d,p){if(i[p]!==void 0)return i[p];const v=d.arrayBuffers[p],m=new Uint32Array(v).buffer;return i[p]=m,m}const a=e.isInstancedBufferGeometry?new e4:new gt,s=e.data.index;if(s!==void 0){const d=uf(s.type,s.array);a.setIndex(new Ot(d,1))}const l=e.data.attributes;for(const d in l){const p=l[d];let g;if(p.isInterleavedBufferAttribute){const v=r(e.data,p.data);g=new Ks(v,p.itemSize,p.offset,p.normalized)}else{const v=uf(p.type,p.array),m=p.isInstancedBufferAttribute?Yc:Ot;g=new m(v,p.itemSize,p.normalized)}p.name!==void 0&&(g.name=p.name),p.usage!==void 0&&g.setUsage(p.usage),a.setAttribute(d,g)}const c=e.data.morphAttributes;if(c)for(const d in c){const p=c[d],g=[];for(let v=0,m=p.length;v<m;v++){const y=p[v];let _;if(y.isInterleavedBufferAttribute){const b=r(e.data,y.data);_=new Ks(b,y.itemSize,y.offset,y.normalized)}else{const b=uf(y.type,y.array);_=new Ot(b,y.itemSize,y.normalized)}y.name!==void 0&&(_.name=y.name),g.push(_)}a.morphAttributes[d]=g}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,p=f.length;d!==p;++d){const g=f[d];a.addGroup(g.start,g.count,g.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const d=new G;h.center!==void 0&&d.fromArray(h.center),a.boundingSphere=new ti(d,h.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class gme extends pi{constructor(e){super(e)}load(e,n,i,r){const o=this,a=this.path===""?Vs.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new Tr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?Vs.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new Tr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(s)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,o,l,s,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let f=!1;for(const h in a)if(a[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,s,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const o=new Ic().fromJSON(e[i]);n[o.uuid]=o}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new vm().fromJSON(e[o],r);i[s.uuid]=s}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new t4;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=r.parse(l);break;default:l.type in xL?s=xL[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),i[l.uuid]=s}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const o=new Cb;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=o.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],o=th.parse(r);n[o.uuid]=o}return n}parseImages(e,n){const i=this,r={};let o;function a(l){return i.manager.itemStart(l),o.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return a(u)}else return l.data?{data:uf(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new XA(n);o=new Zp(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],h=f.url;if(Array.isArray(h)){const d=[];for(let p=0,g=h.length;p<g;p++){const v=h[p],m=s(v);m!==null&&(m instanceof HTMLImageElement?d.push(m):d.push(new Ko(m.data,m.width,m.height)))}r[f.uuid]=new vc(d)}else{const d=s(f.url);r[f.uuid]=new vc(d)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await r.loadAsync(l)}else return a.data?{data:uf(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new Zp(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,h=c.length;f<h;f++){const d=c[f],p=await o(d);p!==null&&(p instanceof HTMLImageElement?u.push(p):u.push(new Ko(p.data,p.width,p.height)))}i[l.uuid]=new vc(u)}else{const u=await o(l.url);i[l.uuid]=new vc(u)}}}return i}parseTextures(e,n){function i(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const r={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],c=l.data;let u;Array.isArray(c)?(u=new dm,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Ko:u=new un,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=s.uuid,s.name!==void 0&&(u.name=s.name),s.mapping!==void 0&&(u.mapping=i(s.mapping,yme)),s.channel!==void 0&&(u.channel=s.channel),s.offset!==void 0&&u.offset.fromArray(s.offset),s.repeat!==void 0&&u.repeat.fromArray(s.repeat),s.center!==void 0&&u.center.fromArray(s.center),s.rotation!==void 0&&(u.rotation=s.rotation),s.wrap!==void 0&&(u.wrapS=i(s.wrap[0],TL),u.wrapT=i(s.wrap[1],TL)),s.format!==void 0&&(u.format=s.format),s.internalFormat!==void 0&&(u.internalFormat=s.internalFormat),s.type!==void 0&&(u.type=s.type),s.colorSpace!==void 0&&(u.colorSpace=s.colorSpace),s.minFilter!==void 0&&(u.minFilter=i(s.minFilter,CL)),s.magFilter!==void 0&&(u.magFilter=i(s.magFilter,CL)),s.anisotropy!==void 0&&(u.anisotropy=s.anisotropy),s.flipY!==void 0&&(u.flipY=s.flipY),s.generateMipmaps!==void 0&&(u.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(u.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(u.compareFunction=s.compareFunction),s.userData!==void 0&&(u.userData=s.userData),r[s.uuid]=u}return r}parseObject(e,n,i,r,o){let a;function s(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let p=0,g=h.length;p<g;p++){const v=h[p];i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),d.push(i[v])}return d}return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),i[h]}}function c(h){return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),r[h]}let u,f;switch(e.type){case"Scene":a=new CA,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Oe(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new pm(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new sb(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new On(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Sm(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new K5(e.color,e.intensity);break;case"DirectionalLight":a=new Tb(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new qA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Z5(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new YA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new q5(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Q5().fromJSON(e);break;case"SkinnedMesh":u=s(e.geometry),f=l(e.material),a=new EA(u,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=s(e.geometry),f=l(e.material),a=new yn(u,f);break;case"InstancedMesh":u=s(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,p=e.instanceColor;a=new PA(u,f,h),a.instanceMatrix=new Yc(new Float32Array(d.array),16),p!==void 0&&(a.instanceColor=new Yc(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":u=s(e.geometry),f=l(e.material),a=new w5(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(g=>{const v=new di;v.min.fromArray(g.boxMin),v.max.fromArray(g.boxMax);const m=new ti;return m.radius=g.sphereRadius,m.center.fromArray(g.sphereCenter),{boxInitialized:g.boxInitialized,box:v,sphereInitialized:g.sphereInitialized,sphere:m}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":a=new S5;break;case"Line":a=new qa(s(e.geometry),l(e.material));break;case"LineLoop":a=new IA(s(e.geometry),l(e.material));break;case"LineSegments":a=new Qr(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new RA(s(e.geometry),l(e.material));break;case"Sprite":a=new x5(l(e.material));break;case"Group":a=new Fa;break;case"Bone":a=new lb;break;default:a=new At}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)a.add(this.parseObject(h[d],n,i,r,o))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const p=h[d];a.animations.push(o[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const p=h[d],g=a.getObjectByProperty("uuid",p.object);g!==void 0&&a.addLevel(g,p.distance,p.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new At}})}}const yme={UVMapping:q_,CubeReflectionMapping:ja,CubeRefractionMapping:Ys,EquirectangularReflectionMapping:Yf,EquirectangularRefractionMapping:$p,CubeUVReflectionMapping:vh},TL={RepeatWrapping:qs,ClampToEdgeWrapping:mr,MirroredRepeatWrapping:qf},CL={NearestFilter:Fn,NearestMipmapNearestFilter:K_,NearestMipmapLinearFilter:dc,LinearFilter:sn,LinearMipmapNearestFilter:Ef,LinearMipmapLinearFilter:Wr};class n4 extends pi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Ba.get(e);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(c=>{n&&n(c),o.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return Ba.add(e,c),n&&n(c),o.manager.itemEnd(e),c}).catch(function(c){r&&r(c),Ba.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Ba.add(e,l),o.manager.itemStart(e)}}let pg;class KA{static getContext(){return pg===void 0&&(pg=new(window.AudioContext||window.webkitAudioContext)),pg}static setContext(e){pg=e}}class _me extends pi{constructor(e){super(e)}load(e,n,i,r){const o=this,a=new Tr(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);KA.getContext().decodeAudioData(c,function(f){n(f)}).catch(s)}catch(c){s(c)}},i,r);function s(l){r?r(l):console.error(l),o.manager.itemError(e)}}}const AL=new et,EL=new et,Gl=new et;class bme{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new On,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new On,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Gl.copy(e.projectionMatrix);const r=n.eyeSep/2,o=r*n.near/n.focus,a=n.near*Math.tan(Pc*n.fov*.5)/n.zoom;let s,l;EL.elements[12]=-r,AL.elements[12]=r,s=-a*n.aspect+o,l=a*n.aspect+o,Gl.elements[0]=2*n.near/(l-s),Gl.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Gl),s=-a*n.aspect-o,l=a*n.aspect-o,Gl.elements[0]=2*n.near/(l-s),Gl.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Gl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(EL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(AL)}}class i4 extends On{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class r4{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=PL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=PL();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function PL(){return performance.now()}const Wl=new G,IL=new Wn,xme=new G,Xl=new G;class Sme extends At{constructor(){super(),this.type="AudioListener",this.context=KA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new r4}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Wl,IL,xme),Xl.set(0,0,-1).applyQuaternion(IL),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Wl.x,r),n.positionY.linearRampToValueAtTime(Wl.y,r),n.positionZ.linearRampToValueAtTime(Wl.z,r),n.forwardX.linearRampToValueAtTime(Xl.x,r),n.forwardY.linearRampToValueAtTime(Xl.y,r),n.forwardZ.linearRampToValueAtTime(Xl.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(Wl.x,Wl.y,Wl.z),n.setOrientation(Xl.x,Xl.y,Xl.z,i.x,i.y,i.z)}}class o4 extends At{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const jl=new G,RL=new Wn,wme=new G,Yl=new G;class Mme extends o4{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(jl,RL,wme),Yl.set(0,0,1).applyQuaternion(RL);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(jl.x,i),n.positionY.linearRampToValueAtTime(jl.y,i),n.positionZ.linearRampToValueAtTime(jl.z,i),n.orientationX.linearRampToValueAtTime(Yl.x,i),n.orientationY.linearRampToValueAtTime(Yl.y,i),n.orientationZ.linearRampToValueAtTime(Yl.z,i)}else n.setPosition(jl.x,jl.y,jl.z),n.setOrientation(Yl.x,Yl.y,Yl.z)}}class Tme{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class a4{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,o,a;switch(n){case"quaternion":r=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,o=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==r;++s)i[o+s]=i[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(i,o,0,s,r)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(i[l]!==i[l+n]){s.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let o=i,a=r;o!==a;++o)n[o]=n[r+o%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,o){if(r>=.5)for(let a=0;a!==o;++a)e[n+a]=e[i+a]}_slerp(e,n,i,r){Wn.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,o){const a=this._workIndex*o;Wn.multiplyQuaternionsFlat(e,a,e,n,e,i),Wn.slerpFlat(e,n,e,n,e,a,r)}_lerp(e,n,i,r,o){const a=1-r;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[i+s]*r}}_lerpAdditive(e,n,i,r,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[i+a]*r}}}const ZA="\\[\\]\\.:\\/",Cme=new RegExp("["+ZA+"]","g"),JA="[^"+ZA+"]",Ame="[^"+ZA.replace("\\.","")+"]",Eme=/((?:WC+[\/:])*)/.source.replace("WC",JA),Pme=/(WCOD+)?/.source.replace("WCOD",Ame),Ime=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",JA),Rme=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",JA),Dme=new RegExp("^"+Eme+Pme+Ime+Rme+"$"),Ome=["material","materials","bones","map"];class Lme{constructor(e,n,i){const r=i||Et.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=i.length;r!==o;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Et{constructor(e,n,i){this.path=n,this.parsedPath=i||Et.parseTrackName(n),this.node=Et.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Et.Composite(e,n,i):new Et(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Cme,"")}static parseTrackName(e){const n=Dme.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=i.nodeName.substring(r+1);Ome.indexOf(o)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=o)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=i(s.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let o=n.propertyIndex;if(e||(e=Et.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[r];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Et.Composite=Lme;Et.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Et.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Et.prototype.GetterByBindingType=[Et.prototype._getValue_direct,Et.prototype._getValue_array,Et.prototype._getValue_arrayElement,Et.prototype._getValue_toArray];Et.prototype.SetterByBindingTypeAndVersioning=[[Et.prototype._setValue_direct,Et.prototype._setValue_direct_setNeedsUpdate,Et.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_array,Et.prototype._setValue_array_setNeedsUpdate,Et.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_arrayElement,Et.prototype._setValue_arrayElement_setNeedsUpdate,Et.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Et.prototype._setValue_fromArray,Et.prototype._setValue_fromArray_setNeedsUpdate,Et.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Nme{constructor(){this.isAnimationObjectGroup=!0,this.uuid=br(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const h=arguments[u],d=h.uuid;let p=n[d];if(p===void 0){p=l++,n[d]=p,e.push(h);for(let g=0,v=a;g!==v;++g)o[g].push(new Et(h,i[g],r[g]))}else if(p<c){s=e[p];const g=--c,v=e[g];n[v.uuid]=p,e[p]=v,n[d]=g,e[g]=h;for(let m=0,y=a;m!==y;++m){const _=o[m],b=_[g];let T=_[p];_[p]=b,T===void 0&&(T=new Et(h,i[m],r[m])),_[g]=T}}else e[p]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=o){const f=o++,h=e[f];n[h.uuid]=u,e[u]=h,n[c]=f,e[f]=l;for(let d=0,p=r;d!==p;++d){const g=i[d],v=g[f],m=g[u];g[u]=v,g[f]=m}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<o){const h=--o,d=e[h],p=--a,g=e[p];n[d.uuid]=f,e[f]=d,n[g.uuid]=h,e[h]=g,e.pop();for(let v=0,m=r;v!==m;++v){const y=i[v],_=y[h],b=y[p];y[f]=_,y[h]=b,y.pop()}}else{const h=--a,d=e[h];h>0&&(n[d.uuid]=f),e[f]=d,e.pop();for(let p=0,g=r;p!==g;++p){const v=i[p];v[f]=v[h],v.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const o=this._bindings;if(r!==void 0)return o[r];const a=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);r=o.length,i[e]=r,a.push(e),s.push(n),o.push(f);for(let h=u,d=l.length;h!==d;++h){const p=l[h];f[h]=new Et(p,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],c=e[s];n[c]=i,a[i]=l,a.pop(),o[i]=o[s],o.pop(),r[i]=r[s],r.pop()}}}class s4{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:pc,endingEnd:pc};for(let c=0;c!==a;++c){const u=o[c].createInterpolant(null);s[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=JH,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,o=e._clip.duration,a=o/r,s=r/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,o=r.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=r._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=o,l[1]=o+i,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*i;l<0||i===0?n=0:(this._startTime=null,n=i*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case yA:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulateAdditive(s);break;case ib:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulate(r,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,o=this._loopCount;const a=i===QH;if(e===0)return o===-1?r:a&&(o&1)===1?n-r:r;if(i===ZH){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=n||r<0){const s=Math.floor(r/n);r-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=r;if(a&&(o&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=mc,r.endingEnd=mc):(e?r.endingStart=this.zeroSlopeAtStart?mc:pc:r.endingStart=Hp,n?r.endingEnd=this.zeroSlopeAtEnd?mc:pc:r.endingEnd=Hp)}_scheduleFading(e,n,i){const r=this._mixer,o=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=i,this}}const Fme=new Float32Array(1);class Bme extends ua{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,o=r.length,a=e._propertyBindings,s=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==o;++f){const h=r[f],d=h.name;let p=u[d];if(p!==void 0)++p.referenceCount,a[f]=p;else{if(p=a[f],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,d));continue}const g=n&&n._propertyBindings[f].binding.parsedPath;p=new a4(Et.create(i,d,g),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,d),a[f]=p}s[f].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const o=n[i];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const o=n[i];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const o=n[i];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,o=n[r];e._cacheIndex=r,n[r]=e,o._cacheIndex=i,n[i]=o}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,o=n[r];e._cacheIndex=r,n[r]=e,o._cacheIndex=i,n[i]=o}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,o=this._bindings;let a=r[n];a===void 0&&(a={},r[n]=a),a[i]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,o=i.path,a=this._bindingsByRootAndName,s=a[r],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,o=n[r];e._cacheIndex=r,n[r]=e,o._cacheIndex=i,n[i]=o}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,o=n[r];e._cacheIndex=r,n[r]=e,o._cacheIndex=i,n[i]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new GA(new Float32Array(2),new Float32Array(2),1,Fme),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=n[r];e.__cacheIndex=r,n[r]=e,o.__cacheIndex=i,n[i]=o}clipAction(e,n,i){const r=n||this._root,o=r.uuid;let a=typeof e=="string"?th.findByName(r,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let c=null;if(i===void 0&&(a!==null?i=a.blendMode:i=ib),l!==void 0){const f=l.actionByRoot[o];if(f!==void 0&&f.blendMode===i)return f;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new s4(this,a,n,i);return this._bindAction(u,c),this._addInactiveAction(u,s,o),u}existingAction(e,n){const i=n||this._root,r=i.uuid,o=typeof e=="string"?th.findByName(i,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==i;++c)n[c]._update(r,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,o=r[i];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const c=a[s];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const a in i){const s=i[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,o=r[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class QA{constructor(e){this.value=e}clone(){return new QA(this.value.clone===void 0?this.value:this.value.clone())}}let Ume=0;class zme extends ua{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Ume++}),this.name="",this.usage=Gp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const o=Array.isArray(n[i])?n[i]:[n[i]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class kme extends mm{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class $me{constructor(e,n,i,r,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const DL=new et;class l4{constructor(e,n,i=0,r=1/0){this.ray=new lu(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new ob,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return DL.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(DL),this}intersectObject(e,n=!0,i=[]){return DM(e,this,i,n),i.sort(OL),i}intersectObjects(e,n=!0,i=[]){for(let r=0,o=e.length;r<o;r++)DM(e[r],this,i,n);return i.sort(OL),i}}function OL(t,e){return t.distance-e.distance}function DM(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const o=t.children;for(let a=0,s=o.length;a<s;a++)DM(o[a],e,n,!0)}}class OM{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=ht(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(ht(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Hme{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class eE{constructor(e,n,i,r){eE.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const o=this.elements;return o[0]=e,o[2]=n,o[1]=i,o[3]=r,this}}const LL=new be;class Vme{constructor(e=new be(1/0,1/0),n=new be(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=LL.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,LL).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const NL=new G,mg=new G;class Gme{constructor(e=new G,n=new G){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){NL.subVectors(e,this.start),mg.subVectors(this.end,this.start);const i=mg.dot(mg);let o=mg.dot(NL)/i;return n&&(o=ht(o,0,1)),o}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const FL=new G;class Wme extends At{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new gt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const c=a/l*Math.PI*2,u=s/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new Xe(r,3));const o=new ii({fog:!1,toneMapped:!1});this.cone=new Qr(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),FL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(FL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _s=new G,vg=new et,h1=new et;class Xme extends Qr{constructor(e){const n=c4(e),i=new gt,r=[],o=[],a=new Oe(0,0,1),s=new Oe(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}i.setAttribute("position",new Xe(r,3)),i.setAttribute("color",new Xe(o,3));const l=new ii({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");h1.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(vg.multiplyMatrices(h1,s.matrixWorld),_s.setFromMatrixPosition(vg),r.setXYZ(a,_s.x,_s.y,_s.z),vg.multiplyMatrices(h1,s.parent.matrixWorld),_s.setFromMatrixPosition(vg),r.setXYZ(a+1,_s.x,_s.y,_s.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function c4(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,c4(t.children[n]));return e}class jme extends yn{constructor(e,n,i){const r=new bm(n,4,2),o=new vr({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Yme=new G,BL=new Oe,UL=new Oe;class qme extends At{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new _m(n);r.rotateY(Math.PI*.5),this.material=new vr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),a=new Float32Array(o.count*3);r.setAttribute("color",new Ot(a,3)),this.add(new yn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");BL.copy(this.light.color),UL.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const o=i<r/2?BL:UL;n.setXYZ(i,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Yme.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Kme extends Qr{constructor(e=10,n=10,i=4473924,r=8947848){i=new Oe(i),r=new Oe(r);const o=n/2,a=e/n,s=e/2,l=[],c=[];for(let h=0,d=0,p=-s;h<=n;h++,p+=a){l.push(-s,0,p,s,0,p),l.push(p,0,-s,p,0,s);const g=h===o?i:r;g.toArray(c,d),d+=3,g.toArray(c,d),d+=3,g.toArray(c,d),d+=3,g.toArray(c,d),d+=3}const u=new gt;u.setAttribute("position",new Xe(l,3)),u.setAttribute("color",new Xe(c,3));const f=new ii({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zme extends Qr{constructor(e=10,n=16,i=8,r=64,o=4473924,a=8947848){o=new Oe(o),a=new Oe(a);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),d=Math.sin(h)*e,p=Math.cos(h)*e;s.push(0,0,0),s.push(d,0,p);const g=f&1?o:a;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let f=0;f<i;f++){const h=f&1?o:a,d=e-e/i*f;for(let p=0;p<r;p++){let g=p/r*(Math.PI*2),v=Math.sin(g)*d,m=Math.cos(g)*d;s.push(v,0,m),l.push(h.r,h.g,h.b),g=(p+1)/r*(Math.PI*2),v=Math.sin(g)*d,m=Math.cos(g)*d,s.push(v,0,m),l.push(h.r,h.g,h.b)}}const c=new gt;c.setAttribute("position",new Xe(s,3)),c.setAttribute("color",new Xe(l,3));const u=new ii({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const zL=new G,gg=new G,kL=new G;class Jme extends At{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new gt;r.setAttribute("position",new Xe([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new ii({fog:!1,toneMapped:!1});this.lightPlane=new qa(r,o),this.add(this.lightPlane),r=new gt,r.setAttribute("position",new Xe([0,0,0,0,0,1],3)),this.targetLine=new qa(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),zL.setFromMatrixPosition(this.light.matrixWorld),gg.setFromMatrixPosition(this.light.target.matrixWorld),kL.subVectors(gg,zL),this.lightPlane.lookAt(gg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(gg),this.targetLine.scale.z=kL.length()}}const yg=new G,mn=new ab;class Qme extends Qr{constructor(e){const n=new gt,i=new ii({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(p,g){l(p),l(g)}function l(p){r.push(0,0,0),o.push(0,0,0),a[p]===void 0&&(a[p]=[]),a[p].push(r.length/3-1)}n.setAttribute("position",new Xe(r,3)),n.setAttribute("color",new Xe(o,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new Oe(16755200),u=new Oe(16711680),f=new Oe(43775),h=new Oe(16777215),d=new Oe(3355443);this.setColors(c,u,f,h,d)}setColors(e,n,i,r,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,i.r,i.g,i.b),s.setXYZ(33,i.r,i.g,i.b),s.setXYZ(34,i.r,i.g,i.b),s.setXYZ(35,i.r,i.g,i.b),s.setXYZ(36,i.r,i.g,i.b),s.setXYZ(37,i.r,i.g,i.b),s.setXYZ(38,r.r,r.g,r.b),s.setXYZ(39,r.r,r.g,r.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;mn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),xn("c",n,e,mn,0,0,-1),xn("t",n,e,mn,0,0,1),xn("n1",n,e,mn,-i,-r,-1),xn("n2",n,e,mn,i,-r,-1),xn("n3",n,e,mn,-i,r,-1),xn("n4",n,e,mn,i,r,-1),xn("f1",n,e,mn,-i,-r,1),xn("f2",n,e,mn,i,-r,1),xn("f3",n,e,mn,-i,r,1),xn("f4",n,e,mn,i,r,1),xn("u1",n,e,mn,i*.7,r*1.1,-1),xn("u2",n,e,mn,-i*.7,r*1.1,-1),xn("u3",n,e,mn,0,r*2,-1),xn("cf1",n,e,mn,-i,0,1),xn("cf2",n,e,mn,i,0,1),xn("cf3",n,e,mn,0,-r,1),xn("cf4",n,e,mn,0,r,1),xn("cn1",n,e,mn,-i,0,-1),xn("cn2",n,e,mn,i,0,-1),xn("cn3",n,e,mn,0,-r,-1),xn("cn4",n,e,mn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function xn(t,e,n,i,r,o,a){yg.set(r,o,a).unproject(i);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let c=0,u=s.length;c<u;c++)l.setXYZ(s[c],yg.x,yg.y,yg.z)}}const _g=new di;class eve extends Qr{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new gt;o.setIndex(new Ot(i,1)),o.setAttribute("position",new Ot(r,3)),super(o,new ii({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_g.setFromObject(this.object),_g.isEmpty())return;const n=_g.min,i=_g.max,r=this.geometry.attributes.position,o=r.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=n.x,o[4]=i.y,o[5]=i.z,o[6]=n.x,o[7]=n.y,o[8]=i.z,o[9]=i.x,o[10]=n.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=n.z,o[15]=n.x,o[16]=i.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=i.x,o[22]=n.y,o[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tve extends Qr{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new gt;o.setIndex(new Ot(i,1)),o.setAttribute("position",new Xe(r,3)),super(o,new ii({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class nve extends qa{constructor(e,n=1,i=16776960){const r=i,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new gt;a.setAttribute("position",new Xe(o,3)),a.computeBoundingSphere(),super(a,new ii({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new gt;l.setAttribute("position",new Xe(s,3)),l.computeBoundingSphere(),this.add(new yn(l,new vr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const $L=new G;let bg,d1;class ive extends At{constructor(e=new G(0,0,1),n=new G(0,0,0),i=1,r=16776960,o=i*.2,a=o*.2){super(),this.type="ArrowHelper",bg===void 0&&(bg=new gt,bg.setAttribute("position",new Xe([0,0,0,0,1,0],3)),d1=new gh(0,.5,1,5,1),d1.translate(0,-.5,0)),this.position.copy(n),this.line=new qa(bg,new ii({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new yn(d1,new vr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{$L.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle($L,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class rve extends Qr{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new gt;r.setAttribute("position",new Xe(n,3)),r.setAttribute("color",new Xe(i,3));const o=new ii({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,n,i){const r=new Oe,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(n),r.toArray(o,6),r.toArray(o,9),r.set(i),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ove{constructor(){this.type="ShapePath",this.color=new Oe,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new jp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,o,a){return this.currentPath.bezierCurveTo(e,n,i,r,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(m){const y=[];for(let _=0,b=m.length;_<b;_++){const T=m[_],x=new Ic;x.curves=T.curves,y.push(x)}return y}function i(m,y){const _=y.length;let b=!1;for(let T=_-1,x=0;x<_;T=x++){let S=y[T],C=y[x],M=C.x-S.x,w=C.y-S.y;if(Math.abs(w)>Number.EPSILON){if(w<0&&(S=y[x],M=-M,C=y[T],w=-w),m.y<S.y||m.y>C.y)continue;if(m.y===S.y){if(m.x===S.x)return!0}else{const A=w*(m.x-S.x)-M*(m.y-S.y);if(A===0)return!0;if(A<0)continue;b=!b}}else{if(m.y!==S.y)continue;if(C.x<=m.x&&m.x<=S.x||S.x<=m.x&&m.x<=C.x)return!0}}return b}const r=Zo.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new Ic,l.curves=s.curves,c.push(l),c;let u=!r(o[0].getPoints());u=e?!u:u;const f=[],h=[];let d=[],p=0,g;h[p]=void 0,d[p]=[];for(let m=0,y=o.length;m<y;m++)s=o[m],g=s.getPoints(),a=r(g),a=e?!a:a,a?(!u&&h[p]&&p++,h[p]={s:new Ic,p:g},h[p].s.curves=s.curves,u&&p++,d[p]=[]):d[p].push({h:s,p:g[0]});if(!h[0])return n(o);if(h.length>1){let m=!1,y=0;for(let _=0,b=h.length;_<b;_++)f[_]=[];for(let _=0,b=h.length;_<b;_++){const T=d[_];for(let x=0;x<T.length;x++){const S=T[x];let C=!0;for(let M=0;M<h.length;M++)i(S.p,h[M].p)&&(_!==M&&y++,C?(C=!1,f[M].push(S)):m=!0);C&&f[_].push(S)}}y>0&&m===!1&&(d=f)}let v;for(let m=0,y=h.length;m<y;m++){l=h[m].s,c.push(l),v=d[m];for(let _=0,b=v.length;_<b;_++)l.holes.push(v[_].h)}return c}}class u4 extends ua{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function ave(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function sve(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function lve(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function LM(t,e,n,i){const r=cve(i);switch(n){case hA:return t*e;case pA:return t*e;case mA:return t*e*2;case eb:return t*e/r.components*r.byteLength;case hm:return t*e/r.components*r.byteLength;case vA:return t*e*2/r.components*r.byteLength;case tb:return t*e*2/r.components*r.byteLength;case dA:return t*e*3/r.components*r.byteLength;case Ri:return t*e*4/r.components*r.byteLength;case nb:return t*e*4/r.components*r.byteLength;case Zd:case Jd:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Qd:case ep:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case py:case vy:return Math.max(t,16)*Math.max(e,8)/4;case dy:case my:return Math.max(t,8)*Math.max(e,8)/2;case gy:case yy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case _y:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case by:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case xy:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Sy:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case wy:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case My:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Ty:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Cy:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Ay:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Ey:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Py:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Iy:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Ry:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Dy:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Oy:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case tp:case Ly:case Ny:return Math.ceil(t/4)*Math.ceil(e/4)*16;case gA:case Fy:return Math.ceil(t/4)*Math.ceil(e/4)*8;case By:case Uy:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function cve(t){switch(t){case na:case cA:return{byteLength:1,components:1};case Kf:case uA:case Xo:return{byteLength:2,components:1};case J_:case Q_:return{byteLength:2,components:4};case Ya:case Z_:case Qn:return{byteLength:4,components:1};case fA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const uve={contain:ave,cover:sve,fill:lve,getByteLength:LM};class fve extends wo{constructor(e=1,n=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Y_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Y_);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function f4(){let t=null,e=!1,n=null,i=null;function r(o,a){n(o,a),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function hve(t){const e=new WeakMap;function n(s,l){const c=s.array,u=s.usage,f=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,u),s.onUploadCallback();let d;if(c instanceof Float32Array)d=t.FLOAT;else if(c instanceof Uint16Array)s.isFloat16BufferAttribute?d=t.HALF_FLOAT:d=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)d=t.SHORT;else if(c instanceof Uint32Array)d=t.UNSIGNED_INT;else if(c instanceof Int32Array)d=t.INT;else if(c instanceof Int8Array)d=t.BYTE;else if(c instanceof Uint8Array)d=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)d=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:d,bytesPerElement:c.BYTES_PER_ELEMENT,version:s.version,size:f}}function i(s,l,c){const u=l.array,f=l.updateRanges;if(t.bindBuffer(c,s),f.length===0)t.bufferSubData(c,0,u);else{f.sort((d,p)=>d.start-p.start);let h=0;for(let d=1;d<f.length;d++){const p=f[h],g=f[d];g.start<=p.start+p.count+1?p.count=Math.max(p.count,g.start+g.count-p.start):(++h,f[h]=g)}f.length=h+1;for(let d=0,p=f.length;d<p;d++){const g=f[d];t.bufferSubData(c,g.start*u.BYTES_PER_ELEMENT,u,g.start,g.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function a(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const u=e.get(s);(!u||u.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const c=e.get(s);if(c===void 0)e.set(s,n(s,l));else if(c.version<s.version){if(c.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,s,l),c.version=s.version}}return{get:r,remove:o,update:a}}var dve=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,pve=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,mve=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,vve=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,gve=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,yve=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,_ve=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,bve=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,xve=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Sve=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,wve=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Mve=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Tve=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Cve=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Ave=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Eve=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Pve=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ive=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Rve=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Dve=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Ove=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Lve=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Nve=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Fve=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Bve=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Uve=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,zve=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,kve=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,$ve=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Hve=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Vve="gl_FragColor = linearToOutputTexel( gl_FragColor );",Gve=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Wve=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Xve=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,jve=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Yve=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,qve=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Kve=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Zve=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Jve=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Qve=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ege=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,tge=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,nge=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,ige=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,rge=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,oge=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,age=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,sge=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lge=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,cge=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,uge=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,fge=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,hge=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,dge=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,pge=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,mge=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,vge=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gge=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yge=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,_ge=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,bge=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,xge=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Sge=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wge=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Mge=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Tge=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Cge=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Age=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Ege=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Pge=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Ige=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Rge=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Dge=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Oge=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Lge=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Nge=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Fge=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Bge=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Uge=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,zge=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,kge=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$ge=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Hge=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Vge=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Gge=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Wge=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Xge=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,jge=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Yge=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,qge=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Kge=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Zge=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Jge=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Qge=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,e0e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,t0e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,n0e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,i0e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,r0e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,o0e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,a0e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,s0e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,l0e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,c0e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,u0e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,f0e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const h0e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,d0e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,p0e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,m0e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,v0e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,g0e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,y0e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,_0e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,b0e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,x0e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,S0e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,w0e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,M0e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,T0e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,C0e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,A0e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,E0e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,P0e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,I0e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,R0e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,D0e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,O0e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,L0e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,N0e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,F0e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,B0e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,U0e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,z0e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,k0e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$0e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,H0e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,V0e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,G0e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,W0e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,bt={alphahash_fragment:dve,alphahash_pars_fragment:pve,alphamap_fragment:mve,alphamap_pars_fragment:vve,alphatest_fragment:gve,alphatest_pars_fragment:yve,aomap_fragment:_ve,aomap_pars_fragment:bve,batching_pars_vertex:xve,batching_vertex:Sve,begin_vertex:wve,beginnormal_vertex:Mve,bsdfs:Tve,iridescence_fragment:Cve,bumpmap_pars_fragment:Ave,clipping_planes_fragment:Eve,clipping_planes_pars_fragment:Pve,clipping_planes_pars_vertex:Ive,clipping_planes_vertex:Rve,color_fragment:Dve,color_pars_fragment:Ove,color_pars_vertex:Lve,color_vertex:Nve,common:Fve,cube_uv_reflection_fragment:Bve,defaultnormal_vertex:Uve,displacementmap_pars_vertex:zve,displacementmap_vertex:kve,emissivemap_fragment:$ve,emissivemap_pars_fragment:Hve,colorspace_fragment:Vve,colorspace_pars_fragment:Gve,envmap_fragment:Wve,envmap_common_pars_fragment:Xve,envmap_pars_fragment:jve,envmap_pars_vertex:Yve,envmap_physical_pars_fragment:oge,envmap_vertex:qve,fog_vertex:Kve,fog_pars_vertex:Zve,fog_fragment:Jve,fog_pars_fragment:Qve,gradientmap_pars_fragment:ege,lightmap_pars_fragment:tge,lights_lambert_fragment:nge,lights_lambert_pars_fragment:ige,lights_pars_begin:rge,lights_toon_fragment:age,lights_toon_pars_fragment:sge,lights_phong_fragment:lge,lights_phong_pars_fragment:cge,lights_physical_fragment:uge,lights_physical_pars_fragment:fge,lights_fragment_begin:hge,lights_fragment_maps:dge,lights_fragment_end:pge,logdepthbuf_fragment:mge,logdepthbuf_pars_fragment:vge,logdepthbuf_pars_vertex:gge,logdepthbuf_vertex:yge,map_fragment:_ge,map_pars_fragment:bge,map_particle_fragment:xge,map_particle_pars_fragment:Sge,metalnessmap_fragment:wge,metalnessmap_pars_fragment:Mge,morphinstance_vertex:Tge,morphcolor_vertex:Cge,morphnormal_vertex:Age,morphtarget_pars_vertex:Ege,morphtarget_vertex:Pge,normal_fragment_begin:Ige,normal_fragment_maps:Rge,normal_pars_fragment:Dge,normal_pars_vertex:Oge,normal_vertex:Lge,normalmap_pars_fragment:Nge,clearcoat_normal_fragment_begin:Fge,clearcoat_normal_fragment_maps:Bge,clearcoat_pars_fragment:Uge,iridescence_pars_fragment:zge,opaque_fragment:kge,packing:$ge,premultiplied_alpha_fragment:Hge,project_vertex:Vge,dithering_fragment:Gge,dithering_pars_fragment:Wge,roughnessmap_fragment:Xge,roughnessmap_pars_fragment:jge,shadowmap_pars_fragment:Yge,shadowmap_pars_vertex:qge,shadowmap_vertex:Kge,shadowmask_pars_fragment:Zge,skinbase_vertex:Jge,skinning_pars_vertex:Qge,skinning_vertex:e0e,skinnormal_vertex:t0e,specularmap_fragment:n0e,specularmap_pars_fragment:i0e,tonemapping_fragment:r0e,tonemapping_pars_fragment:o0e,transmission_fragment:a0e,transmission_pars_fragment:s0e,uv_pars_fragment:l0e,uv_pars_vertex:c0e,uv_vertex:u0e,worldpos_vertex:f0e,background_vert:h0e,background_frag:d0e,backgroundCube_vert:p0e,backgroundCube_frag:m0e,cube_vert:v0e,cube_frag:g0e,depth_vert:y0e,depth_frag:_0e,distanceRGBA_vert:b0e,distanceRGBA_frag:x0e,equirect_vert:S0e,equirect_frag:w0e,linedashed_vert:M0e,linedashed_frag:T0e,meshbasic_vert:C0e,meshbasic_frag:A0e,meshlambert_vert:E0e,meshlambert_frag:P0e,meshmatcap_vert:I0e,meshmatcap_frag:R0e,meshnormal_vert:D0e,meshnormal_frag:O0e,meshphong_vert:L0e,meshphong_frag:N0e,meshphysical_vert:F0e,meshphysical_frag:B0e,meshtoon_vert:U0e,meshtoon_frag:z0e,points_vert:k0e,points_frag:$0e,shadow_vert:H0e,shadow_frag:V0e,sprite_vert:G0e,sprite_frag:W0e},Ne={common:{diffuse:{value:new Oe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new vt},alphaMap:{value:null},alphaMapTransform:{value:new vt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new vt}},envmap:{envMap:{value:null},envMapRotation:{value:new vt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new vt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new vt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new vt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new vt},normalScale:{value:new be(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new vt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new vt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new vt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new vt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Oe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Oe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new vt},alphaTest:{value:0},uvTransform:{value:new vt}},sprite:{diffuse:{value:new Oe(16777215)},opacity:{value:1},center:{value:new be(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new vt},alphaMap:{value:null},alphaMapTransform:{value:new vt},alphaTest:{value:0}}},ho={basic:{uniforms:_i([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.fog]),vertexShader:bt.meshbasic_vert,fragmentShader:bt.meshbasic_frag},lambert:{uniforms:_i([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,Ne.lights,{emissive:{value:new Oe(0)}}]),vertexShader:bt.meshlambert_vert,fragmentShader:bt.meshlambert_frag},phong:{uniforms:_i([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,Ne.lights,{emissive:{value:new Oe(0)},specular:{value:new Oe(1118481)},shininess:{value:30}}]),vertexShader:bt.meshphong_vert,fragmentShader:bt.meshphong_frag},standard:{uniforms:_i([Ne.common,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.roughnessmap,Ne.metalnessmap,Ne.fog,Ne.lights,{emissive:{value:new Oe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:bt.meshphysical_vert,fragmentShader:bt.meshphysical_frag},toon:{uniforms:_i([Ne.common,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.gradientmap,Ne.fog,Ne.lights,{emissive:{value:new Oe(0)}}]),vertexShader:bt.meshtoon_vert,fragmentShader:bt.meshtoon_frag},matcap:{uniforms:_i([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,{matcap:{value:null}}]),vertexShader:bt.meshmatcap_vert,fragmentShader:bt.meshmatcap_frag},points:{uniforms:_i([Ne.points,Ne.fog]),vertexShader:bt.points_vert,fragmentShader:bt.points_frag},dashed:{uniforms:_i([Ne.common,Ne.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:bt.linedashed_vert,fragmentShader:bt.linedashed_frag},depth:{uniforms:_i([Ne.common,Ne.displacementmap]),vertexShader:bt.depth_vert,fragmentShader:bt.depth_frag},normal:{uniforms:_i([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,{opacity:{value:1}}]),vertexShader:bt.meshnormal_vert,fragmentShader:bt.meshnormal_frag},sprite:{uniforms:_i([Ne.sprite,Ne.fog]),vertexShader:bt.sprite_vert,fragmentShader:bt.sprite_frag},background:{uniforms:{uvTransform:{value:new vt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:bt.background_vert,fragmentShader:bt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new vt}},vertexShader:bt.backgroundCube_vert,fragmentShader:bt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:bt.cube_vert,fragmentShader:bt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:bt.equirect_vert,fragmentShader:bt.equirect_frag},distanceRGBA:{uniforms:_i([Ne.common,Ne.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:bt.distanceRGBA_vert,fragmentShader:bt.distanceRGBA_frag},shadow:{uniforms:_i([Ne.lights,Ne.fog,{color:{value:new Oe(0)},opacity:{value:1}}]),vertexShader:bt.shadow_vert,fragmentShader:bt.shadow_frag}};ho.physical={uniforms:_i([ho.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new vt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new vt},clearcoatNormalScale:{value:new be(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new vt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new vt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new vt},sheen:{value:0},sheenColor:{value:new Oe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new vt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new vt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new vt},transmissionSamplerSize:{value:new be},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new vt},attenuationDistance:{value:0},attenuationColor:{value:new Oe(0)},specularColor:{value:new Oe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new vt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new vt},anisotropyVector:{value:new be},anisotropyMap:{value:null},anisotropyMapTransform:{value:new vt}}]),vertexShader:bt.meshphysical_vert,fragmentShader:bt.meshphysical_frag};const xg={r:0,b:0,g:0},ql=new Mr,X0e=new et;function j0e(t,e,n,i,r,o,a){const s=new Oe(0);let l=o===!0?0:1,c,u,f=null,h=0,d=null;function p(_){let b=_.isScene===!0?_.background:null;return b&&b.isTexture&&(b=(_.backgroundBlurriness>0?n:e).get(b)),b}function g(_){let b=!1;const T=p(_);T===null?m(s,l):T&&T.isColor&&(m(T,1),b=!0);const x=t.xr.getEnvironmentBlendMode();x==="additive"?i.buffers.color.setClear(0,0,0,1,a):x==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(t.autoClear||b)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(_,b){const T=p(b);T&&(T.isCubeTexture||T.mapping===vh)?(u===void 0&&(u=new yn(new cu(1,1,1),new Mo({name:"BackgroundCubeMaterial",uniforms:eh(ho.backgroundCube.uniforms),vertexShader:ho.backgroundCube.vertexShader,fragmentShader:ho.backgroundCube.fragmentShader,side:Ni,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(x,S,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),ql.copy(b.backgroundRotation),ql.x*=-1,ql.y*=-1,ql.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(ql.y*=-1,ql.z*=-1),u.material.uniforms.envMap.value=T,u.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(X0e.makeRotationFromEuler(ql)),u.material.toneMapped=wt.getTransfer(T.colorSpace)!==$t,(f!==T||h!==T.version||d!==t.toneMapping)&&(u.material.needsUpdate=!0,f=T,h=T.version,d=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):T&&T.isTexture&&(c===void 0&&(c=new yn(new uu(2,2),new Mo({name:"BackgroundMaterial",uniforms:eh(ho.background.uniforms),vertexShader:ho.background.vertexShader,fragmentShader:ho.background.fragmentShader,side:ta,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=T,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=wt.getTransfer(T.colorSpace)!==$t,T.matrixAutoUpdate===!0&&T.updateMatrix(),c.material.uniforms.uvTransform.value.copy(T.matrix),(f!==T||h!==T.version||d!==t.toneMapping)&&(c.material.needsUpdate=!0,f=T,h=T.version,d=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function m(_,b){_.getRGB(xg,v5(t)),i.buffers.color.setClear(xg.r,xg.g,xg.b,b,a)}function y(){u!==void 0&&(u.geometry.dispose(),u.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return s},setClearColor:function(_,b=1){s.set(_),l=b,m(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,m(s,l)},render:g,addToRenderList:v,dispose:y}}function Y0e(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=h(null);let o=r,a=!1;function s(w,A,P,R,L){let E=!1;const O=f(R,P,A);o!==O&&(o=O,c(o.object)),E=d(w,R,P,L),E&&p(w,R,P,L),L!==null&&e.update(L,t.ELEMENT_ARRAY_BUFFER),(E||a)&&(a=!1,b(w,A,P,R),L!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(L).buffer))}function l(){return t.createVertexArray()}function c(w){return t.bindVertexArray(w)}function u(w){return t.deleteVertexArray(w)}function f(w,A,P){const R=P.wireframe===!0;let L=i[w.id];L===void 0&&(L={},i[w.id]=L);let E=L[A.id];E===void 0&&(E={},L[A.id]=E);let O=E[R];return O===void 0&&(O=h(l()),E[R]=O),O}function h(w){const A=[],P=[],R=[];for(let L=0;L<n;L++)A[L]=0,P[L]=0,R[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:A,enabledAttributes:P,attributeDivisors:R,object:w,attributes:{},index:null}}function d(w,A,P,R){const L=o.attributes,E=A.attributes;let O=0;const $=P.getAttributes();for(const H in $)if($[H].location>=0){const Y=L[H];let ae=E[H];if(ae===void 0&&(H==="instanceMatrix"&&w.instanceMatrix&&(ae=w.instanceMatrix),H==="instanceColor"&&w.instanceColor&&(ae=w.instanceColor)),Y===void 0||Y.attribute!==ae||ae&&Y.data!==ae.data)return!0;O++}return o.attributesNum!==O||o.index!==R}function p(w,A,P,R){const L={},E=A.attributes;let O=0;const $=P.getAttributes();for(const H in $)if($[H].location>=0){let Y=E[H];Y===void 0&&(H==="instanceMatrix"&&w.instanceMatrix&&(Y=w.instanceMatrix),H==="instanceColor"&&w.instanceColor&&(Y=w.instanceColor));const ae={};ae.attribute=Y,Y&&Y.data&&(ae.data=Y.data),L[H]=ae,O++}o.attributes=L,o.attributesNum=O,o.index=R}function g(){const w=o.newAttributes;for(let A=0,P=w.length;A<P;A++)w[A]=0}function v(w){m(w,0)}function m(w,A){const P=o.newAttributes,R=o.enabledAttributes,L=o.attributeDivisors;P[w]=1,R[w]===0&&(t.enableVertexAttribArray(w),R[w]=1),L[w]!==A&&(t.vertexAttribDivisor(w,A),L[w]=A)}function y(){const w=o.newAttributes,A=o.enabledAttributes;for(let P=0,R=A.length;P<R;P++)A[P]!==w[P]&&(t.disableVertexAttribArray(P),A[P]=0)}function _(w,A,P,R,L,E,O){O===!0?t.vertexAttribIPointer(w,A,P,L,E):t.vertexAttribPointer(w,A,P,R,L,E)}function b(w,A,P,R){g();const L=R.attributes,E=P.getAttributes(),O=A.defaultAttributeValues;for(const $ in E){const H=E[$];if(H.location>=0){let V=L[$];if(V===void 0&&($==="instanceMatrix"&&w.instanceMatrix&&(V=w.instanceMatrix),$==="instanceColor"&&w.instanceColor&&(V=w.instanceColor)),V!==void 0){const Y=V.normalized,ae=V.itemSize,oe=e.get(V);if(oe===void 0)continue;const xe=oe.buffer,Z=oe.type,ve=oe.bytesPerElement,ye=Z===t.INT||Z===t.UNSIGNED_INT||V.gpuType===Z_;if(V.isInterleavedBufferAttribute){const ge=V.data,Ce=ge.stride,ce=V.offset;if(ge.isInstancedInterleavedBuffer){for(let J=0;J<H.locationSize;J++)m(H.location+J,ge.meshPerAttribute);w.isInstancedMesh!==!0&&R._maxInstanceCount===void 0&&(R._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let J=0;J<H.locationSize;J++)v(H.location+J);t.bindBuffer(t.ARRAY_BUFFER,xe);for(let J=0;J<H.locationSize;J++)_(H.location+J,ae/H.locationSize,Z,Y,Ce*ve,(ce+ae/H.locationSize*J)*ve,ye)}else{if(V.isInstancedBufferAttribute){for(let ge=0;ge<H.locationSize;ge++)m(H.location+ge,V.meshPerAttribute);w.isInstancedMesh!==!0&&R._maxInstanceCount===void 0&&(R._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let ge=0;ge<H.locationSize;ge++)v(H.location+ge);t.bindBuffer(t.ARRAY_BUFFER,xe);for(let ge=0;ge<H.locationSize;ge++)_(H.location+ge,ae/H.locationSize,Z,Y,ae*ve,ae/H.locationSize*ge*ve,ye)}}else if(O!==void 0){const Y=O[$];if(Y!==void 0)switch(Y.length){case 2:t.vertexAttrib2fv(H.location,Y);break;case 3:t.vertexAttrib3fv(H.location,Y);break;case 4:t.vertexAttrib4fv(H.location,Y);break;default:t.vertexAttrib1fv(H.location,Y)}}}}y()}function T(){C();for(const w in i){const A=i[w];for(const P in A){const R=A[P];for(const L in R)u(R[L].object),delete R[L];delete A[P]}delete i[w]}}function x(w){if(i[w.id]===void 0)return;const A=i[w.id];for(const P in A){const R=A[P];for(const L in R)u(R[L].object),delete R[L];delete A[P]}delete i[w.id]}function S(w){for(const A in i){const P=i[A];if(P[w.id]===void 0)continue;const R=P[w.id];for(const L in R)u(R[L].object),delete R[L];delete P[w.id]}}function C(){M(),a=!0,o!==r&&(o=r,c(o.object))}function M(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:s,reset:C,resetDefaultState:M,dispose:T,releaseStatesOfGeometry:x,releaseStatesOfProgram:S,initAttributes:g,enableAttribute:v,disableUnusedAttributes:y}}function q0e(t,e,n){let i;function r(c){i=c}function o(c,u){t.drawArrays(i,c,u),n.update(u,i,1)}function a(c,u,f){f!==0&&(t.drawArraysInstanced(i,c,u,f),n.update(u,i,f))}function s(c,u,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,u,0,f);let d=0;for(let p=0;p<f;p++)d+=u[p];n.update(d,i,1)}function l(c,u,f,h){if(f===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let p=0;p<c.length;p++)a(c[p],u[p],h[p]);else{d.multiDrawArraysInstancedWEBGL(i,c,0,u,0,h,0,f);let p=0;for(let g=0;g<f;g++)p+=u[g]*h[g];n.update(p,i,1)}}this.setMode=r,this.render=o,this.renderInstances=a,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function K0e(t,e,n,i){let r;function o(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const S=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(S){return!(S!==Ri&&i.convert(S)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(S){const C=S===Xo&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(S!==na&&i.convert(S)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&S!==Qn&&!C)}function l(S){if(S==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";S="mediump"}return S==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=n.logarithmicDepthBuffer===!0,h=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),d=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),T=p>0,x=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:s,precision:c,logarithmicDepthBuffer:f,reverseDepthBuffer:h,maxTextures:d,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:v,maxAttributes:m,maxVertexUniforms:y,maxVaryings:_,maxFragmentUniforms:b,vertexTextures:T,maxSamples:x}}function Z0e(t){const e=this;let n=null,i=0,r=!1,o=!1;const a=new Pa,s=new vt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=f.length!==0||h||i!==0||r;return r=h,i=f.length,d},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,h){n=u(f,h,0)},this.setState=function(f,h,d){const p=f.clippingPlanes,g=f.clipIntersection,v=f.clipShadows,m=t.get(f);if(!r||p===null||p.length===0||o&&!v)o?u(null):c();else{const y=o?0:i,_=y*4;let b=m.clippingState||null;l.value=b,b=u(p,h,_,d);for(let T=0;T!==_;++T)b[T]=n[T];m.clippingState=b,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(f,h,d,p){const g=f!==null?f.length:0;let v=null;if(g!==0){if(v=l.value,p!==!0||v===null){const m=d+g*4,y=h.matrixWorldInverse;s.getNormalMatrix(y),(v===null||v.length<m)&&(v=new Float32Array(m));for(let _=0,b=d;_!==g;++_,b+=4)a.copy(f[_]).applyMatrix4(y,s),a.normal.toArray(v,b),v[b+3]=a.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,v}}function J0e(t){let e=new WeakMap;function n(a,s){return s===Yf?a.mapping=ja:s===$p&&(a.mapping=Ys),a}function i(a){if(a&&a.isTexture){const s=a.mapping;if(s===Yf||s===$p)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new _5(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",r),n(c.texture,a.mapping)}else return null}}return a}function r(a){const s=a.target;s.removeEventListener("dispose",r);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:i,dispose:o}}const hf=4,HL=[.125,.215,.35,.446,.526,.582],sc=20,p1=new Sm,VL=new Oe;let m1=null,v1=0,g1=0,y1=!1;const tc=(1+Math.sqrt(5))/2,ju=1/tc,GL=[new G(-tc,ju,0),new G(tc,ju,0),new G(-ju,0,tc),new G(ju,0,tc),new G(0,tc,-ju),new G(0,tc,ju),new G(-1,1,-1),new G(1,1,-1),new G(-1,1,1),new G(1,1,1)];class NM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){m1=this._renderer.getRenderTarget(),v1=this._renderer.getActiveCubeFace(),g1=this._renderer.getActiveMipmapLevel(),y1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,i,r,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=jL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=XL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(m1,v1,g1),this._renderer.xr.enabled=y1,e.scissorTest=!1,Sg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ja||e.mapping===Ys?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),m1=this._renderer.getRenderTarget(),v1=this._renderer.getActiveCubeFace(),g1=this._renderer.getActiveMipmapLevel(),y1=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:sn,minFilter:sn,generateMipmaps:!1,type:Xo,format:Ri,colorSpace:Xn,depthBuffer:!1},r=WL(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=WL(e,n,i);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Q0e(o)),this._blurMaterial=eye(o,e,n)}return r}_compileMaterial(e){const n=new yn(this._lodPlanes[0],e);this._renderer.compile(n,p1)}_sceneToCubeUV(e,n,i,r){const s=new On(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.toneMapping;u.getClearColor(VL),u.toneMapping=$a,u.autoClear=!1;const d=new vr({name:"PMREM.Background",side:Ni,depthWrite:!1,depthTest:!1}),p=new yn(new cu,d);let g=!1;const v=e.background;v?v.isColor&&(d.color.copy(v),e.background=null,g=!0):(d.color.copy(VL),g=!0);for(let m=0;m<6;m++){const y=m%3;y===0?(s.up.set(0,l[m],0),s.lookAt(c[m],0,0)):y===1?(s.up.set(0,0,l[m]),s.lookAt(0,c[m],0)):(s.up.set(0,l[m],0),s.lookAt(0,0,c[m]));const _=this._cubeSize;Sg(r,y*_,m>2?_:0,_,_),u.setRenderTarget(r),g&&u.render(p,s),u.render(e,s)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=f,e.background=v}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===ja||e.mapping===Ys;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=jL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=XL());const o=r?this._cubemapMaterial:this._equirectMaterial,a=new yn(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;Sg(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(a,p1)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let o=1;o<r;o++){const a=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),s=GL[(r-o-1)%GL.length];this._blur(e,o-1,o,a,s)}n.autoClear=i}_blur(e,n,i,r,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,i,r,"latitudinal",o),this._halfBlur(a,e,i,i,r,"longitudinal",o)}_halfBlur(e,n,i,r,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new yn(this._lodPlanes[r],c),h=c.uniforms,d=this._sizeLods[i]-1,p=isFinite(o)?Math.PI/(2*d):2*Math.PI/(2*sc-1),g=o/p,v=isFinite(o)?1+Math.floor(u*g):sc;v>sc&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${sc}`);const m=[];let y=0;for(let S=0;S<sc;++S){const C=S/g,M=Math.exp(-C*C/2);m.push(M),S===0?y+=M:S<v&&(y+=2*M)}for(let S=0;S<m.length;S++)m[S]=m[S]/y;h.envMap.value=e.texture,h.samples.value=v,h.weights.value=m,h.latitudinal.value=a==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:_}=this;h.dTheta.value=p,h.mipInt.value=_-i;const b=this._sizeLods[r],T=3*b*(r>_-hf?r-_+hf:0),x=4*(this._cubeSize-b);Sg(n,T,x,3*b,2*b),l.setRenderTarget(n),l.render(f,p1)}}function Q0e(t){const e=[],n=[],i=[];let r=t;const o=t-hf+1+HL.length;for(let a=0;a<o;a++){const s=Math.pow(2,r);n.push(s);let l=1/s;a>t-hf?l=HL[a-t+hf-1]:a===0&&(l=0),i.push(l);const c=1/(s-2),u=-c,f=1+c,h=[u,u,f,u,f,f,u,u,f,f,u,f],d=6,p=6,g=3,v=2,m=1,y=new Float32Array(g*p*d),_=new Float32Array(v*p*d),b=new Float32Array(m*p*d);for(let x=0;x<d;x++){const S=x%3*2/3-1,C=x>2?0:-1,M=[S,C,0,S+2/3,C,0,S+2/3,C+1,0,S,C,0,S+2/3,C+1,0,S,C+1,0];y.set(M,g*p*x),_.set(h,v*p*x);const w=[x,x,x,x,x,x];b.set(w,m*p*x)}const T=new gt;T.setAttribute("position",new Ot(y,g)),T.setAttribute("uv",new Ot(_,v)),T.setAttribute("faceIndex",new Ot(b,m)),e.push(T),r>hf&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function WL(t,e,n){const i=new wo(t,e,n);return i.texture.mapping=vh,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Sg(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function eye(t,e,n){const i=new Float32Array(sc),r=new G(0,1,0);return new Mo({name:"SphericalGaussianBlur",defines:{n:sc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:tE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ka,depthTest:!1,depthWrite:!1})}function XL(){return new Mo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:tE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ka,depthTest:!1,depthWrite:!1})}function jL(){return new Mo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:tE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ka,depthTest:!1,depthWrite:!1})}function tE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function tye(t){let e=new WeakMap,n=null;function i(s){if(s&&s.isTexture){const l=s.mapping,c=l===Yf||l===$p,u=l===ja||l===Ys;if(c||u){let f=e.get(s);const h=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==h)return n===null&&(n=new NM(t)),f=c?n.fromEquirectangular(s,f):n.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),f.texture;if(f!==void 0)return f.texture;{const d=s.image;return c&&d&&d.height>0||u&&d&&r(d)?(n===null&&(n=new NM(t)),f=c?n.fromEquirectangular(s):n.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),s.addEventListener("dispose",o),f.texture):null}}}return s}function r(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:a}}function nye(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&ef("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function iye(t,e,n,i){const r={},o=new WeakMap;function a(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);h.removeEventListener("dispose",a),delete r[h.id];const d=o.get(h);d&&(e.remove(d),o.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function s(f,h){return r[h.id]===!0||(h.addEventListener("dispose",a),r[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const d in h)e.update(h[d],t.ARRAY_BUFFER)}function c(f){const h=[],d=f.index,p=f.attributes.position;let g=0;if(d!==null){const y=d.array;g=d.version;for(let _=0,b=y.length;_<b;_+=3){const T=y[_+0],x=y[_+1],S=y[_+2];h.push(T,x,x,S,S,T)}}else if(p!==void 0){const y=p.array;g=p.version;for(let _=0,b=y.length/3-1;_<b;_+=3){const T=_+0,x=_+1,S=_+2;h.push(T,x,x,S,S,T)}}else return;const v=new(f5(h)?TA:MA)(h,1);v.version=g;const m=o.get(f);m&&e.remove(m),o.set(f,v)}function u(f){const h=o.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&c(f)}else c(f);return o.get(f)}return{get:s,update:l,getWireframeAttribute:u}}function rye(t,e,n){let i;function r(h){i=h}let o,a;function s(h){o=h.type,a=h.bytesPerElement}function l(h,d){t.drawElements(i,d,o,h*a),n.update(d,i,1)}function c(h,d,p){p!==0&&(t.drawElementsInstanced(i,d,o,h*a,p),n.update(d,i,p))}function u(h,d,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,d,0,o,h,0,p);let v=0;for(let m=0;m<p;m++)v+=d[m];n.update(v,i,1)}function f(h,d,p,g){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let m=0;m<h.length;m++)c(h[m]/a,d[m],g[m]);else{v.multiDrawElementsInstancedWEBGL(i,d,0,o,h,0,g,0,p);let m=0;for(let y=0;y<p;y++)m+=d[y]*g[y];n.update(m,i,1)}}this.setMode=r,this.setIndex=s,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function oye(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function aye(t,e,n){const i=new WeakMap,r=new Rt;function o(a,s,l){const c=a.morphTargetInfluences,u=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=u!==void 0?u.length:0;let h=i.get(s);if(h===void 0||h.count!==f){let w=function(){C.dispose(),i.delete(s),s.removeEventListener("dispose",w)};var d=w;h!==void 0&&h.texture.dispose();const p=s.morphAttributes.position!==void 0,g=s.morphAttributes.normal!==void 0,v=s.morphAttributes.color!==void 0,m=s.morphAttributes.position||[],y=s.morphAttributes.normal||[],_=s.morphAttributes.color||[];let b=0;p===!0&&(b=1),g===!0&&(b=2),v===!0&&(b=3);let T=s.attributes.position.count*b,x=1;T>e.maxTextureSize&&(x=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const S=new Float32Array(T*x*4*f),C=new rb(S,T,x,f);C.type=Qn,C.needsUpdate=!0;const M=b*4;for(let A=0;A<f;A++){const P=m[A],R=y[A],L=_[A],E=T*x*4*A;for(let O=0;O<P.count;O++){const $=O*M;p===!0&&(r.fromBufferAttribute(P,O),S[E+$+0]=r.x,S[E+$+1]=r.y,S[E+$+2]=r.z,S[E+$+3]=0),g===!0&&(r.fromBufferAttribute(R,O),S[E+$+4]=r.x,S[E+$+5]=r.y,S[E+$+6]=r.z,S[E+$+7]=0),v===!0&&(r.fromBufferAttribute(L,O),S[E+$+8]=r.x,S[E+$+9]=r.y,S[E+$+10]=r.z,S[E+$+11]=L.itemSize===4?r.w:1)}}h={count:f,texture:C,size:new be(T,x)},i.set(s,h),s.addEventListener("dispose",w)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let p=0;for(let v=0;v<c.length;v++)p+=c[v];const g=s.morphTargetsRelative?1:1-p;l.getUniforms().setValue(t,"morphTargetBaseInfluence",g),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:o}}function sye(t,e,n,i){let r=new WeakMap;function o(l){const c=i.render.frame,u=l.geometry,f=e.get(l,u);if(r.get(f)!==c&&(e.update(f),r.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return f}function a(){r=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}const h4=new un,YL=new DA(1,1),d4=new rb,p4=new wA,m4=new dm,qL=[],KL=[],ZL=new Float32Array(16),JL=new Float32Array(9),QL=new Float32Array(4);function _h(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let o=qL[r];if(o===void 0&&(o=new Float32Array(r),qL[r]=o),e!==0){i.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function $n(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Hn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Ab(t,e){let n=KL[e];n===void 0&&(n=new Int32Array(e),KL[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function lye(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function cye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if($n(n,e))return;t.uniform2fv(this.addr,e),Hn(n,e)}}function uye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if($n(n,e))return;t.uniform3fv(this.addr,e),Hn(n,e)}}function fye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if($n(n,e))return;t.uniform4fv(this.addr,e),Hn(n,e)}}function hye(t,e){const n=this.cache,i=e.elements;if(i===void 0){if($n(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Hn(n,e)}else{if($n(n,i))return;QL.set(i),t.uniformMatrix2fv(this.addr,!1,QL),Hn(n,i)}}function dye(t,e){const n=this.cache,i=e.elements;if(i===void 0){if($n(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Hn(n,e)}else{if($n(n,i))return;JL.set(i),t.uniformMatrix3fv(this.addr,!1,JL),Hn(n,i)}}function pye(t,e){const n=this.cache,i=e.elements;if(i===void 0){if($n(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Hn(n,e)}else{if($n(n,i))return;ZL.set(i),t.uniformMatrix4fv(this.addr,!1,ZL),Hn(n,i)}}function mye(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function vye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if($n(n,e))return;t.uniform2iv(this.addr,e),Hn(n,e)}}function gye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if($n(n,e))return;t.uniform3iv(this.addr,e),Hn(n,e)}}function yye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if($n(n,e))return;t.uniform4iv(this.addr,e),Hn(n,e)}}function _ye(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function bye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if($n(n,e))return;t.uniform2uiv(this.addr,e),Hn(n,e)}}function xye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if($n(n,e))return;t.uniform3uiv(this.addr,e),Hn(n,e)}}function Sye(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if($n(n,e))return;t.uniform4uiv(this.addr,e),Hn(n,e)}}function wye(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let o;this.type===t.SAMPLER_2D_SHADOW?(YL.compareFunction=bA,o=YL):o=h4,n.setTexture2D(e||o,r)}function Mye(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||p4,r)}function Tye(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||m4,r)}function Cye(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||d4,r)}function Aye(t){switch(t){case 5126:return lye;case 35664:return cye;case 35665:return uye;case 35666:return fye;case 35674:return hye;case 35675:return dye;case 35676:return pye;case 5124:case 35670:return mye;case 35667:case 35671:return vye;case 35668:case 35672:return gye;case 35669:case 35673:return yye;case 5125:return _ye;case 36294:return bye;case 36295:return xye;case 36296:return Sye;case 35678:case 36198:case 36298:case 36306:case 35682:return wye;case 35679:case 36299:case 36307:return Mye;case 35680:case 36300:case 36308:case 36293:return Tye;case 36289:case 36303:case 36311:case 36292:return Cye}}function Eye(t,e){t.uniform1fv(this.addr,e)}function Pye(t,e){const n=_h(e,this.size,2);t.uniform2fv(this.addr,n)}function Iye(t,e){const n=_h(e,this.size,3);t.uniform3fv(this.addr,n)}function Rye(t,e){const n=_h(e,this.size,4);t.uniform4fv(this.addr,n)}function Dye(t,e){const n=_h(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Oye(t,e){const n=_h(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Lye(t,e){const n=_h(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Nye(t,e){t.uniform1iv(this.addr,e)}function Fye(t,e){t.uniform2iv(this.addr,e)}function Bye(t,e){t.uniform3iv(this.addr,e)}function Uye(t,e){t.uniform4iv(this.addr,e)}function zye(t,e){t.uniform1uiv(this.addr,e)}function kye(t,e){t.uniform2uiv(this.addr,e)}function $ye(t,e){t.uniform3uiv(this.addr,e)}function Hye(t,e){t.uniform4uiv(this.addr,e)}function Vye(t,e,n){const i=this.cache,r=e.length,o=Ab(n,r);$n(i,o)||(t.uniform1iv(this.addr,o),Hn(i,o));for(let a=0;a!==r;++a)n.setTexture2D(e[a]||h4,o[a])}function Gye(t,e,n){const i=this.cache,r=e.length,o=Ab(n,r);$n(i,o)||(t.uniform1iv(this.addr,o),Hn(i,o));for(let a=0;a!==r;++a)n.setTexture3D(e[a]||p4,o[a])}function Wye(t,e,n){const i=this.cache,r=e.length,o=Ab(n,r);$n(i,o)||(t.uniform1iv(this.addr,o),Hn(i,o));for(let a=0;a!==r;++a)n.setTextureCube(e[a]||m4,o[a])}function Xye(t,e,n){const i=this.cache,r=e.length,o=Ab(n,r);$n(i,o)||(t.uniform1iv(this.addr,o),Hn(i,o));for(let a=0;a!==r;++a)n.setTexture2DArray(e[a]||d4,o[a])}function jye(t){switch(t){case 5126:return Eye;case 35664:return Pye;case 35665:return Iye;case 35666:return Rye;case 35674:return Dye;case 35675:return Oye;case 35676:return Lye;case 5124:case 35670:return Nye;case 35667:case 35671:return Fye;case 35668:case 35672:return Bye;case 35669:case 35673:return Uye;case 5125:return zye;case 36294:return kye;case 36295:return $ye;case 36296:return Hye;case 35678:case 36198:case 36298:case 36306:case 35682:return Vye;case 35679:case 36299:case 36307:return Gye;case 35680:case 36300:case 36308:case 36293:return Wye;case 36289:case 36303:case 36311:case 36292:return Xye}}class Yye{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=Aye(n.type)}}class qye{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=jye(n.type)}}class Kye{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let o=0,a=r.length;o!==a;++o){const s=r[o];s.setValue(e,n[s.id],i)}}}const _1=/(\w+)(\])?(\[|\.)?/g;function eN(t,e){t.seq.push(e),t.map[e.id]=e}function Zye(t,e,n){const i=t.name,r=i.length;for(_1.lastIndex=0;;){const o=_1.exec(i),a=_1.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===r){eN(n,c===void 0?new Yye(s,t,e):new qye(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new Kye(s),eN(n,f)),n=f}}}class t0{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const o=e.getActiveUniform(n,r),a=e.getUniformLocation(n,o.name);Zye(o,a,this)}}setValue(e,n,i,r){const o=this.map[n];o!==void 0&&o.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=i[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,o=e.length;r!==o;++r){const a=e[r];a.id in n&&i.push(a)}return i}}function tN(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const Jye=37297;let Qye=0;function e_e(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=r;a<o;a++){const s=a+1;i.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return i.join(`
`)}const nN=new vt;function t_e(t){wt._getMatrix(nN,wt.workingColorSpace,t);const e=`mat3( ${nN.elements.map(n=>n.toFixed(4))} )`;switch(wt.getTransfer(t)){case Vp:return[e,"LinearTransferOETF"];case $t:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function iN(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+r+`

`+e_e(t.getShaderSource(e),a)}else return r}function n_e(t,e){const n=t_e(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function i_e(t,e){let n;switch(e){case VH:n="Linear";break;case GH:n="Reinhard";break;case WH:n="Cineon";break;case XH:n="ACESFilmic";break;case YH:n="AgX";break;case qH:n="Neutral";break;case jH:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const wg=new G;function r_e(){wt.getLuminanceCoefficients(wg);const t=wg.x.toFixed(4),e=wg.y.toFixed(4),n=wg.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function o_e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Md).join(`
`)}function a_e(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function s_e(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const o=t.getActiveAttrib(e,r),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function Md(t){return t!==""}function rN(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function oN(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const l_e=/^[ \t]*#include +<([\w\d./]+)>/gm;function FM(t){return t.replace(l_e,u_e)}const c_e=new Map;function u_e(t,e){let n=bt[e];if(n===void 0){const i=c_e.get(e);if(i!==void 0)n=bt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return FM(n)}const f_e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function aN(t){return t.replace(f_e,h_e)}function h_e(t,e,n,i){let r="";for(let o=parseInt(e);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function sN(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function d_e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===lA?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===SH?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Bo&&(e="SHADOWMAP_TYPE_VSM"),e}function p_e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ja:case Ys:e="ENVMAP_TYPE_CUBE";break;case vh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function m_e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ys:e="ENVMAP_MODE_REFRACTION";break}return e}function v_e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case fm:e="ENVMAP_BLENDING_MULTIPLY";break;case $H:e="ENVMAP_BLENDING_MIX";break;case HH:e="ENVMAP_BLENDING_ADD";break}return e}function g_e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function y_e(t,e,n,i){const r=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=d_e(n),c=p_e(n),u=m_e(n),f=v_e(n),h=g_e(n),d=o_e(n),p=a_e(o),g=r.createProgram();let v,m,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Md).join(`
`),v.length>0&&(v+=`
`),m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Md).join(`
`),m.length>0&&(m+=`
`)):(v=[sN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Md).join(`
`),m=[sN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==$a?"#define TONE_MAPPING":"",n.toneMapping!==$a?bt.tonemapping_pars_fragment:"",n.toneMapping!==$a?i_e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",bt.colorspace_pars_fragment,n_e("linearToOutputTexel",n.outputColorSpace),r_e(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Md).join(`
`)),a=FM(a),a=rN(a,n),a=oN(a,n),s=FM(s),s=rN(s,n),s=oN(s,n),a=aN(a),s=aN(s),n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,v=[d,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,m=["#define varying in",n.glslVersion===AM?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===AM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const _=y+v+a,b=y+m+s,T=tN(r,r.VERTEX_SHADER,_),x=tN(r,r.FRAGMENT_SHADER,b);r.attachShader(g,T),r.attachShader(g,x),n.index0AttributeName!==void 0?r.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g);function S(A){if(t.debug.checkShaderErrors){const P=r.getProgramInfoLog(g).trim(),R=r.getShaderInfoLog(T).trim(),L=r.getShaderInfoLog(x).trim();let E=!0,O=!0;if(r.getProgramParameter(g,r.LINK_STATUS)===!1)if(E=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,g,T,x);else{const $=iN(r,T,"vertex"),H=iN(r,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,r.VALIDATE_STATUS)+`

Material Name: `+A.name+`
Material Type: `+A.type+`

Program Info Log: `+P+`
`+$+`
`+H)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(R===""||L==="")&&(O=!1);O&&(A.diagnostics={runnable:E,programLog:P,vertexShader:{log:R,prefix:v},fragmentShader:{log:L,prefix:m}})}r.deleteShader(T),r.deleteShader(x),C=new t0(r,g),M=s_e(r,g)}let C;this.getUniforms=function(){return C===void 0&&S(this),C};let M;this.getAttributes=function(){return M===void 0&&S(this),M};let w=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return w===!1&&(w=r.getProgramParameter(g,Jye)),w},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Qye++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=T,this.fragmentShader=x,this}let __e=0;class b_e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),o=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new x_e(e),n.set(e,i)),i}}class x_e{constructor(e){this.id=__e++,this.code=e,this.usedTimes=0}}function S_e(t,e,n,i,r,o,a){const s=new ob,l=new b_e,c=new Set,u=[],f=r.logarithmicDepthBuffer,h=r.vertexTextures;let d=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(M){return c.add(M),M===0?"uv":`uv${M}`}function v(M,w,A,P,R){const L=P.fog,E=R.geometry,O=M.isMeshStandardMaterial?P.environment:null,$=(M.isMeshStandardMaterial?n:e).get(M.envMap||O),H=$&&$.mapping===vh?$.image.height:null,V=p[M.type];M.precision!==null&&(d=r.getMaxPrecision(M.precision),d!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",d,"instead."));const Y=E.morphAttributes.position||E.morphAttributes.normal||E.morphAttributes.color,ae=Y!==void 0?Y.length:0;let oe=0;E.morphAttributes.position!==void 0&&(oe=1),E.morphAttributes.normal!==void 0&&(oe=2),E.morphAttributes.color!==void 0&&(oe=3);let xe,Z,ve,ye;if(V){const Pt=ho[V];xe=Pt.vertexShader,Z=Pt.fragmentShader}else xe=M.vertexShader,Z=M.fragmentShader,l.update(M),ve=l.getVertexShaderID(M),ye=l.getFragmentShaderID(M);const ge=t.getRenderTarget(),Ce=t.state.buffers.depth.getReversed(),ce=R.isInstancedMesh===!0,J=R.isBatchedMesh===!0,Q=!!M.map,D=!!M.matcap,U=!!$,I=!!M.aoMap,K=!!M.lightMap,X=!!M.bumpMap,te=!!M.normalMap,ee=!!M.displacementMap,fe=!!M.emissiveMap,le=!!M.metalnessMap,F=!!M.roughnessMap,N=M.anisotropy>0,j=M.clearcoat>0,re=M.dispersion>0,he=M.iridescence>0,ue=M.sheen>0,Ee=M.transmission>0,Me=N&&!!M.anisotropyMap,Re=j&&!!M.clearcoatMap,Ze=j&&!!M.clearcoatNormalMap,Te=j&&!!M.clearcoatRoughnessMap,Le=he&&!!M.iridescenceMap,Ye=he&&!!M.iridescenceThicknessMap,it=ue&&!!M.sheenColorMap,De=ue&&!!M.sheenRoughnessMap,ot=!!M.specularMap,lt=!!M.specularColorMap,Gt=!!M.specularIntensityMap,ne=Ee&&!!M.transmissionMap,Ue=Ee&&!!M.thicknessMap,_e=!!M.gradientMap,Se=!!M.alphaMap,$e=M.alphaTest>0,ke=!!M.alphaHash,yt=!!M.extensions;let fn=$a;M.toneMapped&&(ge===null||ge.isXRRenderTarget===!0)&&(fn=t.toneMapping);const Tn={shaderID:V,shaderType:M.type,shaderName:M.name,vertexShader:xe,fragmentShader:Z,defines:M.defines,customVertexShaderID:ve,customFragmentShaderID:ye,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:d,batching:J,batchingColor:J&&R._colorsTexture!==null,instancing:ce,instancingColor:ce&&R.instanceColor!==null,instancingMorph:ce&&R.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:ge===null?t.outputColorSpace:ge.isXRRenderTarget===!0?ge.texture.colorSpace:Xn,alphaToCoverage:!!M.alphaToCoverage,map:Q,matcap:D,envMap:U,envMapMode:U&&$.mapping,envMapCubeUVHeight:H,aoMap:I,lightMap:K,bumpMap:X,normalMap:te,displacementMap:h&&ee,emissiveMap:fe,normalMapObjectSpace:te&&M.normalMapType===i5,normalMapTangentSpace:te&&M.normalMapType===ol,metalnessMap:le,roughnessMap:F,anisotropy:N,anisotropyMap:Me,clearcoat:j,clearcoatMap:Re,clearcoatNormalMap:Ze,clearcoatRoughnessMap:Te,dispersion:re,iridescence:he,iridescenceMap:Le,iridescenceThicknessMap:Ye,sheen:ue,sheenColorMap:it,sheenRoughnessMap:De,specularMap:ot,specularColorMap:lt,specularIntensityMap:Gt,transmission:Ee,transmissionMap:ne,thicknessMap:Ue,gradientMap:_e,opaque:M.transparent===!1&&M.blending===Ac&&M.alphaToCoverage===!1,alphaMap:Se,alphaTest:$e,alphaHash:ke,combine:M.combine,mapUv:Q&&g(M.map.channel),aoMapUv:I&&g(M.aoMap.channel),lightMapUv:K&&g(M.lightMap.channel),bumpMapUv:X&&g(M.bumpMap.channel),normalMapUv:te&&g(M.normalMap.channel),displacementMapUv:ee&&g(M.displacementMap.channel),emissiveMapUv:fe&&g(M.emissiveMap.channel),metalnessMapUv:le&&g(M.metalnessMap.channel),roughnessMapUv:F&&g(M.roughnessMap.channel),anisotropyMapUv:Me&&g(M.anisotropyMap.channel),clearcoatMapUv:Re&&g(M.clearcoatMap.channel),clearcoatNormalMapUv:Ze&&g(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Te&&g(M.clearcoatRoughnessMap.channel),iridescenceMapUv:Le&&g(M.iridescenceMap.channel),iridescenceThicknessMapUv:Ye&&g(M.iridescenceThicknessMap.channel),sheenColorMapUv:it&&g(M.sheenColorMap.channel),sheenRoughnessMapUv:De&&g(M.sheenRoughnessMap.channel),specularMapUv:ot&&g(M.specularMap.channel),specularColorMapUv:lt&&g(M.specularColorMap.channel),specularIntensityMapUv:Gt&&g(M.specularIntensityMap.channel),transmissionMapUv:ne&&g(M.transmissionMap.channel),thicknessMapUv:Ue&&g(M.thicknessMap.channel),alphaMapUv:Se&&g(M.alphaMap.channel),vertexTangents:!!E.attributes.tangent&&(te||N),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!E.attributes.color&&E.attributes.color.itemSize===4,pointsUvs:R.isPoints===!0&&!!E.attributes.uv&&(Q||Se),fog:!!L,useFog:M.fog===!0,fogExp2:!!L&&L.isFogExp2,flatShading:M.flatShading===!0,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:Ce,skinning:R.isSkinnedMesh===!0,morphTargets:E.morphAttributes.position!==void 0,morphNormals:E.morphAttributes.normal!==void 0,morphColors:E.morphAttributes.color!==void 0,morphTargetsCount:ae,morphTextureStride:oe,numDirLights:w.directional.length,numPointLights:w.point.length,numSpotLights:w.spot.length,numSpotLightMaps:w.spotLightMap.length,numRectAreaLights:w.rectArea.length,numHemiLights:w.hemi.length,numDirLightShadows:w.directionalShadowMap.length,numPointLightShadows:w.pointShadowMap.length,numSpotLightShadows:w.spotShadowMap.length,numSpotLightShadowsWithMaps:w.numSpotLightShadowsWithMaps,numLightProbes:w.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:M.dithering,shadowMapEnabled:t.shadowMap.enabled&&A.length>0,shadowMapType:t.shadowMap.type,toneMapping:fn,decodeVideoTexture:Q&&M.map.isVideoTexture===!0&&wt.getTransfer(M.map.colorSpace)===$t,decodeVideoTextureEmissive:fe&&M.emissiveMap.isVideoTexture===!0&&wt.getTransfer(M.emissiveMap.colorSpace)===$t,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===Gr,flipSided:M.side===Ni,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionClipCullDistance:yt&&M.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(yt&&M.extensions.multiDraw===!0||J)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:M.customProgramCacheKey()};return Tn.vertexUv1s=c.has(1),Tn.vertexUv2s=c.has(2),Tn.vertexUv3s=c.has(3),c.clear(),Tn}function m(M){const w=[];if(M.shaderID?w.push(M.shaderID):(w.push(M.customVertexShaderID),w.push(M.customFragmentShaderID)),M.defines!==void 0)for(const A in M.defines)w.push(A),w.push(M.defines[A]);return M.isRawShaderMaterial===!1&&(y(w,M),_(w,M),w.push(t.outputColorSpace)),w.push(M.customProgramCacheKey),w.join()}function y(M,w){M.push(w.precision),M.push(w.outputColorSpace),M.push(w.envMapMode),M.push(w.envMapCubeUVHeight),M.push(w.mapUv),M.push(w.alphaMapUv),M.push(w.lightMapUv),M.push(w.aoMapUv),M.push(w.bumpMapUv),M.push(w.normalMapUv),M.push(w.displacementMapUv),M.push(w.emissiveMapUv),M.push(w.metalnessMapUv),M.push(w.roughnessMapUv),M.push(w.anisotropyMapUv),M.push(w.clearcoatMapUv),M.push(w.clearcoatNormalMapUv),M.push(w.clearcoatRoughnessMapUv),M.push(w.iridescenceMapUv),M.push(w.iridescenceThicknessMapUv),M.push(w.sheenColorMapUv),M.push(w.sheenRoughnessMapUv),M.push(w.specularMapUv),M.push(w.specularColorMapUv),M.push(w.specularIntensityMapUv),M.push(w.transmissionMapUv),M.push(w.thicknessMapUv),M.push(w.combine),M.push(w.fogExp2),M.push(w.sizeAttenuation),M.push(w.morphTargetsCount),M.push(w.morphAttributeCount),M.push(w.numDirLights),M.push(w.numPointLights),M.push(w.numSpotLights),M.push(w.numSpotLightMaps),M.push(w.numHemiLights),M.push(w.numRectAreaLights),M.push(w.numDirLightShadows),M.push(w.numPointLightShadows),M.push(w.numSpotLightShadows),M.push(w.numSpotLightShadowsWithMaps),M.push(w.numLightProbes),M.push(w.shadowMapType),M.push(w.toneMapping),M.push(w.numClippingPlanes),M.push(w.numClipIntersection),M.push(w.depthPacking)}function _(M,w){s.disableAll(),w.supportsVertexTextures&&s.enable(0),w.instancing&&s.enable(1),w.instancingColor&&s.enable(2),w.instancingMorph&&s.enable(3),w.matcap&&s.enable(4),w.envMap&&s.enable(5),w.normalMapObjectSpace&&s.enable(6),w.normalMapTangentSpace&&s.enable(7),w.clearcoat&&s.enable(8),w.iridescence&&s.enable(9),w.alphaTest&&s.enable(10),w.vertexColors&&s.enable(11),w.vertexAlphas&&s.enable(12),w.vertexUv1s&&s.enable(13),w.vertexUv2s&&s.enable(14),w.vertexUv3s&&s.enable(15),w.vertexTangents&&s.enable(16),w.anisotropy&&s.enable(17),w.alphaHash&&s.enable(18),w.batching&&s.enable(19),w.dispersion&&s.enable(20),w.batchingColor&&s.enable(21),M.push(s.mask),s.disableAll(),w.fog&&s.enable(0),w.useFog&&s.enable(1),w.flatShading&&s.enable(2),w.logarithmicDepthBuffer&&s.enable(3),w.reverseDepthBuffer&&s.enable(4),w.skinning&&s.enable(5),w.morphTargets&&s.enable(6),w.morphNormals&&s.enable(7),w.morphColors&&s.enable(8),w.premultipliedAlpha&&s.enable(9),w.shadowMapEnabled&&s.enable(10),w.doubleSided&&s.enable(11),w.flipSided&&s.enable(12),w.useDepthPacking&&s.enable(13),w.dithering&&s.enable(14),w.transmission&&s.enable(15),w.sheen&&s.enable(16),w.opaque&&s.enable(17),w.pointsUvs&&s.enable(18),w.decodeVideoTexture&&s.enable(19),w.decodeVideoTextureEmissive&&s.enable(20),w.alphaToCoverage&&s.enable(21),M.push(s.mask)}function b(M){const w=p[M.type];let A;if(w){const P=ho[w];A=g5.clone(P.uniforms)}else A=M.uniforms;return A}function T(M,w){let A;for(let P=0,R=u.length;P<R;P++){const L=u[P];if(L.cacheKey===w){A=L,++A.usedTimes;break}}return A===void 0&&(A=new y_e(t,w,M,o),u.push(A)),A}function x(M){if(--M.usedTimes===0){const w=u.indexOf(M);u[w]=u[u.length-1],u.pop(),M.destroy()}}function S(M){l.remove(M)}function C(){l.dispose()}return{getParameters:v,getProgramCacheKey:m,getUniforms:b,acquireProgram:T,releaseProgram:x,releaseShaderCache:S,programs:u,dispose:C}}function w_e(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let s=t.get(a);return s===void 0&&(s={},t.set(a,s)),s}function i(a){t.delete(a)}function r(a,s,l){t.get(a)[s]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:o}}function M_e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function lN(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function cN(){const t=[];let e=0;const n=[],i=[],r=[];function o(){e=0,n.length=0,i.length=0,r.length=0}function a(f,h,d,p,g,v){let m=t[e];return m===void 0?(m={id:f.id,object:f,geometry:h,material:d,groupOrder:p,renderOrder:f.renderOrder,z:g,group:v},t[e]=m):(m.id=f.id,m.object=f,m.geometry=h,m.material=d,m.groupOrder=p,m.renderOrder=f.renderOrder,m.z=g,m.group=v),e++,m}function s(f,h,d,p,g,v){const m=a(f,h,d,p,g,v);d.transmission>0?i.push(m):d.transparent===!0?r.push(m):n.push(m)}function l(f,h,d,p,g,v){const m=a(f,h,d,p,g,v);d.transmission>0?i.unshift(m):d.transparent===!0?r.unshift(m):n.unshift(m)}function c(f,h){n.length>1&&n.sort(f||M_e),i.length>1&&i.sort(h||lN),r.length>1&&r.sort(h||lN)}function u(){for(let f=e,h=t.length;f<h;f++){const d=t[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:n,transmissive:i,transparent:r,init:o,push:s,unshift:l,finish:u,sort:c}}function T_e(){let t=new WeakMap;function e(i,r){const o=t.get(i);let a;return o===void 0?(a=new cN,t.set(i,[a])):r>=o.length?(a=new cN,o.push(a)):a=o[r],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function C_e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new G,color:new Oe};break;case"SpotLight":n={position:new G,direction:new G,color:new Oe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new G,color:new Oe,distance:0,decay:0};break;case"HemisphereLight":n={direction:new G,skyColor:new Oe,groundColor:new Oe};break;case"RectAreaLight":n={color:new Oe,position:new G,halfWidth:new G,halfHeight:new G};break}return t[e.id]=n,n}}}function A_e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new be};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new be};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new be,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let E_e=0;function P_e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function I_e(t){const e=new C_e,n=A_e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new G);const r=new G,o=new et,a=new et;function s(c){let u=0,f=0,h=0;for(let M=0;M<9;M++)i.probe[M].set(0,0,0);let d=0,p=0,g=0,v=0,m=0,y=0,_=0,b=0,T=0,x=0,S=0;c.sort(P_e);for(let M=0,w=c.length;M<w;M++){const A=c[M],P=A.color,R=A.intensity,L=A.distance,E=A.shadow&&A.shadow.map?A.shadow.map.texture:null;if(A.isAmbientLight)u+=P.r*R,f+=P.g*R,h+=P.b*R;else if(A.isLightProbe){for(let O=0;O<9;O++)i.probe[O].addScaledVector(A.sh.coefficients[O],R);S++}else if(A.isDirectionalLight){const O=e.get(A);if(O.color.copy(A.color).multiplyScalar(A.intensity),A.castShadow){const $=A.shadow,H=n.get(A);H.shadowIntensity=$.intensity,H.shadowBias=$.bias,H.shadowNormalBias=$.normalBias,H.shadowRadius=$.radius,H.shadowMapSize=$.mapSize,i.directionalShadow[d]=H,i.directionalShadowMap[d]=E,i.directionalShadowMatrix[d]=A.shadow.matrix,y++}i.directional[d]=O,d++}else if(A.isSpotLight){const O=e.get(A);O.position.setFromMatrixPosition(A.matrixWorld),O.color.copy(P).multiplyScalar(R),O.distance=L,O.coneCos=Math.cos(A.angle),O.penumbraCos=Math.cos(A.angle*(1-A.penumbra)),O.decay=A.decay,i.spot[g]=O;const $=A.shadow;if(A.map&&(i.spotLightMap[T]=A.map,T++,$.updateMatrices(A),A.castShadow&&x++),i.spotLightMatrix[g]=$.matrix,A.castShadow){const H=n.get(A);H.shadowIntensity=$.intensity,H.shadowBias=$.bias,H.shadowNormalBias=$.normalBias,H.shadowRadius=$.radius,H.shadowMapSize=$.mapSize,i.spotShadow[g]=H,i.spotShadowMap[g]=E,b++}g++}else if(A.isRectAreaLight){const O=e.get(A);O.color.copy(P).multiplyScalar(R),O.halfWidth.set(A.width*.5,0,0),O.halfHeight.set(0,A.height*.5,0),i.rectArea[v]=O,v++}else if(A.isPointLight){const O=e.get(A);if(O.color.copy(A.color).multiplyScalar(A.intensity),O.distance=A.distance,O.decay=A.decay,A.castShadow){const $=A.shadow,H=n.get(A);H.shadowIntensity=$.intensity,H.shadowBias=$.bias,H.shadowNormalBias=$.normalBias,H.shadowRadius=$.radius,H.shadowMapSize=$.mapSize,H.shadowCameraNear=$.camera.near,H.shadowCameraFar=$.camera.far,i.pointShadow[p]=H,i.pointShadowMap[p]=E,i.pointShadowMatrix[p]=A.shadow.matrix,_++}i.point[p]=O,p++}else if(A.isHemisphereLight){const O=e.get(A);O.skyColor.copy(A.color).multiplyScalar(R),O.groundColor.copy(A.groundColor).multiplyScalar(R),i.hemi[m]=O,m++}}v>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ne.LTC_FLOAT_1,i.rectAreaLTC2=Ne.LTC_FLOAT_2):(i.rectAreaLTC1=Ne.LTC_HALF_1,i.rectAreaLTC2=Ne.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=f,i.ambient[2]=h;const C=i.hash;(C.directionalLength!==d||C.pointLength!==p||C.spotLength!==g||C.rectAreaLength!==v||C.hemiLength!==m||C.numDirectionalShadows!==y||C.numPointShadows!==_||C.numSpotShadows!==b||C.numSpotMaps!==T||C.numLightProbes!==S)&&(i.directional.length=d,i.spot.length=g,i.rectArea.length=v,i.point.length=p,i.hemi.length=m,i.directionalShadow.length=y,i.directionalShadowMap.length=y,i.pointShadow.length=_,i.pointShadowMap.length=_,i.spotShadow.length=b,i.spotShadowMap.length=b,i.directionalShadowMatrix.length=y,i.pointShadowMatrix.length=_,i.spotLightMatrix.length=b+T-x,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=x,i.numLightProbes=S,C.directionalLength=d,C.pointLength=p,C.spotLength=g,C.rectAreaLength=v,C.hemiLength=m,C.numDirectionalShadows=y,C.numPointShadows=_,C.numSpotShadows=b,C.numSpotMaps=T,C.numLightProbes=S,i.version=E_e++)}function l(c,u){let f=0,h=0,d=0,p=0,g=0;const v=u.matrixWorldInverse;for(let m=0,y=c.length;m<y;m++){const _=c[m];if(_.isDirectionalLight){const b=i.directional[f];b.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(v),f++}else if(_.isSpotLight){const b=i.spot[d];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(v),b.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(v),d++}else if(_.isRectAreaLight){const b=i.rectArea[p];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(v),a.identity(),o.copy(_.matrixWorld),o.premultiply(v),a.extractRotation(o),b.halfWidth.set(_.width*.5,0,0),b.halfHeight.set(0,_.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),p++}else if(_.isPointLight){const b=i.point[h];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(v),h++}else if(_.isHemisphereLight){const b=i.hemi[g];b.direction.setFromMatrixPosition(_.matrixWorld),b.direction.transformDirection(v),g++}}}return{setup:s,setupView:l,state:i}}function uN(t){const e=new I_e(t),n=[],i=[];function r(u){c.camera=u,n.length=0,i.length=0}function o(u){n.push(u)}function a(u){i.push(u)}function s(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:s,setupLightsView:l,pushLight:o,pushShadow:a}}function R_e(t){let e=new WeakMap;function n(r,o=0){const a=e.get(r);let s;return a===void 0?(s=new uN(t),e.set(r,[s])):o>=a.length?(s=new uN(t),a.push(s)):s=a[o],s}function i(){e=new WeakMap}return{get:n,dispose:i}}const D_e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,O_e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function L_e(t,e,n){let i=new gm;const r=new be,o=new be,a=new Rt,s=new kA({depthPacking:n5}),l=new $A,c={},u=n.maxTextureSize,f={[ta]:Ni,[Ni]:ta,[Gr]:Gr},h=new Mo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new be},radius:{value:4}},vertexShader:D_e,fragmentShader:O_e}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const p=new gt;p.setAttribute("position",new Ot(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new yn(p,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=lA;let m=this.type;this.render=function(x,S,C){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||x.length===0)return;const M=t.getRenderTarget(),w=t.getActiveCubeFace(),A=t.getActiveMipmapLevel(),P=t.state;P.setBlending(ka),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);const R=m!==Bo&&this.type===Bo,L=m===Bo&&this.type!==Bo;for(let E=0,O=x.length;E<O;E++){const $=x[E],H=$.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",$,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;r.copy(H.mapSize);const V=H.getFrameExtents();if(r.multiply(V),o.copy(H.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(o.x=Math.floor(u/V.x),r.x=o.x*V.x,H.mapSize.x=o.x),r.y>u&&(o.y=Math.floor(u/V.y),r.y=o.y*V.y,H.mapSize.y=o.y)),H.map===null||R===!0||L===!0){const ae=this.type!==Bo?{minFilter:Fn,magFilter:Fn}:{};H.map!==null&&H.map.dispose(),H.map=new wo(r.x,r.y,ae),H.map.texture.name=$.name+".shadowMap",H.camera.updateProjectionMatrix()}t.setRenderTarget(H.map),t.clear();const Y=H.getViewportCount();for(let ae=0;ae<Y;ae++){const oe=H.getViewport(ae);a.set(o.x*oe.x,o.y*oe.y,o.x*oe.z,o.y*oe.w),P.viewport(a),H.updateMatrices($,ae),i=H.getFrustum(),b(S,C,H.camera,$,this.type)}H.isPointLightShadow!==!0&&this.type===Bo&&y(H,C),H.needsUpdate=!1}m=this.type,v.needsUpdate=!1,t.setRenderTarget(M,w,A)};function y(x,S){const C=e.update(g);h.defines.VSM_SAMPLES!==x.blurSamples&&(h.defines.VSM_SAMPLES=x.blurSamples,d.defines.VSM_SAMPLES=x.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),x.mapPass===null&&(x.mapPass=new wo(r.x,r.y)),h.uniforms.shadow_pass.value=x.map.texture,h.uniforms.resolution.value=x.mapSize,h.uniforms.radius.value=x.radius,t.setRenderTarget(x.mapPass),t.clear(),t.renderBufferDirect(S,null,C,h,g,null),d.uniforms.shadow_pass.value=x.mapPass.texture,d.uniforms.resolution.value=x.mapSize,d.uniforms.radius.value=x.radius,t.setRenderTarget(x.map),t.clear(),t.renderBufferDirect(S,null,C,d,g,null)}function _(x,S,C,M){let w=null;const A=C.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(A!==void 0)w=A;else if(w=C.isPointLight===!0?l:s,t.localClippingEnabled&&S.clipShadows===!0&&Array.isArray(S.clippingPlanes)&&S.clippingPlanes.length!==0||S.displacementMap&&S.displacementScale!==0||S.alphaMap&&S.alphaTest>0||S.map&&S.alphaTest>0){const P=w.uuid,R=S.uuid;let L=c[P];L===void 0&&(L={},c[P]=L);let E=L[R];E===void 0&&(E=w.clone(),L[R]=E,S.addEventListener("dispose",T)),w=E}if(w.visible=S.visible,w.wireframe=S.wireframe,M===Bo?w.side=S.shadowSide!==null?S.shadowSide:S.side:w.side=S.shadowSide!==null?S.shadowSide:f[S.side],w.alphaMap=S.alphaMap,w.alphaTest=S.alphaTest,w.map=S.map,w.clipShadows=S.clipShadows,w.clippingPlanes=S.clippingPlanes,w.clipIntersection=S.clipIntersection,w.displacementMap=S.displacementMap,w.displacementScale=S.displacementScale,w.displacementBias=S.displacementBias,w.wireframeLinewidth=S.wireframeLinewidth,w.linewidth=S.linewidth,C.isPointLight===!0&&w.isMeshDistanceMaterial===!0){const P=t.properties.get(w);P.light=C}return w}function b(x,S,C,M,w){if(x.visible===!1)return;if(x.layers.test(S.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&w===Bo)&&(!x.frustumCulled||i.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,x.matrixWorld);const R=e.update(x),L=x.material;if(Array.isArray(L)){const E=R.groups;for(let O=0,$=E.length;O<$;O++){const H=E[O],V=L[H.materialIndex];if(V&&V.visible){const Y=_(x,V,M,w);x.onBeforeShadow(t,x,S,C,R,Y,H),t.renderBufferDirect(C,null,R,Y,x,H),x.onAfterShadow(t,x,S,C,R,Y,H)}}}else if(L.visible){const E=_(x,L,M,w);x.onBeforeShadow(t,x,S,C,R,E,null),t.renderBufferDirect(C,null,R,E,x,null),x.onAfterShadow(t,x,S,C,R,E,null)}}const P=x.children;for(let R=0,L=P.length;R<L;R++)b(P[R],S,C,M,w)}function T(x){x.target.removeEventListener("dispose",T);for(const C in c){const M=c[C],w=x.target.uuid;w in M&&(M[w].dispose(),delete M[w])}}}const N_e={[ay]:sy,[ly]:fy,[cy]:hy,[Wc]:uy,[sy]:ay,[fy]:ly,[hy]:cy,[uy]:Wc};function F_e(t,e){function n(){let ne=!1;const Ue=new Rt;let _e=null;const Se=new Rt(0,0,0,0);return{setMask:function($e){_e!==$e&&!ne&&(t.colorMask($e,$e,$e,$e),_e=$e)},setLocked:function($e){ne=$e},setClear:function($e,ke,yt,fn,Tn){Tn===!0&&($e*=fn,ke*=fn,yt*=fn),Ue.set($e,ke,yt,fn),Se.equals(Ue)===!1&&(t.clearColor($e,ke,yt,fn),Se.copy(Ue))},reset:function(){ne=!1,_e=null,Se.set(-1,0,0,0)}}}function i(){let ne=!1,Ue=!1,_e=null,Se=null,$e=null;return{setReversed:function(ke){if(Ue!==ke){const yt=e.get("EXT_clip_control");Ue?yt.clipControlEXT(yt.LOWER_LEFT_EXT,yt.ZERO_TO_ONE_EXT):yt.clipControlEXT(yt.LOWER_LEFT_EXT,yt.NEGATIVE_ONE_TO_ONE_EXT);const fn=$e;$e=null,this.setClear(fn)}Ue=ke},getReversed:function(){return Ue},setTest:function(ke){ke?ge(t.DEPTH_TEST):Ce(t.DEPTH_TEST)},setMask:function(ke){_e!==ke&&!ne&&(t.depthMask(ke),_e=ke)},setFunc:function(ke){if(Ue&&(ke=N_e[ke]),Se!==ke){switch(ke){case ay:t.depthFunc(t.NEVER);break;case sy:t.depthFunc(t.ALWAYS);break;case ly:t.depthFunc(t.LESS);break;case Wc:t.depthFunc(t.LEQUAL);break;case cy:t.depthFunc(t.EQUAL);break;case uy:t.depthFunc(t.GEQUAL);break;case fy:t.depthFunc(t.GREATER);break;case hy:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Se=ke}},setLocked:function(ke){ne=ke},setClear:function(ke){$e!==ke&&(Ue&&(ke=1-ke),t.clearDepth(ke),$e=ke)},reset:function(){ne=!1,_e=null,Se=null,$e=null,Ue=!1}}}function r(){let ne=!1,Ue=null,_e=null,Se=null,$e=null,ke=null,yt=null,fn=null,Tn=null;return{setTest:function(Pt){ne||(Pt?ge(t.STENCIL_TEST):Ce(t.STENCIL_TEST))},setMask:function(Pt){Ue!==Pt&&!ne&&(t.stencilMask(Pt),Ue=Pt)},setFunc:function(Pt,Fi,Bi){(_e!==Pt||Se!==Fi||$e!==Bi)&&(t.stencilFunc(Pt,Fi,Bi),_e=Pt,Se=Fi,$e=Bi)},setOp:function(Pt,Fi,Bi){(ke!==Pt||yt!==Fi||fn!==Bi)&&(t.stencilOp(Pt,Fi,Bi),ke=Pt,yt=Fi,fn=Bi)},setLocked:function(Pt){ne=Pt},setClear:function(Pt){Tn!==Pt&&(t.clearStencil(Pt),Tn=Pt)},reset:function(){ne=!1,Ue=null,_e=null,Se=null,$e=null,ke=null,yt=null,fn=null,Tn=null}}}const o=new n,a=new i,s=new r,l=new WeakMap,c=new WeakMap;let u={},f={},h=new WeakMap,d=[],p=null,g=!1,v=null,m=null,y=null,_=null,b=null,T=null,x=null,S=new Oe(0,0,0),C=0,M=!1,w=null,A=null,P=null,R=null,L=null;const E=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,$=0;const H=t.getParameter(t.VERSION);H.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(H)[1]),O=$>=1):H.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),O=$>=2);let V=null,Y={};const ae=t.getParameter(t.SCISSOR_BOX),oe=t.getParameter(t.VIEWPORT),xe=new Rt().fromArray(ae),Z=new Rt().fromArray(oe);function ve(ne,Ue,_e,Se){const $e=new Uint8Array(4),ke=t.createTexture();t.bindTexture(ne,ke),t.texParameteri(ne,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ne,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let yt=0;yt<_e;yt++)ne===t.TEXTURE_3D||ne===t.TEXTURE_2D_ARRAY?t.texImage3D(Ue,0,t.RGBA,1,1,Se,0,t.RGBA,t.UNSIGNED_BYTE,$e):t.texImage2D(Ue+yt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,$e);return ke}const ye={};ye[t.TEXTURE_2D]=ve(t.TEXTURE_2D,t.TEXTURE_2D,1),ye[t.TEXTURE_CUBE_MAP]=ve(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ye[t.TEXTURE_2D_ARRAY]=ve(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ye[t.TEXTURE_3D]=ve(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),a.setClear(1),s.setClear(0),ge(t.DEPTH_TEST),a.setFunc(Wc),X(!1),te(xM),ge(t.CULL_FACE),I(ka);function ge(ne){u[ne]!==!0&&(t.enable(ne),u[ne]=!0)}function Ce(ne){u[ne]!==!1&&(t.disable(ne),u[ne]=!1)}function ce(ne,Ue){return f[ne]!==Ue?(t.bindFramebuffer(ne,Ue),f[ne]=Ue,ne===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=Ue),ne===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=Ue),!0):!1}function J(ne,Ue){let _e=d,Se=!1;if(ne){_e=h.get(Ue),_e===void 0&&(_e=[],h.set(Ue,_e));const $e=ne.textures;if(_e.length!==$e.length||_e[0]!==t.COLOR_ATTACHMENT0){for(let ke=0,yt=$e.length;ke<yt;ke++)_e[ke]=t.COLOR_ATTACHMENT0+ke;_e.length=$e.length,Se=!0}}else _e[0]!==t.BACK&&(_e[0]=t.BACK,Se=!0);Se&&t.drawBuffers(_e)}function Q(ne){return p!==ne?(t.useProgram(ne),p=ne,!0):!1}const D={[Es]:t.FUNC_ADD,[MH]:t.FUNC_SUBTRACT,[TH]:t.FUNC_REVERSE_SUBTRACT};D[CH]=t.MIN,D[AH]=t.MAX;const U={[EH]:t.ZERO,[PH]:t.ONE,[IH]:t.SRC_COLOR,[ry]:t.SRC_ALPHA,[FH]:t.SRC_ALPHA_SATURATE,[LH]:t.DST_COLOR,[DH]:t.DST_ALPHA,[RH]:t.ONE_MINUS_SRC_COLOR,[oy]:t.ONE_MINUS_SRC_ALPHA,[NH]:t.ONE_MINUS_DST_COLOR,[OH]:t.ONE_MINUS_DST_ALPHA,[BH]:t.CONSTANT_COLOR,[UH]:t.ONE_MINUS_CONSTANT_COLOR,[zH]:t.CONSTANT_ALPHA,[kH]:t.ONE_MINUS_CONSTANT_ALPHA};function I(ne,Ue,_e,Se,$e,ke,yt,fn,Tn,Pt){if(ne===ka){g===!0&&(Ce(t.BLEND),g=!1);return}if(g===!1&&(ge(t.BLEND),g=!0),ne!==wH){if(ne!==v||Pt!==M){if((m!==Es||b!==Es)&&(t.blendEquation(t.FUNC_ADD),m=Es,b=Es),Pt)switch(ne){case Ac:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case SM:t.blendFunc(t.ONE,t.ONE);break;case wM:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MM:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}else switch(ne){case Ac:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case SM:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case wM:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MM:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}y=null,_=null,T=null,x=null,S.set(0,0,0),C=0,v=ne,M=Pt}return}$e=$e||Ue,ke=ke||_e,yt=yt||Se,(Ue!==m||$e!==b)&&(t.blendEquationSeparate(D[Ue],D[$e]),m=Ue,b=$e),(_e!==y||Se!==_||ke!==T||yt!==x)&&(t.blendFuncSeparate(U[_e],U[Se],U[ke],U[yt]),y=_e,_=Se,T=ke,x=yt),(fn.equals(S)===!1||Tn!==C)&&(t.blendColor(fn.r,fn.g,fn.b,Tn),S.copy(fn),C=Tn),v=ne,M=!1}function K(ne,Ue){ne.side===Gr?Ce(t.CULL_FACE):ge(t.CULL_FACE);let _e=ne.side===Ni;Ue&&(_e=!_e),X(_e),ne.blending===Ac&&ne.transparent===!1?I(ka):I(ne.blending,ne.blendEquation,ne.blendSrc,ne.blendDst,ne.blendEquationAlpha,ne.blendSrcAlpha,ne.blendDstAlpha,ne.blendColor,ne.blendAlpha,ne.premultipliedAlpha),a.setFunc(ne.depthFunc),a.setTest(ne.depthTest),a.setMask(ne.depthWrite),o.setMask(ne.colorWrite);const Se=ne.stencilWrite;s.setTest(Se),Se&&(s.setMask(ne.stencilWriteMask),s.setFunc(ne.stencilFunc,ne.stencilRef,ne.stencilFuncMask),s.setOp(ne.stencilFail,ne.stencilZFail,ne.stencilZPass)),fe(ne.polygonOffset,ne.polygonOffsetFactor,ne.polygonOffsetUnits),ne.alphaToCoverage===!0?ge(t.SAMPLE_ALPHA_TO_COVERAGE):Ce(t.SAMPLE_ALPHA_TO_COVERAGE)}function X(ne){w!==ne&&(ne?t.frontFace(t.CW):t.frontFace(t.CCW),w=ne)}function te(ne){ne!==bH?(ge(t.CULL_FACE),ne!==A&&(ne===xM?t.cullFace(t.BACK):ne===xH?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ce(t.CULL_FACE),A=ne}function ee(ne){ne!==P&&(O&&t.lineWidth(ne),P=ne)}function fe(ne,Ue,_e){ne?(ge(t.POLYGON_OFFSET_FILL),(R!==Ue||L!==_e)&&(t.polygonOffset(Ue,_e),R=Ue,L=_e)):Ce(t.POLYGON_OFFSET_FILL)}function le(ne){ne?ge(t.SCISSOR_TEST):Ce(t.SCISSOR_TEST)}function F(ne){ne===void 0&&(ne=t.TEXTURE0+E-1),V!==ne&&(t.activeTexture(ne),V=ne)}function N(ne,Ue,_e){_e===void 0&&(V===null?_e=t.TEXTURE0+E-1:_e=V);let Se=Y[_e];Se===void 0&&(Se={type:void 0,texture:void 0},Y[_e]=Se),(Se.type!==ne||Se.texture!==Ue)&&(V!==_e&&(t.activeTexture(_e),V=_e),t.bindTexture(ne,Ue||ye[ne]),Se.type=ne,Se.texture=Ue)}function j(){const ne=Y[V];ne!==void 0&&ne.type!==void 0&&(t.bindTexture(ne.type,null),ne.type=void 0,ne.texture=void 0)}function re(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function he(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function ue(){try{t.texSubImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ee(){try{t.texSubImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Me(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Re(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ze(){try{t.texStorage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Te(){try{t.texStorage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Le(){try{t.texImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ye(){try{t.texImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function it(ne){xe.equals(ne)===!1&&(t.scissor(ne.x,ne.y,ne.z,ne.w),xe.copy(ne))}function De(ne){Z.equals(ne)===!1&&(t.viewport(ne.x,ne.y,ne.z,ne.w),Z.copy(ne))}function ot(ne,Ue){let _e=c.get(Ue);_e===void 0&&(_e=new WeakMap,c.set(Ue,_e));let Se=_e.get(ne);Se===void 0&&(Se=t.getUniformBlockIndex(Ue,ne.name),_e.set(ne,Se))}function lt(ne,Ue){const Se=c.get(Ue).get(ne);l.get(Ue)!==Se&&(t.uniformBlockBinding(Ue,Se,ne.__bindingPointIndex),l.set(Ue,Se))}function Gt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},V=null,Y={},f={},h=new WeakMap,d=[],p=null,g=!1,v=null,m=null,y=null,_=null,b=null,T=null,x=null,S=new Oe(0,0,0),C=0,M=!1,w=null,A=null,P=null,R=null,L=null,xe.set(0,0,t.canvas.width,t.canvas.height),Z.set(0,0,t.canvas.width,t.canvas.height),o.reset(),a.reset(),s.reset()}return{buffers:{color:o,depth:a,stencil:s},enable:ge,disable:Ce,bindFramebuffer:ce,drawBuffers:J,useProgram:Q,setBlending:I,setMaterial:K,setFlipSided:X,setCullFace:te,setLineWidth:ee,setPolygonOffset:fe,setScissorTest:le,activeTexture:F,bindTexture:N,unbindTexture:j,compressedTexImage2D:re,compressedTexImage3D:he,texImage2D:Le,texImage3D:Ye,updateUBOMapping:ot,uniformBlockBinding:lt,texStorage2D:Ze,texStorage3D:Te,texSubImage2D:ue,texSubImage3D:Ee,compressedTexSubImage2D:Me,compressedTexSubImage3D:Re,scissor:it,viewport:De,reset:Gt}}function B_e(t,e,n,i,r,o,a){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new be,u=new WeakMap;let f;const h=new WeakMap;let d=!1;try{d=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(F,N){return d?new OffscreenCanvas(F,N):Xp("canvas")}function g(F,N,j){let re=1;const he=le(F);if((he.width>j||he.height>j)&&(re=j/Math.max(he.width,he.height)),re<1)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap||typeof VideoFrame<"u"&&F instanceof VideoFrame){const ue=Math.floor(re*he.width),Ee=Math.floor(re*he.height);f===void 0&&(f=p(ue,Ee));const Me=N?p(ue,Ee):f;return Me.width=ue,Me.height=Ee,Me.getContext("2d").drawImage(F,0,0,ue,Ee),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+he.width+"x"+he.height+") to ("+ue+"x"+Ee+")."),Me}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+he.width+"x"+he.height+")."),F;return F}function v(F){return F.generateMipmaps}function m(F){t.generateMipmap(F)}function y(F){return F.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:F.isWebGL3DRenderTarget?t.TEXTURE_3D:F.isWebGLArrayRenderTarget||F.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(F,N,j,re,he=!1){if(F!==null){if(t[F]!==void 0)return t[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let ue=N;if(N===t.RED&&(j===t.FLOAT&&(ue=t.R32F),j===t.HALF_FLOAT&&(ue=t.R16F),j===t.UNSIGNED_BYTE&&(ue=t.R8)),N===t.RED_INTEGER&&(j===t.UNSIGNED_BYTE&&(ue=t.R8UI),j===t.UNSIGNED_SHORT&&(ue=t.R16UI),j===t.UNSIGNED_INT&&(ue=t.R32UI),j===t.BYTE&&(ue=t.R8I),j===t.SHORT&&(ue=t.R16I),j===t.INT&&(ue=t.R32I)),N===t.RG&&(j===t.FLOAT&&(ue=t.RG32F),j===t.HALF_FLOAT&&(ue=t.RG16F),j===t.UNSIGNED_BYTE&&(ue=t.RG8)),N===t.RG_INTEGER&&(j===t.UNSIGNED_BYTE&&(ue=t.RG8UI),j===t.UNSIGNED_SHORT&&(ue=t.RG16UI),j===t.UNSIGNED_INT&&(ue=t.RG32UI),j===t.BYTE&&(ue=t.RG8I),j===t.SHORT&&(ue=t.RG16I),j===t.INT&&(ue=t.RG32I)),N===t.RGB_INTEGER&&(j===t.UNSIGNED_BYTE&&(ue=t.RGB8UI),j===t.UNSIGNED_SHORT&&(ue=t.RGB16UI),j===t.UNSIGNED_INT&&(ue=t.RGB32UI),j===t.BYTE&&(ue=t.RGB8I),j===t.SHORT&&(ue=t.RGB16I),j===t.INT&&(ue=t.RGB32I)),N===t.RGBA_INTEGER&&(j===t.UNSIGNED_BYTE&&(ue=t.RGBA8UI),j===t.UNSIGNED_SHORT&&(ue=t.RGBA16UI),j===t.UNSIGNED_INT&&(ue=t.RGBA32UI),j===t.BYTE&&(ue=t.RGBA8I),j===t.SHORT&&(ue=t.RGBA16I),j===t.INT&&(ue=t.RGBA32I)),N===t.RGB&&j===t.UNSIGNED_INT_5_9_9_9_REV&&(ue=t.RGB9_E5),N===t.RGBA){const Ee=he?Vp:wt.getTransfer(re);j===t.FLOAT&&(ue=t.RGBA32F),j===t.HALF_FLOAT&&(ue=t.RGBA16F),j===t.UNSIGNED_BYTE&&(ue=Ee===$t?t.SRGB8_ALPHA8:t.RGBA8),j===t.UNSIGNED_SHORT_4_4_4_4&&(ue=t.RGBA4),j===t.UNSIGNED_SHORT_5_5_5_1&&(ue=t.RGB5_A1)}return(ue===t.R16F||ue===t.R32F||ue===t.RG16F||ue===t.RG32F||ue===t.RGBA16F||ue===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ue}function b(F,N){let j;return F?N===null||N===Ya||N===Xc?j=t.DEPTH24_STENCIL8:N===Qn?j=t.DEPTH32F_STENCIL8:N===Kf&&(j=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):N===null||N===Ya||N===Xc?j=t.DEPTH_COMPONENT24:N===Qn?j=t.DEPTH_COMPONENT32F:N===Kf&&(j=t.DEPTH_COMPONENT16),j}function T(F,N){return v(F)===!0||F.isFramebufferTexture&&F.minFilter!==Fn&&F.minFilter!==sn?Math.log2(Math.max(N.width,N.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?N.mipmaps.length:1}function x(F){const N=F.target;N.removeEventListener("dispose",x),C(N),N.isVideoTexture&&u.delete(N)}function S(F){const N=F.target;N.removeEventListener("dispose",S),w(N)}function C(F){const N=i.get(F);if(N.__webglInit===void 0)return;const j=F.source,re=h.get(j);if(re){const he=re[N.__cacheKey];he.usedTimes--,he.usedTimes===0&&M(F),Object.keys(re).length===0&&h.delete(j)}i.remove(F)}function M(F){const N=i.get(F);t.deleteTexture(N.__webglTexture);const j=F.source,re=h.get(j);delete re[N.__cacheKey],a.memory.textures--}function w(F){const N=i.get(F);if(F.depthTexture&&(F.depthTexture.dispose(),i.remove(F.depthTexture)),F.isWebGLCubeRenderTarget)for(let re=0;re<6;re++){if(Array.isArray(N.__webglFramebuffer[re]))for(let he=0;he<N.__webglFramebuffer[re].length;he++)t.deleteFramebuffer(N.__webglFramebuffer[re][he]);else t.deleteFramebuffer(N.__webglFramebuffer[re]);N.__webglDepthbuffer&&t.deleteRenderbuffer(N.__webglDepthbuffer[re])}else{if(Array.isArray(N.__webglFramebuffer))for(let re=0;re<N.__webglFramebuffer.length;re++)t.deleteFramebuffer(N.__webglFramebuffer[re]);else t.deleteFramebuffer(N.__webglFramebuffer);if(N.__webglDepthbuffer&&t.deleteRenderbuffer(N.__webglDepthbuffer),N.__webglMultisampledFramebuffer&&t.deleteFramebuffer(N.__webglMultisampledFramebuffer),N.__webglColorRenderbuffer)for(let re=0;re<N.__webglColorRenderbuffer.length;re++)N.__webglColorRenderbuffer[re]&&t.deleteRenderbuffer(N.__webglColorRenderbuffer[re]);N.__webglDepthRenderbuffer&&t.deleteRenderbuffer(N.__webglDepthRenderbuffer)}const j=F.textures;for(let re=0,he=j.length;re<he;re++){const ue=i.get(j[re]);ue.__webglTexture&&(t.deleteTexture(ue.__webglTexture),a.memory.textures--),i.remove(j[re])}i.remove(F)}let A=0;function P(){A=0}function R(){const F=A;return F>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+r.maxTextures),A+=1,F}function L(F){const N=[];return N.push(F.wrapS),N.push(F.wrapT),N.push(F.wrapR||0),N.push(F.magFilter),N.push(F.minFilter),N.push(F.anisotropy),N.push(F.internalFormat),N.push(F.format),N.push(F.type),N.push(F.generateMipmaps),N.push(F.premultiplyAlpha),N.push(F.flipY),N.push(F.unpackAlignment),N.push(F.colorSpace),N.join()}function E(F,N){const j=i.get(F);if(F.isVideoTexture&&ee(F),F.isRenderTargetTexture===!1&&F.version>0&&j.__version!==F.version){const re=F.image;if(re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Z(j,F,N);return}}n.bindTexture(t.TEXTURE_2D,j.__webglTexture,t.TEXTURE0+N)}function O(F,N){const j=i.get(F);if(F.version>0&&j.__version!==F.version){Z(j,F,N);return}n.bindTexture(t.TEXTURE_2D_ARRAY,j.__webglTexture,t.TEXTURE0+N)}function $(F,N){const j=i.get(F);if(F.version>0&&j.__version!==F.version){Z(j,F,N);return}n.bindTexture(t.TEXTURE_3D,j.__webglTexture,t.TEXTURE0+N)}function H(F,N){const j=i.get(F);if(F.version>0&&j.__version!==F.version){ve(j,F,N);return}n.bindTexture(t.TEXTURE_CUBE_MAP,j.__webglTexture,t.TEXTURE0+N)}const V={[qs]:t.REPEAT,[mr]:t.CLAMP_TO_EDGE,[qf]:t.MIRRORED_REPEAT},Y={[Fn]:t.NEAREST,[K_]:t.NEAREST_MIPMAP_NEAREST,[dc]:t.NEAREST_MIPMAP_LINEAR,[sn]:t.LINEAR,[Ef]:t.LINEAR_MIPMAP_NEAREST,[Wr]:t.LINEAR_MIPMAP_LINEAR},ae={[r5]:t.NEVER,[u5]:t.ALWAYS,[o5]:t.LESS,[bA]:t.LEQUAL,[a5]:t.EQUAL,[c5]:t.GEQUAL,[s5]:t.GREATER,[l5]:t.NOTEQUAL};function oe(F,N){if(N.type===Qn&&e.has("OES_texture_float_linear")===!1&&(N.magFilter===sn||N.magFilter===Ef||N.magFilter===dc||N.magFilter===Wr||N.minFilter===sn||N.minFilter===Ef||N.minFilter===dc||N.minFilter===Wr)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(F,t.TEXTURE_WRAP_S,V[N.wrapS]),t.texParameteri(F,t.TEXTURE_WRAP_T,V[N.wrapT]),(F===t.TEXTURE_3D||F===t.TEXTURE_2D_ARRAY)&&t.texParameteri(F,t.TEXTURE_WRAP_R,V[N.wrapR]),t.texParameteri(F,t.TEXTURE_MAG_FILTER,Y[N.magFilter]),t.texParameteri(F,t.TEXTURE_MIN_FILTER,Y[N.minFilter]),N.compareFunction&&(t.texParameteri(F,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(F,t.TEXTURE_COMPARE_FUNC,ae[N.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(N.magFilter===Fn||N.minFilter!==dc&&N.minFilter!==Wr||N.type===Qn&&e.has("OES_texture_float_linear")===!1)return;if(N.anisotropy>1||i.get(N).__currentAnisotropy){const j=e.get("EXT_texture_filter_anisotropic");t.texParameterf(F,j.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,r.getMaxAnisotropy())),i.get(N).__currentAnisotropy=N.anisotropy}}}function xe(F,N){let j=!1;F.__webglInit===void 0&&(F.__webglInit=!0,N.addEventListener("dispose",x));const re=N.source;let he=h.get(re);he===void 0&&(he={},h.set(re,he));const ue=L(N);if(ue!==F.__cacheKey){he[ue]===void 0&&(he[ue]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,j=!0),he[ue].usedTimes++;const Ee=he[F.__cacheKey];Ee!==void 0&&(he[F.__cacheKey].usedTimes--,Ee.usedTimes===0&&M(N)),F.__cacheKey=ue,F.__webglTexture=he[ue].texture}return j}function Z(F,N,j){let re=t.TEXTURE_2D;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(re=t.TEXTURE_2D_ARRAY),N.isData3DTexture&&(re=t.TEXTURE_3D);const he=xe(F,N),ue=N.source;n.bindTexture(re,F.__webglTexture,t.TEXTURE0+j);const Ee=i.get(ue);if(ue.version!==Ee.__version||he===!0){n.activeTexture(t.TEXTURE0+j);const Me=wt.getPrimaries(wt.workingColorSpace),Re=N.colorSpace===Da?null:wt.getPrimaries(N.colorSpace),Ze=N.colorSpace===Da||Me===Re?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,N.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,N.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ze);let Te=g(N.image,!1,r.maxTextureSize);Te=fe(N,Te);const Le=o.convert(N.format,N.colorSpace),Ye=o.convert(N.type);let it=_(N.internalFormat,Le,Ye,N.colorSpace,N.isVideoTexture);oe(re,N);let De;const ot=N.mipmaps,lt=N.isVideoTexture!==!0,Gt=Ee.__version===void 0||he===!0,ne=ue.dataReady,Ue=T(N,Te);if(N.isDepthTexture)it=b(N.format===jc,N.type),Gt&&(lt?n.texStorage2D(t.TEXTURE_2D,1,it,Te.width,Te.height):n.texImage2D(t.TEXTURE_2D,0,it,Te.width,Te.height,0,Le,Ye,null));else if(N.isDataTexture)if(ot.length>0){lt&&Gt&&n.texStorage2D(t.TEXTURE_2D,Ue,it,ot[0].width,ot[0].height);for(let _e=0,Se=ot.length;_e<Se;_e++)De=ot[_e],lt?ne&&n.texSubImage2D(t.TEXTURE_2D,_e,0,0,De.width,De.height,Le,Ye,De.data):n.texImage2D(t.TEXTURE_2D,_e,it,De.width,De.height,0,Le,Ye,De.data);N.generateMipmaps=!1}else lt?(Gt&&n.texStorage2D(t.TEXTURE_2D,Ue,it,Te.width,Te.height),ne&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Te.width,Te.height,Le,Ye,Te.data)):n.texImage2D(t.TEXTURE_2D,0,it,Te.width,Te.height,0,Le,Ye,Te.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){lt&&Gt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ue,it,ot[0].width,ot[0].height,Te.depth);for(let _e=0,Se=ot.length;_e<Se;_e++)if(De=ot[_e],N.format!==Ri)if(Le!==null)if(lt){if(ne)if(N.layerUpdates.size>0){const $e=LM(De.width,De.height,N.format,N.type);for(const ke of N.layerUpdates){const yt=De.data.subarray(ke*$e/De.data.BYTES_PER_ELEMENT,(ke+1)*$e/De.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,_e,0,0,ke,De.width,De.height,1,Le,yt)}N.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,_e,0,0,0,De.width,De.height,Te.depth,Le,De.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,_e,it,De.width,De.height,Te.depth,0,De.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else lt?ne&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,_e,0,0,0,De.width,De.height,Te.depth,Le,Ye,De.data):n.texImage3D(t.TEXTURE_2D_ARRAY,_e,it,De.width,De.height,Te.depth,0,Le,Ye,De.data)}else{lt&&Gt&&n.texStorage2D(t.TEXTURE_2D,Ue,it,ot[0].width,ot[0].height);for(let _e=0,Se=ot.length;_e<Se;_e++)De=ot[_e],N.format!==Ri?Le!==null?lt?ne&&n.compressedTexSubImage2D(t.TEXTURE_2D,_e,0,0,De.width,De.height,Le,De.data):n.compressedTexImage2D(t.TEXTURE_2D,_e,it,De.width,De.height,0,De.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):lt?ne&&n.texSubImage2D(t.TEXTURE_2D,_e,0,0,De.width,De.height,Le,Ye,De.data):n.texImage2D(t.TEXTURE_2D,_e,it,De.width,De.height,0,Le,Ye,De.data)}else if(N.isDataArrayTexture)if(lt){if(Gt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ue,it,Te.width,Te.height,Te.depth),ne)if(N.layerUpdates.size>0){const _e=LM(Te.width,Te.height,N.format,N.type);for(const Se of N.layerUpdates){const $e=Te.data.subarray(Se*_e/Te.data.BYTES_PER_ELEMENT,(Se+1)*_e/Te.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Se,Te.width,Te.height,1,Le,Ye,$e)}N.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Te.width,Te.height,Te.depth,Le,Ye,Te.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,it,Te.width,Te.height,Te.depth,0,Le,Ye,Te.data);else if(N.isData3DTexture)lt?(Gt&&n.texStorage3D(t.TEXTURE_3D,Ue,it,Te.width,Te.height,Te.depth),ne&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Te.width,Te.height,Te.depth,Le,Ye,Te.data)):n.texImage3D(t.TEXTURE_3D,0,it,Te.width,Te.height,Te.depth,0,Le,Ye,Te.data);else if(N.isFramebufferTexture){if(Gt)if(lt)n.texStorage2D(t.TEXTURE_2D,Ue,it,Te.width,Te.height);else{let _e=Te.width,Se=Te.height;for(let $e=0;$e<Ue;$e++)n.texImage2D(t.TEXTURE_2D,$e,it,_e,Se,0,Le,Ye,null),_e>>=1,Se>>=1}}else if(ot.length>0){if(lt&&Gt){const _e=le(ot[0]);n.texStorage2D(t.TEXTURE_2D,Ue,it,_e.width,_e.height)}for(let _e=0,Se=ot.length;_e<Se;_e++)De=ot[_e],lt?ne&&n.texSubImage2D(t.TEXTURE_2D,_e,0,0,Le,Ye,De):n.texImage2D(t.TEXTURE_2D,_e,it,Le,Ye,De);N.generateMipmaps=!1}else if(lt){if(Gt){const _e=le(Te);n.texStorage2D(t.TEXTURE_2D,Ue,it,_e.width,_e.height)}ne&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Le,Ye,Te)}else n.texImage2D(t.TEXTURE_2D,0,it,Le,Ye,Te);v(N)&&m(re),Ee.__version=ue.version,N.onUpdate&&N.onUpdate(N)}F.__version=N.version}function ve(F,N,j){if(N.image.length!==6)return;const re=xe(F,N),he=N.source;n.bindTexture(t.TEXTURE_CUBE_MAP,F.__webglTexture,t.TEXTURE0+j);const ue=i.get(he);if(he.version!==ue.__version||re===!0){n.activeTexture(t.TEXTURE0+j);const Ee=wt.getPrimaries(wt.workingColorSpace),Me=N.colorSpace===Da?null:wt.getPrimaries(N.colorSpace),Re=N.colorSpace===Da||Ee===Me?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,N.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,N.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Re);const Ze=N.isCompressedTexture||N.image[0].isCompressedTexture,Te=N.image[0]&&N.image[0].isDataTexture,Le=[];for(let Se=0;Se<6;Se++)!Ze&&!Te?Le[Se]=g(N.image[Se],!0,r.maxCubemapSize):Le[Se]=Te?N.image[Se].image:N.image[Se],Le[Se]=fe(N,Le[Se]);const Ye=Le[0],it=o.convert(N.format,N.colorSpace),De=o.convert(N.type),ot=_(N.internalFormat,it,De,N.colorSpace),lt=N.isVideoTexture!==!0,Gt=ue.__version===void 0||re===!0,ne=he.dataReady;let Ue=T(N,Ye);oe(t.TEXTURE_CUBE_MAP,N);let _e;if(Ze){lt&&Gt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ue,ot,Ye.width,Ye.height);for(let Se=0;Se<6;Se++){_e=Le[Se].mipmaps;for(let $e=0;$e<_e.length;$e++){const ke=_e[$e];N.format!==Ri?it!==null?lt?ne&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e,0,0,ke.width,ke.height,it,ke.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e,ot,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):lt?ne&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e,0,0,ke.width,ke.height,it,De,ke.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e,ot,ke.width,ke.height,0,it,De,ke.data)}}}else{if(_e=N.mipmaps,lt&&Gt){_e.length>0&&Ue++;const Se=le(Le[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Ue,ot,Se.width,Se.height)}for(let Se=0;Se<6;Se++)if(Te){lt?ne&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,Le[Se].width,Le[Se].height,it,De,Le[Se].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,ot,Le[Se].width,Le[Se].height,0,it,De,Le[Se].data);for(let $e=0;$e<_e.length;$e++){const yt=_e[$e].image[Se].image;lt?ne&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e+1,0,0,yt.width,yt.height,it,De,yt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e+1,ot,yt.width,yt.height,0,it,De,yt.data)}}else{lt?ne&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,it,De,Le[Se]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,ot,it,De,Le[Se]);for(let $e=0;$e<_e.length;$e++){const ke=_e[$e];lt?ne&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e+1,0,0,it,De,ke.image[Se]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e+1,ot,it,De,ke.image[Se])}}}v(N)&&m(t.TEXTURE_CUBE_MAP),ue.__version=he.version,N.onUpdate&&N.onUpdate(N)}F.__version=N.version}function ye(F,N,j,re,he,ue){const Ee=o.convert(j.format,j.colorSpace),Me=o.convert(j.type),Re=_(j.internalFormat,Ee,Me,j.colorSpace),Ze=i.get(N),Te=i.get(j);if(Te.__renderTarget=N,!Ze.__hasExternalTextures){const Le=Math.max(1,N.width>>ue),Ye=Math.max(1,N.height>>ue);he===t.TEXTURE_3D||he===t.TEXTURE_2D_ARRAY?n.texImage3D(he,ue,Re,Le,Ye,N.depth,0,Ee,Me,null):n.texImage2D(he,ue,Re,Le,Ye,0,Ee,Me,null)}n.bindFramebuffer(t.FRAMEBUFFER,F),te(N)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,re,he,Te.__webglTexture,0,X(N)):(he===t.TEXTURE_2D||he>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&he<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,re,he,Te.__webglTexture,ue),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ge(F,N,j){if(t.bindRenderbuffer(t.RENDERBUFFER,F),N.depthBuffer){const re=N.depthTexture,he=re&&re.isDepthTexture?re.type:null,ue=b(N.stencilBuffer,he),Ee=N.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Me=X(N);te(N)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Me,ue,N.width,N.height):j?t.renderbufferStorageMultisample(t.RENDERBUFFER,Me,ue,N.width,N.height):t.renderbufferStorage(t.RENDERBUFFER,ue,N.width,N.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ee,t.RENDERBUFFER,F)}else{const re=N.textures;for(let he=0;he<re.length;he++){const ue=re[he],Ee=o.convert(ue.format,ue.colorSpace),Me=o.convert(ue.type),Re=_(ue.internalFormat,Ee,Me,ue.colorSpace),Ze=X(N);j&&te(N)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ze,Re,N.width,N.height):te(N)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ze,Re,N.width,N.height):t.renderbufferStorage(t.RENDERBUFFER,Re,N.width,N.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ce(F,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,F),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const re=i.get(N.depthTexture);re.__renderTarget=N,(!re.__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),E(N.depthTexture,0);const he=re.__webglTexture,ue=X(N);if(N.depthTexture.format===Ec)te(N)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,he,0,ue):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,he,0);else if(N.depthTexture.format===jc)te(N)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,he,0,ue):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,he,0);else throw new Error("Unknown depthTexture format")}function ce(F){const N=i.get(F),j=F.isWebGLCubeRenderTarget===!0;if(N.__boundDepthTexture!==F.depthTexture){const re=F.depthTexture;if(N.__depthDisposeCallback&&N.__depthDisposeCallback(),re){const he=()=>{delete N.__boundDepthTexture,delete N.__depthDisposeCallback,re.removeEventListener("dispose",he)};re.addEventListener("dispose",he),N.__depthDisposeCallback=he}N.__boundDepthTexture=re}if(F.depthTexture&&!N.__autoAllocateDepthBuffer){if(j)throw new Error("target.depthTexture not supported in Cube render targets");Ce(N.__webglFramebuffer,F)}else if(j){N.__webglDepthbuffer=[];for(let re=0;re<6;re++)if(n.bindFramebuffer(t.FRAMEBUFFER,N.__webglFramebuffer[re]),N.__webglDepthbuffer[re]===void 0)N.__webglDepthbuffer[re]=t.createRenderbuffer(),ge(N.__webglDepthbuffer[re],F,!1);else{const he=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ue=N.__webglDepthbuffer[re];t.bindRenderbuffer(t.RENDERBUFFER,ue),t.framebufferRenderbuffer(t.FRAMEBUFFER,he,t.RENDERBUFFER,ue)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,N.__webglFramebuffer),N.__webglDepthbuffer===void 0)N.__webglDepthbuffer=t.createRenderbuffer(),ge(N.__webglDepthbuffer,F,!1);else{const re=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,he=N.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,he),t.framebufferRenderbuffer(t.FRAMEBUFFER,re,t.RENDERBUFFER,he)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function J(F,N,j){const re=i.get(F);N!==void 0&&ye(re.__webglFramebuffer,F,F.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),j!==void 0&&ce(F)}function Q(F){const N=F.texture,j=i.get(F),re=i.get(N);F.addEventListener("dispose",S);const he=F.textures,ue=F.isWebGLCubeRenderTarget===!0,Ee=he.length>1;if(Ee||(re.__webglTexture===void 0&&(re.__webglTexture=t.createTexture()),re.__version=N.version,a.memory.textures++),ue){j.__webglFramebuffer=[];for(let Me=0;Me<6;Me++)if(N.mipmaps&&N.mipmaps.length>0){j.__webglFramebuffer[Me]=[];for(let Re=0;Re<N.mipmaps.length;Re++)j.__webglFramebuffer[Me][Re]=t.createFramebuffer()}else j.__webglFramebuffer[Me]=t.createFramebuffer()}else{if(N.mipmaps&&N.mipmaps.length>0){j.__webglFramebuffer=[];for(let Me=0;Me<N.mipmaps.length;Me++)j.__webglFramebuffer[Me]=t.createFramebuffer()}else j.__webglFramebuffer=t.createFramebuffer();if(Ee)for(let Me=0,Re=he.length;Me<Re;Me++){const Ze=i.get(he[Me]);Ze.__webglTexture===void 0&&(Ze.__webglTexture=t.createTexture(),a.memory.textures++)}if(F.samples>0&&te(F)===!1){j.__webglMultisampledFramebuffer=t.createFramebuffer(),j.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,j.__webglMultisampledFramebuffer);for(let Me=0;Me<he.length;Me++){const Re=he[Me];j.__webglColorRenderbuffer[Me]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,j.__webglColorRenderbuffer[Me]);const Ze=o.convert(Re.format,Re.colorSpace),Te=o.convert(Re.type),Le=_(Re.internalFormat,Ze,Te,Re.colorSpace,F.isXRRenderTarget===!0),Ye=X(F);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ye,Le,F.width,F.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Me,t.RENDERBUFFER,j.__webglColorRenderbuffer[Me])}t.bindRenderbuffer(t.RENDERBUFFER,null),F.depthBuffer&&(j.__webglDepthRenderbuffer=t.createRenderbuffer(),ge(j.__webglDepthRenderbuffer,F,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ue){n.bindTexture(t.TEXTURE_CUBE_MAP,re.__webglTexture),oe(t.TEXTURE_CUBE_MAP,N);for(let Me=0;Me<6;Me++)if(N.mipmaps&&N.mipmaps.length>0)for(let Re=0;Re<N.mipmaps.length;Re++)ye(j.__webglFramebuffer[Me][Re],F,N,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,Re);else ye(j.__webglFramebuffer[Me],F,N,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0);v(N)&&m(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ee){for(let Me=0,Re=he.length;Me<Re;Me++){const Ze=he[Me],Te=i.get(Ze);n.bindTexture(t.TEXTURE_2D,Te.__webglTexture),oe(t.TEXTURE_2D,Ze),ye(j.__webglFramebuffer,F,Ze,t.COLOR_ATTACHMENT0+Me,t.TEXTURE_2D,0),v(Ze)&&m(t.TEXTURE_2D)}n.unbindTexture()}else{let Me=t.TEXTURE_2D;if((F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(Me=F.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Me,re.__webglTexture),oe(Me,N),N.mipmaps&&N.mipmaps.length>0)for(let Re=0;Re<N.mipmaps.length;Re++)ye(j.__webglFramebuffer[Re],F,N,t.COLOR_ATTACHMENT0,Me,Re);else ye(j.__webglFramebuffer,F,N,t.COLOR_ATTACHMENT0,Me,0);v(N)&&m(Me),n.unbindTexture()}F.depthBuffer&&ce(F)}function D(F){const N=F.textures;for(let j=0,re=N.length;j<re;j++){const he=N[j];if(v(he)){const ue=y(F),Ee=i.get(he).__webglTexture;n.bindTexture(ue,Ee),m(ue),n.unbindTexture()}}}const U=[],I=[];function K(F){if(F.samples>0){if(te(F)===!1){const N=F.textures,j=F.width,re=F.height;let he=t.COLOR_BUFFER_BIT;const ue=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ee=i.get(F),Me=N.length>1;if(Me)for(let Re=0;Re<N.length;Re++)n.bindFramebuffer(t.FRAMEBUFFER,Ee.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Re,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ee.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Re,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ee.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ee.__webglFramebuffer);for(let Re=0;Re<N.length;Re++){if(F.resolveDepthBuffer&&(F.depthBuffer&&(he|=t.DEPTH_BUFFER_BIT),F.stencilBuffer&&F.resolveStencilBuffer&&(he|=t.STENCIL_BUFFER_BIT)),Me){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ee.__webglColorRenderbuffer[Re]);const Ze=i.get(N[Re]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ze,0)}t.blitFramebuffer(0,0,j,re,0,0,j,re,he,t.NEAREST),l===!0&&(U.length=0,I.length=0,U.push(t.COLOR_ATTACHMENT0+Re),F.depthBuffer&&F.resolveDepthBuffer===!1&&(U.push(ue),I.push(ue),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,I)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,U))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Me)for(let Re=0;Re<N.length;Re++){n.bindFramebuffer(t.FRAMEBUFFER,Ee.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Re,t.RENDERBUFFER,Ee.__webglColorRenderbuffer[Re]);const Ze=i.get(N[Re]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ee.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Re,t.TEXTURE_2D,Ze,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ee.__webglMultisampledFramebuffer)}else if(F.depthBuffer&&F.resolveDepthBuffer===!1&&l){const N=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[N])}}}function X(F){return Math.min(r.maxSamples,F.samples)}function te(F){const N=i.get(F);return F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function ee(F){const N=a.render.frame;u.get(F)!==N&&(u.set(F,N),F.update())}function fe(F,N){const j=F.colorSpace,re=F.format,he=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||j!==Xn&&j!==Da&&(wt.getTransfer(j)===$t?(re!==Ri||he!==na)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",j)),N}function le(F){return typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement?(c.width=F.naturalWidth||F.width,c.height=F.naturalHeight||F.height):typeof VideoFrame<"u"&&F instanceof VideoFrame?(c.width=F.displayWidth,c.height=F.displayHeight):(c.width=F.width,c.height=F.height),c}this.allocateTextureUnit=R,this.resetTextureUnits=P,this.setTexture2D=E,this.setTexture2DArray=O,this.setTexture3D=$,this.setTextureCube=H,this.rebindTextures=J,this.setupRenderTarget=Q,this.updateRenderTargetMipmap=D,this.updateMultisampleRenderTarget=K,this.setupDepthRenderbuffer=ce,this.setupFrameBufferTexture=ye,this.useMultisampledRTT=te}function v4(t,e){function n(i,r=Da){let o;const a=wt.getTransfer(r);if(i===na)return t.UNSIGNED_BYTE;if(i===J_)return t.UNSIGNED_SHORT_4_4_4_4;if(i===Q_)return t.UNSIGNED_SHORT_5_5_5_1;if(i===fA)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===cA)return t.BYTE;if(i===uA)return t.SHORT;if(i===Kf)return t.UNSIGNED_SHORT;if(i===Z_)return t.INT;if(i===Ya)return t.UNSIGNED_INT;if(i===Qn)return t.FLOAT;if(i===Xo)return t.HALF_FLOAT;if(i===hA)return t.ALPHA;if(i===dA)return t.RGB;if(i===Ri)return t.RGBA;if(i===pA)return t.LUMINANCE;if(i===mA)return t.LUMINANCE_ALPHA;if(i===Ec)return t.DEPTH_COMPONENT;if(i===jc)return t.DEPTH_STENCIL;if(i===eb)return t.RED;if(i===hm)return t.RED_INTEGER;if(i===vA)return t.RG;if(i===tb)return t.RG_INTEGER;if(i===nb)return t.RGBA_INTEGER;if(i===Zd||i===Jd||i===Qd||i===ep)if(a===$t)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(i===Zd)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Jd)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Qd)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===ep)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(i===Zd)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Jd)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Qd)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===ep)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===dy||i===py||i===my||i===vy)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(i===dy)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===py)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===my)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===vy)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===gy||i===yy||i===_y)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(i===gy||i===yy)return a===$t?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(i===_y)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===by||i===xy||i===Sy||i===wy||i===My||i===Ty||i===Cy||i===Ay||i===Ey||i===Py||i===Iy||i===Ry||i===Dy||i===Oy)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(i===by)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===xy)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Sy)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===wy)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===My)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Ty)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Cy)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Ay)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Ey)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Py)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Iy)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Ry)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Dy)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Oy)return a===$t?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===tp||i===Ly||i===Ny)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(i===tp)return a===$t?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Ly)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Ny)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===gA||i===Fy||i===By||i===Uy)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(i===tp)return o.COMPRESSED_RED_RGTC1_EXT;if(i===Fy)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===By)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Uy)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Xc?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const U_e={type:"move"};class b1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Fa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Fa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Fa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const g of e.hand.values()){const v=n.getJointPose(g,i),m=this._getHandJoint(c,g);v!==null&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=v.radius),m.visible=v!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),d=.02,p=.005;c.inputState.pinching&&h>d+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=d-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,i),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&o!==null&&(r=o),r!==null&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(U_e)))}return s!==null&&(s.visible=r!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Fa;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const z_e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,k_e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class $_e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const r=new un,o=e.properties.get(r);o.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new Mo({vertexShader:z_e,fragmentShader:k_e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new yn(new uu(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class H_e extends ua{constructor(e,n){super();const i=this;let r=null,o=1,a=null,s="local-floor",l=1,c=null,u=null,f=null,h=null,d=null,p=null;const g=new $_e,v=n.getContextAttributes();let m=null,y=null;const _=[],b=[],T=new be;let x=null;const S=new On;S.viewport=new Rt;const C=new On;C.viewport=new Rt;const M=[S,C],w=new i4;let A=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let ve=_[Z];return ve===void 0&&(ve=new b1,_[Z]=ve),ve.getTargetRaySpace()},this.getControllerGrip=function(Z){let ve=_[Z];return ve===void 0&&(ve=new b1,_[Z]=ve),ve.getGripSpace()},this.getHand=function(Z){let ve=_[Z];return ve===void 0&&(ve=new b1,_[Z]=ve),ve.getHandSpace()};function R(Z){const ve=b.indexOf(Z.inputSource);if(ve===-1)return;const ye=_[ve];ye!==void 0&&(ye.update(Z.inputSource,Z.frame,c||a),ye.dispatchEvent({type:Z.type,data:Z.inputSource}))}function L(){r.removeEventListener("select",R),r.removeEventListener("selectstart",R),r.removeEventListener("selectend",R),r.removeEventListener("squeeze",R),r.removeEventListener("squeezestart",R),r.removeEventListener("squeezeend",R),r.removeEventListener("end",L),r.removeEventListener("inputsourceschange",E);for(let Z=0;Z<_.length;Z++){const ve=b[Z];ve!==null&&(b[Z]=null,_[Z].disconnect(ve))}A=null,P=null,g.reset(),e.setRenderTarget(m),d=null,h=null,f=null,r=null,y=null,xe.stop(),i.isPresenting=!1,e.setPixelRatio(x),e.setSize(T.width,T.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){o=Z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){s=Z,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(Z){c=Z},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return f},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=async function(Z){if(r=Z,r!==null){if(m=e.getRenderTarget(),r.addEventListener("select",R),r.addEventListener("selectstart",R),r.addEventListener("selectend",R),r.addEventListener("squeeze",R),r.addEventListener("squeezestart",R),r.addEventListener("squeezeend",R),r.addEventListener("end",L),r.addEventListener("inputsourceschange",E),v.xrCompatible!==!0&&await n.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(T),r.renderState.layers===void 0){const ve={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:o};d=new XRWebGLLayer(r,n,ve),r.updateRenderState({baseLayer:d}),e.setPixelRatio(1),e.setSize(d.framebufferWidth,d.framebufferHeight,!1),y=new wo(d.framebufferWidth,d.framebufferHeight,{format:Ri,type:na,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let ve=null,ye=null,ge=null;v.depth&&(ge=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ve=v.stencil?jc:Ec,ye=v.stencil?Xc:Ya);const Ce={colorFormat:n.RGBA8,depthFormat:ge,scaleFactor:o};f=new XRWebGLBinding(r,n),h=f.createProjectionLayer(Ce),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),y=new wo(h.textureWidth,h.textureHeight,{format:Ri,type:na,depthTexture:new DA(h.textureWidth,h.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(s),xe.setContext(r),xe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function E(Z){for(let ve=0;ve<Z.removed.length;ve++){const ye=Z.removed[ve],ge=b.indexOf(ye);ge>=0&&(b[ge]=null,_[ge].disconnect(ye))}for(let ve=0;ve<Z.added.length;ve++){const ye=Z.added[ve];let ge=b.indexOf(ye);if(ge===-1){for(let ce=0;ce<_.length;ce++)if(ce>=b.length){b.push(ye),ge=ce;break}else if(b[ce]===null){b[ce]=ye,ge=ce;break}if(ge===-1)break}const Ce=_[ge];Ce&&Ce.connect(ye)}}const O=new G,$=new G;function H(Z,ve,ye){O.setFromMatrixPosition(ve.matrixWorld),$.setFromMatrixPosition(ye.matrixWorld);const ge=O.distanceTo($),Ce=ve.projectionMatrix.elements,ce=ye.projectionMatrix.elements,J=Ce[14]/(Ce[10]-1),Q=Ce[14]/(Ce[10]+1),D=(Ce[9]+1)/Ce[5],U=(Ce[9]-1)/Ce[5],I=(Ce[8]-1)/Ce[0],K=(ce[8]+1)/ce[0],X=J*I,te=J*K,ee=ge/(-I+K),fe=ee*-I;if(ve.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(fe),Z.translateZ(ee),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert(),Ce[10]===-1)Z.projectionMatrix.copy(ve.projectionMatrix),Z.projectionMatrixInverse.copy(ve.projectionMatrixInverse);else{const le=J+ee,F=Q+ee,N=X-fe,j=te+(ge-fe),re=D*Q/F*le,he=U*Q/F*le;Z.projectionMatrix.makePerspective(N,j,re,he,le,F),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}}function V(Z,ve){ve===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(ve.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(r===null)return;let ve=Z.near,ye=Z.far;g.texture!==null&&(g.depthNear>0&&(ve=g.depthNear),g.depthFar>0&&(ye=g.depthFar)),w.near=C.near=S.near=ve,w.far=C.far=S.far=ye,(A!==w.near||P!==w.far)&&(r.updateRenderState({depthNear:w.near,depthFar:w.far}),A=w.near,P=w.far),S.layers.mask=Z.layers.mask|2,C.layers.mask=Z.layers.mask|4,w.layers.mask=S.layers.mask|C.layers.mask;const ge=Z.parent,Ce=w.cameras;V(w,ge);for(let ce=0;ce<Ce.length;ce++)V(Ce[ce],ge);Ce.length===2?H(w,S,C):w.projectionMatrix.copy(S.projectionMatrix),Y(Z,w,ge)};function Y(Z,ve,ye){ye===null?Z.matrix.copy(ve.matrixWorld):(Z.matrix.copy(ye.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(ve.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(ve.projectionMatrix),Z.projectionMatrixInverse.copy(ve.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=Qf*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getCamera=function(){return w},this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(Z){l=Z,h!==null&&(h.fixedFoveation=Z),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=Z)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(w)};let ae=null;function oe(Z,ve){if(u=ve.getViewerPose(c||a),p=ve,u!==null){const ye=u.views;d!==null&&(e.setRenderTargetFramebuffer(y,d.framebuffer),e.setRenderTarget(y));let ge=!1;ye.length!==w.cameras.length&&(w.cameras.length=0,ge=!0);for(let ce=0;ce<ye.length;ce++){const J=ye[ce];let Q=null;if(d!==null)Q=d.getViewport(J);else{const U=f.getViewSubImage(h,J);Q=U.viewport,ce===0&&(e.setRenderTargetTextures(y,U.colorTexture,h.ignoreDepthValues?void 0:U.depthStencilTexture),e.setRenderTarget(y))}let D=M[ce];D===void 0&&(D=new On,D.layers.enable(ce),D.viewport=new Rt,M[ce]=D),D.matrix.fromArray(J.transform.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale),D.projectionMatrix.fromArray(J.projectionMatrix),D.projectionMatrixInverse.copy(D.projectionMatrix).invert(),D.viewport.set(Q.x,Q.y,Q.width,Q.height),ce===0&&(w.matrix.copy(D.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale)),ge===!0&&w.cameras.push(D)}const Ce=r.enabledFeatures;if(Ce&&Ce.includes("depth-sensing")){const ce=f.getDepthInformation(ye[0]);ce&&ce.isValid&&ce.texture&&g.init(e,ce,r.renderState)}}for(let ye=0;ye<_.length;ye++){const ge=b[ye],Ce=_[ye];ge!==null&&Ce!==void 0&&Ce.update(ge,ve,c||a)}ae&&ae(Z,ve),ve.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ve}),p=null}const xe=new f4;xe.setAnimationLoop(oe),this.setAnimationLoop=function(Z){ae=Z},this.dispose=function(){}}}const Kl=new Mr,V_e=new et;function G_e(t,e){function n(v,m){v.matrixAutoUpdate===!0&&v.updateMatrix(),m.value.copy(v.matrix)}function i(v,m){m.color.getRGB(v.fogColor.value,v5(t)),m.isFog?(v.fogNear.value=m.near,v.fogFar.value=m.far):m.isFogExp2&&(v.fogDensity.value=m.density)}function r(v,m,y,_,b){m.isMeshBasicMaterial||m.isMeshLambertMaterial?o(v,m):m.isMeshToonMaterial?(o(v,m),f(v,m)):m.isMeshPhongMaterial?(o(v,m),u(v,m)):m.isMeshStandardMaterial?(o(v,m),h(v,m),m.isMeshPhysicalMaterial&&d(v,m,b)):m.isMeshMatcapMaterial?(o(v,m),p(v,m)):m.isMeshDepthMaterial?o(v,m):m.isMeshDistanceMaterial?(o(v,m),g(v,m)):m.isMeshNormalMaterial?o(v,m):m.isLineBasicMaterial?(a(v,m),m.isLineDashedMaterial&&s(v,m)):m.isPointsMaterial?l(v,m,y,_):m.isSpriteMaterial?c(v,m):m.isShadowMaterial?(v.color.value.copy(m.color),v.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function o(v,m){v.opacity.value=m.opacity,m.color&&v.diffuse.value.copy(m.color),m.emissive&&v.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.bumpMap&&(v.bumpMap.value=m.bumpMap,n(m.bumpMap,v.bumpMapTransform),v.bumpScale.value=m.bumpScale,m.side===Ni&&(v.bumpScale.value*=-1)),m.normalMap&&(v.normalMap.value=m.normalMap,n(m.normalMap,v.normalMapTransform),v.normalScale.value.copy(m.normalScale),m.side===Ni&&v.normalScale.value.negate()),m.displacementMap&&(v.displacementMap.value=m.displacementMap,n(m.displacementMap,v.displacementMapTransform),v.displacementScale.value=m.displacementScale,v.displacementBias.value=m.displacementBias),m.emissiveMap&&(v.emissiveMap.value=m.emissiveMap,n(m.emissiveMap,v.emissiveMapTransform)),m.specularMap&&(v.specularMap.value=m.specularMap,n(m.specularMap,v.specularMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest);const y=e.get(m),_=y.envMap,b=y.envMapRotation;_&&(v.envMap.value=_,Kl.copy(b),Kl.x*=-1,Kl.y*=-1,Kl.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(Kl.y*=-1,Kl.z*=-1),v.envMapRotation.value.setFromMatrix4(V_e.makeRotationFromEuler(Kl)),v.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=m.reflectivity,v.ior.value=m.ior,v.refractionRatio.value=m.refractionRatio),m.lightMap&&(v.lightMap.value=m.lightMap,v.lightMapIntensity.value=m.lightMapIntensity,n(m.lightMap,v.lightMapTransform)),m.aoMap&&(v.aoMap.value=m.aoMap,v.aoMapIntensity.value=m.aoMapIntensity,n(m.aoMap,v.aoMapTransform))}function a(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform))}function s(v,m){v.dashSize.value=m.dashSize,v.totalSize.value=m.dashSize+m.gapSize,v.scale.value=m.scale}function l(v,m,y,_){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.size.value=m.size*y,v.scale.value=_*.5,m.map&&(v.map.value=m.map,n(m.map,v.uvTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function c(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.rotation.value=m.rotation,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function u(v,m){v.specular.value.copy(m.specular),v.shininess.value=Math.max(m.shininess,1e-4)}function f(v,m){m.gradientMap&&(v.gradientMap.value=m.gradientMap)}function h(v,m){v.metalness.value=m.metalness,m.metalnessMap&&(v.metalnessMap.value=m.metalnessMap,n(m.metalnessMap,v.metalnessMapTransform)),v.roughness.value=m.roughness,m.roughnessMap&&(v.roughnessMap.value=m.roughnessMap,n(m.roughnessMap,v.roughnessMapTransform)),m.envMap&&(v.envMapIntensity.value=m.envMapIntensity)}function d(v,m,y){v.ior.value=m.ior,m.sheen>0&&(v.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),v.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(v.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,v.sheenColorMapTransform)),m.sheenRoughnessMap&&(v.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,v.sheenRoughnessMapTransform))),m.clearcoat>0&&(v.clearcoat.value=m.clearcoat,v.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(v.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,v.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(v.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===Ni&&v.clearcoatNormalScale.value.negate())),m.dispersion>0&&(v.dispersion.value=m.dispersion),m.iridescence>0&&(v.iridescence.value=m.iridescence,v.iridescenceIOR.value=m.iridescenceIOR,v.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(v.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,v.iridescenceMapTransform)),m.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),m.transmission>0&&(v.transmission.value=m.transmission,v.transmissionSamplerMap.value=y.texture,v.transmissionSamplerSize.value.set(y.width,y.height),m.transmissionMap&&(v.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,v.transmissionMapTransform)),v.thickness.value=m.thickness,m.thicknessMap&&(v.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=m.attenuationDistance,v.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(v.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(v.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=m.specularIntensity,v.specularColor.value.copy(m.specularColor),m.specularColorMap&&(v.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,v.specularColorMapTransform)),m.specularIntensityMap&&(v.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,v.specularIntensityMapTransform))}function p(v,m){m.matcap&&(v.matcap.value=m.matcap)}function g(v,m){const y=e.get(m).light;v.referencePosition.value.setFromMatrixPosition(y.matrixWorld),v.nearDistance.value=y.shadow.camera.near,v.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function W_e(t,e,n,i){let r={},o={},a=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,_){const b=_.program;i.uniformBlockBinding(y,b)}function c(y,_){let b=r[y.id];b===void 0&&(p(y),b=u(y),r[y.id]=b,y.addEventListener("dispose",v));const T=_.program;i.updateUBOMapping(y,T);const x=e.render.frame;o[y.id]!==x&&(h(y),o[y.id]=x)}function u(y){const _=f();y.__bindingPointIndex=_;const b=t.createBuffer(),T=y.__size,x=y.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,T,x),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,b),b}function f(){for(let y=0;y<s;y++)if(a.indexOf(y)===-1)return a.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(y){const _=r[y.id],b=y.uniforms,T=y.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let x=0,S=b.length;x<S;x++){const C=Array.isArray(b[x])?b[x]:[b[x]];for(let M=0,w=C.length;M<w;M++){const A=C[M];if(d(A,x,M,T)===!0){const P=A.__offset,R=Array.isArray(A.value)?A.value:[A.value];let L=0;for(let E=0;E<R.length;E++){const O=R[E],$=g(O);typeof O=="number"||typeof O=="boolean"?(A.__data[0]=O,t.bufferSubData(t.UNIFORM_BUFFER,P+L,A.__data)):O.isMatrix3?(A.__data[0]=O.elements[0],A.__data[1]=O.elements[1],A.__data[2]=O.elements[2],A.__data[3]=0,A.__data[4]=O.elements[3],A.__data[5]=O.elements[4],A.__data[6]=O.elements[5],A.__data[7]=0,A.__data[8]=O.elements[6],A.__data[9]=O.elements[7],A.__data[10]=O.elements[8],A.__data[11]=0):(O.toArray(A.__data,L),L+=$.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,P,A.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function d(y,_,b,T){const x=y.value,S=_+"_"+b;if(T[S]===void 0)return typeof x=="number"||typeof x=="boolean"?T[S]=x:T[S]=x.clone(),!0;{const C=T[S];if(typeof x=="number"||typeof x=="boolean"){if(C!==x)return T[S]=x,!0}else if(C.equals(x)===!1)return C.copy(x),!0}return!1}function p(y){const _=y.uniforms;let b=0;const T=16;for(let S=0,C=_.length;S<C;S++){const M=Array.isArray(_[S])?_[S]:[_[S]];for(let w=0,A=M.length;w<A;w++){const P=M[w],R=Array.isArray(P.value)?P.value:[P.value];for(let L=0,E=R.length;L<E;L++){const O=R[L],$=g(O),H=b%T,V=H%$.boundary,Y=H+V;b+=V,Y!==0&&T-Y<$.storage&&(b+=T-Y),P.__data=new Float32Array($.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=b,b+=$.storage}}}const x=b%T;return x>0&&(b+=T-x),y.__size=b,y.__cache={},this}function g(y){const _={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(_.boundary=4,_.storage=4):y.isVector2?(_.boundary=8,_.storage=8):y.isVector3||y.isColor?(_.boundary=16,_.storage=12):y.isVector4?(_.boundary=16,_.storage=16):y.isMatrix3?(_.boundary=48,_.storage=48):y.isMatrix4?(_.boundary=64,_.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),_}function v(y){const _=y.target;_.removeEventListener("dispose",v);const b=a.indexOf(_.__bindingPointIndex);a.splice(b,1),t.deleteBuffer(r[_.id]),delete r[_.id],delete o[_.id]}function m(){for(const y in r)t.deleteBuffer(r[y]);a=[],r={},o={}}return{bind:l,update:c,dispose:m}}class g4{constructor(e={}){const{canvas:n=h5(),context:i=null,depth:r=!0,stencil:o=!1,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let d;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");d=i.getContextAttributes().alpha}else d=a;const p=new Uint32Array(4),g=new Int32Array(4);let v=null,m=null;const y=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=gn,this.toneMapping=$a,this.toneMappingExposure=1;const b=this;let T=!1,x=0,S=0,C=null,M=-1,w=null;const A=new Rt,P=new Rt;let R=null;const L=new Oe(0);let E=0,O=n.width,$=n.height,H=1,V=null,Y=null;const ae=new Rt(0,0,O,$),oe=new Rt(0,0,O,$);let xe=!1;const Z=new gm;let ve=!1,ye=!1;const ge=new et,Ce=new et,ce=new G,J=new Rt,Q={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let D=!1;function U(){return C===null?H:1}let I=i;function K(k,ie){return n.getContext(k,ie)}try{const k={alpha:!0,depth:r,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Y_}`),n.addEventListener("webglcontextlost",Se,!1),n.addEventListener("webglcontextrestored",$e,!1),n.addEventListener("webglcontextcreationerror",ke,!1),I===null){const ie="webgl2";if(I=K(ie,k),I===null)throw K(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let X,te,ee,fe,le,F,N,j,re,he,ue,Ee,Me,Re,Ze,Te,Le,Ye,it,De,ot,lt,Gt,ne;function Ue(){X=new nye(I),X.init(),lt=new v4(I,X),te=new K0e(I,X,e,lt),ee=new F_e(I,X),te.reverseDepthBuffer&&h&&ee.buffers.depth.setReversed(!0),fe=new oye(I),le=new w_e,F=new B_e(I,X,ee,le,te,lt,fe),N=new J0e(b),j=new tye(b),re=new hve(I),Gt=new Y0e(I,re),he=new iye(I,re,fe,Gt),ue=new sye(I,he,re,fe),it=new aye(I,te,F),Te=new Z0e(le),Ee=new S_e(b,N,j,X,te,Gt,Te),Me=new G_e(b,le),Re=new T_e,Ze=new R_e(X),Ye=new j0e(b,N,j,ee,ue,d,l),Le=new L_e(b,ue,te),ne=new W_e(I,fe,te,ee),De=new q0e(I,X,fe),ot=new rye(I,X,fe),fe.programs=Ee.programs,b.capabilities=te,b.extensions=X,b.properties=le,b.renderLists=Re,b.shadowMap=Le,b.state=ee,b.info=fe}Ue();const _e=new H_e(b,I);this.xr=_e,this.getContext=function(){return I},this.getContextAttributes=function(){return I.getContextAttributes()},this.forceContextLoss=function(){const k=X.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=X.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return H},this.setPixelRatio=function(k){k!==void 0&&(H=k,this.setSize(O,$,!1))},this.getSize=function(k){return k.set(O,$)},this.setSize=function(k,ie,de=!0){if(_e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=k,$=ie,n.width=Math.floor(k*H),n.height=Math.floor(ie*H),de===!0&&(n.style.width=k+"px",n.style.height=ie+"px"),this.setViewport(0,0,k,ie)},this.getDrawingBufferSize=function(k){return k.set(O*H,$*H).floor()},this.setDrawingBufferSize=function(k,ie,de){O=k,$=ie,H=de,n.width=Math.floor(k*de),n.height=Math.floor(ie*de),this.setViewport(0,0,k,ie)},this.getCurrentViewport=function(k){return k.copy(A)},this.getViewport=function(k){return k.copy(ae)},this.setViewport=function(k,ie,de,me){k.isVector4?ae.set(k.x,k.y,k.z,k.w):ae.set(k,ie,de,me),ee.viewport(A.copy(ae).multiplyScalar(H).round())},this.getScissor=function(k){return k.copy(oe)},this.setScissor=function(k,ie,de,me){k.isVector4?oe.set(k.x,k.y,k.z,k.w):oe.set(k,ie,de,me),ee.scissor(P.copy(oe).multiplyScalar(H).round())},this.getScissorTest=function(){return xe},this.setScissorTest=function(k){ee.setScissorTest(xe=k)},this.setOpaqueSort=function(k){V=k},this.setTransparentSort=function(k){Y=k},this.getClearColor=function(k){return k.copy(Ye.getClearColor())},this.setClearColor=function(){Ye.setClearColor.apply(Ye,arguments)},this.getClearAlpha=function(){return Ye.getClearAlpha()},this.setClearAlpha=function(){Ye.setClearAlpha.apply(Ye,arguments)},this.clear=function(k=!0,ie=!0,de=!0){let me=0;if(k){let se=!1;if(C!==null){const Ae=C.texture.format;se=Ae===nb||Ae===tb||Ae===hm}if(se){const Ae=C.texture.type,ze=Ae===na||Ae===Ya||Ae===Kf||Ae===Xc||Ae===J_||Ae===Q_,He=Ye.getClearColor(),We=Ye.getClearAlpha(),st=He.r,ct=He.g,Je=He.b;ze?(p[0]=st,p[1]=ct,p[2]=Je,p[3]=We,I.clearBufferuiv(I.COLOR,0,p)):(g[0]=st,g[1]=ct,g[2]=Je,g[3]=We,I.clearBufferiv(I.COLOR,0,g))}else me|=I.COLOR_BUFFER_BIT}ie&&(me|=I.DEPTH_BUFFER_BIT),de&&(me|=I.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),I.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Se,!1),n.removeEventListener("webglcontextrestored",$e,!1),n.removeEventListener("webglcontextcreationerror",ke,!1),Ye.dispose(),Re.dispose(),Ze.dispose(),le.dispose(),N.dispose(),j.dispose(),ue.dispose(),Gt.dispose(),ne.dispose(),Ee.dispose(),_e.dispose(),_e.removeEventListener("sessionstart",wm),_e.removeEventListener("sessionend",Mm),fa.stop()};function Se(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function $e(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const k=fe.autoReset,ie=Le.enabled,de=Le.autoUpdate,me=Le.needsUpdate,se=Le.type;Ue(),fe.autoReset=k,Le.enabled=ie,Le.autoUpdate=de,Le.needsUpdate=me,Le.type=se}function ke(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function yt(k){const ie=k.target;ie.removeEventListener("dispose",yt),fn(ie)}function fn(k){Tn(k),le.remove(k)}function Tn(k){const ie=le.get(k).programs;ie!==void 0&&(ie.forEach(function(de){Ee.releaseProgram(de)}),k.isShaderMaterial&&Ee.releaseShaderCache(k))}this.renderBufferDirect=function(k,ie,de,me,se,Ae){ie===null&&(ie=Q);const ze=se.isMesh&&se.matrixWorld.determinant()<0,He=Am(k,ie,de,me,se);ee.setMaterial(me,ze);let We=de.index,st=1;if(me.wireframe===!0){if(We=he.getWireframeAttribute(de),We===void 0)return;st=2}const ct=de.drawRange,Je=de.attributes.position;let It=ct.start*st,Nt=(ct.start+ct.count)*st;Ae!==null&&(It=Math.max(It,Ae.start*st),Nt=Math.min(Nt,(Ae.start+Ae.count)*st)),We!==null?(It=Math.max(It,0),Nt=Math.min(Nt,We.count)):Je!=null&&(It=Math.max(It,0),Nt=Math.min(Nt,Je.count));const Cn=Nt-It;if(Cn<0||Cn===1/0)return;Gt.setup(se,me,He,de,We);let pn,Lt=De;if(We!==null&&(pn=re.get(We),Lt=ot,Lt.setIndex(pn)),se.isMesh)me.wireframe===!0?(ee.setLineWidth(me.wireframeLinewidth*U()),Lt.setMode(I.LINES)):Lt.setMode(I.TRIANGLES);else if(se.isLine){let tt=me.linewidth;tt===void 0&&(tt=1),ee.setLineWidth(tt*U()),se.isLineSegments?Lt.setMode(I.LINES):se.isLineLoop?Lt.setMode(I.LINE_LOOP):Lt.setMode(I.LINE_STRIP)}else se.isPoints?Lt.setMode(I.POINTS):se.isSprite&&Lt.setMode(I.TRIANGLES);if(se.isBatchedMesh)if(se._multiDrawInstances!==null)Lt.renderMultiDrawInstances(se._multiDrawStarts,se._multiDrawCounts,se._multiDrawCount,se._multiDrawInstances);else if(X.get("WEBGL_multi_draw"))Lt.renderMultiDraw(se._multiDrawStarts,se._multiDrawCounts,se._multiDrawCount);else{const tt=se._multiDrawStarts,Yn=se._multiDrawCounts,Ft=se._multiDrawCount,to=We?re.get(We).bytesPerElement:1,du=le.get(me).currentProgram.getUniforms();for(let or=0;or<Ft;or++)du.setValue(I,"_gl_DrawID",or),Lt.render(tt[or]/to,Yn[or])}else if(se.isInstancedMesh)Lt.renderInstances(It,Cn,se.count);else if(de.isInstancedBufferGeometry){const tt=de._maxInstanceCount!==void 0?de._maxInstanceCount:1/0,Yn=Math.min(de.instanceCount,tt);Lt.renderInstances(It,Cn,Yn)}else Lt.render(It,Cn)};function Pt(k,ie,de){k.transparent===!0&&k.side===Gr&&k.forceSinglePass===!1?(k.side=Ni,k.needsUpdate=!0,ns(k,ie,de),k.side=ta,k.needsUpdate=!0,ns(k,ie,de),k.side=Gr):ns(k,ie,de)}this.compile=function(k,ie,de=null){de===null&&(de=k),m=Ze.get(de),m.init(ie),_.push(m),de.traverseVisible(function(se){se.isLight&&se.layers.test(ie.layers)&&(m.pushLight(se),se.castShadow&&m.pushShadow(se))}),k!==de&&k.traverseVisible(function(se){se.isLight&&se.layers.test(ie.layers)&&(m.pushLight(se),se.castShadow&&m.pushShadow(se))}),m.setupLights();const me=new Set;return k.traverse(function(se){if(!(se.isMesh||se.isPoints||se.isLine||se.isSprite))return;const Ae=se.material;if(Ae)if(Array.isArray(Ae))for(let ze=0;ze<Ae.length;ze++){const He=Ae[ze];Pt(He,de,se),me.add(He)}else Pt(Ae,de,se),me.add(Ae)}),_.pop(),m=null,me},this.compileAsync=function(k,ie,de=null){const me=this.compile(k,ie,de);return new Promise(se=>{function Ae(){if(me.forEach(function(ze){le.get(ze).currentProgram.isReady()&&me.delete(ze)}),me.size===0){se(k);return}setTimeout(Ae,10)}X.get("KHR_parallel_shader_compile")!==null?Ae():setTimeout(Ae,10)})};let Fi=null;function Bi(k){Fi&&Fi(k)}function wm(){fa.stop()}function Mm(){fa.start()}const fa=new f4;fa.setAnimationLoop(Bi),typeof self<"u"&&fa.setContext(self),this.setAnimationLoop=function(k){Fi=k,_e.setAnimationLoop(k),k===null?fa.stop():fa.start()},_e.addEventListener("sessionstart",wm),_e.addEventListener("sessionend",Mm),this.render=function(k,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),_e.enabled===!0&&_e.isPresenting===!0&&(_e.cameraAutoUpdate===!0&&_e.updateCamera(ie),ie=_e.getCamera()),k.isScene===!0&&k.onBeforeRender(b,k,ie,C),m=Ze.get(k,_.length),m.init(ie),_.push(m),Ce.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),Z.setFromProjectionMatrix(Ce),ye=this.localClippingEnabled,ve=Te.init(this.clippingPlanes,ye),v=Re.get(k,y.length),v.init(),y.push(v),_e.enabled===!0&&_e.isPresenting===!0){const Ae=b.xr.getDepthSensingMesh();Ae!==null&&bh(Ae,ie,-1/0,b.sortObjects)}bh(k,ie,0,b.sortObjects),v.finish(),b.sortObjects===!0&&v.sort(V,Y),D=_e.enabled===!1||_e.isPresenting===!1||_e.hasDepthSensing()===!1,D&&Ye.addToRenderList(v,k),this.info.render.frame++,ve===!0&&Te.beginShadows();const de=m.state.shadowsArray;Le.render(de,k,ie),ve===!0&&Te.endShadows(),this.info.autoReset===!0&&this.info.reset();const me=v.opaque,se=v.transmissive;if(m.setupLights(),ie.isArrayCamera){const Ae=ie.cameras;if(se.length>0)for(let ze=0,He=Ae.length;ze<He;ze++){const We=Ae[ze];Cm(me,se,k,We)}D&&Ye.render(k);for(let ze=0,He=Ae.length;ze<He;ze++){const We=Ae[ze];Tm(v,k,We,We.viewport)}}else se.length>0&&Cm(me,se,k,ie),D&&Ye.render(k),Tm(v,k,ie);C!==null&&(F.updateMultisampleRenderTarget(C),F.updateRenderTargetMipmap(C)),k.isScene===!0&&k.onAfterRender(b,k,ie),Gt.resetDefaultState(),M=-1,w=null,_.pop(),_.length>0?(m=_[_.length-1],ve===!0&&Te.setGlobalState(b.clippingPlanes,m.state.camera)):m=null,y.pop(),y.length>0?v=y[y.length-1]:v=null};function bh(k,ie,de,me){if(k.visible===!1)return;if(k.layers.test(ie.layers)){if(k.isGroup)de=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(ie);else if(k.isLight)m.pushLight(k),k.castShadow&&m.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||Z.intersectsSprite(k)){me&&J.setFromMatrixPosition(k.matrixWorld).applyMatrix4(Ce);const ze=ue.update(k),He=k.material;He.visible&&v.push(k,ze,He,de,J.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||Z.intersectsObject(k))){const ze=ue.update(k),He=k.material;if(me&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),J.copy(k.boundingSphere.center)):(ze.boundingSphere===null&&ze.computeBoundingSphere(),J.copy(ze.boundingSphere.center)),J.applyMatrix4(k.matrixWorld).applyMatrix4(Ce)),Array.isArray(He)){const We=ze.groups;for(let st=0,ct=We.length;st<ct;st++){const Je=We[st],It=He[Je.materialIndex];It&&It.visible&&v.push(k,ze,It,de,J.z,Je)}}else He.visible&&v.push(k,ze,He,de,J.z,null)}}const Ae=k.children;for(let ze=0,He=Ae.length;ze<He;ze++)bh(Ae[ze],ie,de,me)}function Tm(k,ie,de,me){const se=k.opaque,Ae=k.transmissive,ze=k.transparent;m.setupLightsView(de),ve===!0&&Te.setGlobalState(b.clippingPlanes,de),me&&ee.viewport(A.copy(me)),se.length>0&&ll(se,ie,de),Ae.length>0&&ll(Ae,ie,de),ze.length>0&&ll(ze,ie,de),ee.buffers.depth.setTest(!0),ee.buffers.depth.setMask(!0),ee.buffers.color.setMask(!0),ee.setPolygonOffset(!1)}function Cm(k,ie,de,me){if((de.isScene===!0?de.overrideMaterial:null)!==null)return;m.state.transmissionRenderTarget[me.id]===void 0&&(m.state.transmissionRenderTarget[me.id]=new wo(1,1,{generateMipmaps:!0,type:X.has("EXT_color_buffer_half_float")||X.has("EXT_color_buffer_float")?Xo:na,minFilter:Wr,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:wt.workingColorSpace}));const Ae=m.state.transmissionRenderTarget[me.id],ze=me.viewport||A;Ae.setSize(ze.z,ze.w);const He=b.getRenderTarget();b.setRenderTarget(Ae),b.getClearColor(L),E=b.getClearAlpha(),E<1&&b.setClearColor(16777215,.5),b.clear(),D&&Ye.render(de);const We=b.toneMapping;b.toneMapping=$a;const st=me.viewport;if(me.viewport!==void 0&&(me.viewport=void 0),m.setupLightsView(me),ve===!0&&Te.setGlobalState(b.clippingPlanes,me),ll(k,de,me),F.updateMultisampleRenderTarget(Ae),F.updateRenderTargetMipmap(Ae),X.has("WEBGL_multisampled_render_to_texture")===!1){let ct=!1;for(let Je=0,It=ie.length;Je<It;Je++){const Nt=ie[Je],Cn=Nt.object,pn=Nt.geometry,Lt=Nt.material,tt=Nt.group;if(Lt.side===Gr&&Cn.layers.test(me.layers)){const Yn=Lt.side;Lt.side=Ni,Lt.needsUpdate=!0,ts(Cn,de,me,pn,Lt,tt),Lt.side=Yn,Lt.needsUpdate=!0,ct=!0}}ct===!0&&(F.updateMultisampleRenderTarget(Ae),F.updateRenderTargetMipmap(Ae))}b.setRenderTarget(He),b.setClearColor(L,E),st!==void 0&&(me.viewport=st),b.toneMapping=We}function ll(k,ie,de){const me=ie.isScene===!0?ie.overrideMaterial:null;for(let se=0,Ae=k.length;se<Ae;se++){const ze=k[se],He=ze.object,We=ze.geometry,st=me===null?ze.material:me,ct=ze.group;He.layers.test(de.layers)&&ts(He,ie,de,We,st,ct)}}function ts(k,ie,de,me,se,Ae){k.onBeforeRender(b,ie,de,me,se,Ae),k.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),se.onBeforeRender(b,ie,de,me,k,Ae),se.transparent===!0&&se.side===Gr&&se.forceSinglePass===!1?(se.side=Ni,se.needsUpdate=!0,b.renderBufferDirect(de,ie,me,se,k,Ae),se.side=ta,se.needsUpdate=!0,b.renderBufferDirect(de,ie,me,se,k,Ae),se.side=Gr):b.renderBufferDirect(de,ie,me,se,k,Ae),k.onAfterRender(b,ie,de,me,se,Ae)}function ns(k,ie,de){ie.isScene!==!0&&(ie=Q);const me=le.get(k),se=m.state.lights,Ae=m.state.shadowsArray,ze=se.state.version,He=Ee.getParameters(k,se.state,Ae,ie,de),We=Ee.getProgramCacheKey(He);let st=me.programs;me.environment=k.isMeshStandardMaterial?ie.environment:null,me.fog=ie.fog,me.envMap=(k.isMeshStandardMaterial?j:N).get(k.envMap||me.environment),me.envMapRotation=me.environment!==null&&k.envMap===null?ie.environmentRotation:k.envMapRotation,st===void 0&&(k.addEventListener("dispose",yt),st=new Map,me.programs=st);let ct=st.get(We);if(ct!==void 0){if(me.currentProgram===ct&&me.lightsStateVersion===ze)return Sh(k,He),ct}else He.uniforms=Ee.getUniforms(k),k.onBeforeCompile(He,b),ct=Ee.acquireProgram(He,We),st.set(We,ct),me.uniforms=He.uniforms;const Je=me.uniforms;return(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(Je.clippingPlanes=Te.uniform),Sh(k,He),me.needsLights=Pb(k),me.lightsStateVersion=ze,me.needsLights&&(Je.ambientLightColor.value=se.state.ambient,Je.lightProbe.value=se.state.probe,Je.directionalLights.value=se.state.directional,Je.directionalLightShadows.value=se.state.directionalShadow,Je.spotLights.value=se.state.spot,Je.spotLightShadows.value=se.state.spotShadow,Je.rectAreaLights.value=se.state.rectArea,Je.ltc_1.value=se.state.rectAreaLTC1,Je.ltc_2.value=se.state.rectAreaLTC2,Je.pointLights.value=se.state.point,Je.pointLightShadows.value=se.state.pointShadow,Je.hemisphereLights.value=se.state.hemi,Je.directionalShadowMap.value=se.state.directionalShadowMap,Je.directionalShadowMatrix.value=se.state.directionalShadowMatrix,Je.spotShadowMap.value=se.state.spotShadowMap,Je.spotLightMatrix.value=se.state.spotLightMatrix,Je.spotLightMap.value=se.state.spotLightMap,Je.pointShadowMap.value=se.state.pointShadowMap,Je.pointShadowMatrix.value=se.state.pointShadowMatrix),me.currentProgram=ct,me.uniformsList=null,ct}function xh(k){if(k.uniformsList===null){const ie=k.currentProgram.getUniforms();k.uniformsList=t0.seqWithValue(ie.seq,k.uniforms)}return k.uniformsList}function Sh(k,ie){const de=le.get(k);de.outputColorSpace=ie.outputColorSpace,de.batching=ie.batching,de.batchingColor=ie.batchingColor,de.instancing=ie.instancing,de.instancingColor=ie.instancingColor,de.instancingMorph=ie.instancingMorph,de.skinning=ie.skinning,de.morphTargets=ie.morphTargets,de.morphNormals=ie.morphNormals,de.morphColors=ie.morphColors,de.morphTargetsCount=ie.morphTargetsCount,de.numClippingPlanes=ie.numClippingPlanes,de.numIntersection=ie.numClipIntersection,de.vertexAlphas=ie.vertexAlphas,de.vertexTangents=ie.vertexTangents,de.toneMapping=ie.toneMapping}function Am(k,ie,de,me,se){ie.isScene!==!0&&(ie=Q),F.resetTextureUnits();const Ae=ie.fog,ze=me.isMeshStandardMaterial?ie.environment:null,He=C===null?b.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:Xn,We=(me.isMeshStandardMaterial?j:N).get(me.envMap||ze),st=me.vertexColors===!0&&!!de.attributes.color&&de.attributes.color.itemSize===4,ct=!!de.attributes.tangent&&(!!me.normalMap||me.anisotropy>0),Je=!!de.morphAttributes.position,It=!!de.morphAttributes.normal,Nt=!!de.morphAttributes.color;let Cn=$a;me.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(Cn=b.toneMapping);const pn=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,Lt=pn!==void 0?pn.length:0,tt=le.get(me),Yn=m.state.lights;if(ve===!0&&(ye===!0||k!==w)){const mi=k===w&&me.id===M;Te.setState(me,k,mi)}let Ft=!1;me.version===tt.__version?(tt.needsLights&&tt.lightsStateVersion!==Yn.state.version||tt.outputColorSpace!==He||se.isBatchedMesh&&tt.batching===!1||!se.isBatchedMesh&&tt.batching===!0||se.isBatchedMesh&&tt.batchingColor===!0&&se.colorTexture===null||se.isBatchedMesh&&tt.batchingColor===!1&&se.colorTexture!==null||se.isInstancedMesh&&tt.instancing===!1||!se.isInstancedMesh&&tt.instancing===!0||se.isSkinnedMesh&&tt.skinning===!1||!se.isSkinnedMesh&&tt.skinning===!0||se.isInstancedMesh&&tt.instancingColor===!0&&se.instanceColor===null||se.isInstancedMesh&&tt.instancingColor===!1&&se.instanceColor!==null||se.isInstancedMesh&&tt.instancingMorph===!0&&se.morphTexture===null||se.isInstancedMesh&&tt.instancingMorph===!1&&se.morphTexture!==null||tt.envMap!==We||me.fog===!0&&tt.fog!==Ae||tt.numClippingPlanes!==void 0&&(tt.numClippingPlanes!==Te.numPlanes||tt.numIntersection!==Te.numIntersection)||tt.vertexAlphas!==st||tt.vertexTangents!==ct||tt.morphTargets!==Je||tt.morphNormals!==It||tt.morphColors!==Nt||tt.toneMapping!==Cn||tt.morphTargetsCount!==Lt)&&(Ft=!0):(Ft=!0,tt.__version=me.version);let to=tt.currentProgram;Ft===!0&&(to=ns(me,ie,se));let du=!1,or=!1,wh=!1;const rn=to.getUniforms(),Ar=tt.uniforms;if(ee.useProgram(to.program)&&(du=!0,or=!0,wh=!0),me.id!==M&&(M=me.id,or=!0),du||w!==k){ee.buffers.depth.getReversed()?(ge.copy(k.projectionMatrix),Gde(ge),Wde(ge),rn.setValue(I,"projectionMatrix",ge)):rn.setValue(I,"projectionMatrix",k.projectionMatrix),rn.setValue(I,"viewMatrix",k.matrixWorldInverse);const Ui=rn.map.cameraPosition;Ui!==void 0&&Ui.setValue(I,ce.setFromMatrixPosition(k.matrixWorld)),te.logarithmicDepthBuffer&&rn.setValue(I,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&rn.setValue(I,"isOrthographic",k.isOrthographicCamera===!0),w!==k&&(w=k,or=!0,wh=!0)}if(se.isSkinnedMesh){rn.setOptional(I,se,"bindMatrix"),rn.setOptional(I,se,"bindMatrixInverse");const mi=se.skeleton;mi&&(mi.boneTexture===null&&mi.computeBoneTexture(),rn.setValue(I,"boneTexture",mi.boneTexture,F))}se.isBatchedMesh&&(rn.setOptional(I,se,"batchingTexture"),rn.setValue(I,"batchingTexture",se._matricesTexture,F),rn.setOptional(I,se,"batchingIdTexture"),rn.setValue(I,"batchingIdTexture",se._indirectTexture,F),rn.setOptional(I,se,"batchingColorTexture"),se._colorsTexture!==null&&rn.setValue(I,"batchingColorTexture",se._colorsTexture,F));const Er=de.morphAttributes;if((Er.position!==void 0||Er.normal!==void 0||Er.color!==void 0)&&it.update(se,de,to),(or||tt.receiveShadow!==se.receiveShadow)&&(tt.receiveShadow=se.receiveShadow,rn.setValue(I,"receiveShadow",se.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(Ar.envMap.value=We,Ar.flipEnvMap.value=We.isCubeTexture&&We.isRenderTargetTexture===!1?-1:1),me.isMeshStandardMaterial&&me.envMap===null&&ie.environment!==null&&(Ar.envMapIntensity.value=ie.environmentIntensity),or&&(rn.setValue(I,"toneMappingExposure",b.toneMappingExposure),tt.needsLights&&Em(Ar,wh),Ae&&me.fog===!0&&Me.refreshFogUniforms(Ar,Ae),Me.refreshMaterialUniforms(Ar,me,H,$,m.state.transmissionRenderTarget[k.id]),t0.upload(I,xh(tt),Ar,F)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(t0.upload(I,xh(tt),Ar,F),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&rn.setValue(I,"center",se.center),rn.setValue(I,"modelViewMatrix",se.modelViewMatrix),rn.setValue(I,"normalMatrix",se.normalMatrix),rn.setValue(I,"modelMatrix",se.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const mi=me.uniformsGroups;for(let Ui=0,Db=mi.length;Ui<Db;Ui++){const cl=mi[Ui];ne.update(cl,to),ne.bind(cl,to)}}return to}function Em(k,ie){k.ambientLightColor.needsUpdate=ie,k.lightProbe.needsUpdate=ie,k.directionalLights.needsUpdate=ie,k.directionalLightShadows.needsUpdate=ie,k.pointLights.needsUpdate=ie,k.pointLightShadows.needsUpdate=ie,k.spotLights.needsUpdate=ie,k.spotLightShadows.needsUpdate=ie,k.rectAreaLights.needsUpdate=ie,k.hemisphereLights.needsUpdate=ie}function Pb(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(k,ie,de){le.get(k.texture).__webglTexture=ie,le.get(k.depthTexture).__webglTexture=de;const me=le.get(k);me.__hasExternalTextures=!0,me.__autoAllocateDepthBuffer=de===void 0,me.__autoAllocateDepthBuffer||X.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(k,ie){const de=le.get(k);de.__webglFramebuffer=ie,de.__useDefaultFramebuffer=ie===void 0},this.setRenderTarget=function(k,ie=0,de=0){C=k,x=ie,S=de;let me=!0,se=null,Ae=!1,ze=!1;if(k){const We=le.get(k);if(We.__useDefaultFramebuffer!==void 0)ee.bindFramebuffer(I.FRAMEBUFFER,null),me=!1;else if(We.__webglFramebuffer===void 0)F.setupRenderTarget(k);else if(We.__hasExternalTextures)F.rebindTextures(k,le.get(k.texture).__webglTexture,le.get(k.depthTexture).__webglTexture);else if(k.depthBuffer){const Je=k.depthTexture;if(We.__boundDepthTexture!==Je){if(Je!==null&&le.has(Je)&&(k.width!==Je.image.width||k.height!==Je.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");F.setupDepthRenderbuffer(k)}}const st=k.texture;(st.isData3DTexture||st.isDataArrayTexture||st.isCompressedArrayTexture)&&(ze=!0);const ct=le.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(ct[ie])?se=ct[ie][de]:se=ct[ie],Ae=!0):k.samples>0&&F.useMultisampledRTT(k)===!1?se=le.get(k).__webglMultisampledFramebuffer:Array.isArray(ct)?se=ct[de]:se=ct,A.copy(k.viewport),P.copy(k.scissor),R=k.scissorTest}else A.copy(ae).multiplyScalar(H).floor(),P.copy(oe).multiplyScalar(H).floor(),R=xe;if(ee.bindFramebuffer(I.FRAMEBUFFER,se)&&me&&ee.drawBuffers(k,se),ee.viewport(A),ee.scissor(P),ee.setScissorTest(R),Ae){const We=le.get(k.texture);I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_CUBE_MAP_POSITIVE_X+ie,We.__webglTexture,de)}else if(ze){const We=le.get(k.texture),st=ie||0;I.framebufferTextureLayer(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,We.__webglTexture,de||0,st)}M=-1},this.readRenderTargetPixels=function(k,ie,de,me,se,Ae,ze){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let He=le.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&ze!==void 0&&(He=He[ze]),He){ee.bindFramebuffer(I.FRAMEBUFFER,He);try{const We=k.texture,st=We.format,ct=We.type;if(!te.textureFormatReadable(st)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!te.textureTypeReadable(ct)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=k.width-me&&de>=0&&de<=k.height-se&&I.readPixels(ie,de,me,se,lt.convert(st),lt.convert(ct),Ae)}finally{const We=C!==null?le.get(C).__webglFramebuffer:null;ee.bindFramebuffer(I.FRAMEBUFFER,We)}}},this.readRenderTargetPixelsAsync=async function(k,ie,de,me,se,Ae,ze){if(!(k&&k.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let He=le.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&ze!==void 0&&(He=He[ze]),He){const We=k.texture,st=We.format,ct=We.type;if(!te.textureFormatReadable(st))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!te.textureTypeReadable(ct))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ie>=0&&ie<=k.width-me&&de>=0&&de<=k.height-se){ee.bindFramebuffer(I.FRAMEBUFFER,He);const Je=I.createBuffer();I.bindBuffer(I.PIXEL_PACK_BUFFER,Je),I.bufferData(I.PIXEL_PACK_BUFFER,Ae.byteLength,I.STREAM_READ),I.readPixels(ie,de,me,se,lt.convert(st),lt.convert(ct),0);const It=C!==null?le.get(C).__webglFramebuffer:null;ee.bindFramebuffer(I.FRAMEBUFFER,It);const Nt=I.fenceSync(I.SYNC_GPU_COMMANDS_COMPLETE,0);return I.flush(),await Vde(I,Nt,4),I.bindBuffer(I.PIXEL_PACK_BUFFER,Je),I.getBufferSubData(I.PIXEL_PACK_BUFFER,0,Ae),I.deleteBuffer(Je),I.deleteSync(Nt),Ae}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(k,ie=null,de=0){k.isTexture!==!0&&(ef("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ie=arguments[0]||null,k=arguments[1]);const me=Math.pow(2,-de),se=Math.floor(k.image.width*me),Ae=Math.floor(k.image.height*me),ze=ie!==null?ie.x:0,He=ie!==null?ie.y:0;F.setTexture2D(k,0),I.copyTexSubImage2D(I.TEXTURE_2D,de,0,0,ze,He,se,Ae),ee.unbindTexture()};const Ib=I.createFramebuffer(),Rb=I.createFramebuffer();this.copyTextureToTexture=function(k,ie,de=null,me=null,se=0,Ae=null){k.isTexture!==!0&&(ef("WebGLRenderer: copyTextureToTexture function signature has changed."),me=arguments[0]||null,k=arguments[1],ie=arguments[2],Ae=arguments[3]||0,de=null),Ae===null&&(se!==0?(ef("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ae=se,se=0):Ae=0);let ze,He,We,st,ct,Je,It,Nt,Cn;const pn=k.isCompressedTexture?k.mipmaps[Ae]:k.image;if(de!==null)ze=de.max.x-de.min.x,He=de.max.y-de.min.y,We=de.isBox3?de.max.z-de.min.z:1,st=de.min.x,ct=de.min.y,Je=de.isBox3?de.min.z:0;else{const Er=Math.pow(2,-se);ze=Math.floor(pn.width*Er),He=Math.floor(pn.height*Er),k.isDataArrayTexture?We=pn.depth:k.isData3DTexture?We=Math.floor(pn.depth*Er):We=1,st=0,ct=0,Je=0}me!==null?(It=me.x,Nt=me.y,Cn=me.z):(It=0,Nt=0,Cn=0);const Lt=lt.convert(ie.format),tt=lt.convert(ie.type);let Yn;ie.isData3DTexture?(F.setTexture3D(ie,0),Yn=I.TEXTURE_3D):ie.isDataArrayTexture||ie.isCompressedArrayTexture?(F.setTexture2DArray(ie,0),Yn=I.TEXTURE_2D_ARRAY):(F.setTexture2D(ie,0),Yn=I.TEXTURE_2D),I.pixelStorei(I.UNPACK_FLIP_Y_WEBGL,ie.flipY),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),I.pixelStorei(I.UNPACK_ALIGNMENT,ie.unpackAlignment);const Ft=I.getParameter(I.UNPACK_ROW_LENGTH),to=I.getParameter(I.UNPACK_IMAGE_HEIGHT),du=I.getParameter(I.UNPACK_SKIP_PIXELS),or=I.getParameter(I.UNPACK_SKIP_ROWS),wh=I.getParameter(I.UNPACK_SKIP_IMAGES);I.pixelStorei(I.UNPACK_ROW_LENGTH,pn.width),I.pixelStorei(I.UNPACK_IMAGE_HEIGHT,pn.height),I.pixelStorei(I.UNPACK_SKIP_PIXELS,st),I.pixelStorei(I.UNPACK_SKIP_ROWS,ct),I.pixelStorei(I.UNPACK_SKIP_IMAGES,Je);const rn=k.isDataArrayTexture||k.isData3DTexture,Ar=ie.isDataArrayTexture||ie.isData3DTexture;if(k.isDepthTexture){const Er=le.get(k),mi=le.get(ie),Ui=le.get(Er.__renderTarget),Db=le.get(mi.__renderTarget);ee.bindFramebuffer(I.READ_FRAMEBUFFER,Ui.__webglFramebuffer),ee.bindFramebuffer(I.DRAW_FRAMEBUFFER,Db.__webglFramebuffer);for(let cl=0;cl<We;cl++)rn&&(I.framebufferTextureLayer(I.READ_FRAMEBUFFER,I.COLOR_ATTACHMENT0,le.get(k).__webglTexture,se,Je+cl),I.framebufferTextureLayer(I.DRAW_FRAMEBUFFER,I.COLOR_ATTACHMENT0,le.get(ie).__webglTexture,Ae,Cn+cl)),I.blitFramebuffer(st,ct,ze,He,It,Nt,ze,He,I.DEPTH_BUFFER_BIT,I.NEAREST);ee.bindFramebuffer(I.READ_FRAMEBUFFER,null),ee.bindFramebuffer(I.DRAW_FRAMEBUFFER,null)}else if(se!==0||k.isRenderTargetTexture||le.has(k)){const Er=le.get(k),mi=le.get(ie);ee.bindFramebuffer(I.READ_FRAMEBUFFER,Ib),ee.bindFramebuffer(I.DRAW_FRAMEBUFFER,Rb);for(let Ui=0;Ui<We;Ui++)rn?I.framebufferTextureLayer(I.READ_FRAMEBUFFER,I.COLOR_ATTACHMENT0,Er.__webglTexture,se,Je+Ui):I.framebufferTexture2D(I.READ_FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,Er.__webglTexture,se),Ar?I.framebufferTextureLayer(I.DRAW_FRAMEBUFFER,I.COLOR_ATTACHMENT0,mi.__webglTexture,Ae,Cn+Ui):I.framebufferTexture2D(I.DRAW_FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,mi.__webglTexture,Ae),se!==0?I.blitFramebuffer(st,ct,ze,He,It,Nt,ze,He,I.COLOR_BUFFER_BIT,I.NEAREST):Ar?I.copyTexSubImage3D(Yn,Ae,It,Nt,Cn+Ui,st,ct,ze,He):I.copyTexSubImage2D(Yn,Ae,It,Nt,st,ct,ze,He);ee.bindFramebuffer(I.READ_FRAMEBUFFER,null),ee.bindFramebuffer(I.DRAW_FRAMEBUFFER,null)}else Ar?k.isDataTexture||k.isData3DTexture?I.texSubImage3D(Yn,Ae,It,Nt,Cn,ze,He,We,Lt,tt,pn.data):ie.isCompressedArrayTexture?I.compressedTexSubImage3D(Yn,Ae,It,Nt,Cn,ze,He,We,Lt,pn.data):I.texSubImage3D(Yn,Ae,It,Nt,Cn,ze,He,We,Lt,tt,pn):k.isDataTexture?I.texSubImage2D(I.TEXTURE_2D,Ae,It,Nt,ze,He,Lt,tt,pn.data):k.isCompressedTexture?I.compressedTexSubImage2D(I.TEXTURE_2D,Ae,It,Nt,pn.width,pn.height,Lt,pn.data):I.texSubImage2D(I.TEXTURE_2D,Ae,It,Nt,ze,He,Lt,tt,pn);I.pixelStorei(I.UNPACK_ROW_LENGTH,Ft),I.pixelStorei(I.UNPACK_IMAGE_HEIGHT,to),I.pixelStorei(I.UNPACK_SKIP_PIXELS,du),I.pixelStorei(I.UNPACK_SKIP_ROWS,or),I.pixelStorei(I.UNPACK_SKIP_IMAGES,wh),Ae===0&&ie.generateMipmaps&&I.generateMipmap(Yn),ee.unbindTexture()},this.copyTextureToTexture3D=function(k,ie,de=null,me=null,se=0){return k.isTexture!==!0&&(ef("WebGLRenderer: copyTextureToTexture3D function signature has changed."),de=arguments[0]||null,me=arguments[1]||null,k=arguments[2],ie=arguments[3],se=arguments[4]||0),ef('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(k,ie,de,me,se)},this.initRenderTarget=function(k){le.get(k).__webglFramebuffer===void 0&&F.setupRenderTarget(k)},this.initTexture=function(k){k.isCubeTexture?F.setTextureCube(k,0):k.isData3DTexture?F.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?F.setTexture2DArray(k,0):F.setTexture2D(k,0),ee.unbindTexture()},this.resetState=function(){x=0,S=0,C=null,ee.reset(),Gt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return jo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=wt._getDrawingBufferColorSpace(e),n.unpackColorSpace=wt._getUnpackColorSpace()}}const X_e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:XH,AddEquation:Es,AddOperation:HH,AdditiveAnimationBlendMode:yA,AdditiveBlending:SM,AgXToneMapping:YH,AlphaFormat:hA,AlwaysCompare:u5,AlwaysDepth:sy,AlwaysStencilFunc:CM,AmbientLight:K5,AnimationAction:s4,AnimationClip:th,AnimationLoader:hme,AnimationMixer:Bme,AnimationObjectGroup:Nme,AnimationUtils:lme,ArcCurve:M5,ArrayCamera:i4,ArrowHelper:ive,AttachedBindMode:TM,Audio:o4,AudioAnalyser:Tme,AudioContext:KA,AudioListener:Sme,AudioLoader:_me,AxesHelper:rve,BackSide:Ni,BasicDepthPacking:t5,BasicShadowMap:qhe,BatchedMesh:w5,Bone:lb,BooleanKeyframeTrack:fu,Box2:Vme,Box3:di,Box3Helper:tve,BoxGeometry:cu,BoxHelper:eve,BufferAttribute:Ot,BufferGeometry:gt,BufferGeometryLoader:t4,ByteType:cA,Cache:Ba,Camera:ab,CameraHelper:Qme,CanvasTexture:Dpe,CapsuleGeometry:hb,CatmullRomCurve3:T5,CineonToneMapping:WH,CircleGeometry:db,ClampToEdgeWrapping:mr,Clock:r4,Color:Oe,ColorKeyframeTrack:WA,ColorManagement:wt,CompressedArrayTexture:Ipe,CompressedCubeTexture:Rpe,CompressedTexture:ub,CompressedTextureLoader:dme,ConeGeometry:pb,ConstantAlphaFactor:zH,ConstantColorFactor:BH,Controls:u4,CubeCamera:y5,CubeReflectionMapping:ja,CubeRefractionMapping:Ys,CubeTexture:dm,CubeTextureLoader:X5,CubeUVReflectionMapping:vh,CubicBezierCurve:LA,CubicBezierCurve3:C5,CubicInterpolant:H5,CullFaceBack:xM,CullFaceFront:xH,CullFaceFrontBack:Yhe,CullFaceNone:bH,Curve:Ao,CurvePath:E5,CustomBlending:wH,CustomToneMapping:jH,CylinderGeometry:gh,Cylindrical:Hme,Data3DTexture:wA,DataArrayTexture:rb,DataTexture:Ko,DataTextureLoader:j5,DataUtils:wd,DecrementStencilOp:ade,DecrementWrapStencilOp:lde,DefaultLoadingManager:W5,DepthFormat:Ec,DepthStencilFormat:jc,DepthTexture:DA,DetachedBindMode:KH,DirectionalLight:Tb,DirectionalLightHelper:Jme,DiscreteInterpolant:V5,DodecahedronGeometry:mb,DoubleSide:Gr,DstAlphaFactor:DH,DstColorFactor:LH,DynamicCopyUsage:wde,DynamicDrawUsage:gde,DynamicReadUsage:bde,EdgesGeometry:zA,EllipseCurve:fb,EqualCompare:a5,EqualDepth:cy,EqualStencilFunc:hde,EquirectangularReflectionMapping:Yf,EquirectangularRefractionMapping:$p,Euler:Mr,EventDispatcher:ua,ExtrudeGeometry:gb,FileLoader:Tr,Float16BufferAttribute:fpe,Float32BufferAttribute:Xe,FloatType:Qn,Fog:pm,FogExp2:sb,FramebufferTexture:Ppe,FrontSide:ta,Frustum:gm,GLBufferAttribute:$me,GLSL1:Tde,GLSL3:AM,GreaterCompare:s5,GreaterDepth:fy,GreaterEqualCompare:c5,GreaterEqualDepth:uy,GreaterEqualStencilFunc:vde,GreaterStencilFunc:pde,GridHelper:Kme,Group:Fa,HalfFloatType:Xo,HemisphereLight:q5,HemisphereLightHelper:qme,IcosahedronGeometry:yb,ImageBitmapLoader:n4,ImageLoader:Zp,ImageUtils:d5,IncrementStencilOp:ode,IncrementWrapStencilOp:sde,InstancedBufferAttribute:Yc,InstancedBufferGeometry:e4,InstancedInterleavedBuffer:kme,InstancedMesh:PA,Int16BufferAttribute:cpe,Int32BufferAttribute:upe,Int8BufferAttribute:ape,IntType:Z_,InterleavedBuffer:mm,InterleavedBufferAttribute:Ks,Interpolant:yh,InterpolateDiscrete:Zf,InterpolateLinear:Jf,InterpolateSmooth:e0,InvertStencilOp:cde,KeepStencilOp:ec,KeyframeTrack:Eo,LOD:S5,LatheGeometry:ym,Layers:ob,LessCompare:o5,LessDepth:ly,LessEqualCompare:bA,LessEqualDepth:Wc,LessEqualStencilFunc:dde,LessStencilFunc:fde,Light:sl,LightProbe:Q5,Line:qa,Line3:Gme,LineBasicMaterial:ii,LineCurve:NA,LineCurve3:A5,LineDashedMaterial:z5,LineLoop:IA,LineSegments:Qr,LinearFilter:sn,LinearInterpolant:GA,LinearMipMapLinearFilter:Qhe,LinearMipMapNearestFilter:Jhe,LinearMipmapLinearFilter:Wr,LinearMipmapNearestFilter:Ef,LinearSRGBColorSpace:Xn,LinearToneMapping:VH,LinearTransfer:Vp,Loader:pi,LoaderUtils:Vs,LoadingManager:XA,LoopOnce:ZH,LoopPingPong:QH,LoopRepeat:JH,LuminanceAlphaFormat:mA,LuminanceFormat:pA,MOUSE:Cc,Material:Bn,MaterialLoader:Cb,MathUtils:SA,Matrix2:eE,Matrix3:vt,Matrix4:et,MaxEquation:AH,Mesh:yn,MeshBasicMaterial:vr,MeshDepthMaterial:kA,MeshDistanceMaterial:$A,MeshLambertMaterial:U5,MeshMatcapMaterial:HA,MeshNormalMaterial:B5,MeshPhongMaterial:N5,MeshPhysicalMaterial:eo,MeshStandardMaterial:xm,MeshToonMaterial:F5,MinEquation:CH,MirroredRepeatWrapping:qf,MixOperation:$H,MultiplyBlending:MM,MultiplyOperation:fm,NearestFilter:Fn,NearestMipMapLinearFilter:Zhe,NearestMipMapNearestFilter:Khe,NearestMipmapLinearFilter:dc,NearestMipmapNearestFilter:K_,NeutralToneMapping:qH,NeverCompare:r5,NeverDepth:ay,NeverStencilFunc:ude,NoBlending:ka,NoColorSpace:Da,NoToneMapping:$a,NormalAnimationBlendMode:ib,NormalBlending:Ac,NotEqualCompare:l5,NotEqualDepth:hy,NotEqualStencilFunc:mde,NumberKeyframeTrack:Kc,Object3D:At,ObjectLoader:gme,ObjectSpaceNormalMap:i5,OctahedronGeometry:_m,OneFactor:PH,OneMinusConstantAlphaFactor:kH,OneMinusConstantColorFactor:UH,OneMinusDstAlphaFactor:OH,OneMinusDstColorFactor:NH,OneMinusSrcAlphaFactor:oy,OneMinusSrcColorFactor:RH,OrthographicCamera:Sm,PCFShadowMap:lA,PCFSoftShadowMap:SH,PMREMGenerator:NM,Path:jp,PerspectiveCamera:On,Plane:Pa,PlaneGeometry:uu,PlaneHelper:nve,PointLight:qA,PointLightHelper:jme,Points:RA,PointsMaterial:cb,PolarGridHelper:Zme,PolyhedronGeometry:al,PositionalAudio:Mme,PropertyBinding:Et,PropertyMixer:a4,QuadraticBezierCurve:FA,QuadraticBezierCurve3:BA,Quaternion:Wn,QuaternionKeyframeTrack:Zc,QuaternionLinearInterpolant:G5,RED_GREEN_RGTC2_Format:By,RED_RGTC1_Format:gA,REVISION:Y_,RGBADepthPacking:n5,RGBAFormat:Ri,RGBAIntegerFormat:nb,RGBA_ASTC_10x10_Format:Ry,RGBA_ASTC_10x5_Format:Ey,RGBA_ASTC_10x6_Format:Py,RGBA_ASTC_10x8_Format:Iy,RGBA_ASTC_12x10_Format:Dy,RGBA_ASTC_12x12_Format:Oy,RGBA_ASTC_4x4_Format:by,RGBA_ASTC_5x4_Format:xy,RGBA_ASTC_5x5_Format:Sy,RGBA_ASTC_6x5_Format:wy,RGBA_ASTC_6x6_Format:My,RGBA_ASTC_8x5_Format:Ty,RGBA_ASTC_8x6_Format:Cy,RGBA_ASTC_8x8_Format:Ay,RGBA_BPTC_Format:tp,RGBA_ETC2_EAC_Format:_y,RGBA_PVRTC_2BPPV1_Format:vy,RGBA_PVRTC_4BPPV1_Format:my,RGBA_S3TC_DXT1_Format:Jd,RGBA_S3TC_DXT3_Format:Qd,RGBA_S3TC_DXT5_Format:ep,RGBDepthPacking:tde,RGBFormat:dA,RGBIntegerFormat:ede,RGB_BPTC_SIGNED_Format:Ly,RGB_BPTC_UNSIGNED_Format:Ny,RGB_ETC1_Format:gy,RGB_ETC2_Format:yy,RGB_PVRTC_2BPPV1_Format:py,RGB_PVRTC_4BPPV1_Format:dy,RGB_S3TC_DXT1_Format:Zd,RGDepthPacking:nde,RGFormat:vA,RGIntegerFormat:tb,RawShaderMaterial:L5,Ray:lu,Raycaster:l4,RectAreaLight:Z5,RedFormat:eb,RedIntegerFormat:hm,ReinhardToneMapping:GH,RenderTarget:p5,RepeatWrapping:qs,ReplaceStencilOp:rde,ReverseSubtractEquation:TH,RingGeometry:_b,SIGNED_RED_GREEN_RGTC2_Format:Uy,SIGNED_RED_RGTC1_Format:Fy,SRGBColorSpace:gn,SRGBTransfer:$t,Scene:CA,ShaderChunk:bt,ShaderLib:ho,ShaderMaterial:Mo,ShadowMaterial:O5,Shape:Ic,ShapeGeometry:bb,ShapePath:ove,ShapeUtils:Zo,ShortType:uA,Skeleton:vm,SkeletonHelper:Xme,SkinnedMesh:EA,Source:vc,Sphere:ti,SphereGeometry:bm,Spherical:OM,SphericalHarmonics3:J5,SplineCurve:UA,SpotLight:YA,SpotLightHelper:Wme,Sprite:x5,SpriteMaterial:AA,SrcAlphaFactor:ry,SrcAlphaSaturateFactor:FH,SrcColorFactor:IH,StaticCopyUsage:Sde,StaticDrawUsage:Gp,StaticReadUsage:_de,StereoCamera:bme,StreamCopyUsage:Mde,StreamDrawUsage:yde,StreamReadUsage:xde,StringKeyframeTrack:hu,SubtractEquation:MH,SubtractiveBlending:wM,TOUCH:hc,TangentSpaceNormalMap:ol,TetrahedronGeometry:xb,Texture:un,TextureLoader:Y5,TextureUtils:uve,TorusGeometry:Sb,TorusKnotGeometry:wb,Triangle:qi,TriangleFanDrawMode:zy,TriangleStripDrawMode:_A,TrianglesDrawMode:e5,TubeGeometry:Mb,UVMapping:q_,Uint16BufferAttribute:MA,Uint32BufferAttribute:TA,Uint8BufferAttribute:spe,Uint8ClampedBufferAttribute:lpe,Uniform:QA,UniformsGroup:zme,UniformsLib:Ne,UniformsUtils:g5,UnsignedByteType:na,UnsignedInt248Type:Xc,UnsignedInt5999Type:fA,UnsignedIntType:Ya,UnsignedShort4444Type:J_,UnsignedShort5551Type:Q_,UnsignedShortType:Kf,VSMShadowMap:Bo,Vector2:be,Vector3:G,Vector4:Rt,VectorKeyframeTrack:Jc,VideoTexture:Epe,WebGL3DRenderTarget:Kde,WebGLArrayRenderTarget:qde,WebGLCoordinateSystem:jo,WebGLCubeRenderTarget:_5,WebGLMultipleRenderTargets:fve,WebGLRenderTarget:wo,WebGLRenderer:g4,WebGLUtils:v4,WebGPUCoordinateSystem:Wp,WireframeGeometry:D5,WrapAroundEnding:Hp,ZeroCurvatureEnding:pc,ZeroFactor:EH,ZeroSlopeEnding:mc,ZeroStencilOp:ide,createCanvasElement:h5},Symbol.toStringTag,{value:"Module"}));function fN(t,e){if(e===e5)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===zy||e===_A){let n=t.getIndex();if(n===null){const a=[],s=t.getAttribute("position");if(s!==void 0){for(let l=0;l<s.count;l++)a.push(l);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,r=[];if(e===zy)for(let a=1;a<=i;a++)r.push(n.getX(0)),r.push(n.getX(a)),r.push(n.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(r.push(n.getX(a)),r.push(n.getX(a+1)),r.push(n.getX(a+2))):(r.push(n.getX(a+2)),r.push(n.getX(a+1)),r.push(n.getX(a)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(r),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}class j_e extends pi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new J_e(n)}),this.register(function(n){return new Q_e(n)}),this.register(function(n){return new lbe(n)}),this.register(function(n){return new cbe(n)}),this.register(function(n){return new ube(n)}),this.register(function(n){return new tbe(n)}),this.register(function(n){return new nbe(n)}),this.register(function(n){return new ibe(n)}),this.register(function(n){return new rbe(n)}),this.register(function(n){return new Z_e(n)}),this.register(function(n){return new obe(n)}),this.register(function(n){return new ebe(n)}),this.register(function(n){return new sbe(n)}),this.register(function(n){return new abe(n)}),this.register(function(n){return new q_e(n)}),this.register(function(n){return new fbe(n)}),this.register(function(n){return new hbe(n)})}load(e,n,i,r){const o=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const c=Vs.extractUrlBase(e);a=Vs.resolveURL(c,this.path)}else a=Vs.extractUrlBase(e);this.manager.itemStart(e);const s=function(c){r?r(c):console.error(c),o.manager.itemError(e),o.manager.itemEnd(e)},l=new Tr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{o.parse(c,a,function(u){n(u),o.manager.itemEnd(e)},s)}catch(u){s(u)}},i,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,r){let o;const a={},s={},l=new TextDecoder;if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===y4){try{a[Mt.KHR_BINARY_GLTF]=new dbe(e)}catch(f){r&&r(f);return}o=JSON.parse(a[Mt.KHR_BINARY_GLTF].content)}else o=JSON.parse(l.decode(e));else o=e;if(o.asset===void 0||o.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Cbe(o,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const f=this.pluginCallbacks[u](c);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[f.name]=f,a[f.name]=!0}if(o.extensionsUsed)for(let u=0;u<o.extensionsUsed.length;++u){const f=o.extensionsUsed[u],h=o.extensionsRequired||[];switch(f){case Mt.KHR_MATERIALS_UNLIT:a[f]=new K_e;break;case Mt.KHR_DRACO_MESH_COMPRESSION:a[f]=new pbe(o,this.dracoLoader);break;case Mt.KHR_TEXTURE_TRANSFORM:a[f]=new mbe;break;case Mt.KHR_MESH_QUANTIZATION:a[f]=new vbe;break;default:h.indexOf(f)>=0&&s[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}c.setExtensions(a),c.setPlugins(s),c.parse(i,r)}parseAsync(e,n){const i=this;return new Promise(function(r,o){i.parse(e,n,r,o)})}}function Y_e(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Mt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class q_e{constructor(e){this.parser=e,this.name=Mt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){const o=n[i];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let r=n.cache.get(i);if(r)return r;const o=n.json,l=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let c;const u=new Oe(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],Xn);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Tb(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new qA(u),c.distance=f;break;case"spot":c=new YA(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Aa(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),n.cache.add(i,r),r}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,o=i.json.nodes[e],s=(o.extensions&&o.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(l){return i._getNodeRef(n.cache,s,l)})}}class K_e{constructor(){this.name=Mt.KHR_MATERIALS_UNLIT}getMaterialType(){return vr}extendParams(e,n,i){const r=[];e.color=new Oe(1,1,1),e.opacity=1;const o=n.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const a=o.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Xn),e.opacity=a[3]}o.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",o.baseColorTexture,gn))}return Promise.all(r)}}class Z_e{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name].emissiveStrength;return o!==void 0&&(n.emissiveIntensity=o),Promise.resolve()}}class J_e{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];if(a.clearcoatFactor!==void 0&&(n.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&o.push(i.assignTexture(n,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&o.push(i.assignTexture(n,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(o.push(i.assignTexture(n,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const s=a.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new be(s,s)}return Promise.all(o)}}class Q_e{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name];return n.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class ebe{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];return a.iridescenceFactor!==void 0&&(n.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&o.push(i.assignTexture(n,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(n.iridescenceIOR=a.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&o.push(i.assignTexture(n,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(o)}}class tbe{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[];n.sheenColor=new Oe(0,0,0),n.sheenRoughness=0,n.sheen=1;const a=r.extensions[this.name];if(a.sheenColorFactor!==void 0){const s=a.sheenColorFactor;n.sheenColor.setRGB(s[0],s[1],s[2],Xn)}return a.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&o.push(i.assignTexture(n,"sheenColorMap",a.sheenColorTexture,gn)),a.sheenRoughnessTexture!==void 0&&o.push(i.assignTexture(n,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(o)}}class nbe{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];return a.transmissionFactor!==void 0&&(n.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&o.push(i.assignTexture(n,"transmissionMap",a.transmissionTexture)),Promise.all(o)}}class ibe{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];n.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&o.push(i.assignTexture(n,"thicknessMap",a.thicknessTexture)),n.attenuationDistance=a.attenuationDistance||1/0;const s=a.attenuationColor||[1,1,1];return n.attenuationColor=new Oe().setRGB(s[0],s[1],s[2],Xn),Promise.all(o)}}class rbe{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name];return n.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class obe{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];n.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&o.push(i.assignTexture(n,"specularIntensityMap",a.specularTexture));const s=a.specularColorFactor||[1,1,1];return n.specularColor=new Oe().setRGB(s[0],s[1],s[2],Xn),a.specularColorTexture!==void 0&&o.push(i.assignTexture(n,"specularColorMap",a.specularColorTexture,gn)),Promise.all(o)}}class abe{constructor(e){this.parser=e,this.name=Mt.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];return n.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&o.push(i.assignTexture(n,"bumpMap",a.bumpTexture)),Promise.all(o)}}class sbe{constructor(e){this.parser=e,this.name=Mt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:eo}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];return a.anisotropyStrength!==void 0&&(n.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(n.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&o.push(i.assignTexture(n,"anisotropyMap",a.anisotropyTexture)),Promise.all(o)}}class lbe{constructor(e){this.parser=e,this.name=Mt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const o=r.extensions[this.name],a=n.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,o.source,a)}}class cbe{constructor(e){this.parser=e,this.name=Mt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,o=r.textures[e];if(!o.extensions||!o.extensions[n])return null;const a=o.extensions[n],s=r.images[a.source];let l=i.textureLoader;if(s.uri){const c=i.options.manager.getHandler(s.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class ube{constructor(e){this.parser=e,this.name=Mt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,o=r.textures[e];if(!o.extensions||!o.extensions[n])return null;const a=o.extensions[n],s=r.images[a.source];let l=i.textureLoader;if(s.uri){const c=i.options.manager.getHandler(s.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class fbe{constructor(e){this.name=Mt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],o=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(s){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,f=r.byteStride,h=new Uint8Array(s,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(u,f,h,r.mode,r.filter).then(function(d){return d.buffer}):a.ready.then(function(){const d=new ArrayBuffer(u*f);return a.decodeGltfBuffer(new Uint8Array(d),u,f,h,r.mode,r.filter),d})})}else return null}}class hbe{constructor(e){this.name=Mt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=n.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Ur.TRIANGLES&&c.mode!==Ur.TRIANGLE_STRIP&&c.mode!==Ur.TRIANGLE_FAN&&c.mode!==void 0)return null;const a=i.extensions[this.name].attributes,s=[],l={};for(const c in a)s.push(this.parser.getDependency("accessor",a[c]).then(u=>(l[c]=u,l[c])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],h=c[0].count,d=[];for(const p of f){const g=new et,v=new G,m=new Wn,y=new G(1,1,1),_=new PA(p.geometry,p.material,h);for(let b=0;b<h;b++)l.TRANSLATION&&v.fromBufferAttribute(l.TRANSLATION,b),l.ROTATION&&m.fromBufferAttribute(l.ROTATION,b),l.SCALE&&y.fromBufferAttribute(l.SCALE,b),_.setMatrixAt(b,g.compose(v,m,y));for(const b in l)if(b==="_COLOR_0"){const T=l[b];_.instanceColor=new Yc(T.array,T.itemSize,T.normalized)}else b!=="TRANSLATION"&&b!=="ROTATION"&&b!=="SCALE"&&p.geometry.setAttribute(b,l[b]);At.prototype.copy.call(_,p),this.parser.assignFinalMaterial(_),d.push(_)}return u.isGroup?(u.clear(),u.add(...d),u):d[0]}))}}const y4="glTF",cd=12,hN={JSON:1313821514,BIN:5130562};class dbe{constructor(e){this.name=Mt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,cd),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==y4)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-cd,o=new DataView(e,cd);let a=0;for(;a<r;){const s=o.getUint32(a,!0);a+=4;const l=o.getUint32(a,!0);if(a+=4,l===hN.JSON){const c=new Uint8Array(e,cd+a,s);this.content=i.decode(c)}else if(l===hN.BIN){const c=cd+a;this.body=e.slice(c,c+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class pbe{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Mt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,r=this.dracoLoader,o=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,s={},l={},c={};for(const u in a){const f=BM[u]||u.toLowerCase();s[f]=a[u]}for(const u in e.attributes){const f=BM[u]||u.toLowerCase();if(a[u]!==void 0){const h=i.accessors[e.attributes[u]],d=If[h.componentType];c[f]=d.name,l[f]=h.normalized===!0}}return n.getDependency("bufferView",o).then(function(u){return new Promise(function(f,h){r.decodeDracoFile(u,function(d){for(const p in d.attributes){const g=d.attributes[p],v=l[p];v!==void 0&&(g.normalized=v)}f(d)},s,c,Xn,h)})})}}class mbe{constructor(){this.name=Mt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class vbe{constructor(){this.name=Mt.KHR_MESH_QUANTIZATION}}class _4 extends yh{constructor(e,n,i,r){super(e,n,i,r)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=e*r*3+r;for(let a=0;a!==r;a++)n[a]=i[o+a];return n}interpolate_(e,n,i,r){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=s*2,c=s*3,u=r-n,f=(i-n)/u,h=f*f,d=h*f,p=e*c,g=p-c,v=-2*d+3*h,m=d-h,y=1-v,_=m-h+f;for(let b=0;b!==s;b++){const T=a[g+b+s],x=a[g+b+l]*u,S=a[p+b+s],C=a[p+b]*u;o[b]=y*T+_*x+v*S+m*C}return o}}const gbe=new Wn;class ybe extends _4{interpolate_(e,n,i,r){const o=super.interpolate_(e,n,i,r);return gbe.fromArray(o).normalize().toArray(o),o}}const Ur={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},If={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},dN={9728:Fn,9729:sn,9984:K_,9985:Ef,9986:dc,9987:Wr},pN={33071:mr,33648:qf,10497:qs},x1={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},BM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},bs={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},_be={CUBICSPLINE:void 0,LINEAR:Jf,STEP:Zf},S1={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function bbe(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new xm({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ta})),t.DefaultMaterial}function Zl(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function Aa(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function xbe(t,e,n){let i=!1,r=!1,o=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(i=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(o=!0),i&&r&&o)break}if(!i&&!r&&!o)return Promise.resolve(t);const a=[],s=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(i){const h=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;a.push(h)}if(r){const h=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;s.push(h)}if(o){const h=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],h=c[2];return i&&(t.morphAttributes.position=u),r&&(t.morphAttributes.normal=f),o&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function Sbe(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function wbe(t){let e;const n=t.extensions&&t.extensions[Mt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+w1(n.attributes):e=t.indices+":"+w1(t.attributes)+":"+t.mode,t.targets!==void 0)for(let i=0,r=t.targets.length;i<r;i++)e+=":"+w1(t.targets[i]);return e}function w1(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function UM(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Mbe(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":t.search(/\.ktx2($|\?)/i)>0||t.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const Tbe=new et;class Cbe{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Y_e,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=-1,o=!1,a=-1;if(typeof navigator<"u"){const s=navigator.userAgent;i=/^((?!chrome|android).)*safari/i.test(s)===!0;const l=s.match(/Version\/(\d+)/);r=i&&l?parseInt(l[1],10):-1,o=s.indexOf("Firefox")>-1,a=o?s.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||i&&r<17||o&&a<98?this.textureLoader=new Y5(this.options.manager):this.textureLoader=new n4(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Tr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,r=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const s={scene:a[0][r.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:r.asset,parser:i,userData:{}};return Zl(o,s,r),Aa(s,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(s)})).then(function(){for(const l of s.scenes)l.updateMatrixWorld();e(s)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let r=0,o=n.length;r<o;r++){const a=n[r].joints;for(let s=0,l=a.length;s<l;s++)e[a[s]].isBone=!0}for(let r=0,o=e.length;r<o;r++){const a=e[r];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const r=i.clone(),o=(a,s)=>{const l=this.associations.get(a);l!=null&&this.associations.set(s,l);for(const[c,u]of a.children.entries())o(u,s.children[c])};return o(i,r),r.name+="_instance_"+e.uses[n]++,r}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const r=e(n[i]);if(r)return r}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let r=0;r<n.length;r++){const o=e(n[r]);o&&i.push(o)}return i}getDependency(e,n){const i=e+":"+n;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(o){return o.loadNode&&o.loadNode(n)});break;case"mesh":r=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,n)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(o,a){return i.getDependency(e,a)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Mt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(o,a){i.load(Vs.resolveURL(n.uri,r.path),o,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const r=n.byteLength||0,o=n.byteOffset||0;return i.slice(o,o+r)})}loadAccessor(e){const n=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const a=x1[r.type],s=If[r.componentType],l=r.normalized===!0,c=new s(r.count*a);return Promise.resolve(new Ot(c,a,l))}const o=[];return r.bufferView!==void 0?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),r.sparse!==void 0&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then(function(a){const s=a[0],l=x1[r.type],c=If[r.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,h=r.byteOffset||0,d=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,p=r.normalized===!0;let g,v;if(d&&d!==f){const m=Math.floor(h/d),y="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+m+":"+r.count;let _=n.cache.get(y);_||(g=new c(s,m*d,r.count*d/u),_=new mm(g,d/u),n.cache.add(y,_)),v=new Ks(_,l,h%d/u,p)}else s===null?g=new c(r.count*l):g=new c(s,h,r.count*l),v=new Ot(g,l,p);if(r.sparse!==void 0){const m=x1.SCALAR,y=If[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,T=new y(a[1],_,r.sparse.count*m),x=new c(a[2],b,r.sparse.count*l);s!==null&&(v=new Ot(v.array.slice(),v.itemSize,v.normalized)),v.normalized=!1;for(let S=0,C=T.length;S<C;S++){const M=T[S];if(v.setX(M,x[S*l]),l>=2&&v.setY(M,x[S*l+1]),l>=3&&v.setZ(M,x[S*l+2]),l>=4&&v.setW(M,x[S*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}v.normalized=p}return v})}loadTexture(e){const n=this.json,i=this.options,o=n.textures[e].source,a=n.images[o];let s=this.textureLoader;if(a.uri){const l=i.manager.getHandler(a.uri);l!==null&&(s=l)}return this.loadTextureImage(e,o,s)}loadTextureImage(e,n,i){const r=this,o=this.json,a=o.textures[e],s=o.images[n],l=(s.uri||s.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,i).then(function(u){u.flipY=!1,u.name=a.name||s.name||"",u.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(u.name=s.uri);const h=(o.samplers||{})[a.sampler]||{};return u.magFilter=dN[h.magFilter]||sn,u.minFilter=dN[h.minFilter]||Wr,u.wrapS=pN[h.wrapS]||qs,u.wrapT=pN[h.wrapT]||qs,u.generateMipmaps=!u.isCompressedTexture&&u.minFilter!==Fn&&u.minFilter!==sn,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const i=this,r=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const a=r.images[e],s=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=i.getDependency("bufferView",a.bufferView).then(function(f){c=!0;const h=new Blob([f],{type:a.mimeType});return l=s.createObjectURL(h),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(h,d){let p=h;n.isImageBitmapLoader===!0&&(p=function(g){const v=new un(g);v.needsUpdate=!0,h(v)}),n.load(Vs.resolveURL(f,o.path),p,void 0,d)})}).then(function(f){return c===!0&&s.revokeObjectURL(l),Aa(f,a),f.userData.mimeType=a.mimeType||Mbe(a.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,n,i,r){const o=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),o.extensions[Mt.KHR_TEXTURE_TRANSFORM]){const s=i.extensions!==void 0?i.extensions[Mt.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const l=o.associations.get(a);a=o.extensions[Mt.KHR_TEXTURE_TRANSFORM].extendTexture(a,s),o.associations.set(a,l)}}return r!==void 0&&(a.colorSpace=r),e[n]=a,a})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const r=n.attributes.tangent===void 0,o=n.attributes.color!==void 0,a=n.attributes.normal===void 0;if(e.isPoints){const s="PointsMaterial:"+i.uuid;let l=this.cache.get(s);l||(l=new cb,Bn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(s,l)),i=l}else if(e.isLine){const s="LineBasicMaterial:"+i.uuid;let l=this.cache.get(s);l||(l=new ii,Bn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(s,l)),i=l}if(r||o||a){let s="ClonedMaterial:"+i.uuid+":";r&&(s+="derivative-tangents:"),o&&(s+="vertex-colors:"),a&&(s+="flat-shading:");let l=this.cache.get(s);l||(l=i.clone(),o&&(l.vertexColors=!0),a&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(s,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return xm}loadMaterial(e){const n=this,i=this.json,r=this.extensions,o=i.materials[e];let a;const s={},l=o.extensions||{},c=[];if(l[Mt.KHR_MATERIALS_UNLIT]){const f=r[Mt.KHR_MATERIALS_UNLIT];a=f.getMaterialType(),c.push(f.extendParams(s,o,n))}else{const f=o.pbrMetallicRoughness||{};if(s.color=new Oe(1,1,1),s.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;s.color.setRGB(h[0],h[1],h[2],Xn),s.opacity=h[3]}f.baseColorTexture!==void 0&&c.push(n.assignTexture(s,"map",f.baseColorTexture,gn)),s.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,s.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(s,"metalnessMap",f.metallicRoughnessTexture)),c.push(n.assignTexture(s,"roughnessMap",f.metallicRoughnessTexture))),a=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,s)})))}o.doubleSided===!0&&(s.side=Gr);const u=o.alphaMode||S1.OPAQUE;if(u===S1.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,u===S1.MASK&&(s.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&a!==vr&&(c.push(n.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new be(1,1),o.normalTexture.scale!==void 0)){const f=o.normalTexture.scale;s.normalScale.set(f,f)}if(o.occlusionTexture!==void 0&&a!==vr&&(c.push(n.assignTexture(s,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&a!==vr){const f=o.emissiveFactor;s.emissive=new Oe().setRGB(f[0],f[1],f[2],Xn)}return o.emissiveTexture!==void 0&&a!==vr&&c.push(n.assignTexture(s,"emissiveMap",o.emissiveTexture,gn)),Promise.all(c).then(function(){const f=new a(s);return o.name&&(f.name=o.name),Aa(f,o),n.associations.set(f,{materials:e}),o.extensions&&Zl(r,f,o),f})}createUniqueName(e){const n=Et.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,i=this.extensions,r=this.primitiveCache;function o(s){return i[Mt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,n).then(function(l){return mN(l,s,n)})}const a=[];for(let s=0,l=e.length;s<l;s++){const c=e[s],u=wbe(c),f=r[u];if(f)a.push(f.promise);else{let h;c.extensions&&c.extensions[Mt.KHR_DRACO_MESH_COMPRESSION]?h=o(c):h=mN(new gt,c,n),r[u]={primitive:c,promise:h},a.push(h)}}return Promise.all(a)}loadMesh(e){const n=this,i=this.json,r=this.extensions,o=i.meshes[e],a=o.primitives,s=[];for(let l=0,c=a.length;l<c;l++){const u=a[l].material===void 0?bbe(this.cache):this.getDependency("material",a[l].material);s.push(u)}return s.push(n.loadGeometries(a)),Promise.all(s).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let d=0,p=u.length;d<p;d++){const g=u[d],v=a[d];let m;const y=c[d];if(v.mode===Ur.TRIANGLES||v.mode===Ur.TRIANGLE_STRIP||v.mode===Ur.TRIANGLE_FAN||v.mode===void 0)m=o.isSkinnedMesh===!0?new EA(g,y):new yn(g,y),m.isSkinnedMesh===!0&&m.normalizeSkinWeights(),v.mode===Ur.TRIANGLE_STRIP?m.geometry=fN(m.geometry,_A):v.mode===Ur.TRIANGLE_FAN&&(m.geometry=fN(m.geometry,zy));else if(v.mode===Ur.LINES)m=new Qr(g,y);else if(v.mode===Ur.LINE_STRIP)m=new qa(g,y);else if(v.mode===Ur.LINE_LOOP)m=new IA(g,y);else if(v.mode===Ur.POINTS)m=new RA(g,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(m.geometry.morphAttributes).length>0&&Sbe(m,o),m.name=n.createUniqueName(o.name||"mesh_"+e),Aa(m,o),v.extensions&&Zl(r,m,v),n.assignFinalMaterial(m),f.push(m)}for(let d=0,p=f.length;d<p;d++)n.associations.set(f[d],{meshes:e,primitives:d});if(f.length===1)return o.extensions&&Zl(r,f[0],o),f[0];const h=new Fa;o.extensions&&Zl(r,h,o),n.associations.set(h,{meshes:e});for(let d=0,p=f.length;d<p;d++)h.add(f[d]);return h})}loadCamera(e){let n;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new On(SA.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(n=new Sm(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),Aa(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let r=0,o=n.joints.length;r<o;r++)i.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const o=r.pop(),a=r,s=[],l=[];for(let c=0,u=a.length;c<u;c++){const f=a[c];if(f){s.push(f);const h=new et;o!==null&&h.fromArray(o.array,c*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new vm(s,l)})}loadAnimation(e){const n=this.json,i=this,r=n.animations[e],o=r.name?r.name:"animation_"+e,a=[],s=[],l=[],c=[],u=[];for(let f=0,h=r.channels.length;f<h;f++){const d=r.channels[f],p=r.samplers[d.sampler],g=d.target,v=g.node,m=r.parameters!==void 0?r.parameters[p.input]:p.input,y=r.parameters!==void 0?r.parameters[p.output]:p.output;g.node!==void 0&&(a.push(this.getDependency("node",v)),s.push(this.getDependency("accessor",m)),l.push(this.getDependency("accessor",y)),c.push(p),u.push(g))}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(f){const h=f[0],d=f[1],p=f[2],g=f[3],v=f[4],m=[];for(let y=0,_=h.length;y<_;y++){const b=h[y],T=d[y],x=p[y],S=g[y],C=v[y];if(b===void 0)continue;b.updateMatrix&&b.updateMatrix();const M=i._createAnimationTracks(b,T,x,S,C);if(M)for(let w=0;w<M.length;w++)m.push(M[w])}return new th(o,void 0,m)})}createNodeMesh(e){const n=this.json,i=this,r=n.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(o){const a=i._getNodeRef(i.meshCache,r.mesh,o);return r.weights!==void 0&&a.traverse(function(s){if(s.isMesh)for(let l=0,c=r.weights.length;l<c;l++)s.morphTargetInfluences[l]=r.weights[l]}),a})}loadNode(e){const n=this.json,i=this,r=n.nodes[e],o=i._loadNodeShallow(e),a=[],s=r.children||[];for(let c=0,u=s.length;c<u;c++)a.push(i.getDependency("node",s[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([o,Promise.all(a),l]).then(function(c){const u=c[0],f=c[1],h=c[2];h!==null&&u.traverse(function(d){d.isSkinnedMesh&&d.bind(h,Tbe)});for(let d=0,p=f.length;d<p;d++)u.add(f[d]);return u})}_loadNodeShallow(e){const n=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=n.nodes[e],a=o.name?r.createUniqueName(o.name):"",s=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&s.push(l),o.camera!==void 0&&s.push(r.getDependency("camera",o.camera).then(function(c){return r._getNodeRef(r.cameraCache,o.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){s.push(c)}),this.nodeCache[e]=Promise.all(s).then(function(c){let u;if(o.isBone===!0?u=new lb:c.length>1?u=new Fa:c.length===1?u=c[0]:u=new At,u!==c[0])for(let f=0,h=c.length;f<h;f++)u.add(c[f]);if(o.name&&(u.userData.name=o.name,u.name=a),Aa(u,o),o.extensions&&Zl(i,u,o),o.matrix!==void 0){const f=new et;f.fromArray(o.matrix),u.applyMatrix4(f)}else o.translation!==void 0&&u.position.fromArray(o.translation),o.rotation!==void 0&&u.quaternion.fromArray(o.rotation),o.scale!==void 0&&u.scale.fromArray(o.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],r=this,o=new Fa;i.name&&(o.name=r.createUniqueName(i.name)),Aa(o,i),i.extensions&&Zl(n,o,i);const a=i.nodes||[],s=[];for(let l=0,c=a.length;l<c;l++)s.push(r.getDependency("node",a[l]));return Promise.all(s).then(function(l){for(let u=0,f=l.length;u<f;u++)o.add(l[u]);const c=u=>{const f=new Map;for(const[h,d]of r.associations)(h instanceof Bn||h instanceof un)&&f.set(h,d);return u.traverse(h=>{const d=r.associations.get(h);d!=null&&f.set(h,d)}),f};return r.associations=c(o),o})}_createAnimationTracks(e,n,i,r,o){const a=[],s=e.name?e.name:e.uuid,l=[];bs[o.path]===bs.weights?e.traverse(function(h){h.morphTargetInfluences&&l.push(h.name?h.name:h.uuid)}):l.push(s);let c;switch(bs[o.path]){case bs.weights:c=Kc;break;case bs.rotation:c=Zc;break;case bs.position:case bs.scale:c=Jc;break;default:switch(i.itemSize){case 1:c=Kc;break;case 2:case 3:default:c=Jc;break}break}const u=r.interpolation!==void 0?_be[r.interpolation]:Jf,f=this._getArrayFromAccessor(i);for(let h=0,d=l.length;h<d;h++){const p=new c(l[h]+"."+bs[o.path],n.array,f,u);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(p),a.push(p)}return a}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const i=UM(n.constructor),r=new Float32Array(n.length);for(let o=0,a=n.length;o<a;o++)r[o]=n[o]*i;n=r}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Zc?ybe:_4;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Abe(t,e,n){const i=e.attributes,r=new di;if(i.POSITION!==void 0){const s=n.json.accessors[i.POSITION],l=s.min,c=s.max;if(l!==void 0&&c!==void 0){if(r.set(new G(l[0],l[1],l[2]),new G(c[0],c[1],c[2])),s.normalized){const u=UM(If[s.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const s=new G,l=new G;for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f.POSITION!==void 0){const h=n.json.accessors[f.POSITION],d=h.min,p=h.max;if(d!==void 0&&p!==void 0){if(l.setX(Math.max(Math.abs(d[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(d[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(d[2]),Math.abs(p[2]))),h.normalized){const g=UM(If[h.componentType]);l.multiplyScalar(g)}s.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(s)}t.boundingBox=r;const a=new ti;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=a}function mN(t,e,n){const i=e.attributes,r=[];function o(a,s){return n.getDependency("accessor",a).then(function(l){t.setAttribute(s,l)})}for(const a in i){const s=BM[a]||a.toLowerCase();s in t.attributes||r.push(o(i[a],s))}if(e.indices!==void 0&&!t.index){const a=n.getDependency("accessor",e.indices).then(function(s){t.setIndex(s)});r.push(a)}return wt.workingColorSpace!==Xn&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${wt.workingColorSpace}" not supported.`),Aa(t,e),Abe(t,e,n),Promise.all(r).then(function(){return e.targets!==void 0?xbe(t,e.targets,n):t})}class Ebe extends j5{constructor(e){super(e),this.type=Xo}parse(e){const a=function(C,M){switch(C){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(M||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(M||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(M||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(M||""))}},u=`
`,f=function(C,M,w){M=M||1024;let P=C.pos,R=-1,L=0,E="",O=String.fromCharCode.apply(null,new Uint16Array(C.subarray(P,P+128)));for(;0>(R=O.indexOf(u))&&L<M&&P<C.byteLength;)E+=O,L+=O.length,P+=128,O+=String.fromCharCode.apply(null,new Uint16Array(C.subarray(P,P+128)));return-1<R?(C.pos+=L+R+1,E+O.slice(0,R)):!1},h=function(C){const M=/^#\?(\S+)/,w=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,A=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,P=/^\s*FORMAT=(\S+)\s*$/,R=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,L={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let E,O;for((C.pos>=C.byteLength||!(E=f(C)))&&a(1,"no header found"),(O=E.match(M))||a(3,"bad initial token"),L.valid|=1,L.programtype=O[1],L.string+=E+`
`;E=f(C),E!==!1;){if(L.string+=E+`
`,E.charAt(0)==="#"){L.comments+=E+`
`;continue}if((O=E.match(w))&&(L.gamma=parseFloat(O[1])),(O=E.match(A))&&(L.exposure=parseFloat(O[1])),(O=E.match(P))&&(L.valid|=2,L.format=O[1]),(O=E.match(R))&&(L.valid|=4,L.height=parseInt(O[1],10),L.width=parseInt(O[2],10)),L.valid&2&&L.valid&4)break}return L.valid&2||a(3,"missing format specifier"),L.valid&4||a(3,"missing image size specifier"),L},d=function(C,M,w){const A=M;if(A<8||A>32767||C[0]!==2||C[1]!==2||C[2]&128)return new Uint8Array(C);A!==(C[2]<<8|C[3])&&a(3,"wrong scanline width");const P=new Uint8Array(4*M*w);P.length||a(4,"unable to allocate buffer space");let R=0,L=0;const E=4*A,O=new Uint8Array(4),$=new Uint8Array(E);let H=w;for(;H>0&&L<C.byteLength;){L+4>C.byteLength&&a(1),O[0]=C[L++],O[1]=C[L++],O[2]=C[L++],O[3]=C[L++],(O[0]!=2||O[1]!=2||(O[2]<<8|O[3])!=A)&&a(3,"bad rgbe scanline format");let V=0,Y;for(;V<E&&L<C.byteLength;){Y=C[L++];const oe=Y>128;if(oe&&(Y-=128),(Y===0||V+Y>E)&&a(3,"bad scanline data"),oe){const xe=C[L++];for(let Z=0;Z<Y;Z++)$[V++]=xe}else $.set(C.subarray(L,L+Y),V),V+=Y,L+=Y}const ae=A;for(let oe=0;oe<ae;oe++){let xe=0;P[R]=$[oe+xe],xe+=A,P[R+1]=$[oe+xe],xe+=A,P[R+2]=$[oe+xe],xe+=A,P[R+3]=$[oe+xe],R+=4}H--}return P},p=function(C,M,w,A){const P=C[M+3],R=Math.pow(2,P-128)/255;w[A+0]=C[M+0]*R,w[A+1]=C[M+1]*R,w[A+2]=C[M+2]*R,w[A+3]=1},g=function(C,M,w,A){const P=C[M+3],R=Math.pow(2,P-128)/255;w[A+0]=wd.toHalfFloat(Math.min(C[M+0]*R,65504)),w[A+1]=wd.toHalfFloat(Math.min(C[M+1]*R,65504)),w[A+2]=wd.toHalfFloat(Math.min(C[M+2]*R,65504)),w[A+3]=wd.toHalfFloat(1)},v=new Uint8Array(e);v.pos=0;const m=h(v),y=m.width,_=m.height,b=d(v.subarray(v.pos),y,_);let T,x,S;switch(this.type){case Qn:S=b.length/4;const C=new Float32Array(S*4);for(let w=0;w<S;w++)p(b,w*4,C,w*4);T=C,x=Qn;break;case Xo:S=b.length/4;const M=new Uint16Array(S*4);for(let w=0;w<S;w++)g(b,w*4,M,w*4);T=M,x=Xo;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:y,height:_,data:T,header:m.string,gamma:m.gamma,exposure:m.exposure,type:x}}setDataType(e){return this.type=e,this}load(e,n,i,r){function o(a,s){switch(a.type){case Qn:case Xo:a.colorSpace=Xn,a.minFilter=sn,a.magFilter=sn,a.generateMipmaps=!1,a.flipY=!0;break}n&&n(a,s)}return super.load(e,o,i,r)}}const M1=new WeakMap;class Pbe extends pi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,i,r){const o=new Tr(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,a=>{this.parse(a,n,r)},i,r)}parse(e,n,i=()=>{}){this.decodeDracoFile(e,n,null,null,gn,i).catch(i)}decodeDracoFile(e,n,i,r,o=Xn,a=()=>{}){const s={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i,vertexColorSpace:o};return this.decodeGeometry(e,s).then(n).catch(a)}decodeGeometry(e,n){const i=JSON.stringify(n);if(M1.has(e)){const l=M1.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const o=this.workerNextTaskID++,a=e.byteLength,s=this._getWorker(o,a).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[o]={resolve:c,reject:u},r.postMessage({type:"decode",id:o,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return s.catch(()=>!0).then(()=>{r&&o&&this._releaseTask(r,o)}),M1.set(e,{key:i,promise:s}),s}_createGeometry(e){const n=new gt;e.index&&n.setIndex(new Ot(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],o=r.name,a=r.array,s=r.itemSize,l=new Ot(a,s);o==="color"&&(this._assignVertexColorSpace(l,r.vertexColorSpace),l.normalized=!(a instanceof Float32Array)),n.setAttribute(o,l)}return n}_assignVertexColorSpace(e,n){if(n!==gn)return;const i=new Oe;for(let r=0,o=e.count;r<o;r++)i.fromBufferAttribute(e,r),wt.toWorkingColorSpace(i,gn),e.setXYZ(r,i.r,i.g,i.b)}_loadLibrary(e,n){const i=new Tr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(n),i.setWithCredentials(this.withCredentials),new Promise((r,o)=>{i.load(e,r,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const o=Ibe.toString(),a=["/* draco decoder */",r,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(o){const a=o.data;switch(a.type){case"decode":r._callbacks[a.id].resolve(a);break;case"error":r._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,o){return r._taskLoad>o._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=n,i._taskLoad+=n,i})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function Ibe(){let t,e;onmessage=function(a){const s=a.data;switch(s.type){case"init":t=s.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=s.buffer,c=s.taskConfig;e.then(u=>{const f=u.draco,h=new f.Decoder;try{const d=n(f,h,new Int8Array(l),c),p=d.attributes.map(g=>g.array.buffer);d.index&&p.push(d.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:d},p)}catch(d){console.error(d),self.postMessage({type:"error",id:s.id,error:d.message})}finally{f.destroy(h)}});break}};function n(a,s,l,c){const u=c.attributeIDs,f=c.attributeTypes;let h,d;const p=s.GetEncodedGeometryType(l);if(p===a.TRIANGULAR_MESH)h=new a.Mesh,d=s.DecodeArrayToMesh(l,l.byteLength,h);else if(p===a.POINT_CLOUD)h=new a.PointCloud,d=s.DecodeArrayToPointCloud(l,l.byteLength,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const g={index:null,attributes:[]};for(const v in u){const m=self[f[v]];let y,_;if(c.useUniqueIDs)_=u[v],y=s.GetAttributeByUniqueId(h,_);else{if(_=s.GetAttributeId(h,a[u[v]]),_===-1)continue;y=s.GetAttribute(h,_)}const b=r(a,s,h,v,m,y);v==="color"&&(b.vertexColorSpace=c.vertexColorSpace),g.attributes.push(b)}return p===a.TRIANGULAR_MESH&&(g.index=i(a,s,h)),a.destroy(h),g}function i(a,s,l){const u=l.num_faces()*3,f=u*4,h=a._malloc(f);s.GetTrianglesUInt32Array(l,f,h);const d=new Uint32Array(a.HEAPF32.buffer,h,u).slice();return a._free(h),{array:d,itemSize:1}}function r(a,s,l,c,u,f){const h=f.num_components(),p=l.num_points()*h,g=p*u.BYTES_PER_ELEMENT,v=o(a,u),m=a._malloc(g);s.GetAttributeDataArrayForAllPoints(l,f,v,g,m);const y=new u(a.HEAPF32.buffer,m,p).slice();return a._free(m),{name:c,array:y,itemSize:h}}function o(a,s){switch(s){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}const vN={type:"change"},nE={type:"start"},b4={type:"end"},Mg=new lu,gN=new Pa,Rbe=Math.cos(70*SA.DEG2RAD),Dn=new G,Hi=2*Math.PI,Xt={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},T1=1e-6;class Dbe extends u4{constructor(e,n=null){super(e,n),this.state=Xt.NONE,this.enabled=!0,this.target=new G,this.cursor=new G,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Cc.ROTATE,MIDDLE:Cc.DOLLY,RIGHT:Cc.PAN},this.touches={ONE:hc.ROTATE,TWO:hc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new G,this._lastQuaternion=new Wn,this._lastTargetPosition=new G,this._quat=new Wn().setFromUnitVectors(e.up,new G(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new OM,this._sphericalDelta=new OM,this._scale=1,this._panOffset=new G,this._rotateStart=new be,this._rotateEnd=new be,this._rotateDelta=new be,this._panStart=new be,this._panEnd=new be,this._panDelta=new be,this._dollyStart=new be,this._dollyEnd=new be,this._dollyDelta=new be,this._dollyDirection=new G,this._mouse=new be,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Lbe.bind(this),this._onPointerDown=Obe.bind(this),this._onPointerUp=Nbe.bind(this),this._onContextMenu=Hbe.bind(this),this._onMouseWheel=Ube.bind(this),this._onKeyDown=zbe.bind(this),this._onTouchStart=kbe.bind(this),this._onTouchMove=$be.bind(this),this._onMouseDown=Fbe.bind(this),this._onMouseMove=Bbe.bind(this),this._interceptControlDown=Vbe.bind(this),this._interceptControlUp=Gbe.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(vN),this.update(),this.state=Xt.NONE}update(e=null){const n=this.object.position;Dn.copy(n).sub(this.target),Dn.applyQuaternion(this._quat),this._spherical.setFromVector3(Dn),this.autoRotate&&this.state===Xt.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let i=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(i)&&isFinite(r)&&(i<-Math.PI?i+=Hi:i>Math.PI&&(i-=Hi),r<-Math.PI?r+=Hi:r>Math.PI&&(r-=Hi),i<=r?this._spherical.theta=Math.max(i,Math.min(r,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(i+r)/2?Math.max(i,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let o=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const a=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),o=a!=this._spherical.radius}if(Dn.setFromSpherical(this._spherical),Dn.applyQuaternion(this._quatInverse),n.copy(this.target).add(Dn),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let a=null;if(this.object.isPerspectiveCamera){const s=Dn.length();a=this._clampDistance(s*this._scale);const l=s-a;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),o=!!l}else if(this.object.isOrthographicCamera){const s=new G(this._mouse.x,this._mouse.y,0);s.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),o=l!==this.object.zoom;const c=new G(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(s),this.object.updateMatrixWorld(),a=Dn.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;a!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(a).add(this.object.position):(Mg.origin.copy(this.object.position),Mg.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(Mg.direction))<Rbe?this.object.lookAt(this.target):(gN.setFromNormalAndCoplanarPoint(this.object.up,this.target),Mg.intersectPlane(gN,this.target))))}else if(this.object.isOrthographicCamera){const a=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),a!==this.object.zoom&&(this.object.updateProjectionMatrix(),o=!0)}return this._scale=1,this._performCursorZoom=!1,o||this._lastPosition.distanceToSquared(this.object.position)>T1||8*(1-this._lastQuaternion.dot(this.object.quaternion))>T1||this._lastTargetPosition.distanceToSquared(this.target)>T1?(this.dispatchEvent(vN),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?Hi/60*this.autoRotateSpeed*e:Hi/60/60*this.autoRotateSpeed}_getZoomScale(e){const n=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,n){Dn.setFromMatrixColumn(n,0),Dn.multiplyScalar(-e),this._panOffset.add(Dn)}_panUp(e,n){this.screenSpacePanning===!0?Dn.setFromMatrixColumn(n,1):(Dn.setFromMatrixColumn(n,0),Dn.crossVectors(this.object.up,Dn)),Dn.multiplyScalar(e),this._panOffset.add(Dn)}_pan(e,n){const i=this.domElement;if(this.object.isPerspectiveCamera){const r=this.object.position;Dn.copy(r).sub(this.target);let o=Dn.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*o/i.clientHeight,this.object.matrix),this._panUp(2*n*o/i.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const i=this.domElement.getBoundingClientRect(),r=e-i.left,o=n-i.top,a=i.width,s=i.height;this._mouse.x=r/a*2-1,this._mouse.y=-(o/s)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(Hi*this._rotateDelta.x/n.clientHeight),this._rotateUp(Hi*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let n=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(Hi*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-Hi*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(Hi*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-Hi*this.rotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),n=!0;break}n&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),i=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);this._rotateStart.set(i,r)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),i=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);this._panStart.set(i,r)}}_handleTouchStartDolly(e){const n=this._getSecondPointerPosition(e),i=e.pageX-n.x,r=e.pageY-n.y,o=Math.sqrt(i*i+r*r);this._dollyStart.set(0,o)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e),r=.5*(e.pageX+i.x),o=.5*(e.pageY+i.y);this._rotateEnd.set(r,o)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(Hi*this._rotateDelta.x/n.clientHeight),this._rotateUp(Hi*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const n=this._getSecondPointerPosition(e),i=.5*(e.pageX+n.x),r=.5*(e.pageY+n.y);this._panEnd.set(i,r)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const n=this._getSecondPointerPosition(e),i=e.pageX-n.x,r=e.pageY-n.y,o=Math.sqrt(i*i+r*r);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const a=(e.pageX+n.x)*.5,s=(e.pageY+n.y)*.5;this._updateZoomParameters(a,s)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId){this._pointers.splice(n,1);return}}_isTrackingPointer(e){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==e.pointerId)return!0;return!1}_trackPointer(e){let n=this._pointerPositions[e.pointerId];n===void 0&&(n=new be,this._pointerPositions[e.pointerId]=n),n.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const n=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(e){const n=e.deltaMode,i={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(n){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(i.deltaY*=10),i}}function Obe(t){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(t.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(t)&&(this._addPointer(t),t.pointerType==="touch"?this._onTouchStart(t):this._onMouseDown(t)))}function Lbe(t){this.enabled!==!1&&(t.pointerType==="touch"?this._onTouchMove(t):this._onMouseMove(t))}function Nbe(t){switch(this._removePointer(t),this._pointers.length){case 0:this.domElement.releasePointerCapture(t.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(b4),this.state=Xt.NONE;break;case 1:const e=this._pointers[0],n=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:n.x,pageY:n.y});break}}function Fbe(t){let e;switch(t.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Cc.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(t),this.state=Xt.DOLLY;break;case Cc.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=Xt.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=Xt.ROTATE}break;case Cc.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(t),this.state=Xt.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(t),this.state=Xt.PAN}break;default:this.state=Xt.NONE}this.state!==Xt.NONE&&this.dispatchEvent(nE)}function Bbe(t){switch(this.state){case Xt.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(t);break;case Xt.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(t);break;case Xt.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(t);break}}function Ube(t){this.enabled===!1||this.enableZoom===!1||this.state!==Xt.NONE||(t.preventDefault(),this.dispatchEvent(nE),this._handleMouseWheel(this._customWheelEvent(t)),this.dispatchEvent(b4))}function zbe(t){this.enabled!==!1&&this._handleKeyDown(t)}function kbe(t){switch(this._trackPointer(t),this._pointers.length){case 1:switch(this.touches.ONE){case hc.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(t),this.state=Xt.TOUCH_ROTATE;break;case hc.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(t),this.state=Xt.TOUCH_PAN;break;default:this.state=Xt.NONE}break;case 2:switch(this.touches.TWO){case hc.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(t),this.state=Xt.TOUCH_DOLLY_PAN;break;case hc.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(t),this.state=Xt.TOUCH_DOLLY_ROTATE;break;default:this.state=Xt.NONE}break;default:this.state=Xt.NONE}this.state!==Xt.NONE&&this.dispatchEvent(nE)}function $be(t){switch(this._trackPointer(t),this.state){case Xt.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(t),this.update();break;case Xt.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(t),this.update();break;case Xt.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(t),this.update();break;case Xt.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(t),this.update();break;default:this.state=Xt.NONE}}function Hbe(t){this.enabled!==!1&&t.preventDefault()}function Vbe(t){t.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Gbe(t){t.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}var Rf=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return t},Out:function(t){return t},InOut:function(t){return t}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-Rf.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?Rf.Bounce.In(t*2)*.5:Rf.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),Td=function(){return performance.now()},x4=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];(e=a._group)===null||e===void 0||e.remove(a),a._group=this,this._tweens[a.getId()]=a,this._tweensAddedDuringUpdate[a.getId()]=a}},t.prototype.remove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},t.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},t.prototype.update=function(e,n){e===void 0&&(e=Td()),n===void 0&&(n=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<i.length;r++){var o=this._tweens[i[r]],a=!n;o&&o.update(e,a)===!1&&!n&&this.remove(o)}i=Object.keys(this._tweensAddedDuringUpdate)}},t}(),df={Linear:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=df.Utils.Linear;return e<0?o(t[0],t[1],i):e>1?o(t[n],t[n-1],n-i):o(t[r],t[r+1>n?n:r+1],i-r)},Bezier:function(t,e){for(var n=0,i=t.length-1,r=Math.pow,o=df.Utils.Bernstein,a=0;a<=i;a++)n+=r(1-e,i-a)*r(e,a)*t[a]*o(i,a);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=df.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(r=Math.floor(i=n*(1+e))),o(t[(r-1+n)%n],t[r],t[(r+1)%n],t[(r+2)%n],i-r)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):o(t[r?r-1:0],t[r],t[n<r+1?n:r+1],t[n<r+2?n:r+2],i-r)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=df.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var i=e;i>1;i--)n*=i;return t[e]=n,n}}(),CatmullRom:function(t,e,n,i,r){var o=(n-t)*.5,a=(i-e)*.5,s=r*r,l=r*s;return(2*e-2*n+o+a)*l+(-3*e+3*n-2*o-a)*s+o*r+e}}},Wbe=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),zM=new x4,Xbe=function(){function t(e,n){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Rf.Linear.None,this._interpolationFunction=df.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Wbe.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof n=="object"?(this._group=n,n.add(this)):n===!0&&(this._group=zM,zM.add(this))}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(e,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,n){if(e===void 0&&(e=Td()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var o in this._valuesEnd)r[o]=this._valuesEnd[o];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,n,i,r,o){for(var a in i){var s=e[a],l=Array.isArray(s),c=l?"array":typeof s,u=!l&&Array.isArray(i[a]);if(!(c==="undefined"||c==="function")){if(u){var f=i[a];if(f.length===0)continue;for(var h=[s],d=0,p=f.length;d<p;d+=1){var g=this._handleRelativeValue(s,f[d]);if(isNaN(g)){u=!1,console.warn("Found invalid interpolation list. Skipping.");break}h.push(g)}u&&(i[a]=h)}if((c==="object"||l)&&s&&!u){n[a]=l?[]:{};var v=s;for(var m in v)n[a][m]=v[m];r[a]=l?[]:{};var f=i[a];if(!this._isDynamic){var y={};for(var m in f)y[m]=f[m];i[a]=f=y}this._setupProperties(v,n[a],f,r[a],o)}else(typeof n[a]>"u"||o)&&(n[a]=s),l||(n[a]*=1),u?r[a]=i[a].slice().reverse():r[a]=n[a]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},t.prototype.pause=function(e){return e===void 0&&(e=Td()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},t.prototype.resume=function(e){return e===void 0&&(e=Td()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},t.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},t.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=Rf.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=df.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,n){var i=this,r;if(e===void 0&&(e=Td()),n===void 0&&(n=t.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(n)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var a=e-this._startTime,s=this._duration+((r=this._repeatDelayTime)!==null&&r!==void 0?r:this._delayTime),l=this._duration+this._repeat*s,c=function(){if(i._duration===0||a>l)return 1;var g=Math.trunc(a/s),v=a-g*s,m=Math.min(v/i._duration,1);return m===0&&a===i._duration?1:m},u=c(),f=this._easingFunction(u);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,u),this._duration===0||a>=this._duration)if(this._repeat>0){var h=Math.min(Math.trunc((a-this._duration)/s)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=h);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=s*h,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var d=0,p=this._chainedTweens.length;d<p;d++)this._chainedTweens[d].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,n,i,r){for(var o in i)if(n[o]!==void 0){var a=n[o]||0,s=i[o],l=Array.isArray(e[o]),c=Array.isArray(s),u=!l&&c;u?e[o]=this._interpolationFunction(s,r):typeof s=="object"&&s?this._updateProperties(e[o],a,s,r):(s=this._handleRelativeValue(a,s),typeof s=="number"&&(e[o]=a+(s-a)*r))}},t.prototype._handleRelativeValue=function(e,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?e+parseFloat(n):parseFloat(n)},t.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},t.autoStartOnUpdate=!1,t}(),ia=zM;ia.getAll.bind(ia);ia.removeAll.bind(ia);ia.add.bind(ia);ia.remove.bind(ia);ia.update.bind(ia);const jbe=Be({__name:"ThreeJsContainer",props:{data:{type:Array,default:()=>[]},options:{type:Object,default:()=>({})}},emits:["change"],setup(t,{expose:e,emit:n}){const i=t,r={stop:!1,useFog:!0,useSkyBox:!0,bgTransparent:!1,useGround:!0,width:window.innerWidth,height:window.innerHeight,camera:{position:[5,5,10]},controls:{autoRotate:!1,dampingFactor:.1,enableZoom:!0,enablePan:!0,enableDamping:!0,screenSpacePanning:!0,minDistance:1,maxDistance:20,maxPolarAngle:Math.PI/3}},o=W(()=>EK({},r,i.options)),a=n;let s,l,c,u,f,h;const d=je(),p=je([]),g=new x4,v=()=>{var M,w,A,P,R,L,E,O;if(s=new CA,l=new On(50,o.value.width/o.value.height,.1,1e3),l.position.set(...(w=(M=o.value)==null?void 0:M.camera)==null?void 0:w.position),c=new g4({antialias:!0,alpha:(A=o.value)==null?void 0:A.bgTransparent}),(P=o.value)!=null&&P.bgTransparent&&(c.setClearAlpha(0),s.background=null),c.setSize(o.value.width,o.value.height),(R=o.value)!=null&&R.useFog&&(s.fog=new pm(13421772,10,60)),(L=o.value)!=null&&L.useSkyBox&&!((E=o.value)!=null&&E.bgTransparent)){const $="skyBox2";h=new X5().load([`public/skyBox/${$}/negx.jpg`,`public/skyBox/${$}/negy.jpg`,`public/skyBox/${$}/negz.jpg`,`public/skyBox/${$}/posx.jpg`,`public/skyBox/${$}/posy.jpg`,`public/skyBox/${$}/posz.jpg`]),s.background=new Oe(13421772)}if((O=o.value)!=null&&O.useGround){const $=new uu(1e3,1e3),H=new HA({color:13421772,side:Gr}),V=new yn($,H);V.rotation.x=-Math.PI/2,V.position.y=-.2,s.add(V)}const S=new Tb(0,1);s.add(S);const C=new j_e;i.data.forEach($=>{if($!=null&&$.hdr&&new Ebe().load($==null?void 0:$.hdr,H=>{var V;H.mapping=Yf,(V=o.value)!=null&&V.bgTransparent||(s.background=H),s.environment=H}),$!=null&&$.decoderPath){const H=new Pbe;H.setDecoderPath($==null?void 0:$.decoderPath),C.setDRACOLoader(H)}m(C,$)}),c.render(s,l),u=d.value,u&&u.appendChild(c.domElement),f=new Dbe(l,c.domElement);for(const $ in o.value.controls)f[$]=o.value.controls[$];b(),window.addEventListener("resize",()=>{l.aspect=o.value.width/o.value.height,l.updateProjectionMatrix(),c.setSize(o.value.width,o.value.height)})};function m(S,C){S.load(C==null?void 0:C.file,M=>{M.scene.traverse(w=>{var A,P,R,L,E,O,$,H,V,Y,ae,oe,xe,Z,ve,ye,ge,Ce,ce;if(w.isMesh&&((A=C==null?void 0:C.params)!=null&&A.material&&(w.material=new X_e[(P=C==null?void 0:C.params)==null?void 0:P.material]((R=C==null?void 0:C.params)==null?void 0:R.materialParams)),XT((L=C==null?void 0:C.params)==null?void 0:L.position)||((E=w==null?void 0:w.position)!=null&&E.x&&(w.position.x=($=(O=C==null?void 0:C.params)==null?void 0:O.position)==null?void 0:$.x),(H=w==null?void 0:w.position)!=null&&H.y&&(w.position.y=(Y=(V=C==null?void 0:C.params)==null?void 0:V.position)==null?void 0:Y.y),(ae=w==null?void 0:w.position)!=null&&ae.z&&(w.position.z=(xe=(oe=C==null?void 0:C.params)==null?void 0:oe.position)==null?void 0:xe.z)),(Z=C==null?void 0:C.params)!=null&&Z.showLine&&y(w,C==null?void 0:C.params),(C==null?void 0:C.type)==="mesh")){if((ve=C==null?void 0:C.params)!=null&&ve.selfLuminous&&((ye=C==null?void 0:C.params)!=null&&ye.material))throw new Error("selfLuminous 和 material 不能同时存在");((ge=C==null?void 0:C.params)==null?void 0:ge.selfLuminous)===!0&&!((Ce=C==null?void 0:C.params)!=null&&Ce.material)&&(w.material.emissive=w.material.color,w.material.emissiveMap=w.material.map),(ce=C==null?void 0:C.params)!=null&&ce.isGlass&&(w.material.envMap=h),w.name=C.name,w.userData=C.data,p.value.push(w)}}),s.add(M.scene)})}function y(S,C){const M=new zA(S.geometry),w=new Qr(M,new ii({color:C==null?void 0:C.lineColor}));for(const A in C==null?void 0:C.lineParams)w.material[A]=C.lineParams[A];S.add(w)}function _(S,C=2e3,M=5){const w=l.position.clone(),A=S.getWorldPosition(new G).clone(),P=f.target.clone(),R=A.clone(),L={t:0},E={x:A.x,y:A.y+2,z:A.z+2},O=M,$=new G((w.x+A.x)/2,Math.max(w.y,A.y)+O,(w.z+A.z)/2);new Xbe(L,g).to({t:1},C).easing(Rf.Quadratic.InOut).onStart(()=>{}).onUpdate(()=>{const H=L.t,V=w.clone().lerp($,H),Y=$.clone().lerp(new G(E.x,E.y,E.z),H),ae=V.clone().lerp(Y,H);l.position.copy(ae);const oe=P.clone().lerp(R,H);l.lookAt(oe)}).onComplete(()=>{f.target.copy(A),f.update(),l.lookAt(A),a("change",S.userData)}).start()}const b=()=>{var S;requestAnimationFrame(b),(S=o.value)!=null&&S.stop||(f.update(),g.update(),c.render(s,l))};function T(S){const C=s.getObjectByName(S.name);_(C,S==null?void 0:S.duration,S==null?void 0:S.ah)}function x(){document.addEventListener("click",C);let S=new l4;function C(M){const w=new be;w.x=M.clientX/o.value.width*2-1,w.y=-(M.clientY/o.value.height)*2+1,S.setFromCamera(w,l)}}return ln(()=>{v(),x()}),e({smoothMove:T}),(S,C)=>(xo(),e_("div",{class:"three-js-container",ref_key:"threeJsContainer",ref:d},null,512))}}),S4=rm(jbe,[["__scopeId","data-v-1a748d75"]]),Ybe=[{type:"mesh",name:"楼层-1楼",file:"/testGLTF/DamagedHelmet.gltf",hdr:"/testGLTF/royal_esplanade_1k.hdr",data:{id:"19",name:"楼层-1楼"}}],qbe={key:0,class:"area-detail-model"},Kbe=Be({__name:"AreaDetailModel",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){EG(c=>({"05aae250":i.value}));const n=t,i=je(0),r=e,o=je(),a=je(!1),s=W(()=>{var c;return{useFog:!1,useSkyBox:!1,useGround:!1,width:(c=o.value)==null?void 0:c.offsetWidth,camera:{position:[100,100,100]},bgTransparent:!0,controls:{minDistance:1,maxDistance:3,maxPolarAngle:360}}});function l(){r("update:modelValue",!1)}return Ke(()=>n.modelValue,async c=>{c?(a.value=!0,await Di(),i.value=1):(i.value=0,setTimeout(()=>{a.value=!1},300))},{immediate:!0}),ln(()=>{}),(c,u)=>{var f;return a.value?(xo(),e_("div",qbe,[Yo("div",{ref_key:"contentRef",ref:o,class:"area-detail-model__content"},[Yo("div",{onClick:l,class:"area-detail__close"},[B(Ln(nl),{class:"hover"})]),(f=o.value)!=null&&f.offsetWidth?(xo(),Oc(S4,{key:0,options:s.value,data:Ln(Ybe)},null,8,["options","data"])):xE("",!0)],512)])):xE("",!0)}}}),Zbe=rm(Kbe,[["__scopeId","data-v-7a8444cb"]]);var Jbe=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let w4;const Eb=t=>w4=t,M4=Symbol();function kM(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var op;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(op||(op={}));function Qbe(){const t=PN(!0),e=t.run(()=>je({}));let n=[],i=[];const r=tT({install(o){Eb(r),r._a=o,o.provide(M4,r),o.config.globalProperties.$pinia=r,i.forEach(a=>n.push(a)),i=[]},use(o){return!this._a&&!Jbe?i.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const T4=()=>{};function yN(t,e,n,i=T4){t.push(e);const r=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!n&&IN()&&H4(r),r}function Yu(t,...e){t.slice().forEach(n=>{n(...e)})}const exe=t=>t(),_N=Symbol(),C1=Symbol();function $M(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,i)=>t.set(i,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],r=t[n];kM(r)&&kM(i)&&t.hasOwnProperty(n)&&!en(i)&&!Fs(i)?t[n]=$M(r,i):t[n]=i}return t}const txe=Symbol();function nxe(t){return!kM(t)||!t.hasOwnProperty(txe)}const{assign:Ms}=Object;function ixe(t){return!!(en(t)&&t.effect)}function rxe(t,e,n,i){const{state:r,actions:o,getters:a}=e,s=n.state.value[t];let l;function c(){s||(n.state.value[t]=r?r():{});const u=nT(n.state.value[t]);return Ms(u,o,Object.keys(a||{}).reduce((f,h)=>(f[h]=tT(W(()=>{Eb(n);const d=n._s.get(t);return a[h].call(d,d)})),f),{}))}return l=C4(t,c,e,n,i,!0),l}function C4(t,e,n={},i,r,o){let a;const s=Ms({actions:{}},n),l={deep:!0};let c,u,f=[],h=[],d;const p=i.state.value[t];!o&&!p&&(i.state.value[t]={}),je({});let g;function v(C){let M;c=u=!1,typeof C=="function"?(C(i.state.value[t]),M={type:op.patchFunction,storeId:t,events:d}):($M(i.state.value[t],C),M={type:op.patchObject,payload:C,storeId:t,events:d});const w=g=Symbol();Di().then(()=>{g===w&&(c=!0)}),u=!0,Yu(f,M,i.state.value[t])}const m=o?function(){const{state:M}=n,w=M?M():{};this.$patch(A=>{Ms(A,w)})}:T4;function y(){a.stop(),f=[],h=[],i._s.delete(t)}const _=(C,M="")=>{if(_N in C)return C[C1]=M,C;const w=function(){Eb(i);const A=Array.from(arguments),P=[],R=[];function L($){P.push($)}function E($){R.push($)}Yu(h,{args:A,name:w[C1],store:T,after:L,onError:E});let O;try{O=C.apply(this&&this.$id===t?this:T,A)}catch($){throw Yu(R,$),$}return O instanceof Promise?O.then($=>(Yu(P,$),$)).catch($=>(Yu(R,$),Promise.reject($))):(Yu(P,O),O)};return w[_N]=!0,w[C1]=M,w},b={_p:i,$id:t,$onAction:yN.bind(null,h),$patch:v,$reset:m,$subscribe(C,M={}){const w=yN(f,C,M.detached,()=>A()),A=a.run(()=>Ke(()=>i.state.value[t],P=>{(M.flush==="sync"?u:c)&&C({storeId:t,type:op.direct,events:d},P)},Ms({},l,M)));return w},$dispose:y},T=zn(b);i._s.set(t,T);const S=(i._a&&i._a.runWithContext||exe)(()=>i._e.run(()=>(a=PN()).run(()=>e({action:_}))));for(const C in S){const M=S[C];if(en(M)&&!ixe(M)||Fs(M))o||(p&&nxe(M)&&(en(M)?M.value=p[C]:$M(M,p[C])),i.state.value[t][C]=M);else if(typeof M=="function"){const w=_(M,C);S[C]=w,s.actions[C]=M}}return Ms(T,S),Ms(xt(T),S),Object.defineProperty(T,"$state",{get:()=>i.state.value[t],set:C=>{v(M=>{Ms(M,C)})}}),i._p.forEach(C=>{Ms(T,a.run(()=>C({store:T,app:i._a,pinia:i,options:s})))}),p&&o&&n.hydrate&&n.hydrate(T.$state,p),c=!0,u=!0,T}/*! #__NO_SIDE_EFFECTS__ */function oxe(t,e,n){let i,r;const o=typeof e=="function";i=t,r=o?n:e;function a(s,l){const c=HV();return s=s||(c?kt(M4,null):null),s&&Eb(s),s=w4,s._s.has(i)||(o?C4(i,e,r,s):rxe(i,r,s)),s._s.get(i)}return a.$id=i,a}function axe(t){{const e=xt(t),n={};for(const i in e){const r=e[i];r.effect?n[i]=W({get:()=>t[i],set(o){t[i]=o}}):(en(r)||Fs(r))&&(n[i]=ur(t,i))}return n}}const sxe=oxe("global",{state:()=>({lighter:0})}),lxe={class:"visualiza-handle-panel"},cxe={class:"right-panel"},uxe=Be({__name:"VisualizaHandlePanel",props:{params:{type:Object,default:()=>({})}},emits:["handleClick"],setup(t,{emit:e}){const n=e;axe(sxe());const i=je(!1),r=[{title:"篮球场",type:"smoothMove",status:1,params:{name:"哈工大篮球场"}},{title:"哈工大体育场",type:"smoothMove",status:0,params:{name:"哈工大体育场"}},{title:"实验楼",type:"smoothMove",status:0,params:{name:"实验楼"}}];function o(s,l){if(i.value){Gf.info("当前有区域详情展示，请先关闭");return}n("handleClick",s,l)}function a(s){(s==null?void 0:s.areaType)==="area-detail"&&(i.value=!0)}return(s,l)=>(xo(),e_("div",lxe,[B(Zbe,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=c=>i.value=c)},null,8,["modelValue"]),Yo("div",cxe,[B(px,{title:"场馆"},{default:fo(()=>[B(Ln(Ta),{"item-layout":"horizontal","data-source":r,split:!1},{renderItem:fo(({item:c})=>[B(Ln(nC),{onClick:u=>o(c==null?void 0:c.type,c==null?void 0:c.params)},{actions:fo(()=>[Yo("div",null,[B(Ln(Bg),{status:(c==null?void 0:c.status)===1?"processing":"default",color:(c==null?void 0:c.status)===1?"var(--main-color)":""},null,8,["status","color"])])]),default:fo(()=>[Yo("p",null,qy(c==null?void 0:c.title),1)]),_:2},1032,["onClick"])]),_:1})]),_:1}),B(px,{title:"人流量"},{default:fo(()=>[B(jhe,{data:t.params},null,8,["data"])]),_:1}),B(px,{title:"楼层/区域"},{default:fo(()=>{var c;return[B(hte,{floors:(c=t.params)==null?void 0:c.area,onItemClick:a},null,8,["floors"])]}),_:1})]),p3(s.$slots,"default",z4(L3({isShowArea:i.value})),void 0)]))}}),fxe=rm(uxe,[["__scopeId","data-v-80e9d2e4"]]),hxe=[{type:"scene",name:"场景",file:"/test4.glb",data:{id:"11",name:"场景"},params:{showLine:!0,lineColor:"#000000",lineParams:{depthTest:!1,opacity:.06,transparent:!0},material:"MeshMatcapMaterial",materialParams:{color:"#ffffff"}}},{type:"mesh",name:"哈工大篮球场",file:"/basketball.glb",data:{id:"12",name:"哈工大篮球场",area:[{id:"1",nop:5,capacity:10,name:"篮球场一区"}]},params:{selfLuminous:!0}},{type:"mesh",name:"哈工大体育场",file:"/stadium.glb",data:{id:"13",name:"哈工大体育场",area:[{id:"1",nop:300,capacity:1e3,name:"A区"},{id:"2",nop:100,capacity:1e3,name:"B区"},{id:"3",nop:200,capacity:1e3,name:"C区"},{id:"4",nop:500,capacity:1e3,name:"D区"},{id:"5",nop:100,capacity:300,name:"E区"}]},params:{selfLuminous:!0}},{type:"mesh",name:"实验楼",file:"/syl/build.glb",data:{id:"14",name:"实验楼",area:[{id:"1",nop:250,capacity:300,name:"一层"},{id:"2",nop:100,capacity:300,name:"二层"},{id:"3",nop:3,capacity:300,name:"三层"},{id:"4",nop:50,capacity:300,name:"四层"},{id:"5",nop:10,capacity:300,name:"五层"}]},params:{selfLuminous:!0}},{type:"mesh",name:"实验楼玻璃",file:"/syl/glass.glb",data:{id:"15",name:"实验楼玻璃"},params:{isGlass:!0,material:"MeshBasicMaterial",materialParams:{}}}],dxe=Be({__name:"App",setup(t){const e=je(),n=je();function i(o,a){try{e.value[o](a)}catch{console.error("未找到")}}function r(o){n.value=o}return(o,a)=>(xo(),Oc(fxe,{onHandleClick:i,params:n.value},{default:fo(({isShowArea:s})=>[B(S4,{ref_key:"threeContainerRef",ref:e,onChange:r,data:Ln(hxe),options:{stop:s}},null,8,["data","options"])]),_:1},8,["params"]))}});ZG(dxe).use(Qbe()).mount("#app")});export default pxe();
